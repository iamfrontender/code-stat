{"range":[226,107401],"loc":{"start":{"line":7,"column":0},"end":{"line":3777,"column":4}},"type":"Program","body":[{"range":[226,107401],"loc":{"start":{"line":7,"column":0},"end":{"line":3777,"column":4}},"type":"ExpressionStatement","expression":{"range":[227,107399],"loc":{"start":{"line":7,"column":1},"end":{"line":3777,"column":2}},"type":"CallExpression","callee":{"range":[227,311],"loc":{"start":{"line":7,"column":1},"end":{"line":11,"column":1}},"type":"FunctionExpression","id":null,"params":[{"range":[237,241],"loc":{"start":{"line":7,"column":11},"end":{"line":7,"column":15}},"type":"Identifier","name":"root"},{"range":[243,250],"loc":{"start":{"line":7,"column":17},"end":{"line":7,"column":24}},"type":"Identifier","name":"factory"}],"defaults":[],"body":{"range":[252,311],"loc":{"start":{"line":7,"column":26},"end":{"line":11,"column":1}},"type":"BlockStatement","body":[{"range":[257,308],"loc":{"start":{"line":9,"column":2},"end":{"line":9,"column":53}},"type":"ExpressionStatement","expression":{"range":[257,307],"loc":{"start":{"line":9,"column":2},"end":{"line":9,"column":52}},"type":"AssignmentExpression","operator":"=","left":{"range":[257,271],"loc":{"start":{"line":9,"column":2},"end":{"line":9,"column":16}},"type":"MemberExpression","computed":false,"object":{"range":[257,263],"loc":{"start":{"line":9,"column":2},"end":{"line":9,"column":8}},"type":"Identifier","name":"module"},"property":{"range":[264,271],"loc":{"start":{"line":9,"column":9},"end":{"line":9,"column":16}},"type":"Identifier","name":"exports"}},"right":{"range":[274,307],"loc":{"start":{"line":9,"column":19},"end":{"line":9,"column":52}},"type":"CallExpression","callee":{"range":[274,281],"loc":{"start":{"line":9,"column":19},"end":{"line":9,"column":26}},"type":"Identifier","name":"factory"},"arguments":[{"range":[282,286],"loc":{"start":{"line":9,"column":27},"end":{"line":9,"column":31}},"type":"Literal","value":null,"raw":"null"},{"range":[288,306],"loc":{"start":{"line":9,"column":33},"end":{"line":9,"column":51}},"type":"CallExpression","callee":{"range":[288,295],"loc":{"start":{"line":9,"column":33},"end":{"line":9,"column":40}},"type":"Identifier","name":"require"},"arguments":[{"range":[296,305],"loc":{"start":{"line":9,"column":41},"end":{"line":9,"column":50}},"type":"Literal","value":"request","raw":"'request'"}]}]}}}]},"generator":false,"expression":false},"arguments":[{"range":[312,316],"loc":{"start":{"line":11,"column":2},"end":{"line":11,"column":6}},"type":"ThisExpression"},{"range":[318,107398],"loc":{"start":{"line":11,"column":8},"end":{"line":3777,"column":1}},"type":"FunctionExpression","id":null,"params":[{"range":[328,342],"loc":{"start":{"line":11,"column":18},"end":{"line":11,"column":32}},"type":"Identifier","name":"XMLHttpRequest"},{"range":[344,351],"loc":{"start":{"line":11,"column":34},"end":{"line":11,"column":41}},"type":"Identifier","name":"request"}],"defaults":[],"body":{"range":[353,107398],"loc":{"start":{"line":11,"column":43},"end":{"line":3777,"column":1}},"type":"BlockStatement","body":[{"range":[701,732],"loc":{"start":{"line":22,"column":0},"end":{"line":22,"column":31}},"type":"VariableDeclaration","declarations":[{"range":[705,714],"loc":{"start":{"line":22,"column":4},"end":{"line":22,"column":13}},"type":"VariableDeclarator","id":{"range":[705,714],"loc":{"start":{"line":22,"column":4},"end":{"line":22,"column":13}},"type":"Identifier","name":"requirejs"},"init":null},{"range":[716,723],"loc":{"start":{"line":22,"column":15},"end":{"line":22,"column":22}},"type":"VariableDeclarator","id":{"range":[716,723],"loc":{"start":{"line":22,"column":15},"end":{"line":22,"column":22}},"type":"Identifier","name":"require"},"init":null},{"range":[725,731],"loc":{"start":{"line":22,"column":24},"end":{"line":22,"column":30}},"type":"VariableDeclarator","id":{"range":[725,731],"loc":{"start":{"line":22,"column":24},"end":{"line":22,"column":30}},"type":"Identifier","name":"define"},"init":null}],"kind":"var","leadingComments":[{"type":"Block","value":"*\n * @license almond 0.3.1 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.\n * Available via the MIT or new BSD license.\n * see: http://github.com/jrburke/almond for details\n ","range":[355,551],"loc":{"start":{"line":12,"column":0},"end":{"line":16,"column":3}}},{"type":"Line","value":"Going sloppy to avoid 'use strict' string cost, but strict practices should","range":[552,629],"loc":{"start":{"line":17,"column":0},"end":{"line":17,"column":77}}},{"type":"Line","value":"be followed.","range":[630,644],"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":14}}},{"type":"Block","value":"jslint sloppy: true ","range":[645,669],"loc":{"start":{"line":19,"column":0},"end":{"line":19,"column":24}}},{"type":"Block","value":"global setTimeout: false ","range":[670,699],"loc":{"start":{"line":20,"column":0},"end":{"line":20,"column":29}}}]},{"range":[733,15522],"loc":{"start":{"line":23,"column":0},"end":{"line":441,"column":5}},"type":"ExpressionStatement","expression":{"range":[734,15520],"loc":{"start":{"line":23,"column":1},"end":{"line":441,"column":3}},"type":"CallExpression","callee":{"range":[734,15518],"loc":{"start":{"line":23,"column":1},"end":{"line":441,"column":1}},"type":"FunctionExpression","id":null,"params":[{"range":[744,749],"loc":{"start":{"line":23,"column":11},"end":{"line":23,"column":16}},"type":"Identifier","name":"undef"}],"defaults":[],"body":{"range":[751,15518],"loc":{"start":{"line":23,"column":18},"end":{"line":441,"column":1}},"type":"BlockStatement","body":[{"range":[757,986],"loc":{"start":{"line":24,"column":4},"end":{"line":31,"column":33}},"type":"VariableDeclaration","declarations":[{"range":[761,765],"loc":{"start":{"line":24,"column":8},"end":{"line":24,"column":12}},"type":"VariableDeclarator","id":{"range":[761,765],"loc":{"start":{"line":24,"column":8},"end":{"line":24,"column":12}},"type":"Identifier","name":"main"},"init":null},{"range":[767,770],"loc":{"start":{"line":24,"column":14},"end":{"line":24,"column":17}},"type":"VariableDeclarator","id":{"range":[767,770],"loc":{"start":{"line":24,"column":14},"end":{"line":24,"column":17}},"type":"Identifier","name":"req"},"init":null},{"range":[772,779],"loc":{"start":{"line":24,"column":19},"end":{"line":24,"column":26}},"type":"VariableDeclarator","id":{"range":[772,779],"loc":{"start":{"line":24,"column":19},"end":{"line":24,"column":26}},"type":"Identifier","name":"makeMap"},"init":null},{"range":[781,789],"loc":{"start":{"line":24,"column":28},"end":{"line":24,"column":36}},"type":"VariableDeclarator","id":{"range":[781,789],"loc":{"start":{"line":24,"column":28},"end":{"line":24,"column":36}},"type":"Identifier","name":"handlers"},"init":null},{"range":[799,811],"loc":{"start":{"line":25,"column":8},"end":{"line":25,"column":20}},"type":"VariableDeclarator","id":{"range":[799,806],"loc":{"start":{"line":25,"column":8},"end":{"line":25,"column":15}},"type":"Identifier","name":"defined"},"init":{"range":[809,811],"loc":{"start":{"line":25,"column":18},"end":{"line":25,"column":20}},"type":"ObjectExpression","properties":[]}},{"range":[821,833],"loc":{"start":{"line":26,"column":8},"end":{"line":26,"column":20}},"type":"VariableDeclarator","id":{"range":[821,828],"loc":{"start":{"line":26,"column":8},"end":{"line":26,"column":15}},"type":"Identifier","name":"waiting"},"init":{"range":[831,833],"loc":{"start":{"line":26,"column":18},"end":{"line":26,"column":20}},"type":"ObjectExpression","properties":[]}},{"range":[843,854],"loc":{"start":{"line":27,"column":8},"end":{"line":27,"column":19}},"type":"VariableDeclarator","id":{"range":[843,849],"loc":{"start":{"line":27,"column":8},"end":{"line":27,"column":14}},"type":"Identifier","name":"config"},"init":{"range":[852,854],"loc":{"start":{"line":27,"column":17},"end":{"line":27,"column":19}},"type":"ObjectExpression","properties":[]}},{"range":[864,877],"loc":{"start":{"line":28,"column":8},"end":{"line":28,"column":21}},"type":"VariableDeclarator","id":{"range":[864,872],"loc":{"start":{"line":28,"column":8},"end":{"line":28,"column":16}},"type":"Identifier","name":"defining"},"init":{"range":[875,877],"loc":{"start":{"line":28,"column":19},"end":{"line":28,"column":21}},"type":"ObjectExpression","properties":[]}},{"range":[887,927],"loc":{"start":{"line":29,"column":8},"end":{"line":29,"column":48}},"type":"VariableDeclarator","id":{"range":[887,893],"loc":{"start":{"line":29,"column":8},"end":{"line":29,"column":14}},"type":"Identifier","name":"hasOwn"},"init":{"range":[896,927],"loc":{"start":{"line":29,"column":17},"end":{"line":29,"column":48}},"type":"MemberExpression","computed":false,"object":{"range":[896,912],"loc":{"start":{"line":29,"column":17},"end":{"line":29,"column":33}},"type":"MemberExpression","computed":false,"object":{"range":[896,902],"loc":{"start":{"line":29,"column":17},"end":{"line":29,"column":23}},"type":"Identifier","name":"Object"},"property":{"range":[903,912],"loc":{"start":{"line":29,"column":24},"end":{"line":29,"column":33}},"type":"Identifier","name":"prototype"}},"property":{"range":[913,927],"loc":{"start":{"line":29,"column":34},"end":{"line":29,"column":48}},"type":"Identifier","name":"hasOwnProperty"}}},{"range":[937,951],"loc":{"start":{"line":30,"column":8},"end":{"line":30,"column":22}},"type":"VariableDeclarator","id":{"range":[937,940],"loc":{"start":{"line":30,"column":8},"end":{"line":30,"column":11}},"type":"Identifier","name":"aps"},"init":{"range":[943,951],"loc":{"start":{"line":30,"column":14},"end":{"line":30,"column":22}},"type":"MemberExpression","computed":false,"object":{"range":[943,945],"loc":{"start":{"line":30,"column":14},"end":{"line":30,"column":16}},"type":"ArrayExpression","elements":[]},"property":{"range":[946,951],"loc":{"start":{"line":30,"column":17},"end":{"line":30,"column":22}},"type":"Identifier","name":"slice"}}},{"range":[961,985],"loc":{"start":{"line":31,"column":8},"end":{"line":31,"column":32}},"type":"VariableDeclarator","id":{"range":[961,975],"loc":{"start":{"line":31,"column":8},"end":{"line":31,"column":22}},"type":"Identifier","name":"jsSuffixRegExp"},"init":{"range":[978,985],"loc":{"start":{"line":31,"column":25},"end":{"line":31,"column":32}},"type":"Literal","value":{},"raw":"/\\.js$/","regex":{"pattern":"\\.js$","flags":""}}}],"kind":"var"},{"range":[992,1066],"loc":{"start":{"line":33,"column":4},"end":{"line":35,"column":5}},"type":"FunctionDeclaration","id":{"range":[1001,1008],"loc":{"start":{"line":33,"column":13},"end":{"line":33,"column":20}},"type":"Identifier","name":"hasProp"},"params":[{"range":[1009,1012],"loc":{"start":{"line":33,"column":21},"end":{"line":33,"column":24}},"type":"Identifier","name":"obj"},{"range":[1014,1018],"loc":{"start":{"line":33,"column":26},"end":{"line":33,"column":30}},"type":"Identifier","name":"prop"}],"defaults":[],"body":{"range":[1020,1066],"loc":{"start":{"line":33,"column":32},"end":{"line":35,"column":5}},"type":"BlockStatement","body":[{"range":[1030,1060],"loc":{"start":{"line":34,"column":8},"end":{"line":34,"column":38}},"type":"ReturnStatement","argument":{"range":[1037,1059],"loc":{"start":{"line":34,"column":15},"end":{"line":34,"column":37}},"type":"CallExpression","callee":{"range":[1037,1048],"loc":{"start":{"line":34,"column":15},"end":{"line":34,"column":26}},"type":"MemberExpression","computed":false,"object":{"range":[1037,1043],"loc":{"start":{"line":34,"column":15},"end":{"line":34,"column":21}},"type":"Identifier","name":"hasOwn"},"property":{"range":[1044,1048],"loc":{"start":{"line":34,"column":22},"end":{"line":34,"column":26}},"type":"Identifier","name":"call"}},"arguments":[{"range":[1049,1052],"loc":{"start":{"line":34,"column":27},"end":{"line":34,"column":30}},"type":"Identifier","name":"obj"},{"range":[1054,1058],"loc":{"start":{"line":34,"column":32},"end":{"line":34,"column":36}},"type":"Identifier","name":"prop"}]}}]},"generator":false,"expression":false,"trailingComments":[{"type":"Block","value":"*\n     * Given a relative module name, like ./something, normalize it to\n     * a real name that can be mapped to a path.\n     * @param {String} name the relative name\n     * @param {String} baseName a real name that the name arg is relative\n     * to.\n     * @returns {String} normalized name\n     ","range":[1072,1375],"loc":{"start":{"line":37,"column":4},"end":{"line":44,"column":7}}}]},{"range":[1380,5934],"loc":{"start":{"line":45,"column":4},"end":{"line":155,"column":5}},"type":"FunctionDeclaration","id":{"range":[1389,1398],"loc":{"start":{"line":45,"column":13},"end":{"line":45,"column":22}},"type":"Identifier","name":"normalize"},"params":[{"range":[1399,1403],"loc":{"start":{"line":45,"column":23},"end":{"line":45,"column":27}},"type":"Identifier","name":"name"},{"range":[1405,1413],"loc":{"start":{"line":45,"column":29},"end":{"line":45,"column":37}},"type":"Identifier","name":"baseName"}],"defaults":[],"body":{"range":[1415,5934],"loc":{"start":{"line":45,"column":39},"end":{"line":155,"column":5}},"type":"BlockStatement","body":[{"range":[1425,1670],"loc":{"start":{"line":46,"column":8},"end":{"line":50,"column":46}},"type":"VariableDeclaration","declarations":[{"range":[1429,1438],"loc":{"start":{"line":46,"column":12},"end":{"line":46,"column":21}},"type":"VariableDeclarator","id":{"range":[1429,1438],"loc":{"start":{"line":46,"column":12},"end":{"line":46,"column":21}},"type":"Identifier","name":"nameParts"},"init":null},{"range":[1440,1451],"loc":{"start":{"line":46,"column":23},"end":{"line":46,"column":34}},"type":"VariableDeclarator","id":{"range":[1440,1451],"loc":{"start":{"line":46,"column":23},"end":{"line":46,"column":34}},"type":"Identifier","name":"nameSegment"},"init":null},{"range":[1453,1461],"loc":{"start":{"line":46,"column":36},"end":{"line":46,"column":44}},"type":"VariableDeclarator","id":{"range":[1453,1461],"loc":{"start":{"line":46,"column":36},"end":{"line":46,"column":44}},"type":"Identifier","name":"mapValue"},"init":null},{"range":[1463,1471],"loc":{"start":{"line":46,"column":46},"end":{"line":46,"column":54}},"type":"VariableDeclarator","id":{"range":[1463,1471],"loc":{"start":{"line":46,"column":46},"end":{"line":46,"column":54}},"type":"Identifier","name":"foundMap"},"init":null},{"range":[1473,1482],"loc":{"start":{"line":46,"column":56},"end":{"line":46,"column":65}},"type":"VariableDeclarator","id":{"range":[1473,1482],"loc":{"start":{"line":46,"column":56},"end":{"line":46,"column":65}},"type":"Identifier","name":"lastIndex"},"init":null},{"range":[1496,1502],"loc":{"start":{"line":47,"column":12},"end":{"line":47,"column":18}},"type":"VariableDeclarator","id":{"range":[1496,1502],"loc":{"start":{"line":47,"column":12},"end":{"line":47,"column":18}},"type":"Identifier","name":"foundI"},"init":null},{"range":[1504,1516],"loc":{"start":{"line":47,"column":20},"end":{"line":47,"column":32}},"type":"VariableDeclarator","id":{"range":[1504,1516],"loc":{"start":{"line":47,"column":20},"end":{"line":47,"column":32}},"type":"Identifier","name":"foundStarMap"},"init":null},{"range":[1518,1523],"loc":{"start":{"line":47,"column":34},"end":{"line":47,"column":39}},"type":"VariableDeclarator","id":{"range":[1518,1523],"loc":{"start":{"line":47,"column":34},"end":{"line":47,"column":39}},"type":"Identifier","name":"starI"},"init":null},{"range":[1525,1526],"loc":{"start":{"line":47,"column":41},"end":{"line":47,"column":42}},"type":"VariableDeclarator","id":{"range":[1525,1526],"loc":{"start":{"line":47,"column":41},"end":{"line":47,"column":42}},"type":"Identifier","name":"i"},"init":null},{"range":[1528,1529],"loc":{"start":{"line":47,"column":44},"end":{"line":47,"column":45}},"type":"VariableDeclarator","id":{"range":[1528,1529],"loc":{"start":{"line":47,"column":44},"end":{"line":47,"column":45}},"type":"Identifier","name":"j"},"init":null},{"range":[1531,1535],"loc":{"start":{"line":47,"column":47},"end":{"line":47,"column":51}},"type":"VariableDeclarator","id":{"range":[1531,1535],"loc":{"start":{"line":47,"column":47},"end":{"line":47,"column":51}},"type":"Identifier","name":"part"},"init":null},{"range":[1549,1592],"loc":{"start":{"line":48,"column":12},"end":{"line":48,"column":55}},"type":"VariableDeclarator","id":{"range":[1549,1558],"loc":{"start":{"line":48,"column":12},"end":{"line":48,"column":21}},"type":"Identifier","name":"baseParts"},"init":{"range":[1561,1592],"loc":{"start":{"line":48,"column":24},"end":{"line":48,"column":55}},"type":"LogicalExpression","operator":"&&","left":{"range":[1561,1569],"loc":{"start":{"line":48,"column":24},"end":{"line":48,"column":32}},"type":"Identifier","name":"baseName"},"right":{"range":[1573,1592],"loc":{"start":{"line":48,"column":36},"end":{"line":48,"column":55}},"type":"CallExpression","callee":{"range":[1573,1587],"loc":{"start":{"line":48,"column":36},"end":{"line":48,"column":50}},"type":"MemberExpression","computed":false,"object":{"range":[1573,1581],"loc":{"start":{"line":48,"column":36},"end":{"line":48,"column":44}},"type":"Identifier","name":"baseName"},"property":{"range":[1582,1587],"loc":{"start":{"line":48,"column":45},"end":{"line":48,"column":50}},"type":"Identifier","name":"split"}},"arguments":[{"range":[1588,1591],"loc":{"start":{"line":48,"column":51},"end":{"line":48,"column":54}},"type":"Literal","value":"/","raw":"\"/\""}]}}},{"range":[1606,1622],"loc":{"start":{"line":49,"column":12},"end":{"line":49,"column":28}},"type":"VariableDeclarator","id":{"range":[1606,1609],"loc":{"start":{"line":49,"column":12},"end":{"line":49,"column":15}},"type":"Identifier","name":"map"},"init":{"range":[1612,1622],"loc":{"start":{"line":49,"column":18},"end":{"line":49,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[1612,1618],"loc":{"start":{"line":49,"column":18},"end":{"line":49,"column":24}},"type":"Identifier","name":"config"},"property":{"range":[1619,1622],"loc":{"start":{"line":49,"column":25},"end":{"line":49,"column":28}},"type":"Identifier","name":"map"}}},{"range":[1636,1669],"loc":{"start":{"line":50,"column":12},"end":{"line":50,"column":45}},"type":"VariableDeclarator","id":{"range":[1636,1643],"loc":{"start":{"line":50,"column":12},"end":{"line":50,"column":19}},"type":"Identifier","name":"starMap"},"init":{"range":[1646,1669],"loc":{"start":{"line":50,"column":22},"end":{"line":50,"column":45}},"type":"LogicalExpression","operator":"||","left":{"range":[1647,1662],"loc":{"start":{"line":50,"column":23},"end":{"line":50,"column":38}},"type":"LogicalExpression","operator":"&&","left":{"range":[1647,1650],"loc":{"start":{"line":50,"column":23},"end":{"line":50,"column":26}},"type":"Identifier","name":"map"},"right":{"range":[1654,1662],"loc":{"start":{"line":50,"column":30},"end":{"line":50,"column":38}},"type":"MemberExpression","computed":true,"object":{"range":[1654,1657],"loc":{"start":{"line":50,"column":30},"end":{"line":50,"column":33}},"type":"Identifier","name":"map"},"property":{"range":[1658,1661],"loc":{"start":{"line":50,"column":34},"end":{"line":50,"column":37}},"type":"Literal","value":"*","raw":"'*'"}}},"right":{"range":[1667,1669],"loc":{"start":{"line":50,"column":43},"end":{"line":50,"column":45}},"type":"ObjectExpression","properties":[]}}}],"kind":"var","trailingComments":[{"type":"Line","value":"Adjust any relative paths.","range":[1680,1708],"loc":{"start":{"line":52,"column":8},"end":{"line":52,"column":36}}}]},{"range":[1717,4003],"loc":{"start":{"line":53,"column":8},"end":{"line":101,"column":9}},"type":"IfStatement","test":{"range":[1721,1751],"loc":{"start":{"line":53,"column":12},"end":{"line":53,"column":42}},"type":"LogicalExpression","operator":"&&","left":{"range":[1721,1725],"loc":{"start":{"line":53,"column":12},"end":{"line":53,"column":16}},"type":"Identifier","name":"name"},"right":{"range":[1729,1751],"loc":{"start":{"line":53,"column":20},"end":{"line":53,"column":42}},"type":"BinaryExpression","operator":"===","left":{"range":[1729,1743],"loc":{"start":{"line":53,"column":20},"end":{"line":53,"column":34}},"type":"CallExpression","callee":{"range":[1729,1740],"loc":{"start":{"line":53,"column":20},"end":{"line":53,"column":31}},"type":"MemberExpression","computed":false,"object":{"range":[1729,1733],"loc":{"start":{"line":53,"column":20},"end":{"line":53,"column":24}},"type":"Identifier","name":"name"},"property":{"range":[1734,1740],"loc":{"start":{"line":53,"column":25},"end":{"line":53,"column":31}},"type":"Identifier","name":"charAt"}},"arguments":[{"range":[1741,1742],"loc":{"start":{"line":53,"column":32},"end":{"line":53,"column":33}},"type":"Literal","value":0,"raw":"0"}]},"right":{"range":[1748,1751],"loc":{"start":{"line":53,"column":39},"end":{"line":53,"column":42}},"type":"Literal","value":".","raw":"\".\""}}},"consequent":{"range":[1753,4003],"loc":{"start":{"line":53,"column":44},"end":{"line":101,"column":9}},"type":"BlockStatement","body":[{"range":[1948,3993],"loc":{"start":{"line":57,"column":12},"end":{"line":100,"column":13}},"type":"IfStatement","test":{"range":[1952,1960],"loc":{"start":{"line":57,"column":16},"end":{"line":57,"column":24}},"type":"Identifier","name":"baseName"},"consequent":{"range":[1962,3776],"loc":{"start":{"line":57,"column":26},"end":{"line":96,"column":13}},"type":"BlockStatement","body":[{"range":[1980,2003],"loc":{"start":{"line":58,"column":16},"end":{"line":58,"column":39}},"type":"ExpressionStatement","expression":{"range":[1980,2002],"loc":{"start":{"line":58,"column":16},"end":{"line":58,"column":38}},"type":"AssignmentExpression","operator":"=","left":{"range":[1980,1984],"loc":{"start":{"line":58,"column":16},"end":{"line":58,"column":20}},"type":"Identifier","name":"name"},"right":{"range":[1987,2002],"loc":{"start":{"line":58,"column":23},"end":{"line":58,"column":38}},"type":"CallExpression","callee":{"range":[1987,1997],"loc":{"start":{"line":58,"column":23},"end":{"line":58,"column":33}},"type":"MemberExpression","computed":false,"object":{"range":[1987,1991],"loc":{"start":{"line":58,"column":23},"end":{"line":58,"column":27}},"type":"Identifier","name":"name"},"property":{"range":[1992,1997],"loc":{"start":{"line":58,"column":28},"end":{"line":58,"column":33}},"type":"Identifier","name":"split"}},"arguments":[{"range":[1998,2001],"loc":{"start":{"line":58,"column":34},"end":{"line":58,"column":37}},"type":"Literal","value":"/","raw":"'/'"}]}}},{"range":[2020,2048],"loc":{"start":{"line":59,"column":16},"end":{"line":59,"column":44}},"type":"ExpressionStatement","expression":{"range":[2020,2047],"loc":{"start":{"line":59,"column":16},"end":{"line":59,"column":43}},"type":"AssignmentExpression","operator":"=","left":{"range":[2020,2029],"loc":{"start":{"line":59,"column":16},"end":{"line":59,"column":25}},"type":"Identifier","name":"lastIndex"},"right":{"range":[2032,2047],"loc":{"start":{"line":59,"column":28},"end":{"line":59,"column":43}},"type":"BinaryExpression","operator":"-","left":{"range":[2032,2043],"loc":{"start":{"line":59,"column":28},"end":{"line":59,"column":39}},"type":"MemberExpression","computed":false,"object":{"range":[2032,2036],"loc":{"start":{"line":59,"column":28},"end":{"line":59,"column":32}},"type":"Identifier","name":"name"},"property":{"range":[2037,2043],"loc":{"start":{"line":59,"column":33},"end":{"line":59,"column":39}},"type":"Identifier","name":"length"}},"right":{"range":[2046,2047],"loc":{"start":{"line":59,"column":42},"end":{"line":59,"column":43}},"type":"Literal","value":1,"raw":"1"}}},"trailingComments":[{"type":"Line","value":" Node .js allowance:","range":[2066,2088],"loc":{"start":{"line":61,"column":16},"end":{"line":61,"column":38}}}]},{"range":[2105,2272],"loc":{"start":{"line":62,"column":16},"end":{"line":64,"column":17}},"type":"IfStatement","test":{"range":[2109,2168],"loc":{"start":{"line":62,"column":20},"end":{"line":62,"column":79}},"type":"LogicalExpression","operator":"&&","left":{"range":[2109,2128],"loc":{"start":{"line":62,"column":20},"end":{"line":62,"column":39}},"type":"MemberExpression","computed":false,"object":{"range":[2109,2115],"loc":{"start":{"line":62,"column":20},"end":{"line":62,"column":26}},"type":"Identifier","name":"config"},"property":{"range":[2116,2128],"loc":{"start":{"line":62,"column":27},"end":{"line":62,"column":39}},"type":"Identifier","name":"nodeIdCompat"}},"right":{"range":[2132,2168],"loc":{"start":{"line":62,"column":43},"end":{"line":62,"column":79}},"type":"CallExpression","callee":{"range":[2132,2151],"loc":{"start":{"line":62,"column":43},"end":{"line":62,"column":62}},"type":"MemberExpression","computed":false,"object":{"range":[2132,2146],"loc":{"start":{"line":62,"column":43},"end":{"line":62,"column":57}},"type":"Identifier","name":"jsSuffixRegExp"},"property":{"range":[2147,2151],"loc":{"start":{"line":62,"column":58},"end":{"line":62,"column":62}},"type":"Identifier","name":"test"}},"arguments":[{"range":[2152,2167],"loc":{"start":{"line":62,"column":63},"end":{"line":62,"column":78}},"type":"MemberExpression","computed":true,"object":{"range":[2152,2156],"loc":{"start":{"line":62,"column":63},"end":{"line":62,"column":67}},"type":"Identifier","name":"name"},"property":{"range":[2157,2166],"loc":{"start":{"line":62,"column":68},"end":{"line":62,"column":77}},"type":"Identifier","name":"lastIndex"}}]}},"consequent":{"range":[2170,2272],"loc":{"start":{"line":62,"column":81},"end":{"line":64,"column":17}},"type":"BlockStatement","body":[{"range":[2192,2254],"loc":{"start":{"line":63,"column":20},"end":{"line":63,"column":82}},"type":"ExpressionStatement","expression":{"range":[2192,2253],"loc":{"start":{"line":63,"column":20},"end":{"line":63,"column":81}},"type":"AssignmentExpression","operator":"=","left":{"range":[2192,2207],"loc":{"start":{"line":63,"column":20},"end":{"line":63,"column":35}},"type":"MemberExpression","computed":true,"object":{"range":[2192,2196],"loc":{"start":{"line":63,"column":20},"end":{"line":63,"column":24}},"type":"Identifier","name":"name"},"property":{"range":[2197,2206],"loc":{"start":{"line":63,"column":25},"end":{"line":63,"column":34}},"type":"Identifier","name":"lastIndex"}},"right":{"range":[2210,2253],"loc":{"start":{"line":63,"column":38},"end":{"line":63,"column":81}},"type":"CallExpression","callee":{"range":[2210,2233],"loc":{"start":{"line":63,"column":38},"end":{"line":63,"column":61}},"type":"MemberExpression","computed":false,"object":{"range":[2210,2225],"loc":{"start":{"line":63,"column":38},"end":{"line":63,"column":53}},"type":"MemberExpression","computed":true,"object":{"range":[2210,2214],"loc":{"start":{"line":63,"column":38},"end":{"line":63,"column":42}},"type":"Identifier","name":"name"},"property":{"range":[2215,2224],"loc":{"start":{"line":63,"column":43},"end":{"line":63,"column":52}},"type":"Identifier","name":"lastIndex"}},"property":{"range":[2226,2233],"loc":{"start":{"line":63,"column":54},"end":{"line":63,"column":61}},"type":"Identifier","name":"replace"}},"arguments":[{"range":[2234,2248],"loc":{"start":{"line":63,"column":62},"end":{"line":63,"column":76}},"type":"Identifier","name":"jsSuffixRegExp"},{"range":[2250,2252],"loc":{"start":{"line":63,"column":78},"end":{"line":63,"column":80}},"type":"Literal","value":"","raw":"''"}]}}}]},"alternate":null,"leadingComments":[{"type":"Line","value":" Node .js allowance:","range":[2066,2088],"loc":{"start":{"line":61,"column":16},"end":{"line":61,"column":38}}}],"trailingComments":[{"type":"Line","value":"Lop off the last part of baseParts, so that . matches the","range":[2290,2349],"loc":{"start":{"line":66,"column":16},"end":{"line":66,"column":75}}},{"type":"Line","value":"\"directory\" and not name of the baseName's module. For instance,","range":[2366,2432],"loc":{"start":{"line":67,"column":16},"end":{"line":67,"column":82}}},{"type":"Line","value":"baseName of \"one/two/three\", maps to \"one/two/three.js\", but we","range":[2449,2514],"loc":{"start":{"line":68,"column":16},"end":{"line":68,"column":81}}},{"type":"Line","value":"want the directory, \"one/two\" for this normalization.","range":[2531,2586],"loc":{"start":{"line":69,"column":16},"end":{"line":69,"column":71}}}]},{"range":[2603,2664],"loc":{"start":{"line":70,"column":16},"end":{"line":70,"column":77}},"type":"ExpressionStatement","expression":{"range":[2603,2663],"loc":{"start":{"line":70,"column":16},"end":{"line":70,"column":76}},"type":"AssignmentExpression","operator":"=","left":{"range":[2603,2607],"loc":{"start":{"line":70,"column":16},"end":{"line":70,"column":20}},"type":"Identifier","name":"name"},"right":{"range":[2610,2663],"loc":{"start":{"line":70,"column":23},"end":{"line":70,"column":76}},"type":"CallExpression","callee":{"range":[2610,2657],"loc":{"start":{"line":70,"column":23},"end":{"line":70,"column":70}},"type":"MemberExpression","computed":false,"object":{"range":[2610,2650],"loc":{"start":{"line":70,"column":23},"end":{"line":70,"column":63}},"type":"CallExpression","callee":{"range":[2610,2625],"loc":{"start":{"line":70,"column":23},"end":{"line":70,"column":38}},"type":"MemberExpression","computed":false,"object":{"range":[2610,2619],"loc":{"start":{"line":70,"column":23},"end":{"line":70,"column":32}},"type":"Identifier","name":"baseParts"},"property":{"range":[2620,2625],"loc":{"start":{"line":70,"column":33},"end":{"line":70,"column":38}},"type":"Identifier","name":"slice"}},"arguments":[{"range":[2626,2627],"loc":{"start":{"line":70,"column":39},"end":{"line":70,"column":40}},"type":"Literal","value":0,"raw":"0"},{"range":[2629,2649],"loc":{"start":{"line":70,"column":42},"end":{"line":70,"column":62}},"type":"BinaryExpression","operator":"-","left":{"range":[2629,2645],"loc":{"start":{"line":70,"column":42},"end":{"line":70,"column":58}},"type":"MemberExpression","computed":false,"object":{"range":[2629,2638],"loc":{"start":{"line":70,"column":42},"end":{"line":70,"column":51}},"type":"Identifier","name":"baseParts"},"property":{"range":[2639,2645],"loc":{"start":{"line":70,"column":52},"end":{"line":70,"column":58}},"type":"Identifier","name":"length"}},"right":{"range":[2648,2649],"loc":{"start":{"line":70,"column":61},"end":{"line":70,"column":62}},"type":"Literal","value":1,"raw":"1"}}]},"property":{"range":[2651,2657],"loc":{"start":{"line":70,"column":64},"end":{"line":70,"column":70}},"type":"Identifier","name":"concat"}},"arguments":[{"range":[2658,2662],"loc":{"start":{"line":70,"column":71},"end":{"line":70,"column":75}},"type":"Identifier","name":"name"}]}},"leadingComments":[{"type":"Line","value":"Lop off the last part of baseParts, so that . matches the","range":[2290,2349],"loc":{"start":{"line":66,"column":16},"end":{"line":66,"column":75}}},{"type":"Line","value":"\"directory\" and not name of the baseName's module. For instance,","range":[2366,2432],"loc":{"start":{"line":67,"column":16},"end":{"line":67,"column":82}}},{"type":"Line","value":"baseName of \"one/two/three\", maps to \"one/two/three.js\", but we","range":[2449,2514],"loc":{"start":{"line":68,"column":16},"end":{"line":68,"column":81}}},{"type":"Line","value":"want the directory, \"one/two\" for this normalization.","range":[2531,2586],"loc":{"start":{"line":69,"column":16},"end":{"line":69,"column":71}}}],"trailingComments":[{"type":"Line","value":"start trimDots","range":[2682,2698],"loc":{"start":{"line":72,"column":16},"end":{"line":72,"column":32}}}]},{"range":[2715,3691],"loc":{"start":{"line":73,"column":16},"end":{"line":92,"column":17}},"type":"ForStatement","init":{"range":[2720,2725],"loc":{"start":{"line":73,"column":21},"end":{"line":73,"column":26}},"type":"AssignmentExpression","operator":"=","left":{"range":[2720,2721],"loc":{"start":{"line":73,"column":21},"end":{"line":73,"column":22}},"type":"Identifier","name":"i"},"right":{"range":[2724,2725],"loc":{"start":{"line":73,"column":25},"end":{"line":73,"column":26}},"type":"Literal","value":0,"raw":"0"}},"test":{"range":[2727,2742],"loc":{"start":{"line":73,"column":28},"end":{"line":73,"column":43}},"type":"BinaryExpression","operator":"<","left":{"range":[2727,2728],"loc":{"start":{"line":73,"column":28},"end":{"line":73,"column":29}},"type":"Identifier","name":"i"},"right":{"range":[2731,2742],"loc":{"start":{"line":73,"column":32},"end":{"line":73,"column":43}},"type":"MemberExpression","computed":false,"object":{"range":[2731,2735],"loc":{"start":{"line":73,"column":32},"end":{"line":73,"column":36}},"type":"Identifier","name":"name"},"property":{"range":[2736,2742],"loc":{"start":{"line":73,"column":37},"end":{"line":73,"column":43}},"type":"Identifier","name":"length"}}},"update":{"range":[2744,2750],"loc":{"start":{"line":73,"column":45},"end":{"line":73,"column":51}},"type":"AssignmentExpression","operator":"+=","left":{"range":[2744,2745],"loc":{"start":{"line":73,"column":45},"end":{"line":73,"column":46}},"type":"Identifier","name":"i"},"right":{"range":[2749,2750],"loc":{"start":{"line":73,"column":50},"end":{"line":73,"column":51}},"type":"Literal","value":1,"raw":"1"}},"body":{"range":[2752,3691],"loc":{"start":{"line":73,"column":53},"end":{"line":92,"column":17}},"type":"BlockStatement","body":[{"range":[2774,2789],"loc":{"start":{"line":74,"column":20},"end":{"line":74,"column":35}},"type":"ExpressionStatement","expression":{"range":[2774,2788],"loc":{"start":{"line":74,"column":20},"end":{"line":74,"column":34}},"type":"AssignmentExpression","operator":"=","left":{"range":[2774,2778],"loc":{"start":{"line":74,"column":20},"end":{"line":74,"column":24}},"type":"Identifier","name":"part"},"right":{"range":[2781,2788],"loc":{"start":{"line":74,"column":27},"end":{"line":74,"column":34}},"type":"MemberExpression","computed":true,"object":{"range":[2781,2785],"loc":{"start":{"line":74,"column":27},"end":{"line":74,"column":31}},"type":"Identifier","name":"name"},"property":{"range":[2786,2787],"loc":{"start":{"line":74,"column":32},"end":{"line":74,"column":33}},"type":"Identifier","name":"i"}}}},{"range":[2810,3673],"loc":{"start":{"line":75,"column":20},"end":{"line":91,"column":21}},"type":"IfStatement","test":{"range":[2814,2826],"loc":{"start":{"line":75,"column":24},"end":{"line":75,"column":36}},"type":"BinaryExpression","operator":"===","left":{"range":[2814,2818],"loc":{"start":{"line":75,"column":24},"end":{"line":75,"column":28}},"type":"Identifier","name":"part"},"right":{"range":[2823,2826],"loc":{"start":{"line":75,"column":33},"end":{"line":75,"column":36}},"type":"Literal","value":".","raw":"\".\""}},"consequent":{"range":[2828,2926],"loc":{"start":{"line":75,"column":38},"end":{"line":78,"column":21}},"type":"BlockStatement","body":[{"range":[2854,2872],"loc":{"start":{"line":76,"column":24},"end":{"line":76,"column":42}},"type":"ExpressionStatement","expression":{"range":[2854,2871],"loc":{"start":{"line":76,"column":24},"end":{"line":76,"column":41}},"type":"CallExpression","callee":{"range":[2854,2865],"loc":{"start":{"line":76,"column":24},"end":{"line":76,"column":35}},"type":"MemberExpression","computed":false,"object":{"range":[2854,2858],"loc":{"start":{"line":76,"column":24},"end":{"line":76,"column":28}},"type":"Identifier","name":"name"},"property":{"range":[2859,2865],"loc":{"start":{"line":76,"column":29},"end":{"line":76,"column":35}},"type":"Identifier","name":"splice"}},"arguments":[{"range":[2866,2867],"loc":{"start":{"line":76,"column":36},"end":{"line":76,"column":37}},"type":"Identifier","name":"i"},{"range":[2869,2870],"loc":{"start":{"line":76,"column":39},"end":{"line":76,"column":40}},"type":"Literal","value":1,"raw":"1"}]}},{"range":[2897,2904],"loc":{"start":{"line":77,"column":24},"end":{"line":77,"column":31}},"type":"ExpressionStatement","expression":{"range":[2897,2903],"loc":{"start":{"line":77,"column":24},"end":{"line":77,"column":30}},"type":"AssignmentExpression","operator":"-=","left":{"range":[2897,2898],"loc":{"start":{"line":77,"column":24},"end":{"line":77,"column":25}},"type":"Identifier","name":"i"},"right":{"range":[2902,2903],"loc":{"start":{"line":77,"column":29},"end":{"line":77,"column":30}},"type":"Literal","value":1,"raw":"1"}}}]},"alternate":{"range":[2932,3673],"loc":{"start":{"line":78,"column":27},"end":{"line":91,"column":21}},"type":"IfStatement","test":{"range":[2936,2949],"loc":{"start":{"line":78,"column":31},"end":{"line":78,"column":44}},"type":"BinaryExpression","operator":"===","left":{"range":[2936,2940],"loc":{"start":{"line":78,"column":31},"end":{"line":78,"column":35}},"type":"Identifier","name":"part"},"right":{"range":[2945,2949],"loc":{"start":{"line":78,"column":40},"end":{"line":78,"column":44}},"type":"Literal","value":"..","raw":"\"..\""}},"consequent":{"range":[2951,3673],"loc":{"start":{"line":78,"column":46},"end":{"line":91,"column":21}},"type":"BlockStatement","body":[{"range":[2977,3651],"loc":{"start":{"line":79,"column":24},"end":{"line":90,"column":25}},"type":"IfStatement","test":{"range":[2981,3030],"loc":{"start":{"line":79,"column":28},"end":{"line":79,"column":77}},"type":"LogicalExpression","operator":"&&","left":{"range":[2981,2988],"loc":{"start":{"line":79,"column":28},"end":{"line":79,"column":35}},"type":"BinaryExpression","operator":"===","left":{"range":[2981,2982],"loc":{"start":{"line":79,"column":28},"end":{"line":79,"column":29}},"type":"Identifier","name":"i"},"right":{"range":[2987,2988],"loc":{"start":{"line":79,"column":34},"end":{"line":79,"column":35}},"type":"Literal","value":1,"raw":"1"}},"right":{"range":[2993,3029],"loc":{"start":{"line":79,"column":40},"end":{"line":79,"column":76}},"type":"LogicalExpression","operator":"||","left":{"range":[2993,3009],"loc":{"start":{"line":79,"column":40},"end":{"line":79,"column":56}},"type":"BinaryExpression","operator":"===","left":{"range":[2993,3000],"loc":{"start":{"line":79,"column":40},"end":{"line":79,"column":47}},"type":"MemberExpression","computed":true,"object":{"range":[2993,2997],"loc":{"start":{"line":79,"column":40},"end":{"line":79,"column":44}},"type":"Identifier","name":"name"},"property":{"range":[2998,2999],"loc":{"start":{"line":79,"column":45},"end":{"line":79,"column":46}},"type":"Literal","value":2,"raw":"2"}},"right":{"range":[3005,3009],"loc":{"start":{"line":79,"column":52},"end":{"line":79,"column":56}},"type":"Literal","value":"..","raw":"'..'"}},"right":{"range":[3013,3029],"loc":{"start":{"line":79,"column":60},"end":{"line":79,"column":76}},"type":"BinaryExpression","operator":"===","left":{"range":[3013,3020],"loc":{"start":{"line":79,"column":60},"end":{"line":79,"column":67}},"type":"MemberExpression","computed":true,"object":{"range":[3013,3017],"loc":{"start":{"line":79,"column":60},"end":{"line":79,"column":64}},"type":"Identifier","name":"name"},"property":{"range":[3018,3019],"loc":{"start":{"line":79,"column":65},"end":{"line":79,"column":66}},"type":"Literal","value":0,"raw":"0"}},"right":{"range":[3025,3029],"loc":{"start":{"line":79,"column":72},"end":{"line":79,"column":76}},"type":"Literal","value":"..","raw":"'..'"}}}},"consequent":{"range":[3032,3520],"loc":{"start":{"line":79,"column":79},"end":{"line":87,"column":25}},"type":"BlockStatement","body":[{"range":[3488,3494],"loc":{"start":{"line":86,"column":28},"end":{"line":86,"column":34}},"type":"BreakStatement","label":null,"leadingComments":[{"type":"Line","value":"End of the line. Keep at least one non-dot","range":[3062,3106],"loc":{"start":{"line":80,"column":28},"end":{"line":80,"column":72}}},{"type":"Line","value":"path segment at the front so it can be mapped","range":[3135,3182],"loc":{"start":{"line":81,"column":28},"end":{"line":81,"column":75}}},{"type":"Line","value":"correctly to disk. Otherwise, there is likely","range":[3211,3258],"loc":{"start":{"line":82,"column":28},"end":{"line":82,"column":75}}},{"type":"Line","value":"no path mapping for a path starting with '..'.","range":[3287,3335],"loc":{"start":{"line":83,"column":28},"end":{"line":83,"column":76}}},{"type":"Line","value":"This can still fail, but catches the most reasonable","range":[3364,3418],"loc":{"start":{"line":84,"column":28},"end":{"line":84,"column":82}}},{"type":"Line","value":"uses of ..","range":[3447,3459],"loc":{"start":{"line":85,"column":28},"end":{"line":85,"column":40}}}]}]},"alternate":{"range":[3526,3651],"loc":{"start":{"line":87,"column":31},"end":{"line":90,"column":25}},"type":"IfStatement","test":{"range":[3530,3535],"loc":{"start":{"line":87,"column":35},"end":{"line":87,"column":40}},"type":"BinaryExpression","operator":">","left":{"range":[3530,3531],"loc":{"start":{"line":87,"column":35},"end":{"line":87,"column":36}},"type":"Identifier","name":"i"},"right":{"range":[3534,3535],"loc":{"start":{"line":87,"column":39},"end":{"line":87,"column":40}},"type":"Literal","value":0,"raw":"0"}},"consequent":{"range":[3537,3651],"loc":{"start":{"line":87,"column":42},"end":{"line":90,"column":25}},"type":"BlockStatement","body":[{"range":[3567,3589],"loc":{"start":{"line":88,"column":28},"end":{"line":88,"column":50}},"type":"ExpressionStatement","expression":{"range":[3567,3588],"loc":{"start":{"line":88,"column":28},"end":{"line":88,"column":49}},"type":"CallExpression","callee":{"range":[3567,3578],"loc":{"start":{"line":88,"column":28},"end":{"line":88,"column":39}},"type":"MemberExpression","computed":false,"object":{"range":[3567,3571],"loc":{"start":{"line":88,"column":28},"end":{"line":88,"column":32}},"type":"Identifier","name":"name"},"property":{"range":[3572,3578],"loc":{"start":{"line":88,"column":33},"end":{"line":88,"column":39}},"type":"Identifier","name":"splice"}},"arguments":[{"range":[3579,3584],"loc":{"start":{"line":88,"column":40},"end":{"line":88,"column":45}},"type":"BinaryExpression","operator":"-","left":{"range":[3579,3580],"loc":{"start":{"line":88,"column":40},"end":{"line":88,"column":41}},"type":"Identifier","name":"i"},"right":{"range":[3583,3584],"loc":{"start":{"line":88,"column":44},"end":{"line":88,"column":45}},"type":"Literal","value":1,"raw":"1"}},{"range":[3586,3587],"loc":{"start":{"line":88,"column":47},"end":{"line":88,"column":48}},"type":"Literal","value":2,"raw":"2"}]}},{"range":[3618,3625],"loc":{"start":{"line":89,"column":28},"end":{"line":89,"column":35}},"type":"ExpressionStatement","expression":{"range":[3618,3624],"loc":{"start":{"line":89,"column":28},"end":{"line":89,"column":34}},"type":"AssignmentExpression","operator":"-=","left":{"range":[3618,3619],"loc":{"start":{"line":89,"column":28},"end":{"line":89,"column":29}},"type":"Identifier","name":"i"},"right":{"range":[3623,3624],"loc":{"start":{"line":89,"column":33},"end":{"line":89,"column":34}},"type":"Literal","value":2,"raw":"2"}}}]},"alternate":null}}]},"alternate":null}}]},"leadingComments":[{"type":"Line","value":"start trimDots","range":[2682,2698],"loc":{"start":{"line":72,"column":16},"end":{"line":72,"column":32}}}],"trailingComments":[{"type":"Line","value":"end trimDots","range":[3708,3722],"loc":{"start":{"line":93,"column":16},"end":{"line":93,"column":30}}}]},{"range":[3740,3762],"loc":{"start":{"line":95,"column":16},"end":{"line":95,"column":38}},"type":"ExpressionStatement","expression":{"range":[3740,3761],"loc":{"start":{"line":95,"column":16},"end":{"line":95,"column":37}},"type":"AssignmentExpression","operator":"=","left":{"range":[3740,3744],"loc":{"start":{"line":95,"column":16},"end":{"line":95,"column":20}},"type":"Identifier","name":"name"},"right":{"range":[3747,3761],"loc":{"start":{"line":95,"column":23},"end":{"line":95,"column":37}},"type":"CallExpression","callee":{"range":[3747,3756],"loc":{"start":{"line":95,"column":23},"end":{"line":95,"column":32}},"type":"MemberExpression","computed":false,"object":{"range":[3747,3751],"loc":{"start":{"line":95,"column":23},"end":{"line":95,"column":27}},"type":"Identifier","name":"name"},"property":{"range":[3752,3756],"loc":{"start":{"line":95,"column":28},"end":{"line":95,"column":32}},"type":"Identifier","name":"join"}},"arguments":[{"range":[3757,3760],"loc":{"start":{"line":95,"column":33},"end":{"line":95,"column":36}},"type":"Literal","value":"/","raw":"\"/\""}]}},"leadingComments":[{"type":"Line","value":"end trimDots","range":[3708,3722],"loc":{"start":{"line":93,"column":16},"end":{"line":93,"column":30}}}]}]},"alternate":{"range":[3782,3993],"loc":{"start":{"line":96,"column":19},"end":{"line":100,"column":13}},"type":"IfStatement","test":{"range":[3786,3810],"loc":{"start":{"line":96,"column":23},"end":{"line":96,"column":47}},"type":"BinaryExpression","operator":"===","left":{"range":[3786,3804],"loc":{"start":{"line":96,"column":23},"end":{"line":96,"column":41}},"type":"CallExpression","callee":{"range":[3786,3798],"loc":{"start":{"line":96,"column":23},"end":{"line":96,"column":35}},"type":"MemberExpression","computed":false,"object":{"range":[3786,3790],"loc":{"start":{"line":96,"column":23},"end":{"line":96,"column":27}},"type":"Identifier","name":"name"},"property":{"range":[3791,3798],"loc":{"start":{"line":96,"column":28},"end":{"line":96,"column":35}},"type":"Identifier","name":"indexOf"}},"arguments":[{"range":[3799,3803],"loc":{"start":{"line":96,"column":36},"end":{"line":96,"column":40}},"type":"Literal","value":"./","raw":"'./'"}]},"right":{"range":[3809,3810],"loc":{"start":{"line":96,"column":46},"end":{"line":96,"column":47}},"type":"Literal","value":0,"raw":"0"}},"consequent":{"range":[3812,3993],"loc":{"start":{"line":96,"column":49},"end":{"line":100,"column":13}},"type":"BlockStatement","body":[{"range":[3954,3979],"loc":{"start":{"line":99,"column":16},"end":{"line":99,"column":41}},"type":"ExpressionStatement","expression":{"range":[3954,3978],"loc":{"start":{"line":99,"column":16},"end":{"line":99,"column":40}},"type":"AssignmentExpression","operator":"=","left":{"range":[3954,3958],"loc":{"start":{"line":99,"column":16},"end":{"line":99,"column":20}},"type":"Identifier","name":"name"},"right":{"range":[3961,3978],"loc":{"start":{"line":99,"column":23},"end":{"line":99,"column":40}},"type":"CallExpression","callee":{"range":[3961,3975],"loc":{"start":{"line":99,"column":23},"end":{"line":99,"column":37}},"type":"MemberExpression","computed":false,"object":{"range":[3961,3965],"loc":{"start":{"line":99,"column":23},"end":{"line":99,"column":27}},"type":"Identifier","name":"name"},"property":{"range":[3966,3975],"loc":{"start":{"line":99,"column":28},"end":{"line":99,"column":37}},"type":"Identifier","name":"substring"}},"arguments":[{"range":[3976,3977],"loc":{"start":{"line":99,"column":38},"end":{"line":99,"column":39}},"type":"Literal","value":2,"raw":"2"}]}},"leadingComments":[{"type":"Line","value":" No baseName, so this is ID is resolved relative","range":[3830,3880],"loc":{"start":{"line":97,"column":16},"end":{"line":97,"column":66}}},{"type":"Line","value":" to baseUrl, pull off the leading dot.","range":[3897,3937],"loc":{"start":{"line":98,"column":16},"end":{"line":98,"column":56}}}]}]},"alternate":null},"leadingComments":[{"type":"Line","value":"If have a base name, try to normalize against it,","range":[1767,1818],"loc":{"start":{"line":54,"column":12},"end":{"line":54,"column":63}}},{"type":"Line","value":"otherwise, assume it is a top-level require that will","range":[1831,1886],"loc":{"start":{"line":55,"column":12},"end":{"line":55,"column":67}}},{"type":"Line","value":"be relative to baseUrl in the end.","range":[1899,1935],"loc":{"start":{"line":56,"column":12},"end":{"line":56,"column":48}}}]}]},"alternate":null,"leadingComments":[{"type":"Line","value":"Adjust any relative paths.","range":[1680,1708],"loc":{"start":{"line":52,"column":8},"end":{"line":52,"column":36}}}],"trailingComments":[{"type":"Line","value":"Apply map config if available.","range":[4013,4045],"loc":{"start":{"line":103,"column":8},"end":{"line":103,"column":40}}}]},{"range":[4054,5906],"loc":{"start":{"line":104,"column":8},"end":{"line":152,"column":9}},"type":"IfStatement","test":{"range":[4058,4087],"loc":{"start":{"line":104,"column":12},"end":{"line":104,"column":41}},"type":"LogicalExpression","operator":"&&","left":{"range":[4059,4079],"loc":{"start":{"line":104,"column":13},"end":{"line":104,"column":33}},"type":"LogicalExpression","operator":"||","left":{"range":[4059,4068],"loc":{"start":{"line":104,"column":13},"end":{"line":104,"column":22}},"type":"Identifier","name":"baseParts"},"right":{"range":[4072,4079],"loc":{"start":{"line":104,"column":26},"end":{"line":104,"column":33}},"type":"Identifier","name":"starMap"}},"right":{"range":[4084,4087],"loc":{"start":{"line":104,"column":38},"end":{"line":104,"column":41}},"type":"Identifier","name":"map"}},"consequent":{"range":[4089,5906],"loc":{"start":{"line":104,"column":43},"end":{"line":152,"column":9}},"type":"BlockStatement","body":[{"range":[4103,4131],"loc":{"start":{"line":105,"column":12},"end":{"line":105,"column":40}},"type":"ExpressionStatement","expression":{"range":[4103,4130],"loc":{"start":{"line":105,"column":12},"end":{"line":105,"column":39}},"type":"AssignmentExpression","operator":"=","left":{"range":[4103,4112],"loc":{"start":{"line":105,"column":12},"end":{"line":105,"column":21}},"type":"Identifier","name":"nameParts"},"right":{"range":[4115,4130],"loc":{"start":{"line":105,"column":24},"end":{"line":105,"column":39}},"type":"CallExpression","callee":{"range":[4115,4125],"loc":{"start":{"line":105,"column":24},"end":{"line":105,"column":34}},"type":"MemberExpression","computed":false,"object":{"range":[4115,4119],"loc":{"start":{"line":105,"column":24},"end":{"line":105,"column":28}},"type":"Identifier","name":"name"},"property":{"range":[4120,4125],"loc":{"start":{"line":105,"column":29},"end":{"line":105,"column":34}},"type":"Identifier","name":"split"}},"arguments":[{"range":[4126,4129],"loc":{"start":{"line":105,"column":35},"end":{"line":105,"column":38}},"type":"Literal","value":"/","raw":"'/'"}]}}},{"range":[4145,5621],"loc":{"start":{"line":107,"column":12},"end":{"line":141,"column":13}},"type":"ForStatement","init":{"range":[4150,4170],"loc":{"start":{"line":107,"column":17},"end":{"line":107,"column":37}},"type":"AssignmentExpression","operator":"=","left":{"range":[4150,4151],"loc":{"start":{"line":107,"column":17},"end":{"line":107,"column":18}},"type":"Identifier","name":"i"},"right":{"range":[4154,4170],"loc":{"start":{"line":107,"column":21},"end":{"line":107,"column":37}},"type":"MemberExpression","computed":false,"object":{"range":[4154,4163],"loc":{"start":{"line":107,"column":21},"end":{"line":107,"column":30}},"type":"Identifier","name":"nameParts"},"property":{"range":[4164,4170],"loc":{"start":{"line":107,"column":31},"end":{"line":107,"column":37}},"type":"Identifier","name":"length"}}},"test":{"range":[4172,4177],"loc":{"start":{"line":107,"column":39},"end":{"line":107,"column":44}},"type":"BinaryExpression","operator":">","left":{"range":[4172,4173],"loc":{"start":{"line":107,"column":39},"end":{"line":107,"column":40}},"type":"Identifier","name":"i"},"right":{"range":[4176,4177],"loc":{"start":{"line":107,"column":43},"end":{"line":107,"column":44}},"type":"Literal","value":0,"raw":"0"}},"update":{"range":[4179,4185],"loc":{"start":{"line":107,"column":46},"end":{"line":107,"column":52}},"type":"AssignmentExpression","operator":"-=","left":{"range":[4179,4180],"loc":{"start":{"line":107,"column":46},"end":{"line":107,"column":47}},"type":"Identifier","name":"i"},"right":{"range":[4184,4185],"loc":{"start":{"line":107,"column":51},"end":{"line":107,"column":52}},"type":"Literal","value":1,"raw":"1"}},"body":{"range":[4187,5621],"loc":{"start":{"line":107,"column":54},"end":{"line":141,"column":13}},"type":"BlockStatement","body":[{"range":[4205,4251],"loc":{"start":{"line":108,"column":16},"end":{"line":108,"column":62}},"type":"ExpressionStatement","expression":{"range":[4205,4250],"loc":{"start":{"line":108,"column":16},"end":{"line":108,"column":61}},"type":"AssignmentExpression","operator":"=","left":{"range":[4205,4216],"loc":{"start":{"line":108,"column":16},"end":{"line":108,"column":27}},"type":"Identifier","name":"nameSegment"},"right":{"range":[4219,4250],"loc":{"start":{"line":108,"column":30},"end":{"line":108,"column":61}},"type":"CallExpression","callee":{"range":[4219,4245],"loc":{"start":{"line":108,"column":30},"end":{"line":108,"column":56}},"type":"MemberExpression","computed":false,"object":{"range":[4219,4240],"loc":{"start":{"line":108,"column":30},"end":{"line":108,"column":51}},"type":"CallExpression","callee":{"range":[4219,4234],"loc":{"start":{"line":108,"column":30},"end":{"line":108,"column":45}},"type":"MemberExpression","computed":false,"object":{"range":[4219,4228],"loc":{"start":{"line":108,"column":30},"end":{"line":108,"column":39}},"type":"Identifier","name":"nameParts"},"property":{"range":[4229,4234],"loc":{"start":{"line":108,"column":40},"end":{"line":108,"column":45}},"type":"Identifier","name":"slice"}},"arguments":[{"range":[4235,4236],"loc":{"start":{"line":108,"column":46},"end":{"line":108,"column":47}},"type":"Literal","value":0,"raw":"0"},{"range":[4238,4239],"loc":{"start":{"line":108,"column":49},"end":{"line":108,"column":50}},"type":"Identifier","name":"i"}]},"property":{"range":[4241,4245],"loc":{"start":{"line":108,"column":52},"end":{"line":108,"column":56}},"type":"Identifier","name":"join"}},"arguments":[{"range":[4246,4249],"loc":{"start":{"line":108,"column":57},"end":{"line":108,"column":60}},"type":"Literal","value":"/","raw":"\"/\""}]}}},{"range":[4269,5149],"loc":{"start":{"line":110,"column":16},"end":{"line":128,"column":17}},"type":"IfStatement","test":{"range":[4273,4282],"loc":{"start":{"line":110,"column":20},"end":{"line":110,"column":29}},"type":"Identifier","name":"baseParts"},"consequent":{"range":[4284,5149],"loc":{"start":{"line":110,"column":31},"end":{"line":128,"column":17}},"type":"BlockStatement","body":[{"range":[4467,5131],"loc":{"start":{"line":113,"column":20},"end":{"line":127,"column":21}},"type":"ForStatement","init":{"range":[4472,4492],"loc":{"start":{"line":113,"column":25},"end":{"line":113,"column":45}},"type":"AssignmentExpression","operator":"=","left":{"range":[4472,4473],"loc":{"start":{"line":113,"column":25},"end":{"line":113,"column":26}},"type":"Identifier","name":"j"},"right":{"range":[4476,4492],"loc":{"start":{"line":113,"column":29},"end":{"line":113,"column":45}},"type":"MemberExpression","computed":false,"object":{"range":[4476,4485],"loc":{"start":{"line":113,"column":29},"end":{"line":113,"column":38}},"type":"Identifier","name":"baseParts"},"property":{"range":[4486,4492],"loc":{"start":{"line":113,"column":39},"end":{"line":113,"column":45}},"type":"Identifier","name":"length"}}},"test":{"range":[4494,4499],"loc":{"start":{"line":113,"column":47},"end":{"line":113,"column":52}},"type":"BinaryExpression","operator":">","left":{"range":[4494,4495],"loc":{"start":{"line":113,"column":47},"end":{"line":113,"column":48}},"type":"Identifier","name":"j"},"right":{"range":[4498,4499],"loc":{"start":{"line":113,"column":51},"end":{"line":113,"column":52}},"type":"Literal","value":0,"raw":"0"}},"update":{"range":[4501,4507],"loc":{"start":{"line":113,"column":54},"end":{"line":113,"column":60}},"type":"AssignmentExpression","operator":"-=","left":{"range":[4501,4502],"loc":{"start":{"line":113,"column":54},"end":{"line":113,"column":55}},"type":"Identifier","name":"j"},"right":{"range":[4506,4507],"loc":{"start":{"line":113,"column":59},"end":{"line":113,"column":60}},"type":"Literal","value":1,"raw":"1"}},"body":{"range":[4509,5131],"loc":{"start":{"line":113,"column":62},"end":{"line":127,"column":21}},"type":"BlockStatement","body":[{"range":[4535,4583],"loc":{"start":{"line":114,"column":24},"end":{"line":114,"column":72}},"type":"ExpressionStatement","expression":{"range":[4535,4582],"loc":{"start":{"line":114,"column":24},"end":{"line":114,"column":71}},"type":"AssignmentExpression","operator":"=","left":{"range":[4535,4543],"loc":{"start":{"line":114,"column":24},"end":{"line":114,"column":32}},"type":"Identifier","name":"mapValue"},"right":{"range":[4546,4582],"loc":{"start":{"line":114,"column":35},"end":{"line":114,"column":71}},"type":"MemberExpression","computed":true,"object":{"range":[4546,4549],"loc":{"start":{"line":114,"column":35},"end":{"line":114,"column":38}},"type":"Identifier","name":"map"},"property":{"range":[4550,4581],"loc":{"start":{"line":114,"column":39},"end":{"line":114,"column":70}},"type":"CallExpression","callee":{"range":[4550,4576],"loc":{"start":{"line":114,"column":39},"end":{"line":114,"column":65}},"type":"MemberExpression","computed":false,"object":{"range":[4550,4571],"loc":{"start":{"line":114,"column":39},"end":{"line":114,"column":60}},"type":"CallExpression","callee":{"range":[4550,4565],"loc":{"start":{"line":114,"column":39},"end":{"line":114,"column":54}},"type":"MemberExpression","computed":false,"object":{"range":[4550,4559],"loc":{"start":{"line":114,"column":39},"end":{"line":114,"column":48}},"type":"Identifier","name":"baseParts"},"property":{"range":[4560,4565],"loc":{"start":{"line":114,"column":49},"end":{"line":114,"column":54}},"type":"Identifier","name":"slice"}},"arguments":[{"range":[4566,4567],"loc":{"start":{"line":114,"column":55},"end":{"line":114,"column":56}},"type":"Literal","value":0,"raw":"0"},{"range":[4569,4570],"loc":{"start":{"line":114,"column":58},"end":{"line":114,"column":59}},"type":"Identifier","name":"j"}]},"property":{"range":[4572,4576],"loc":{"start":{"line":114,"column":61},"end":{"line":114,"column":65}},"type":"Identifier","name":"join"}},"arguments":[{"range":[4577,4580],"loc":{"start":{"line":114,"column":66},"end":{"line":114,"column":69}},"type":"Literal","value":"/","raw":"'/'"}]}}},"trailingComments":[{"type":"Line","value":"baseName segment has  config, find if it has one for","range":[4609,4663],"loc":{"start":{"line":116,"column":24},"end":{"line":116,"column":78}}},{"type":"Line","value":"this name.","range":[4688,4700],"loc":{"start":{"line":117,"column":24},"end":{"line":117,"column":36}}}]},{"range":[4725,5109],"loc":{"start":{"line":118,"column":24},"end":{"line":126,"column":25}},"type":"IfStatement","test":{"range":[4729,4737],"loc":{"start":{"line":118,"column":28},"end":{"line":118,"column":36}},"type":"Identifier","name":"mapValue"},"consequent":{"range":[4739,5109],"loc":{"start":{"line":118,"column":38},"end":{"line":126,"column":25}},"type":"BlockStatement","body":[{"range":[4769,4802],"loc":{"start":{"line":119,"column":28},"end":{"line":119,"column":61}},"type":"ExpressionStatement","expression":{"range":[4769,4801],"loc":{"start":{"line":119,"column":28},"end":{"line":119,"column":60}},"type":"AssignmentExpression","operator":"=","left":{"range":[4769,4777],"loc":{"start":{"line":119,"column":28},"end":{"line":119,"column":36}},"type":"Identifier","name":"mapValue"},"right":{"range":[4780,4801],"loc":{"start":{"line":119,"column":39},"end":{"line":119,"column":60}},"type":"MemberExpression","computed":true,"object":{"range":[4780,4788],"loc":{"start":{"line":119,"column":39},"end":{"line":119,"column":47}},"type":"Identifier","name":"mapValue"},"property":{"range":[4789,4800],"loc":{"start":{"line":119,"column":48},"end":{"line":119,"column":59}},"type":"Identifier","name":"nameSegment"}}}},{"range":[4831,5083],"loc":{"start":{"line":120,"column":28},"end":{"line":125,"column":29}},"type":"IfStatement","test":{"range":[4835,4843],"loc":{"start":{"line":120,"column":32},"end":{"line":120,"column":40}},"type":"Identifier","name":"mapValue"},"consequent":{"range":[4845,5083],"loc":{"start":{"line":120,"column":42},"end":{"line":125,"column":29}},"type":"BlockStatement","body":[{"range":[4950,4970],"loc":{"start":{"line":122,"column":32},"end":{"line":122,"column":52}},"type":"ExpressionStatement","expression":{"range":[4950,4969],"loc":{"start":{"line":122,"column":32},"end":{"line":122,"column":51}},"type":"AssignmentExpression","operator":"=","left":{"range":[4950,4958],"loc":{"start":{"line":122,"column":32},"end":{"line":122,"column":40}},"type":"Identifier","name":"foundMap"},"right":{"range":[4961,4969],"loc":{"start":{"line":122,"column":43},"end":{"line":122,"column":51}},"type":"Identifier","name":"mapValue"}},"leadingComments":[{"type":"Line","value":"Match, update name to the new value.","range":[4879,4917],"loc":{"start":{"line":121,"column":32},"end":{"line":121,"column":70}}}]},{"range":[5003,5014],"loc":{"start":{"line":123,"column":32},"end":{"line":123,"column":43}},"type":"ExpressionStatement","expression":{"range":[5003,5013],"loc":{"start":{"line":123,"column":32},"end":{"line":123,"column":42}},"type":"AssignmentExpression","operator":"=","left":{"range":[5003,5009],"loc":{"start":{"line":123,"column":32},"end":{"line":123,"column":38}},"type":"Identifier","name":"foundI"},"right":{"range":[5012,5013],"loc":{"start":{"line":123,"column":41},"end":{"line":123,"column":42}},"type":"Identifier","name":"i"}}},{"range":[5047,5053],"loc":{"start":{"line":124,"column":32},"end":{"line":124,"column":38}},"type":"BreakStatement","label":null}]},"alternate":null}]},"alternate":null,"leadingComments":[{"type":"Line","value":"baseName segment has  config, find if it has one for","range":[4609,4663],"loc":{"start":{"line":116,"column":24},"end":{"line":116,"column":78}}},{"type":"Line","value":"this name.","range":[4688,4700],"loc":{"start":{"line":117,"column":24},"end":{"line":117,"column":36}}}]}]},"leadingComments":[{"type":"Line","value":"Find the longest baseName segment match in the config.","range":[4306,4362],"loc":{"start":{"line":111,"column":20},"end":{"line":111,"column":76}}},{"type":"Line","value":"So, do joins on the biggest to smallest lengths of baseParts.","range":[4383,4446],"loc":{"start":{"line":112,"column":20},"end":{"line":112,"column":83}}}]}]},"alternate":null},{"range":[5167,5227],"loc":{"start":{"line":130,"column":16},"end":{"line":132,"column":17}},"type":"IfStatement","test":{"range":[5171,5179],"loc":{"start":{"line":130,"column":20},"end":{"line":130,"column":28}},"type":"Identifier","name":"foundMap"},"consequent":{"range":[5181,5227],"loc":{"start":{"line":130,"column":30},"end":{"line":132,"column":17}},"type":"BlockStatement","body":[{"range":[5203,5209],"loc":{"start":{"line":131,"column":20},"end":{"line":131,"column":26}},"type":"BreakStatement","label":null}]},"alternate":null,"trailingComments":[{"type":"Line","value":"Check for a star map match, but just hold on to it,","range":[5245,5298],"loc":{"start":{"line":134,"column":16},"end":{"line":134,"column":69}}},{"type":"Line","value":"if there is a shorter segment match later in a matching","range":[5315,5372],"loc":{"start":{"line":135,"column":16},"end":{"line":135,"column":73}}},{"type":"Line","value":"config, then favor over this star map.","range":[5389,5429],"loc":{"start":{"line":136,"column":16},"end":{"line":136,"column":56}}}]},{"range":[5446,5607],"loc":{"start":{"line":137,"column":16},"end":{"line":140,"column":17}},"type":"IfStatement","test":{"range":[5450,5498],"loc":{"start":{"line":137,"column":20},"end":{"line":137,"column":68}},"type":"LogicalExpression","operator":"&&","left":{"range":[5450,5474],"loc":{"start":{"line":137,"column":20},"end":{"line":137,"column":44}},"type":"LogicalExpression","operator":"&&","left":{"range":[5450,5463],"loc":{"start":{"line":137,"column":20},"end":{"line":137,"column":33}},"type":"UnaryExpression","operator":"!","argument":{"range":[5451,5463],"loc":{"start":{"line":137,"column":21},"end":{"line":137,"column":33}},"type":"Identifier","name":"foundStarMap"},"prefix":true},"right":{"range":[5467,5474],"loc":{"start":{"line":137,"column":37},"end":{"line":137,"column":44}},"type":"Identifier","name":"starMap"}},"right":{"range":[5478,5498],"loc":{"start":{"line":137,"column":48},"end":{"line":137,"column":68}},"type":"MemberExpression","computed":true,"object":{"range":[5478,5485],"loc":{"start":{"line":137,"column":48},"end":{"line":137,"column":55}},"type":"Identifier","name":"starMap"},"property":{"range":[5486,5497],"loc":{"start":{"line":137,"column":56},"end":{"line":137,"column":67}},"type":"Identifier","name":"nameSegment"}}},"consequent":{"range":[5500,5607],"loc":{"start":{"line":137,"column":70},"end":{"line":140,"column":17}},"type":"BlockStatement","body":[{"range":[5522,5558],"loc":{"start":{"line":138,"column":20},"end":{"line":138,"column":56}},"type":"ExpressionStatement","expression":{"range":[5522,5557],"loc":{"start":{"line":138,"column":20},"end":{"line":138,"column":55}},"type":"AssignmentExpression","operator":"=","left":{"range":[5522,5534],"loc":{"start":{"line":138,"column":20},"end":{"line":138,"column":32}},"type":"Identifier","name":"foundStarMap"},"right":{"range":[5537,5557],"loc":{"start":{"line":138,"column":35},"end":{"line":138,"column":55}},"type":"MemberExpression","computed":true,"object":{"range":[5537,5544],"loc":{"start":{"line":138,"column":35},"end":{"line":138,"column":42}},"type":"Identifier","name":"starMap"},"property":{"range":[5545,5556],"loc":{"start":{"line":138,"column":43},"end":{"line":138,"column":54}},"type":"Identifier","name":"nameSegment"}}}},{"range":[5579,5589],"loc":{"start":{"line":139,"column":20},"end":{"line":139,"column":30}},"type":"ExpressionStatement","expression":{"range":[5579,5588],"loc":{"start":{"line":139,"column":20},"end":{"line":139,"column":29}},"type":"AssignmentExpression","operator":"=","left":{"range":[5579,5584],"loc":{"start":{"line":139,"column":20},"end":{"line":139,"column":25}},"type":"Identifier","name":"starI"},"right":{"range":[5587,5588],"loc":{"start":{"line":139,"column":28},"end":{"line":139,"column":29}},"type":"Identifier","name":"i"}}}]},"alternate":null,"leadingComments":[{"type":"Line","value":"Check for a star map match, but just hold on to it,","range":[5245,5298],"loc":{"start":{"line":134,"column":16},"end":{"line":134,"column":69}}},{"type":"Line","value":"if there is a shorter segment match later in a matching","range":[5315,5372],"loc":{"start":{"line":135,"column":16},"end":{"line":135,"column":73}}},{"type":"Line","value":"config, then favor over this star map.","range":[5389,5429],"loc":{"start":{"line":136,"column":16},"end":{"line":136,"column":56}}}]}]}},{"range":[5635,5754],"loc":{"start":{"line":143,"column":12},"end":{"line":146,"column":13}},"type":"IfStatement","test":{"range":[5639,5664],"loc":{"start":{"line":143,"column":16},"end":{"line":143,"column":41}},"type":"LogicalExpression","operator":"&&","left":{"range":[5639,5648],"loc":{"start":{"line":143,"column":16},"end":{"line":143,"column":25}},"type":"UnaryExpression","operator":"!","argument":{"range":[5640,5648],"loc":{"start":{"line":143,"column":17},"end":{"line":143,"column":25}},"type":"Identifier","name":"foundMap"},"prefix":true},"right":{"range":[5652,5664],"loc":{"start":{"line":143,"column":29},"end":{"line":143,"column":41}},"type":"Identifier","name":"foundStarMap"}},"consequent":{"range":[5666,5754],"loc":{"start":{"line":143,"column":43},"end":{"line":146,"column":13}},"type":"BlockStatement","body":[{"range":[5684,5708],"loc":{"start":{"line":144,"column":16},"end":{"line":144,"column":40}},"type":"ExpressionStatement","expression":{"range":[5684,5707],"loc":{"start":{"line":144,"column":16},"end":{"line":144,"column":39}},"type":"AssignmentExpression","operator":"=","left":{"range":[5684,5692],"loc":{"start":{"line":144,"column":16},"end":{"line":144,"column":24}},"type":"Identifier","name":"foundMap"},"right":{"range":[5695,5707],"loc":{"start":{"line":144,"column":27},"end":{"line":144,"column":39}},"type":"Identifier","name":"foundStarMap"}}},{"range":[5725,5740],"loc":{"start":{"line":145,"column":16},"end":{"line":145,"column":31}},"type":"ExpressionStatement","expression":{"range":[5725,5739],"loc":{"start":{"line":145,"column":16},"end":{"line":145,"column":30}},"type":"AssignmentExpression","operator":"=","left":{"range":[5725,5731],"loc":{"start":{"line":145,"column":16},"end":{"line":145,"column":22}},"type":"Identifier","name":"foundI"},"right":{"range":[5734,5739],"loc":{"start":{"line":145,"column":25},"end":{"line":145,"column":30}},"type":"Identifier","name":"starI"}}}]},"alternate":null},{"range":[5768,5896],"loc":{"start":{"line":148,"column":12},"end":{"line":151,"column":13}},"type":"IfStatement","test":{"range":[5772,5780],"loc":{"start":{"line":148,"column":16},"end":{"line":148,"column":24}},"type":"Identifier","name":"foundMap"},"consequent":{"range":[5782,5896],"loc":{"start":{"line":148,"column":26},"end":{"line":151,"column":13}},"type":"BlockStatement","body":[{"range":[5800,5838],"loc":{"start":{"line":149,"column":16},"end":{"line":149,"column":54}},"type":"ExpressionStatement","expression":{"range":[5800,5837],"loc":{"start":{"line":149,"column":16},"end":{"line":149,"column":53}},"type":"CallExpression","callee":{"range":[5800,5816],"loc":{"start":{"line":149,"column":16},"end":{"line":149,"column":32}},"type":"MemberExpression","computed":false,"object":{"range":[5800,5809],"loc":{"start":{"line":149,"column":16},"end":{"line":149,"column":25}},"type":"Identifier","name":"nameParts"},"property":{"range":[5810,5816],"loc":{"start":{"line":149,"column":26},"end":{"line":149,"column":32}},"type":"Identifier","name":"splice"}},"arguments":[{"range":[5817,5818],"loc":{"start":{"line":149,"column":33},"end":{"line":149,"column":34}},"type":"Literal","value":0,"raw":"0"},{"range":[5820,5826],"loc":{"start":{"line":149,"column":36},"end":{"line":149,"column":42}},"type":"Identifier","name":"foundI"},{"range":[5828,5836],"loc":{"start":{"line":149,"column":44},"end":{"line":149,"column":52}},"type":"Identifier","name":"foundMap"}]}},{"range":[5855,5882],"loc":{"start":{"line":150,"column":16},"end":{"line":150,"column":43}},"type":"ExpressionStatement","expression":{"range":[5855,5881],"loc":{"start":{"line":150,"column":16},"end":{"line":150,"column":42}},"type":"AssignmentExpression","operator":"=","left":{"range":[5855,5859],"loc":{"start":{"line":150,"column":16},"end":{"line":150,"column":20}},"type":"Identifier","name":"name"},"right":{"range":[5862,5881],"loc":{"start":{"line":150,"column":23},"end":{"line":150,"column":42}},"type":"CallExpression","callee":{"range":[5862,5876],"loc":{"start":{"line":150,"column":23},"end":{"line":150,"column":37}},"type":"MemberExpression","computed":false,"object":{"range":[5862,5871],"loc":{"start":{"line":150,"column":23},"end":{"line":150,"column":32}},"type":"Identifier","name":"nameParts"},"property":{"range":[5872,5876],"loc":{"start":{"line":150,"column":33},"end":{"line":150,"column":37}},"type":"Identifier","name":"join"}},"arguments":[{"range":[5877,5880],"loc":{"start":{"line":150,"column":38},"end":{"line":150,"column":41}},"type":"Literal","value":"/","raw":"'/'"}]}}}]},"alternate":null}]},"alternate":null,"leadingComments":[{"type":"Line","value":"Apply map config if available.","range":[4013,4045],"loc":{"start":{"line":103,"column":8},"end":{"line":103,"column":40}}}]},{"range":[5916,5928],"loc":{"start":{"line":154,"column":8},"end":{"line":154,"column":20}},"type":"ReturnStatement","argument":{"range":[5923,5927],"loc":{"start":{"line":154,"column":15},"end":{"line":154,"column":19}},"type":"Identifier","name":"name"}}]},"generator":false,"expression":false,"leadingComments":[{"type":"Block","value":"*\n     * Given a relative module name, like ./something, normalize it to\n     * a real name that can be mapped to a path.\n     * @param {String} name the relative name\n     * @param {String} baseName a real name that the name arg is relative\n     * to.\n     * @returns {String} normalized name\n     ","range":[1072,1375],"loc":{"start":{"line":37,"column":4},"end":{"line":44,"column":7}}}]},{"range":[5940,6640],"loc":{"start":{"line":157,"column":4},"end":{"line":172,"column":5}},"type":"FunctionDeclaration","id":{"range":[5949,5960],"loc":{"start":{"line":157,"column":13},"end":{"line":157,"column":24}},"type":"Identifier","name":"makeRequire"},"params":[{"range":[5961,5968],"loc":{"start":{"line":157,"column":25},"end":{"line":157,"column":32}},"type":"Identifier","name":"relName"},{"range":[5970,5979],"loc":{"start":{"line":157,"column":34},"end":{"line":157,"column":43}},"type":"Identifier","name":"forceSync"}],"defaults":[],"body":{"range":[5981,6640],"loc":{"start":{"line":157,"column":45},"end":{"line":172,"column":5}},"type":"BlockStatement","body":[{"range":[5991,6634],"loc":{"start":{"line":158,"column":8},"end":{"line":171,"column":10}},"type":"ReturnStatement","argument":{"range":[5998,6633],"loc":{"start":{"line":158,"column":15},"end":{"line":171,"column":9}},"type":"FunctionExpression","id":null,"params":[],"defaults":[],"body":{"range":[6010,6633],"loc":{"start":{"line":158,"column":27},"end":{"line":171,"column":9}},"type":"BlockStatement","body":[{"range":[6197,6231],"loc":{"start":{"line":162,"column":12},"end":{"line":162,"column":46}},"type":"VariableDeclaration","declarations":[{"range":[6201,6230],"loc":{"start":{"line":162,"column":16},"end":{"line":162,"column":45}},"type":"VariableDeclarator","id":{"range":[6201,6205],"loc":{"start":{"line":162,"column":16},"end":{"line":162,"column":20}},"type":"Identifier","name":"args"},"init":{"range":[6208,6230],"loc":{"start":{"line":162,"column":23},"end":{"line":162,"column":45}},"type":"CallExpression","callee":{"range":[6208,6216],"loc":{"start":{"line":162,"column":23},"end":{"line":162,"column":31}},"type":"MemberExpression","computed":false,"object":{"range":[6208,6211],"loc":{"start":{"line":162,"column":23},"end":{"line":162,"column":26}},"type":"Identifier","name":"aps"},"property":{"range":[6212,6216],"loc":{"start":{"line":162,"column":27},"end":{"line":162,"column":31}},"type":"Identifier","name":"call"}},"arguments":[{"range":[6217,6226],"loc":{"start":{"line":162,"column":32},"end":{"line":162,"column":41}},"type":"Identifier","name":"arguments"},{"range":[6228,6229],"loc":{"start":{"line":162,"column":43},"end":{"line":162,"column":44}},"type":"Literal","value":0,"raw":"0"}]}}],"kind":"var","leadingComments":[{"type":"Line","value":"A version of a require function that passes a moduleName","range":[6024,6082],"loc":{"start":{"line":159,"column":12},"end":{"line":159,"column":70}}},{"type":"Line","value":"value for items that may need to","range":[6095,6129],"loc":{"start":{"line":160,"column":12},"end":{"line":160,"column":46}}},{"type":"Line","value":"look up paths relative to the moduleName","range":[6142,6184],"loc":{"start":{"line":161,"column":12},"end":{"line":161,"column":54}}}],"trailingComments":[{"type":"Line","value":"If first arg is not require('string'), and there is only","range":[6245,6303],"loc":{"start":{"line":164,"column":12},"end":{"line":164,"column":70}}},{"type":"Line","value":"one arg, it is the array form without a callback. Insert","range":[6316,6374],"loc":{"start":{"line":165,"column":12},"end":{"line":165,"column":70}}},{"type":"Line","value":"a null so that the following concat is correct.","range":[6387,6436],"loc":{"start":{"line":166,"column":12},"end":{"line":166,"column":61}}}]},{"range":[6449,6551],"loc":{"start":{"line":167,"column":12},"end":{"line":169,"column":13}},"type":"IfStatement","test":{"range":[6453,6501],"loc":{"start":{"line":167,"column":16},"end":{"line":167,"column":64}},"type":"LogicalExpression","operator":"&&","left":{"range":[6453,6480],"loc":{"start":{"line":167,"column":16},"end":{"line":167,"column":43}},"type":"BinaryExpression","operator":"!==","left":{"range":[6453,6467],"loc":{"start":{"line":167,"column":16},"end":{"line":167,"column":30}},"type":"UnaryExpression","operator":"typeof","argument":{"range":[6460,6467],"loc":{"start":{"line":167,"column":23},"end":{"line":167,"column":30}},"type":"MemberExpression","computed":true,"object":{"range":[6460,6464],"loc":{"start":{"line":167,"column":23},"end":{"line":167,"column":27}},"type":"Identifier","name":"args"},"property":{"range":[6465,6466],"loc":{"start":{"line":167,"column":28},"end":{"line":167,"column":29}},"type":"Literal","value":0,"raw":"0"}},"prefix":true},"right":{"range":[6472,6480],"loc":{"start":{"line":167,"column":35},"end":{"line":167,"column":43}},"type":"Literal","value":"string","raw":"'string'"}},"right":{"range":[6484,6501],"loc":{"start":{"line":167,"column":47},"end":{"line":167,"column":64}},"type":"BinaryExpression","operator":"===","left":{"range":[6484,6495],"loc":{"start":{"line":167,"column":47},"end":{"line":167,"column":58}},"type":"MemberExpression","computed":false,"object":{"range":[6484,6488],"loc":{"start":{"line":167,"column":47},"end":{"line":167,"column":51}},"type":"Identifier","name":"args"},"property":{"range":[6489,6495],"loc":{"start":{"line":167,"column":52},"end":{"line":167,"column":58}},"type":"Identifier","name":"length"}},"right":{"range":[6500,6501],"loc":{"start":{"line":167,"column":63},"end":{"line":167,"column":64}},"type":"Literal","value":1,"raw":"1"}}},"consequent":{"range":[6503,6551],"loc":{"start":{"line":167,"column":66},"end":{"line":169,"column":13}},"type":"BlockStatement","body":[{"range":[6521,6537],"loc":{"start":{"line":168,"column":16},"end":{"line":168,"column":32}},"type":"ExpressionStatement","expression":{"range":[6521,6536],"loc":{"start":{"line":168,"column":16},"end":{"line":168,"column":31}},"type":"CallExpression","callee":{"range":[6521,6530],"loc":{"start":{"line":168,"column":16},"end":{"line":168,"column":25}},"type":"MemberExpression","computed":false,"object":{"range":[6521,6525],"loc":{"start":{"line":168,"column":16},"end":{"line":168,"column":20}},"type":"Identifier","name":"args"},"property":{"range":[6526,6530],"loc":{"start":{"line":168,"column":21},"end":{"line":168,"column":25}},"type":"Identifier","name":"push"}},"arguments":[{"range":[6531,6535],"loc":{"start":{"line":168,"column":26},"end":{"line":168,"column":30}},"type":"Literal","value":null,"raw":"null"}]}}]},"alternate":null,"leadingComments":[{"type":"Line","value":"If first arg is not require('string'), and there is only","range":[6245,6303],"loc":{"start":{"line":164,"column":12},"end":{"line":164,"column":70}}},{"type":"Line","value":"one arg, it is the array form without a callback. Insert","range":[6316,6374],"loc":{"start":{"line":165,"column":12},"end":{"line":165,"column":70}}},{"type":"Line","value":"a null so that the following concat is correct.","range":[6387,6436],"loc":{"start":{"line":166,"column":12},"end":{"line":166,"column":61}}}]},{"range":[6564,6623],"loc":{"start":{"line":170,"column":12},"end":{"line":170,"column":71}},"type":"ReturnStatement","argument":{"range":[6571,6622],"loc":{"start":{"line":170,"column":19},"end":{"line":170,"column":70}},"type":"CallExpression","callee":{"range":[6571,6580],"loc":{"start":{"line":170,"column":19},"end":{"line":170,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[6571,6574],"loc":{"start":{"line":170,"column":19},"end":{"line":170,"column":22}},"type":"Identifier","name":"req"},"property":{"range":[6575,6580],"loc":{"start":{"line":170,"column":23},"end":{"line":170,"column":28}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[6581,6586],"loc":{"start":{"line":170,"column":29},"end":{"line":170,"column":34}},"type":"Identifier","name":"undef"},{"range":[6588,6621],"loc":{"start":{"line":170,"column":36},"end":{"line":170,"column":69}},"type":"CallExpression","callee":{"range":[6588,6599],"loc":{"start":{"line":170,"column":36},"end":{"line":170,"column":47}},"type":"MemberExpression","computed":false,"object":{"range":[6588,6592],"loc":{"start":{"line":170,"column":36},"end":{"line":170,"column":40}},"type":"Identifier","name":"args"},"property":{"range":[6593,6599],"loc":{"start":{"line":170,"column":41},"end":{"line":170,"column":47}},"type":"Identifier","name":"concat"}},"arguments":[{"range":[6600,6620],"loc":{"start":{"line":170,"column":48},"end":{"line":170,"column":68}},"type":"ArrayExpression","elements":[{"range":[6601,6608],"loc":{"start":{"line":170,"column":49},"end":{"line":170,"column":56}},"type":"Identifier","name":"relName"},{"range":[6610,6619],"loc":{"start":{"line":170,"column":58},"end":{"line":170,"column":67}},"type":"Identifier","name":"forceSync"}]}]}]}}]},"generator":false,"expression":false}}]},"generator":false,"expression":false},{"range":[6646,6774],"loc":{"start":{"line":174,"column":4},"end":{"line":178,"column":5}},"type":"FunctionDeclaration","id":{"range":[6655,6668],"loc":{"start":{"line":174,"column":13},"end":{"line":174,"column":26}},"type":"Identifier","name":"makeNormalize"},"params":[{"range":[6669,6676],"loc":{"start":{"line":174,"column":27},"end":{"line":174,"column":34}},"type":"Identifier","name":"relName"}],"defaults":[],"body":{"range":[6678,6774],"loc":{"start":{"line":174,"column":36},"end":{"line":178,"column":5}},"type":"BlockStatement","body":[{"range":[6688,6768],"loc":{"start":{"line":175,"column":8},"end":{"line":177,"column":10}},"type":"ReturnStatement","argument":{"range":[6695,6767],"loc":{"start":{"line":175,"column":15},"end":{"line":177,"column":9}},"type":"FunctionExpression","id":null,"params":[{"range":[6705,6709],"loc":{"start":{"line":175,"column":25},"end":{"line":175,"column":29}},"type":"Identifier","name":"name"}],"defaults":[],"body":{"range":[6711,6767],"loc":{"start":{"line":175,"column":31},"end":{"line":177,"column":9}},"type":"BlockStatement","body":[{"range":[6725,6757],"loc":{"start":{"line":176,"column":12},"end":{"line":176,"column":44}},"type":"ReturnStatement","argument":{"range":[6732,6756],"loc":{"start":{"line":176,"column":19},"end":{"line":176,"column":43}},"type":"CallExpression","callee":{"range":[6732,6741],"loc":{"start":{"line":176,"column":19},"end":{"line":176,"column":28}},"type":"Identifier","name":"normalize"},"arguments":[{"range":[6742,6746],"loc":{"start":{"line":176,"column":29},"end":{"line":176,"column":33}},"type":"Identifier","name":"name"},{"range":[6748,6755],"loc":{"start":{"line":176,"column":35},"end":{"line":176,"column":42}},"type":"Identifier","name":"relName"}]}}]},"generator":false,"expression":false}}]},"generator":false,"expression":false},{"range":[6780,6897],"loc":{"start":{"line":180,"column":4},"end":{"line":184,"column":5}},"type":"FunctionDeclaration","id":{"range":[6789,6797],"loc":{"start":{"line":180,"column":13},"end":{"line":180,"column":21}},"type":"Identifier","name":"makeLoad"},"params":[{"range":[6798,6805],"loc":{"start":{"line":180,"column":22},"end":{"line":180,"column":29}},"type":"Identifier","name":"depName"}],"defaults":[],"body":{"range":[6807,6897],"loc":{"start":{"line":180,"column":31},"end":{"line":184,"column":5}},"type":"BlockStatement","body":[{"range":[6817,6891],"loc":{"start":{"line":181,"column":8},"end":{"line":183,"column":10}},"type":"ReturnStatement","argument":{"range":[6824,6890],"loc":{"start":{"line":181,"column":15},"end":{"line":183,"column":9}},"type":"FunctionExpression","id":null,"params":[{"range":[6834,6839],"loc":{"start":{"line":181,"column":25},"end":{"line":181,"column":30}},"type":"Identifier","name":"value"}],"defaults":[],"body":{"range":[6841,6890],"loc":{"start":{"line":181,"column":32},"end":{"line":183,"column":9}},"type":"BlockStatement","body":[{"range":[6855,6880],"loc":{"start":{"line":182,"column":12},"end":{"line":182,"column":37}},"type":"ExpressionStatement","expression":{"range":[6855,6879],"loc":{"start":{"line":182,"column":12},"end":{"line":182,"column":36}},"type":"AssignmentExpression","operator":"=","left":{"range":[6855,6871],"loc":{"start":{"line":182,"column":12},"end":{"line":182,"column":28}},"type":"MemberExpression","computed":true,"object":{"range":[6855,6862],"loc":{"start":{"line":182,"column":12},"end":{"line":182,"column":19}},"type":"Identifier","name":"defined"},"property":{"range":[6863,6870],"loc":{"start":{"line":182,"column":20},"end":{"line":182,"column":27}},"type":"Identifier","name":"depName"}},"right":{"range":[6874,6879],"loc":{"start":{"line":182,"column":31},"end":{"line":182,"column":36}},"type":"Identifier","name":"value"}}}]},"generator":false,"expression":false}}]},"generator":false,"expression":false},{"range":[6903,7276],"loc":{"start":{"line":186,"column":4},"end":{"line":198,"column":5}},"type":"FunctionDeclaration","id":{"range":[6912,6919],"loc":{"start":{"line":186,"column":13},"end":{"line":186,"column":20}},"type":"Identifier","name":"callDep"},"params":[{"range":[6920,6924],"loc":{"start":{"line":186,"column":21},"end":{"line":186,"column":25}},"type":"Identifier","name":"name"}],"defaults":[],"body":{"range":[6926,7276],"loc":{"start":{"line":186,"column":27},"end":{"line":198,"column":5}},"type":"BlockStatement","body":[{"range":[6936,7119],"loc":{"start":{"line":187,"column":8},"end":{"line":192,"column":9}},"type":"IfStatement","test":{"range":[6940,6962],"loc":{"start":{"line":187,"column":12},"end":{"line":187,"column":34}},"type":"CallExpression","callee":{"range":[6940,6947],"loc":{"start":{"line":187,"column":12},"end":{"line":187,"column":19}},"type":"Identifier","name":"hasProp"},"arguments":[{"range":[6948,6955],"loc":{"start":{"line":187,"column":20},"end":{"line":187,"column":27}},"type":"Identifier","name":"waiting"},{"range":[6957,6961],"loc":{"start":{"line":187,"column":29},"end":{"line":187,"column":33}},"type":"Identifier","name":"name"}]},"consequent":{"range":[6964,7119],"loc":{"start":{"line":187,"column":36},"end":{"line":192,"column":9}},"type":"BlockStatement","body":[{"range":[6978,7003],"loc":{"start":{"line":188,"column":12},"end":{"line":188,"column":37}},"type":"VariableDeclaration","declarations":[{"range":[6982,7002],"loc":{"start":{"line":188,"column":16},"end":{"line":188,"column":36}},"type":"VariableDeclarator","id":{"range":[6982,6986],"loc":{"start":{"line":188,"column":16},"end":{"line":188,"column":20}},"type":"Identifier","name":"args"},"init":{"range":[6989,7002],"loc":{"start":{"line":188,"column":23},"end":{"line":188,"column":36}},"type":"MemberExpression","computed":true,"object":{"range":[6989,6996],"loc":{"start":{"line":188,"column":23},"end":{"line":188,"column":30}},"type":"Identifier","name":"waiting"},"property":{"range":[6997,7001],"loc":{"start":{"line":188,"column":31},"end":{"line":188,"column":35}},"type":"Identifier","name":"name"}}}],"kind":"var"},{"range":[7016,7037],"loc":{"start":{"line":189,"column":12},"end":{"line":189,"column":33}},"type":"ExpressionStatement","expression":{"range":[7016,7036],"loc":{"start":{"line":189,"column":12},"end":{"line":189,"column":32}},"type":"UnaryExpression","operator":"delete","argument":{"range":[7023,7036],"loc":{"start":{"line":189,"column":19},"end":{"line":189,"column":32}},"type":"MemberExpression","computed":true,"object":{"range":[7023,7030],"loc":{"start":{"line":189,"column":19},"end":{"line":189,"column":26}},"type":"Identifier","name":"waiting"},"property":{"range":[7031,7035],"loc":{"start":{"line":189,"column":27},"end":{"line":189,"column":31}},"type":"Identifier","name":"name"}},"prefix":true}},{"range":[7050,7072],"loc":{"start":{"line":190,"column":12},"end":{"line":190,"column":34}},"type":"ExpressionStatement","expression":{"range":[7050,7071],"loc":{"start":{"line":190,"column":12},"end":{"line":190,"column":33}},"type":"AssignmentExpression","operator":"=","left":{"range":[7050,7064],"loc":{"start":{"line":190,"column":12},"end":{"line":190,"column":26}},"type":"MemberExpression","computed":true,"object":{"range":[7050,7058],"loc":{"start":{"line":190,"column":12},"end":{"line":190,"column":20}},"type":"Identifier","name":"defining"},"property":{"range":[7059,7063],"loc":{"start":{"line":190,"column":21},"end":{"line":190,"column":25}},"type":"Identifier","name":"name"}},"right":{"range":[7067,7071],"loc":{"start":{"line":190,"column":29},"end":{"line":190,"column":33}},"type":"Literal","value":true,"raw":"true"}}},{"range":[7085,7109],"loc":{"start":{"line":191,"column":12},"end":{"line":191,"column":36}},"type":"ExpressionStatement","expression":{"range":[7085,7108],"loc":{"start":{"line":191,"column":12},"end":{"line":191,"column":35}},"type":"CallExpression","callee":{"range":[7085,7095],"loc":{"start":{"line":191,"column":12},"end":{"line":191,"column":22}},"type":"MemberExpression","computed":false,"object":{"range":[7085,7089],"loc":{"start":{"line":191,"column":12},"end":{"line":191,"column":16}},"type":"Identifier","name":"main"},"property":{"range":[7090,7095],"loc":{"start":{"line":191,"column":17},"end":{"line":191,"column":22}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[7096,7101],"loc":{"start":{"line":191,"column":23},"end":{"line":191,"column":28}},"type":"Identifier","name":"undef"},{"range":[7103,7107],"loc":{"start":{"line":191,"column":30},"end":{"line":191,"column":34}},"type":"Identifier","name":"args"}]}}]},"alternate":null},{"range":[7129,7240],"loc":{"start":{"line":194,"column":8},"end":{"line":196,"column":9}},"type":"IfStatement","test":{"range":[7133,7184],"loc":{"start":{"line":194,"column":12},"end":{"line":194,"column":63}},"type":"LogicalExpression","operator":"&&","left":{"range":[7133,7156],"loc":{"start":{"line":194,"column":12},"end":{"line":194,"column":35}},"type":"UnaryExpression","operator":"!","argument":{"range":[7134,7156],"loc":{"start":{"line":194,"column":13},"end":{"line":194,"column":35}},"type":"CallExpression","callee":{"range":[7134,7141],"loc":{"start":{"line":194,"column":13},"end":{"line":194,"column":20}},"type":"Identifier","name":"hasProp"},"arguments":[{"range":[7142,7149],"loc":{"start":{"line":194,"column":21},"end":{"line":194,"column":28}},"type":"Identifier","name":"defined"},{"range":[7151,7155],"loc":{"start":{"line":194,"column":30},"end":{"line":194,"column":34}},"type":"Identifier","name":"name"}]},"prefix":true},"right":{"range":[7160,7184],"loc":{"start":{"line":194,"column":39},"end":{"line":194,"column":63}},"type":"UnaryExpression","operator":"!","argument":{"range":[7161,7184],"loc":{"start":{"line":194,"column":40},"end":{"line":194,"column":63}},"type":"CallExpression","callee":{"range":[7161,7168],"loc":{"start":{"line":194,"column":40},"end":{"line":194,"column":47}},"type":"Identifier","name":"hasProp"},"arguments":[{"range":[7169,7177],"loc":{"start":{"line":194,"column":48},"end":{"line":194,"column":56}},"type":"Identifier","name":"defining"},{"range":[7179,7183],"loc":{"start":{"line":194,"column":58},"end":{"line":194,"column":62}},"type":"Identifier","name":"name"}]},"prefix":true}},"consequent":{"range":[7186,7240],"loc":{"start":{"line":194,"column":65},"end":{"line":196,"column":9}},"type":"BlockStatement","body":[{"range":[7200,7230],"loc":{"start":{"line":195,"column":12},"end":{"line":195,"column":42}},"type":"ThrowStatement","argument":{"range":[7206,7229],"loc":{"start":{"line":195,"column":18},"end":{"line":195,"column":41}},"type":"NewExpression","callee":{"range":[7210,7215],"loc":{"start":{"line":195,"column":22},"end":{"line":195,"column":27}},"type":"Identifier","name":"Error"},"arguments":[{"range":[7216,7228],"loc":{"start":{"line":195,"column":28},"end":{"line":195,"column":40}},"type":"BinaryExpression","operator":"+","left":{"range":[7216,7221],"loc":{"start":{"line":195,"column":28},"end":{"line":195,"column":33}},"type":"Literal","value":"No ","raw":"'No '"},"right":{"range":[7224,7228],"loc":{"start":{"line":195,"column":36},"end":{"line":195,"column":40}},"type":"Identifier","name":"name"}}]}}]},"alternate":null},{"range":[7249,7270],"loc":{"start":{"line":197,"column":8},"end":{"line":197,"column":29}},"type":"ReturnStatement","argument":{"range":[7256,7269],"loc":{"start":{"line":197,"column":15},"end":{"line":197,"column":28}},"type":"MemberExpression","computed":true,"object":{"range":[7256,7263],"loc":{"start":{"line":197,"column":15},"end":{"line":197,"column":22}},"type":"Identifier","name":"defined"},"property":{"range":[7264,7268],"loc":{"start":{"line":197,"column":23},"end":{"line":197,"column":27}},"type":"Identifier","name":"name"}}}]},"generator":false,"expression":false,"trailingComments":[{"type":"Line","value":"Turns a plugin!resource to [plugin, resource]","range":[7282,7329],"loc":{"start":{"line":200,"column":4},"end":{"line":200,"column":51}}},{"type":"Line","value":"with the plugin being undefined if the name","range":[7334,7379],"loc":{"start":{"line":201,"column":4},"end":{"line":201,"column":49}}},{"type":"Line","value":"did not have a plugin prefix.","range":[7384,7415],"loc":{"start":{"line":202,"column":4},"end":{"line":202,"column":35}}}]},{"range":[7420,7698],"loc":{"start":{"line":203,"column":4},"end":{"line":211,"column":5}},"type":"FunctionDeclaration","id":{"range":[7429,7440],"loc":{"start":{"line":203,"column":13},"end":{"line":203,"column":24}},"type":"Identifier","name":"splitPrefix"},"params":[{"range":[7441,7445],"loc":{"start":{"line":203,"column":25},"end":{"line":203,"column":29}},"type":"Identifier","name":"name"}],"defaults":[],"body":{"range":[7447,7698],"loc":{"start":{"line":203,"column":31},"end":{"line":211,"column":5}},"type":"BlockStatement","body":[{"range":[7457,7519],"loc":{"start":{"line":204,"column":8},"end":{"line":205,"column":50}},"type":"VariableDeclaration","declarations":[{"range":[7461,7467],"loc":{"start":{"line":204,"column":12},"end":{"line":204,"column":18}},"type":"VariableDeclarator","id":{"range":[7461,7467],"loc":{"start":{"line":204,"column":12},"end":{"line":204,"column":18}},"type":"Identifier","name":"prefix"},"init":null},{"range":[7481,7518],"loc":{"start":{"line":205,"column":12},"end":{"line":205,"column":49}},"type":"VariableDeclarator","id":{"range":[7481,7486],"loc":{"start":{"line":205,"column":12},"end":{"line":205,"column":17}},"type":"Identifier","name":"index"},"init":{"range":[7489,7518],"loc":{"start":{"line":205,"column":20},"end":{"line":205,"column":49}},"type":"ConditionalExpression","test":{"range":[7489,7493],"loc":{"start":{"line":205,"column":20},"end":{"line":205,"column":24}},"type":"Identifier","name":"name"},"consequent":{"range":[7496,7513],"loc":{"start":{"line":205,"column":27},"end":{"line":205,"column":44}},"type":"CallExpression","callee":{"range":[7496,7508],"loc":{"start":{"line":205,"column":27},"end":{"line":205,"column":39}},"type":"MemberExpression","computed":false,"object":{"range":[7496,7500],"loc":{"start":{"line":205,"column":27},"end":{"line":205,"column":31}},"type":"Identifier","name":"name"},"property":{"range":[7501,7508],"loc":{"start":{"line":205,"column":32},"end":{"line":205,"column":39}},"type":"Identifier","name":"indexOf"}},"arguments":[{"range":[7509,7512],"loc":{"start":{"line":205,"column":40},"end":{"line":205,"column":43}},"type":"Literal","value":"!","raw":"'!'"}]},"alternate":{"range":[7516,7518],"loc":{"start":{"line":205,"column":47},"end":{"line":205,"column":49}},"type":"UnaryExpression","operator":"-","argument":{"range":[7517,7518],"loc":{"start":{"line":205,"column":48},"end":{"line":205,"column":49}},"type":"Literal","value":1,"raw":"1"},"prefix":true}}}],"kind":"var"},{"range":[7528,7661],"loc":{"start":{"line":206,"column":8},"end":{"line":209,"column":9}},"type":"IfStatement","test":{"range":[7532,7542],"loc":{"start":{"line":206,"column":12},"end":{"line":206,"column":22}},"type":"BinaryExpression","operator":">","left":{"range":[7532,7537],"loc":{"start":{"line":206,"column":12},"end":{"line":206,"column":17}},"type":"Identifier","name":"index"},"right":{"range":[7540,7542],"loc":{"start":{"line":206,"column":20},"end":{"line":206,"column":22}},"type":"UnaryExpression","operator":"-","argument":{"range":[7541,7542],"loc":{"start":{"line":206,"column":21},"end":{"line":206,"column":22}},"type":"Literal","value":1,"raw":"1"},"prefix":true}},"consequent":{"range":[7544,7661],"loc":{"start":{"line":206,"column":24},"end":{"line":209,"column":9}},"type":"BlockStatement","body":[{"range":[7558,7592],"loc":{"start":{"line":207,"column":12},"end":{"line":207,"column":46}},"type":"ExpressionStatement","expression":{"range":[7558,7591],"loc":{"start":{"line":207,"column":12},"end":{"line":207,"column":45}},"type":"AssignmentExpression","operator":"=","left":{"range":[7558,7564],"loc":{"start":{"line":207,"column":12},"end":{"line":207,"column":18}},"type":"Identifier","name":"prefix"},"right":{"range":[7567,7591],"loc":{"start":{"line":207,"column":21},"end":{"line":207,"column":45}},"type":"CallExpression","callee":{"range":[7567,7581],"loc":{"start":{"line":207,"column":21},"end":{"line":207,"column":35}},"type":"MemberExpression","computed":false,"object":{"range":[7567,7571],"loc":{"start":{"line":207,"column":21},"end":{"line":207,"column":25}},"type":"Identifier","name":"name"},"property":{"range":[7572,7581],"loc":{"start":{"line":207,"column":26},"end":{"line":207,"column":35}},"type":"Identifier","name":"substring"}},"arguments":[{"range":[7582,7583],"loc":{"start":{"line":207,"column":36},"end":{"line":207,"column":37}},"type":"Literal","value":0,"raw":"0"},{"range":[7585,7590],"loc":{"start":{"line":207,"column":39},"end":{"line":207,"column":44}},"type":"Identifier","name":"index"}]}}},{"range":[7605,7651],"loc":{"start":{"line":208,"column":12},"end":{"line":208,"column":58}},"type":"ExpressionStatement","expression":{"range":[7605,7650],"loc":{"start":{"line":208,"column":12},"end":{"line":208,"column":57}},"type":"AssignmentExpression","operator":"=","left":{"range":[7605,7609],"loc":{"start":{"line":208,"column":12},"end":{"line":208,"column":16}},"type":"Identifier","name":"name"},"right":{"range":[7612,7650],"loc":{"start":{"line":208,"column":19},"end":{"line":208,"column":57}},"type":"CallExpression","callee":{"range":[7612,7626],"loc":{"start":{"line":208,"column":19},"end":{"line":208,"column":33}},"type":"MemberExpression","computed":false,"object":{"range":[7612,7616],"loc":{"start":{"line":208,"column":19},"end":{"line":208,"column":23}},"type":"Identifier","name":"name"},"property":{"range":[7617,7626],"loc":{"start":{"line":208,"column":24},"end":{"line":208,"column":33}},"type":"Identifier","name":"substring"}},"arguments":[{"range":[7627,7636],"loc":{"start":{"line":208,"column":34},"end":{"line":208,"column":43}},"type":"BinaryExpression","operator":"+","left":{"range":[7627,7632],"loc":{"start":{"line":208,"column":34},"end":{"line":208,"column":39}},"type":"Identifier","name":"index"},"right":{"range":[7635,7636],"loc":{"start":{"line":208,"column":42},"end":{"line":208,"column":43}},"type":"Literal","value":1,"raw":"1"}},{"range":[7638,7649],"loc":{"start":{"line":208,"column":45},"end":{"line":208,"column":56}},"type":"MemberExpression","computed":false,"object":{"range":[7638,7642],"loc":{"start":{"line":208,"column":45},"end":{"line":208,"column":49}},"type":"Identifier","name":"name"},"property":{"range":[7643,7649],"loc":{"start":{"line":208,"column":50},"end":{"line":208,"column":56}},"type":"Identifier","name":"length"}}]}}}]},"alternate":null},{"range":[7670,7692],"loc":{"start":{"line":210,"column":8},"end":{"line":210,"column":30}},"type":"ReturnStatement","argument":{"range":[7677,7691],"loc":{"start":{"line":210,"column":15},"end":{"line":210,"column":29}},"type":"ArrayExpression","elements":[{"range":[7678,7684],"loc":{"start":{"line":210,"column":16},"end":{"line":210,"column":22}},"type":"Identifier","name":"prefix"},{"range":[7686,7690],"loc":{"start":{"line":210,"column":24},"end":{"line":210,"column":28}},"type":"Identifier","name":"name"}]}}]},"generator":false,"expression":false,"leadingComments":[{"type":"Line","value":"Turns a plugin!resource to [plugin, resource]","range":[7282,7329],"loc":{"start":{"line":200,"column":4},"end":{"line":200,"column":51}}},{"type":"Line","value":"with the plugin being undefined if the name","range":[7334,7379],"loc":{"start":{"line":201,"column":4},"end":{"line":201,"column":49}}},{"type":"Line","value":"did not have a plugin prefix.","range":[7384,7415],"loc":{"start":{"line":202,"column":4},"end":{"line":202,"column":35}}}],"trailingComments":[{"type":"Block","value":"*\n     * Makes a name map, normalizing the name, and using a plugin\n     * for normalization if necessary. Grabs a ref to plugin\n     * too, as an optimization.\n     ","range":[7704,7874],"loc":{"start":{"line":213,"column":4},"end":{"line":217,"column":7}}}]},{"range":[7879,8884],"loc":{"start":{"line":218,"column":4},"end":{"line":254,"column":6}},"type":"ExpressionStatement","expression":{"range":[7879,8883],"loc":{"start":{"line":218,"column":4},"end":{"line":254,"column":5}},"type":"AssignmentExpression","operator":"=","left":{"range":[7879,7886],"loc":{"start":{"line":218,"column":4},"end":{"line":218,"column":11}},"type":"Identifier","name":"makeMap"},"right":{"range":[7889,8883],"loc":{"start":{"line":218,"column":14},"end":{"line":254,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[7899,7903],"loc":{"start":{"line":218,"column":24},"end":{"line":218,"column":28}},"type":"Identifier","name":"name"},{"range":[7905,7912],"loc":{"start":{"line":218,"column":30},"end":{"line":218,"column":37}},"type":"Identifier","name":"relName"}],"defaults":[],"body":{"range":[7914,8883],"loc":{"start":{"line":218,"column":39},"end":{"line":254,"column":5}},"type":"BlockStatement","body":[{"range":[7924,8005],"loc":{"start":{"line":219,"column":8},"end":{"line":221,"column":30}},"type":"VariableDeclaration","declarations":[{"range":[7928,7934],"loc":{"start":{"line":219,"column":12},"end":{"line":219,"column":18}},"type":"VariableDeclarator","id":{"range":[7928,7934],"loc":{"start":{"line":219,"column":12},"end":{"line":219,"column":18}},"type":"Identifier","name":"plugin"},"init":null},{"range":[7948,7973],"loc":{"start":{"line":220,"column":12},"end":{"line":220,"column":37}},"type":"VariableDeclarator","id":{"range":[7948,7953],"loc":{"start":{"line":220,"column":12},"end":{"line":220,"column":17}},"type":"Identifier","name":"parts"},"init":{"range":[7956,7973],"loc":{"start":{"line":220,"column":20},"end":{"line":220,"column":37}},"type":"CallExpression","callee":{"range":[7956,7967],"loc":{"start":{"line":220,"column":20},"end":{"line":220,"column":31}},"type":"Identifier","name":"splitPrefix"},"arguments":[{"range":[7968,7972],"loc":{"start":{"line":220,"column":32},"end":{"line":220,"column":36}},"type":"Identifier","name":"name"}]}},{"range":[7987,8004],"loc":{"start":{"line":221,"column":12},"end":{"line":221,"column":29}},"type":"VariableDeclarator","id":{"range":[7987,7993],"loc":{"start":{"line":221,"column":12},"end":{"line":221,"column":18}},"type":"Identifier","name":"prefix"},"init":{"range":[7996,8004],"loc":{"start":{"line":221,"column":21},"end":{"line":221,"column":29}},"type":"MemberExpression","computed":true,"object":{"range":[7996,8001],"loc":{"start":{"line":221,"column":21},"end":{"line":221,"column":26}},"type":"Identifier","name":"parts"},"property":{"range":[8002,8003],"loc":{"start":{"line":221,"column":27},"end":{"line":221,"column":28}},"type":"Literal","value":0,"raw":"0"}}}],"kind":"var"},{"range":[8015,8031],"loc":{"start":{"line":223,"column":8},"end":{"line":223,"column":24}},"type":"ExpressionStatement","expression":{"range":[8015,8030],"loc":{"start":{"line":223,"column":8},"end":{"line":223,"column":23}},"type":"AssignmentExpression","operator":"=","left":{"range":[8015,8019],"loc":{"start":{"line":223,"column":8},"end":{"line":223,"column":12}},"type":"Identifier","name":"name"},"right":{"range":[8022,8030],"loc":{"start":{"line":223,"column":15},"end":{"line":223,"column":23}},"type":"MemberExpression","computed":true,"object":{"range":[8022,8027],"loc":{"start":{"line":223,"column":15},"end":{"line":223,"column":20}},"type":"Identifier","name":"parts"},"property":{"range":[8028,8029],"loc":{"start":{"line":223,"column":21},"end":{"line":223,"column":22}},"type":"Literal","value":1,"raw":"1"}}}},{"range":[8041,8151],"loc":{"start":{"line":225,"column":8},"end":{"line":228,"column":9}},"type":"IfStatement","test":{"range":[8045,8051],"loc":{"start":{"line":225,"column":12},"end":{"line":225,"column":18}},"type":"Identifier","name":"prefix"},"consequent":{"range":[8053,8151],"loc":{"start":{"line":225,"column":20},"end":{"line":228,"column":9}},"type":"BlockStatement","body":[{"range":[8067,8103],"loc":{"start":{"line":226,"column":12},"end":{"line":226,"column":48}},"type":"ExpressionStatement","expression":{"range":[8067,8102],"loc":{"start":{"line":226,"column":12},"end":{"line":226,"column":47}},"type":"AssignmentExpression","operator":"=","left":{"range":[8067,8073],"loc":{"start":{"line":226,"column":12},"end":{"line":226,"column":18}},"type":"Identifier","name":"prefix"},"right":{"range":[8076,8102],"loc":{"start":{"line":226,"column":21},"end":{"line":226,"column":47}},"type":"CallExpression","callee":{"range":[8076,8085],"loc":{"start":{"line":226,"column":21},"end":{"line":226,"column":30}},"type":"Identifier","name":"normalize"},"arguments":[{"range":[8086,8092],"loc":{"start":{"line":226,"column":31},"end":{"line":226,"column":37}},"type":"Identifier","name":"prefix"},{"range":[8094,8101],"loc":{"start":{"line":226,"column":39},"end":{"line":226,"column":46}},"type":"Identifier","name":"relName"}]}}},{"range":[8116,8141],"loc":{"start":{"line":227,"column":12},"end":{"line":227,"column":37}},"type":"ExpressionStatement","expression":{"range":[8116,8140],"loc":{"start":{"line":227,"column":12},"end":{"line":227,"column":36}},"type":"AssignmentExpression","operator":"=","left":{"range":[8116,8122],"loc":{"start":{"line":227,"column":12},"end":{"line":227,"column":18}},"type":"Identifier","name":"plugin"},"right":{"range":[8125,8140],"loc":{"start":{"line":227,"column":21},"end":{"line":227,"column":36}},"type":"CallExpression","callee":{"range":[8125,8132],"loc":{"start":{"line":227,"column":21},"end":{"line":227,"column":28}},"type":"Identifier","name":"callDep"},"arguments":[{"range":[8133,8139],"loc":{"start":{"line":227,"column":29},"end":{"line":227,"column":35}},"type":"Identifier","name":"prefix"}]}}}]},"alternate":null,"trailingComments":[{"type":"Line","value":"Normalize according","range":[8161,8182],"loc":{"start":{"line":230,"column":8},"end":{"line":230,"column":29}}}]},{"range":[8191,8658],"loc":{"start":{"line":231,"column":8},"end":{"line":245,"column":9}},"type":"IfStatement","test":{"range":[8195,8201],"loc":{"start":{"line":231,"column":12},"end":{"line":231,"column":18}},"type":"Identifier","name":"prefix"},"consequent":{"range":[8203,8415],"loc":{"start":{"line":231,"column":20},"end":{"line":237,"column":9}},"type":"BlockStatement","body":[{"range":[8217,8405],"loc":{"start":{"line":232,"column":12},"end":{"line":236,"column":13}},"type":"IfStatement","test":{"range":[8221,8247],"loc":{"start":{"line":232,"column":16},"end":{"line":232,"column":42}},"type":"LogicalExpression","operator":"&&","left":{"range":[8221,8227],"loc":{"start":{"line":232,"column":16},"end":{"line":232,"column":22}},"type":"Identifier","name":"plugin"},"right":{"range":[8231,8247],"loc":{"start":{"line":232,"column":26},"end":{"line":232,"column":42}},"type":"MemberExpression","computed":false,"object":{"range":[8231,8237],"loc":{"start":{"line":232,"column":26},"end":{"line":232,"column":32}},"type":"Identifier","name":"plugin"},"property":{"range":[8238,8247],"loc":{"start":{"line":232,"column":33},"end":{"line":232,"column":42}},"type":"Identifier","name":"normalize"}}},"consequent":{"range":[8249,8335],"loc":{"start":{"line":232,"column":44},"end":{"line":234,"column":13}},"type":"BlockStatement","body":[{"range":[8267,8321],"loc":{"start":{"line":233,"column":16},"end":{"line":233,"column":70}},"type":"ExpressionStatement","expression":{"range":[8267,8320],"loc":{"start":{"line":233,"column":16},"end":{"line":233,"column":69}},"type":"AssignmentExpression","operator":"=","left":{"range":[8267,8271],"loc":{"start":{"line":233,"column":16},"end":{"line":233,"column":20}},"type":"Identifier","name":"name"},"right":{"range":[8274,8320],"loc":{"start":{"line":233,"column":23},"end":{"line":233,"column":69}},"type":"CallExpression","callee":{"range":[8274,8290],"loc":{"start":{"line":233,"column":23},"end":{"line":233,"column":39}},"type":"MemberExpression","computed":false,"object":{"range":[8274,8280],"loc":{"start":{"line":233,"column":23},"end":{"line":233,"column":29}},"type":"Identifier","name":"plugin"},"property":{"range":[8281,8290],"loc":{"start":{"line":233,"column":30},"end":{"line":233,"column":39}},"type":"Identifier","name":"normalize"}},"arguments":[{"range":[8291,8295],"loc":{"start":{"line":233,"column":40},"end":{"line":233,"column":44}},"type":"Identifier","name":"name"},{"range":[8297,8319],"loc":{"start":{"line":233,"column":46},"end":{"line":233,"column":68}},"type":"CallExpression","callee":{"range":[8297,8310],"loc":{"start":{"line":233,"column":46},"end":{"line":233,"column":59}},"type":"Identifier","name":"makeNormalize"},"arguments":[{"range":[8311,8318],"loc":{"start":{"line":233,"column":60},"end":{"line":233,"column":67}},"type":"Identifier","name":"relName"}]}]}}}]},"alternate":{"range":[8341,8405],"loc":{"start":{"line":234,"column":19},"end":{"line":236,"column":13}},"type":"BlockStatement","body":[{"range":[8359,8391],"loc":{"start":{"line":235,"column":16},"end":{"line":235,"column":48}},"type":"ExpressionStatement","expression":{"range":[8359,8390],"loc":{"start":{"line":235,"column":16},"end":{"line":235,"column":47}},"type":"AssignmentExpression","operator":"=","left":{"range":[8359,8363],"loc":{"start":{"line":235,"column":16},"end":{"line":235,"column":20}},"type":"Identifier","name":"name"},"right":{"range":[8366,8390],"loc":{"start":{"line":235,"column":23},"end":{"line":235,"column":47}},"type":"CallExpression","callee":{"range":[8366,8375],"loc":{"start":{"line":235,"column":23},"end":{"line":235,"column":32}},"type":"Identifier","name":"normalize"},"arguments":[{"range":[8376,8380],"loc":{"start":{"line":235,"column":33},"end":{"line":235,"column":37}},"type":"Identifier","name":"name"},{"range":[8382,8389],"loc":{"start":{"line":235,"column":39},"end":{"line":235,"column":46}},"type":"Identifier","name":"relName"}]}}}]}}]},"alternate":{"range":[8421,8658],"loc":{"start":{"line":237,"column":15},"end":{"line":245,"column":9}},"type":"BlockStatement","body":[{"range":[8435,8467],"loc":{"start":{"line":238,"column":12},"end":{"line":238,"column":44}},"type":"ExpressionStatement","expression":{"range":[8435,8466],"loc":{"start":{"line":238,"column":12},"end":{"line":238,"column":43}},"type":"AssignmentExpression","operator":"=","left":{"range":[8435,8439],"loc":{"start":{"line":238,"column":12},"end":{"line":238,"column":16}},"type":"Identifier","name":"name"},"right":{"range":[8442,8466],"loc":{"start":{"line":238,"column":19},"end":{"line":238,"column":43}},"type":"CallExpression","callee":{"range":[8442,8451],"loc":{"start":{"line":238,"column":19},"end":{"line":238,"column":28}},"type":"Identifier","name":"normalize"},"arguments":[{"range":[8452,8456],"loc":{"start":{"line":238,"column":29},"end":{"line":238,"column":33}},"type":"Identifier","name":"name"},{"range":[8458,8465],"loc":{"start":{"line":238,"column":35},"end":{"line":238,"column":42}},"type":"Identifier","name":"relName"}]}}},{"range":[8480,8506],"loc":{"start":{"line":239,"column":12},"end":{"line":239,"column":38}},"type":"ExpressionStatement","expression":{"range":[8480,8505],"loc":{"start":{"line":239,"column":12},"end":{"line":239,"column":37}},"type":"AssignmentExpression","operator":"=","left":{"range":[8480,8485],"loc":{"start":{"line":239,"column":12},"end":{"line":239,"column":17}},"type":"Identifier","name":"parts"},"right":{"range":[8488,8505],"loc":{"start":{"line":239,"column":20},"end":{"line":239,"column":37}},"type":"CallExpression","callee":{"range":[8488,8499],"loc":{"start":{"line":239,"column":20},"end":{"line":239,"column":31}},"type":"Identifier","name":"splitPrefix"},"arguments":[{"range":[8500,8504],"loc":{"start":{"line":239,"column":32},"end":{"line":239,"column":36}},"type":"Identifier","name":"name"}]}}},{"range":[8519,8537],"loc":{"start":{"line":240,"column":12},"end":{"line":240,"column":30}},"type":"ExpressionStatement","expression":{"range":[8519,8536],"loc":{"start":{"line":240,"column":12},"end":{"line":240,"column":29}},"type":"AssignmentExpression","operator":"=","left":{"range":[8519,8525],"loc":{"start":{"line":240,"column":12},"end":{"line":240,"column":18}},"type":"Identifier","name":"prefix"},"right":{"range":[8528,8536],"loc":{"start":{"line":240,"column":21},"end":{"line":240,"column":29}},"type":"MemberExpression","computed":true,"object":{"range":[8528,8533],"loc":{"start":{"line":240,"column":21},"end":{"line":240,"column":26}},"type":"Identifier","name":"parts"},"property":{"range":[8534,8535],"loc":{"start":{"line":240,"column":27},"end":{"line":240,"column":28}},"type":"Literal","value":0,"raw":"0"}}}},{"range":[8550,8566],"loc":{"start":{"line":241,"column":12},"end":{"line":241,"column":28}},"type":"ExpressionStatement","expression":{"range":[8550,8565],"loc":{"start":{"line":241,"column":12},"end":{"line":241,"column":27}},"type":"AssignmentExpression","operator":"=","left":{"range":[8550,8554],"loc":{"start":{"line":241,"column":12},"end":{"line":241,"column":16}},"type":"Identifier","name":"name"},"right":{"range":[8557,8565],"loc":{"start":{"line":241,"column":19},"end":{"line":241,"column":27}},"type":"MemberExpression","computed":true,"object":{"range":[8557,8562],"loc":{"start":{"line":241,"column":19},"end":{"line":241,"column":24}},"type":"Identifier","name":"parts"},"property":{"range":[8563,8564],"loc":{"start":{"line":241,"column":25},"end":{"line":241,"column":26}},"type":"Literal","value":1,"raw":"1"}}}},{"range":[8579,8648],"loc":{"start":{"line":242,"column":12},"end":{"line":244,"column":13}},"type":"IfStatement","test":{"range":[8583,8589],"loc":{"start":{"line":242,"column":16},"end":{"line":242,"column":22}},"type":"Identifier","name":"prefix"},"consequent":{"range":[8591,8648],"loc":{"start":{"line":242,"column":24},"end":{"line":244,"column":13}},"type":"BlockStatement","body":[{"range":[8609,8634],"loc":{"start":{"line":243,"column":16},"end":{"line":243,"column":41}},"type":"ExpressionStatement","expression":{"range":[8609,8633],"loc":{"start":{"line":243,"column":16},"end":{"line":243,"column":40}},"type":"AssignmentExpression","operator":"=","left":{"range":[8609,8615],"loc":{"start":{"line":243,"column":16},"end":{"line":243,"column":22}},"type":"Identifier","name":"plugin"},"right":{"range":[8618,8633],"loc":{"start":{"line":243,"column":25},"end":{"line":243,"column":40}},"type":"CallExpression","callee":{"range":[8618,8625],"loc":{"start":{"line":243,"column":25},"end":{"line":243,"column":32}},"type":"Identifier","name":"callDep"},"arguments":[{"range":[8626,8632],"loc":{"start":{"line":243,"column":33},"end":{"line":243,"column":39}},"type":"Identifier","name":"prefix"}]}}}]},"alternate":null}]},"leadingComments":[{"type":"Line","value":"Normalize according","range":[8161,8182],"loc":{"start":{"line":230,"column":8},"end":{"line":230,"column":29}}}],"trailingComments":[{"type":"Line","value":"Using ridiculous property names for space reasons","range":[8668,8719],"loc":{"start":{"line":247,"column":8},"end":{"line":247,"column":59}}}]},{"range":[8728,8877],"loc":{"start":{"line":248,"column":8},"end":{"line":253,"column":10}},"type":"ReturnStatement","argument":{"range":[8735,8876],"loc":{"start":{"line":248,"column":15},"end":{"line":253,"column":9}},"type":"ObjectExpression","properties":[{"range":[8749,8787],"loc":{"start":{"line":249,"column":12},"end":{"line":249,"column":50}},"type":"Property","key":{"range":[8749,8750],"loc":{"start":{"line":249,"column":12},"end":{"line":249,"column":13}},"type":"Identifier","name":"f"},"computed":false,"value":{"range":[8752,8787],"loc":{"start":{"line":249,"column":15},"end":{"line":249,"column":50}},"type":"ConditionalExpression","test":{"range":[8752,8758],"loc":{"start":{"line":249,"column":15},"end":{"line":249,"column":21}},"type":"Identifier","name":"prefix"},"consequent":{"range":[8761,8780],"loc":{"start":{"line":249,"column":24},"end":{"line":249,"column":43}},"type":"BinaryExpression","operator":"+","left":{"range":[8761,8773],"loc":{"start":{"line":249,"column":24},"end":{"line":249,"column":36}},"type":"BinaryExpression","operator":"+","left":{"range":[8761,8767],"loc":{"start":{"line":249,"column":24},"end":{"line":249,"column":30}},"type":"Identifier","name":"prefix"},"right":{"range":[8770,8773],"loc":{"start":{"line":249,"column":33},"end":{"line":249,"column":36}},"type":"Literal","value":"!","raw":"'!'"}},"right":{"range":[8776,8780],"loc":{"start":{"line":249,"column":39},"end":{"line":249,"column":43}},"type":"Identifier","name":"name"}},"alternate":{"range":[8783,8787],"loc":{"start":{"line":249,"column":46},"end":{"line":249,"column":50}},"type":"Identifier","name":"name"}},"kind":"init","method":false,"shorthand":false},{"range":[8812,8819],"loc":{"start":{"line":250,"column":12},"end":{"line":250,"column":19}},"type":"Property","key":{"range":[8812,8813],"loc":{"start":{"line":250,"column":12},"end":{"line":250,"column":13}},"type":"Identifier","name":"n"},"computed":false,"value":{"range":[8815,8819],"loc":{"start":{"line":250,"column":15},"end":{"line":250,"column":19}},"type":"Identifier","name":"name"},"kind":"init","method":false,"shorthand":false,"leadingComments":[{"type":"Line","value":"fullName","range":[8789,8799],"loc":{"start":{"line":249,"column":52},"end":{"line":249,"column":62}}}]},{"range":[8833,8843],"loc":{"start":{"line":251,"column":12},"end":{"line":251,"column":22}},"type":"Property","key":{"range":[8833,8835],"loc":{"start":{"line":251,"column":12},"end":{"line":251,"column":14}},"type":"Identifier","name":"pr"},"computed":false,"value":{"range":[8837,8843],"loc":{"start":{"line":251,"column":16},"end":{"line":251,"column":22}},"type":"Identifier","name":"prefix"},"kind":"init","method":false,"shorthand":false},{"range":[8857,8866],"loc":{"start":{"line":252,"column":12},"end":{"line":252,"column":21}},"type":"Property","key":{"range":[8857,8858],"loc":{"start":{"line":252,"column":12},"end":{"line":252,"column":13}},"type":"Identifier","name":"p"},"computed":false,"value":{"range":[8860,8866],"loc":{"start":{"line":252,"column":15},"end":{"line":252,"column":21}},"type":"Identifier","name":"plugin"},"kind":"init","method":false,"shorthand":false}]},"leadingComments":[{"type":"Line","value":"Using ridiculous property names for space reasons","range":[8668,8719],"loc":{"start":{"line":247,"column":8},"end":{"line":247,"column":59}}}]}]},"generator":false,"expression":false}},"leadingComments":[{"type":"Block","value":"*\n     * Makes a name map, normalizing the name, and using a plugin\n     * for normalization if necessary. Grabs a ref to plugin\n     * too, as an optimization.\n     ","range":[7704,7874],"loc":{"start":{"line":213,"column":4},"end":{"line":217,"column":7}}}]},{"range":[8890,9038],"loc":{"start":{"line":256,"column":4},"end":{"line":260,"column":5}},"type":"FunctionDeclaration","id":{"range":[8899,8909],"loc":{"start":{"line":256,"column":13},"end":{"line":256,"column":23}},"type":"Identifier","name":"makeConfig"},"params":[{"range":[8910,8914],"loc":{"start":{"line":256,"column":24},"end":{"line":256,"column":28}},"type":"Identifier","name":"name"}],"defaults":[],"body":{"range":[8916,9038],"loc":{"start":{"line":256,"column":30},"end":{"line":260,"column":5}},"type":"BlockStatement","body":[{"range":[8926,9032],"loc":{"start":{"line":257,"column":8},"end":{"line":259,"column":10}},"type":"ReturnStatement","argument":{"range":[8933,9031],"loc":{"start":{"line":257,"column":15},"end":{"line":259,"column":9}},"type":"FunctionExpression","id":null,"params":[],"defaults":[],"body":{"range":[8945,9031],"loc":{"start":{"line":257,"column":27},"end":{"line":259,"column":9}},"type":"BlockStatement","body":[{"range":[8959,9021],"loc":{"start":{"line":258,"column":12},"end":{"line":258,"column":74}},"type":"ReturnStatement","argument":{"range":[8966,9020],"loc":{"start":{"line":258,"column":19},"end":{"line":258,"column":73}},"type":"LogicalExpression","operator":"||","left":{"range":[8967,9013],"loc":{"start":{"line":258,"column":20},"end":{"line":258,"column":66}},"type":"LogicalExpression","operator":"&&","left":{"range":[8967,8990],"loc":{"start":{"line":258,"column":20},"end":{"line":258,"column":43}},"type":"LogicalExpression","operator":"&&","left":{"range":[8967,8973],"loc":{"start":{"line":258,"column":20},"end":{"line":258,"column":26}},"type":"Identifier","name":"config"},"right":{"range":[8977,8990],"loc":{"start":{"line":258,"column":30},"end":{"line":258,"column":43}},"type":"MemberExpression","computed":false,"object":{"range":[8977,8983],"loc":{"start":{"line":258,"column":30},"end":{"line":258,"column":36}},"type":"Identifier","name":"config"},"property":{"range":[8984,8990],"loc":{"start":{"line":258,"column":37},"end":{"line":258,"column":43}},"type":"Identifier","name":"config"}}},"right":{"range":[8994,9013],"loc":{"start":{"line":258,"column":47},"end":{"line":258,"column":66}},"type":"MemberExpression","computed":true,"object":{"range":[8994,9007],"loc":{"start":{"line":258,"column":47},"end":{"line":258,"column":60}},"type":"MemberExpression","computed":false,"object":{"range":[8994,9000],"loc":{"start":{"line":258,"column":47},"end":{"line":258,"column":53}},"type":"Identifier","name":"config"},"property":{"range":[9001,9007],"loc":{"start":{"line":258,"column":54},"end":{"line":258,"column":60}},"type":"Identifier","name":"config"}},"property":{"range":[9008,9012],"loc":{"start":{"line":258,"column":61},"end":{"line":258,"column":65}},"type":"Identifier","name":"name"}}},"right":{"range":[9018,9020],"loc":{"start":{"line":258,"column":71},"end":{"line":258,"column":73}},"type":"ObjectExpression","properties":[]}}}]},"generator":false,"expression":false}}]},"generator":false,"expression":false},{"range":[9044,9590],"loc":{"start":{"line":262,"column":4},"end":{"line":282,"column":6}},"type":"ExpressionStatement","expression":{"range":[9044,9589],"loc":{"start":{"line":262,"column":4},"end":{"line":282,"column":5}},"type":"AssignmentExpression","operator":"=","left":{"range":[9044,9052],"loc":{"start":{"line":262,"column":4},"end":{"line":262,"column":12}},"type":"Identifier","name":"handlers"},"right":{"range":[9055,9589],"loc":{"start":{"line":262,"column":15},"end":{"line":282,"column":5}},"type":"ObjectExpression","properties":[{"range":[9065,9139],"loc":{"start":{"line":263,"column":8},"end":{"line":265,"column":9}},"type":"Property","key":{"range":[9065,9072],"loc":{"start":{"line":263,"column":8},"end":{"line":263,"column":15}},"type":"Identifier","name":"require"},"computed":false,"value":{"range":[9074,9139],"loc":{"start":{"line":263,"column":17},"end":{"line":265,"column":9}},"type":"FunctionExpression","id":null,"params":[{"range":[9084,9088],"loc":{"start":{"line":263,"column":27},"end":{"line":263,"column":31}},"type":"Identifier","name":"name"}],"defaults":[],"body":{"range":[9090,9139],"loc":{"start":{"line":263,"column":33},"end":{"line":265,"column":9}},"type":"BlockStatement","body":[{"range":[9104,9129],"loc":{"start":{"line":264,"column":12},"end":{"line":264,"column":37}},"type":"ReturnStatement","argument":{"range":[9111,9128],"loc":{"start":{"line":264,"column":19},"end":{"line":264,"column":36}},"type":"CallExpression","callee":{"range":[9111,9122],"loc":{"start":{"line":264,"column":19},"end":{"line":264,"column":30}},"type":"Identifier","name":"makeRequire"},"arguments":[{"range":[9123,9127],"loc":{"start":{"line":264,"column":31},"end":{"line":264,"column":35}},"type":"Identifier","name":"name"}]}}]},"generator":false,"expression":false},"kind":"init","method":false,"shorthand":false},{"range":[9149,9370],"loc":{"start":{"line":266,"column":8},"end":{"line":273,"column":9}},"type":"Property","key":{"range":[9149,9156],"loc":{"start":{"line":266,"column":8},"end":{"line":266,"column":15}},"type":"Identifier","name":"exports"},"computed":false,"value":{"range":[9158,9370],"loc":{"start":{"line":266,"column":17},"end":{"line":273,"column":9}},"type":"FunctionExpression","id":null,"params":[{"range":[9168,9172],"loc":{"start":{"line":266,"column":27},"end":{"line":266,"column":31}},"type":"Identifier","name":"name"}],"defaults":[],"body":{"range":[9174,9370],"loc":{"start":{"line":266,"column":33},"end":{"line":273,"column":9}},"type":"BlockStatement","body":[{"range":[9188,9210],"loc":{"start":{"line":267,"column":12},"end":{"line":267,"column":34}},"type":"VariableDeclaration","declarations":[{"range":[9192,9209],"loc":{"start":{"line":267,"column":16},"end":{"line":267,"column":33}},"type":"VariableDeclarator","id":{"range":[9192,9193],"loc":{"start":{"line":267,"column":16},"end":{"line":267,"column":17}},"type":"Identifier","name":"e"},"init":{"range":[9196,9209],"loc":{"start":{"line":267,"column":20},"end":{"line":267,"column":33}},"type":"MemberExpression","computed":true,"object":{"range":[9196,9203],"loc":{"start":{"line":267,"column":20},"end":{"line":267,"column":27}},"type":"Identifier","name":"defined"},"property":{"range":[9204,9208],"loc":{"start":{"line":267,"column":28},"end":{"line":267,"column":32}},"type":"Identifier","name":"name"}}}],"kind":"var"},{"range":[9223,9360],"loc":{"start":{"line":268,"column":12},"end":{"line":272,"column":13}},"type":"IfStatement","test":{"range":[9227,9251],"loc":{"start":{"line":268,"column":16},"end":{"line":268,"column":40}},"type":"BinaryExpression","operator":"!==","left":{"range":[9227,9235],"loc":{"start":{"line":268,"column":16},"end":{"line":268,"column":24}},"type":"UnaryExpression","operator":"typeof","argument":{"range":[9234,9235],"loc":{"start":{"line":268,"column":23},"end":{"line":268,"column":24}},"type":"Identifier","name":"e"},"prefix":true},"right":{"range":[9240,9251],"loc":{"start":{"line":268,"column":29},"end":{"line":268,"column":40}},"type":"Literal","value":"undefined","raw":"'undefined'"}},"consequent":{"range":[9253,9294],"loc":{"start":{"line":268,"column":42},"end":{"line":270,"column":13}},"type":"BlockStatement","body":[{"range":[9271,9280],"loc":{"start":{"line":269,"column":16},"end":{"line":269,"column":25}},"type":"ReturnStatement","argument":{"range":[9278,9279],"loc":{"start":{"line":269,"column":23},"end":{"line":269,"column":24}},"type":"Identifier","name":"e"}}]},"alternate":{"range":[9300,9360],"loc":{"start":{"line":270,"column":19},"end":{"line":272,"column":13}},"type":"BlockStatement","body":[{"range":[9318,9346],"loc":{"start":{"line":271,"column":16},"end":{"line":271,"column":44}},"type":"ReturnStatement","argument":{"range":[9326,9344],"loc":{"start":{"line":271,"column":24},"end":{"line":271,"column":42}},"type":"AssignmentExpression","operator":"=","left":{"range":[9326,9339],"loc":{"start":{"line":271,"column":24},"end":{"line":271,"column":37}},"type":"MemberExpression","computed":true,"object":{"range":[9326,9333],"loc":{"start":{"line":271,"column":24},"end":{"line":271,"column":31}},"type":"Identifier","name":"defined"},"property":{"range":[9334,9338],"loc":{"start":{"line":271,"column":32},"end":{"line":271,"column":36}},"type":"Identifier","name":"name"}},"right":{"range":[9342,9344],"loc":{"start":{"line":271,"column":40},"end":{"line":271,"column":42}},"type":"ObjectExpression","properties":[]}}}]}}]},"generator":false,"expression":false},"kind":"init","method":false,"shorthand":false},{"range":[9380,9583],"loc":{"start":{"line":274,"column":8},"end":{"line":281,"column":9}},"type":"Property","key":{"range":[9380,9386],"loc":{"start":{"line":274,"column":8},"end":{"line":274,"column":14}},"type":"Identifier","name":"module"},"computed":false,"value":{"range":[9388,9583],"loc":{"start":{"line":274,"column":16},"end":{"line":281,"column":9}},"type":"FunctionExpression","id":null,"params":[{"range":[9398,9402],"loc":{"start":{"line":274,"column":26},"end":{"line":274,"column":30}},"type":"Identifier","name":"name"}],"defaults":[],"body":{"range":[9404,9583],"loc":{"start":{"line":274,"column":32},"end":{"line":281,"column":9}},"type":"BlockStatement","body":[{"range":[9418,9573],"loc":{"start":{"line":275,"column":12},"end":{"line":280,"column":14}},"type":"ReturnStatement","argument":{"range":[9425,9572],"loc":{"start":{"line":275,"column":19},"end":{"line":280,"column":13}},"type":"ObjectExpression","properties":[{"range":[9443,9451],"loc":{"start":{"line":276,"column":16},"end":{"line":276,"column":24}},"type":"Property","key":{"range":[9443,9445],"loc":{"start":{"line":276,"column":16},"end":{"line":276,"column":18}},"type":"Identifier","name":"id"},"computed":false,"value":{"range":[9447,9451],"loc":{"start":{"line":276,"column":20},"end":{"line":276,"column":24}},"type":"Identifier","name":"name"},"kind":"init","method":false,"shorthand":false},{"range":[9469,9476],"loc":{"start":{"line":277,"column":16},"end":{"line":277,"column":23}},"type":"Property","key":{"range":[9469,9472],"loc":{"start":{"line":277,"column":16},"end":{"line":277,"column":19}},"type":"Identifier","name":"uri"},"computed":false,"value":{"range":[9474,9476],"loc":{"start":{"line":277,"column":21},"end":{"line":277,"column":23}},"type":"Literal","value":"","raw":"''"},"kind":"init","method":false,"shorthand":false},{"range":[9494,9516],"loc":{"start":{"line":278,"column":16},"end":{"line":278,"column":38}},"type":"Property","key":{"range":[9494,9501],"loc":{"start":{"line":278,"column":16},"end":{"line":278,"column":23}},"type":"Identifier","name":"exports"},"computed":false,"value":{"range":[9503,9516],"loc":{"start":{"line":278,"column":25},"end":{"line":278,"column":38}},"type":"MemberExpression","computed":true,"object":{"range":[9503,9510],"loc":{"start":{"line":278,"column":25},"end":{"line":278,"column":32}},"type":"Identifier","name":"defined"},"property":{"range":[9511,9515],"loc":{"start":{"line":278,"column":33},"end":{"line":278,"column":37}},"type":"Identifier","name":"name"}},"kind":"init","method":false,"shorthand":false},{"range":[9534,9558],"loc":{"start":{"line":279,"column":16},"end":{"line":279,"column":40}},"type":"Property","key":{"range":[9534,9540],"loc":{"start":{"line":279,"column":16},"end":{"line":279,"column":22}},"type":"Identifier","name":"config"},"computed":false,"value":{"range":[9542,9558],"loc":{"start":{"line":279,"column":24},"end":{"line":279,"column":40}},"type":"CallExpression","callee":{"range":[9542,9552],"loc":{"start":{"line":279,"column":24},"end":{"line":279,"column":34}},"type":"Identifier","name":"makeConfig"},"arguments":[{"range":[9553,9557],"loc":{"start":{"line":279,"column":35},"end":{"line":279,"column":39}},"type":"Identifier","name":"name"}]},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false},"kind":"init","method":false,"shorthand":false}]}}},{"range":[9596,12316],"loc":{"start":{"line":284,"column":4},"end":{"line":344,"column":6}},"type":"ExpressionStatement","expression":{"range":[9596,12315],"loc":{"start":{"line":284,"column":4},"end":{"line":344,"column":5}},"type":"AssignmentExpression","operator":"=","left":{"range":[9596,9600],"loc":{"start":{"line":284,"column":4},"end":{"line":284,"column":8}},"type":"Identifier","name":"main"},"right":{"range":[9603,12315],"loc":{"start":{"line":284,"column":11},"end":{"line":344,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[9613,9617],"loc":{"start":{"line":284,"column":21},"end":{"line":284,"column":25}},"type":"Identifier","name":"name"},{"range":[9619,9623],"loc":{"start":{"line":284,"column":27},"end":{"line":284,"column":31}},"type":"Identifier","name":"deps"},{"range":[9625,9633],"loc":{"start":{"line":284,"column":33},"end":{"line":284,"column":41}},"type":"Identifier","name":"callback"},{"range":[9635,9642],"loc":{"start":{"line":284,"column":43},"end":{"line":284,"column":50}},"type":"Identifier","name":"relName"}],"defaults":[],"body":{"range":[9644,12315],"loc":{"start":{"line":284,"column":52},"end":{"line":344,"column":5}},"type":"BlockStatement","body":[{"range":[9654,9783],"loc":{"start":{"line":285,"column":8},"end":{"line":288,"column":25}},"type":"VariableDeclaration","declarations":[{"range":[9658,9667],"loc":{"start":{"line":285,"column":12},"end":{"line":285,"column":21}},"type":"VariableDeclarator","id":{"range":[9658,9667],"loc":{"start":{"line":285,"column":12},"end":{"line":285,"column":21}},"type":"Identifier","name":"cjsModule"},"init":null},{"range":[9669,9676],"loc":{"start":{"line":285,"column":23},"end":{"line":285,"column":30}},"type":"VariableDeclarator","id":{"range":[9669,9676],"loc":{"start":{"line":285,"column":23},"end":{"line":285,"column":30}},"type":"Identifier","name":"depName"},"init":null},{"range":[9678,9681],"loc":{"start":{"line":285,"column":32},"end":{"line":285,"column":35}},"type":"VariableDeclarator","id":{"range":[9678,9681],"loc":{"start":{"line":285,"column":32},"end":{"line":285,"column":35}},"type":"Identifier","name":"ret"},"init":null},{"range":[9683,9686],"loc":{"start":{"line":285,"column":37},"end":{"line":285,"column":40}},"type":"VariableDeclarator","id":{"range":[9683,9686],"loc":{"start":{"line":285,"column":37},"end":{"line":285,"column":40}},"type":"Identifier","name":"map"},"init":null},{"range":[9688,9689],"loc":{"start":{"line":285,"column":42},"end":{"line":285,"column":43}},"type":"VariableDeclarator","id":{"range":[9688,9689],"loc":{"start":{"line":285,"column":42},"end":{"line":285,"column":43}},"type":"Identifier","name":"i"},"init":null},{"range":[9703,9712],"loc":{"start":{"line":286,"column":12},"end":{"line":286,"column":21}},"type":"VariableDeclarator","id":{"range":[9703,9707],"loc":{"start":{"line":286,"column":12},"end":{"line":286,"column":16}},"type":"Identifier","name":"args"},"init":{"range":[9710,9712],"loc":{"start":{"line":286,"column":19},"end":{"line":286,"column":21}},"type":"ArrayExpression","elements":[]}},{"range":[9726,9756],"loc":{"start":{"line":287,"column":12},"end":{"line":287,"column":42}},"type":"VariableDeclarator","id":{"range":[9726,9738],"loc":{"start":{"line":287,"column":12},"end":{"line":287,"column":24}},"type":"Identifier","name":"callbackType"},"init":{"range":[9741,9756],"loc":{"start":{"line":287,"column":27},"end":{"line":287,"column":42}},"type":"UnaryExpression","operator":"typeof","argument":{"range":[9748,9756],"loc":{"start":{"line":287,"column":34},"end":{"line":287,"column":42}},"type":"Identifier","name":"callback"},"prefix":true}},{"range":[9770,9782],"loc":{"start":{"line":288,"column":12},"end":{"line":288,"column":24}},"type":"VariableDeclarator","id":{"range":[9770,9782],"loc":{"start":{"line":288,"column":12},"end":{"line":288,"column":24}},"type":"Identifier","name":"usingExports"},"init":null}],"kind":"var","trailingComments":[{"type":"Line","value":"Use name if no relName","range":[9793,9817],"loc":{"start":{"line":290,"column":8},"end":{"line":290,"column":32}}}]},{"range":[9826,9852],"loc":{"start":{"line":291,"column":8},"end":{"line":291,"column":34}},"type":"ExpressionStatement","expression":{"range":[9826,9851],"loc":{"start":{"line":291,"column":8},"end":{"line":291,"column":33}},"type":"AssignmentExpression","operator":"=","left":{"range":[9826,9833],"loc":{"start":{"line":291,"column":8},"end":{"line":291,"column":15}},"type":"Identifier","name":"relName"},"right":{"range":[9836,9851],"loc":{"start":{"line":291,"column":18},"end":{"line":291,"column":33}},"type":"LogicalExpression","operator":"||","left":{"range":[9836,9843],"loc":{"start":{"line":291,"column":18},"end":{"line":291,"column":25}},"type":"Identifier","name":"relName"},"right":{"range":[9847,9851],"loc":{"start":{"line":291,"column":29},"end":{"line":291,"column":33}},"type":"Identifier","name":"name"}}},"leadingComments":[{"type":"Line","value":"Use name if no relName","range":[9793,9817],"loc":{"start":{"line":290,"column":8},"end":{"line":290,"column":32}}}],"trailingComments":[{"type":"Line","value":"Call the callback to define the module, if necessary.","range":[9862,9917],"loc":{"start":{"line":293,"column":8},"end":{"line":293,"column":63}}}]},{"range":[9926,12309],"loc":{"start":{"line":294,"column":8},"end":{"line":343,"column":9}},"type":"IfStatement","test":{"range":[9930,9989],"loc":{"start":{"line":294,"column":12},"end":{"line":294,"column":71}},"type":"LogicalExpression","operator":"||","left":{"range":[9930,9958],"loc":{"start":{"line":294,"column":12},"end":{"line":294,"column":40}},"type":"BinaryExpression","operator":"===","left":{"range":[9930,9942],"loc":{"start":{"line":294,"column":12},"end":{"line":294,"column":24}},"type":"Identifier","name":"callbackType"},"right":{"range":[9947,9958],"loc":{"start":{"line":294,"column":29},"end":{"line":294,"column":40}},"type":"Literal","value":"undefined","raw":"'undefined'"}},"right":{"range":[9962,9989],"loc":{"start":{"line":294,"column":44},"end":{"line":294,"column":71}},"type":"BinaryExpression","operator":"===","left":{"range":[9962,9974],"loc":{"start":{"line":294,"column":44},"end":{"line":294,"column":56}},"type":"Identifier","name":"callbackType"},"right":{"range":[9979,9989],"loc":{"start":{"line":294,"column":61},"end":{"line":294,"column":71}},"type":"Literal","value":"function","raw":"'function'"}}},"consequent":{"range":[9991,12118],"loc":{"start":{"line":294,"column":73},"end":{"line":339,"column":9}},"type":"BlockStatement","body":[{"range":[10175,10256],"loc":{"start":{"line":298,"column":12},"end":{"line":298,"column":93}},"type":"ExpressionStatement","expression":{"range":[10175,10255],"loc":{"start":{"line":298,"column":12},"end":{"line":298,"column":92}},"type":"AssignmentExpression","operator":"=","left":{"range":[10175,10179],"loc":{"start":{"line":298,"column":12},"end":{"line":298,"column":16}},"type":"Identifier","name":"deps"},"right":{"range":[10182,10255],"loc":{"start":{"line":298,"column":19},"end":{"line":298,"column":92}},"type":"ConditionalExpression","test":{"range":[10182,10213],"loc":{"start":{"line":298,"column":19},"end":{"line":298,"column":50}},"type":"LogicalExpression","operator":"&&","left":{"range":[10182,10194],"loc":{"start":{"line":298,"column":19},"end":{"line":298,"column":31}},"type":"UnaryExpression","operator":"!","argument":{"range":[10183,10194],"loc":{"start":{"line":298,"column":20},"end":{"line":298,"column":31}},"type":"MemberExpression","computed":false,"object":{"range":[10183,10187],"loc":{"start":{"line":298,"column":20},"end":{"line":298,"column":24}},"type":"Identifier","name":"deps"},"property":{"range":[10188,10194],"loc":{"start":{"line":298,"column":25},"end":{"line":298,"column":31}},"type":"Identifier","name":"length"}},"prefix":true},"right":{"range":[10198,10213],"loc":{"start":{"line":298,"column":35},"end":{"line":298,"column":50}},"type":"MemberExpression","computed":false,"object":{"range":[10198,10206],"loc":{"start":{"line":298,"column":35},"end":{"line":298,"column":43}},"type":"Identifier","name":"callback"},"property":{"range":[10207,10213],"loc":{"start":{"line":298,"column":44},"end":{"line":298,"column":50}},"type":"Identifier","name":"length"}}},"consequent":{"range":[10216,10248],"loc":{"start":{"line":298,"column":53},"end":{"line":298,"column":85}},"type":"ArrayExpression","elements":[{"range":[10217,10226],"loc":{"start":{"line":298,"column":54},"end":{"line":298,"column":63}},"type":"Literal","value":"require","raw":"'require'"},{"range":[10228,10237],"loc":{"start":{"line":298,"column":65},"end":{"line":298,"column":74}},"type":"Literal","value":"exports","raw":"'exports'"},{"range":[10239,10247],"loc":{"start":{"line":298,"column":76},"end":{"line":298,"column":84}},"type":"Literal","value":"module","raw":"'module'"}]},"alternate":{"range":[10251,10255],"loc":{"start":{"line":298,"column":88},"end":{"line":298,"column":92}},"type":"Identifier","name":"deps"}}},"leadingComments":[{"type":"Line","value":"Pull out the defined dependencies and pass the ordered","range":[10005,10061],"loc":{"start":{"line":295,"column":12},"end":{"line":295,"column":68}}},{"type":"Line","value":"values to the callback.","range":[10074,10099],"loc":{"start":{"line":296,"column":12},"end":{"line":296,"column":37}}},{"type":"Line","value":"Default to [require, exports, module] if no deps","range":[10112,10162],"loc":{"start":{"line":297,"column":12},"end":{"line":297,"column":62}}}]},{"range":[10269,11421],"loc":{"start":{"line":299,"column":12},"end":{"line":323,"column":13}},"type":"ForStatement","init":{"range":[10274,10279],"loc":{"start":{"line":299,"column":17},"end":{"line":299,"column":22}},"type":"AssignmentExpression","operator":"=","left":{"range":[10274,10275],"loc":{"start":{"line":299,"column":17},"end":{"line":299,"column":18}},"type":"Identifier","name":"i"},"right":{"range":[10278,10279],"loc":{"start":{"line":299,"column":21},"end":{"line":299,"column":22}},"type":"Literal","value":0,"raw":"0"}},"test":{"range":[10281,10296],"loc":{"start":{"line":299,"column":24},"end":{"line":299,"column":39}},"type":"BinaryExpression","operator":"<","left":{"range":[10281,10282],"loc":{"start":{"line":299,"column":24},"end":{"line":299,"column":25}},"type":"Identifier","name":"i"},"right":{"range":[10285,10296],"loc":{"start":{"line":299,"column":28},"end":{"line":299,"column":39}},"type":"MemberExpression","computed":false,"object":{"range":[10285,10289],"loc":{"start":{"line":299,"column":28},"end":{"line":299,"column":32}},"type":"Identifier","name":"deps"},"property":{"range":[10290,10296],"loc":{"start":{"line":299,"column":33},"end":{"line":299,"column":39}},"type":"Identifier","name":"length"}}},"update":{"range":[10298,10304],"loc":{"start":{"line":299,"column":41},"end":{"line":299,"column":47}},"type":"AssignmentExpression","operator":"+=","left":{"range":[10298,10299],"loc":{"start":{"line":299,"column":41},"end":{"line":299,"column":42}},"type":"Identifier","name":"i"},"right":{"range":[10303,10304],"loc":{"start":{"line":299,"column":46},"end":{"line":299,"column":47}},"type":"Literal","value":1,"raw":"1"}},"body":{"range":[10306,11421],"loc":{"start":{"line":299,"column":49},"end":{"line":323,"column":13}},"type":"BlockStatement","body":[{"range":[10324,10356],"loc":{"start":{"line":300,"column":16},"end":{"line":300,"column":48}},"type":"ExpressionStatement","expression":{"range":[10324,10355],"loc":{"start":{"line":300,"column":16},"end":{"line":300,"column":47}},"type":"AssignmentExpression","operator":"=","left":{"range":[10324,10327],"loc":{"start":{"line":300,"column":16},"end":{"line":300,"column":19}},"type":"Identifier","name":"map"},"right":{"range":[10330,10355],"loc":{"start":{"line":300,"column":22},"end":{"line":300,"column":47}},"type":"CallExpression","callee":{"range":[10330,10337],"loc":{"start":{"line":300,"column":22},"end":{"line":300,"column":29}},"type":"Identifier","name":"makeMap"},"arguments":[{"range":[10338,10345],"loc":{"start":{"line":300,"column":30},"end":{"line":300,"column":37}},"type":"MemberExpression","computed":true,"object":{"range":[10338,10342],"loc":{"start":{"line":300,"column":30},"end":{"line":300,"column":34}},"type":"Identifier","name":"deps"},"property":{"range":[10343,10344],"loc":{"start":{"line":300,"column":35},"end":{"line":300,"column":36}},"type":"Identifier","name":"i"}},{"range":[10347,10354],"loc":{"start":{"line":300,"column":39},"end":{"line":300,"column":46}},"type":"Identifier","name":"relName"}]}}},{"range":[10373,10389],"loc":{"start":{"line":301,"column":16},"end":{"line":301,"column":32}},"type":"ExpressionStatement","expression":{"range":[10373,10388],"loc":{"start":{"line":301,"column":16},"end":{"line":301,"column":31}},"type":"AssignmentExpression","operator":"=","left":{"range":[10373,10380],"loc":{"start":{"line":301,"column":16},"end":{"line":301,"column":23}},"type":"Identifier","name":"depName"},"right":{"range":[10383,10388],"loc":{"start":{"line":301,"column":26},"end":{"line":301,"column":31}},"type":"MemberExpression","computed":false,"object":{"range":[10383,10386],"loc":{"start":{"line":301,"column":26},"end":{"line":301,"column":29}},"type":"Identifier","name":"map"},"property":{"range":[10387,10388],"loc":{"start":{"line":301,"column":30},"end":{"line":301,"column":31}},"type":"Identifier","name":"f"}}},"trailingComments":[{"type":"Line","value":"Fast path CommonJS standard dependencies.","range":[10407,10450],"loc":{"start":{"line":303,"column":16},"end":{"line":303,"column":59}}}]},{"range":[10467,11407],"loc":{"start":{"line":304,"column":16},"end":{"line":322,"column":17}},"type":"IfStatement","test":{"range":[10471,10492],"loc":{"start":{"line":304,"column":20},"end":{"line":304,"column":41}},"type":"BinaryExpression","operator":"===","left":{"range":[10471,10478],"loc":{"start":{"line":304,"column":20},"end":{"line":304,"column":27}},"type":"Identifier","name":"depName"},"right":{"range":[10483,10492],"loc":{"start":{"line":304,"column":32},"end":{"line":304,"column":41}},"type":"Literal","value":"require","raw":"\"require\""}},"consequent":{"range":[10494,10567],"loc":{"start":{"line":304,"column":43},"end":{"line":306,"column":17}},"type":"BlockStatement","body":[{"range":[10516,10549],"loc":{"start":{"line":305,"column":20},"end":{"line":305,"column":53}},"type":"ExpressionStatement","expression":{"range":[10516,10548],"loc":{"start":{"line":305,"column":20},"end":{"line":305,"column":52}},"type":"AssignmentExpression","operator":"=","left":{"range":[10516,10523],"loc":{"start":{"line":305,"column":20},"end":{"line":305,"column":27}},"type":"MemberExpression","computed":true,"object":{"range":[10516,10520],"loc":{"start":{"line":305,"column":20},"end":{"line":305,"column":24}},"type":"Identifier","name":"args"},"property":{"range":[10521,10522],"loc":{"start":{"line":305,"column":25},"end":{"line":305,"column":26}},"type":"Identifier","name":"i"}},"right":{"range":[10526,10548],"loc":{"start":{"line":305,"column":30},"end":{"line":305,"column":52}},"type":"CallExpression","callee":{"range":[10526,10542],"loc":{"start":{"line":305,"column":30},"end":{"line":305,"column":46}},"type":"MemberExpression","computed":false,"object":{"range":[10526,10534],"loc":{"start":{"line":305,"column":30},"end":{"line":305,"column":38}},"type":"Identifier","name":"handlers"},"property":{"range":[10535,10542],"loc":{"start":{"line":305,"column":39},"end":{"line":305,"column":46}},"type":"Identifier","name":"require"}},"arguments":[{"range":[10543,10547],"loc":{"start":{"line":305,"column":47},"end":{"line":305,"column":51}},"type":"Identifier","name":"name"}]}}}]},"alternate":{"range":[10573,11407],"loc":{"start":{"line":306,"column":23},"end":{"line":322,"column":17}},"type":"IfStatement","test":{"range":[10577,10598],"loc":{"start":{"line":306,"column":27},"end":{"line":306,"column":48}},"type":"BinaryExpression","operator":"===","left":{"range":[10577,10584],"loc":{"start":{"line":306,"column":27},"end":{"line":306,"column":34}},"type":"Identifier","name":"depName"},"right":{"range":[10589,10598],"loc":{"start":{"line":306,"column":39},"end":{"line":306,"column":48}},"type":"Literal","value":"exports","raw":"\"exports\""}},"consequent":{"range":[10600,10761],"loc":{"start":{"line":306,"column":50},"end":{"line":310,"column":17}},"type":"BlockStatement","body":[{"range":[10669,10702],"loc":{"start":{"line":308,"column":20},"end":{"line":308,"column":53}},"type":"ExpressionStatement","expression":{"range":[10669,10701],"loc":{"start":{"line":308,"column":20},"end":{"line":308,"column":52}},"type":"AssignmentExpression","operator":"=","left":{"range":[10669,10676],"loc":{"start":{"line":308,"column":20},"end":{"line":308,"column":27}},"type":"MemberExpression","computed":true,"object":{"range":[10669,10673],"loc":{"start":{"line":308,"column":20},"end":{"line":308,"column":24}},"type":"Identifier","name":"args"},"property":{"range":[10674,10675],"loc":{"start":{"line":308,"column":25},"end":{"line":308,"column":26}},"type":"Identifier","name":"i"}},"right":{"range":[10679,10701],"loc":{"start":{"line":308,"column":30},"end":{"line":308,"column":52}},"type":"CallExpression","callee":{"range":[10679,10695],"loc":{"start":{"line":308,"column":30},"end":{"line":308,"column":46}},"type":"MemberExpression","computed":false,"object":{"range":[10679,10687],"loc":{"start":{"line":308,"column":30},"end":{"line":308,"column":38}},"type":"Identifier","name":"handlers"},"property":{"range":[10688,10695],"loc":{"start":{"line":308,"column":39},"end":{"line":308,"column":46}},"type":"Identifier","name":"exports"}},"arguments":[{"range":[10696,10700],"loc":{"start":{"line":308,"column":47},"end":{"line":308,"column":51}},"type":"Identifier","name":"name"}]}},"leadingComments":[{"type":"Line","value":"CommonJS module spec 1.1","range":[10622,10648],"loc":{"start":{"line":307,"column":20},"end":{"line":307,"column":46}}}]},{"range":[10723,10743],"loc":{"start":{"line":309,"column":20},"end":{"line":309,"column":40}},"type":"ExpressionStatement","expression":{"range":[10723,10742],"loc":{"start":{"line":309,"column":20},"end":{"line":309,"column":39}},"type":"AssignmentExpression","operator":"=","left":{"range":[10723,10735],"loc":{"start":{"line":309,"column":20},"end":{"line":309,"column":32}},"type":"Identifier","name":"usingExports"},"right":{"range":[10738,10742],"loc":{"start":{"line":309,"column":35},"end":{"line":309,"column":39}},"type":"Literal","value":true,"raw":"true"}}}]},"alternate":{"range":[10767,11407],"loc":{"start":{"line":310,"column":23},"end":{"line":322,"column":17}},"type":"IfStatement","test":{"range":[10771,10791],"loc":{"start":{"line":310,"column":27},"end":{"line":310,"column":47}},"type":"BinaryExpression","operator":"===","left":{"range":[10771,10778],"loc":{"start":{"line":310,"column":27},"end":{"line":310,"column":34}},"type":"Identifier","name":"depName"},"right":{"range":[10783,10791],"loc":{"start":{"line":310,"column":39},"end":{"line":310,"column":47}},"type":"Literal","value":"module","raw":"\"module\""}},"consequent":{"range":[10793,10924],"loc":{"start":{"line":310,"column":49},"end":{"line":313,"column":17}},"type":"BlockStatement","body":[{"range":[10862,10906],"loc":{"start":{"line":312,"column":20},"end":{"line":312,"column":64}},"type":"ExpressionStatement","expression":{"range":[10862,10905],"loc":{"start":{"line":312,"column":20},"end":{"line":312,"column":63}},"type":"AssignmentExpression","operator":"=","left":{"range":[10862,10871],"loc":{"start":{"line":312,"column":20},"end":{"line":312,"column":29}},"type":"Identifier","name":"cjsModule"},"right":{"range":[10874,10905],"loc":{"start":{"line":312,"column":32},"end":{"line":312,"column":63}},"type":"AssignmentExpression","operator":"=","left":{"range":[10874,10881],"loc":{"start":{"line":312,"column":32},"end":{"line":312,"column":39}},"type":"MemberExpression","computed":true,"object":{"range":[10874,10878],"loc":{"start":{"line":312,"column":32},"end":{"line":312,"column":36}},"type":"Identifier","name":"args"},"property":{"range":[10879,10880],"loc":{"start":{"line":312,"column":37},"end":{"line":312,"column":38}},"type":"Identifier","name":"i"}},"right":{"range":[10884,10905],"loc":{"start":{"line":312,"column":42},"end":{"line":312,"column":63}},"type":"CallExpression","callee":{"range":[10884,10899],"loc":{"start":{"line":312,"column":42},"end":{"line":312,"column":57}},"type":"MemberExpression","computed":false,"object":{"range":[10884,10892],"loc":{"start":{"line":312,"column":42},"end":{"line":312,"column":50}},"type":"Identifier","name":"handlers"},"property":{"range":[10893,10899],"loc":{"start":{"line":312,"column":51},"end":{"line":312,"column":57}},"type":"Identifier","name":"module"}},"arguments":[{"range":[10900,10904],"loc":{"start":{"line":312,"column":58},"end":{"line":312,"column":62}},"type":"Identifier","name":"name"}]}}},"leadingComments":[{"type":"Line","value":"CommonJS module spec 1.1","range":[10815,10841],"loc":{"start":{"line":311,"column":20},"end":{"line":311,"column":46}}}]}]},"alternate":{"range":[10930,11407],"loc":{"start":{"line":313,"column":23},"end":{"line":322,"column":17}},"type":"IfStatement","test":{"range":[10934,11072],"loc":{"start":{"line":313,"column":27},"end":{"line":315,"column":53}},"type":"LogicalExpression","operator":"||","left":{"range":[10934,11015],"loc":{"start":{"line":313,"column":27},"end":{"line":314,"column":52}},"type":"LogicalExpression","operator":"||","left":{"range":[10934,10959],"loc":{"start":{"line":313,"column":27},"end":{"line":313,"column":52}},"type":"CallExpression","callee":{"range":[10934,10941],"loc":{"start":{"line":313,"column":27},"end":{"line":313,"column":34}},"type":"Identifier","name":"hasProp"},"arguments":[{"range":[10942,10949],"loc":{"start":{"line":313,"column":35},"end":{"line":313,"column":42}},"type":"Identifier","name":"defined"},{"range":[10951,10958],"loc":{"start":{"line":313,"column":44},"end":{"line":313,"column":51}},"type":"Identifier","name":"depName"}]},"right":{"range":[10990,11015],"loc":{"start":{"line":314,"column":27},"end":{"line":314,"column":52}},"type":"CallExpression","callee":{"range":[10990,10997],"loc":{"start":{"line":314,"column":27},"end":{"line":314,"column":34}},"type":"Identifier","name":"hasProp"},"arguments":[{"range":[10998,11005],"loc":{"start":{"line":314,"column":35},"end":{"line":314,"column":42}},"type":"Identifier","name":"waiting"},{"range":[11007,11014],"loc":{"start":{"line":314,"column":44},"end":{"line":314,"column":51}},"type":"Identifier","name":"depName"}]}},"right":{"range":[11046,11072],"loc":{"start":{"line":315,"column":27},"end":{"line":315,"column":53}},"type":"CallExpression","callee":{"range":[11046,11053],"loc":{"start":{"line":315,"column":27},"end":{"line":315,"column":34}},"type":"Identifier","name":"hasProp"},"arguments":[{"range":[11054,11062],"loc":{"start":{"line":315,"column":35},"end":{"line":315,"column":43}},"type":"Identifier","name":"defining"},{"range":[11064,11071],"loc":{"start":{"line":315,"column":45},"end":{"line":315,"column":52}},"type":"Identifier","name":"depName"}]}},"consequent":{"range":[11074,11141],"loc":{"start":{"line":315,"column":55},"end":{"line":317,"column":17}},"type":"BlockStatement","body":[{"range":[11096,11123],"loc":{"start":{"line":316,"column":20},"end":{"line":316,"column":47}},"type":"ExpressionStatement","expression":{"range":[11096,11122],"loc":{"start":{"line":316,"column":20},"end":{"line":316,"column":46}},"type":"AssignmentExpression","operator":"=","left":{"range":[11096,11103],"loc":{"start":{"line":316,"column":20},"end":{"line":316,"column":27}},"type":"MemberExpression","computed":true,"object":{"range":[11096,11100],"loc":{"start":{"line":316,"column":20},"end":{"line":316,"column":24}},"type":"Identifier","name":"args"},"property":{"range":[11101,11102],"loc":{"start":{"line":316,"column":25},"end":{"line":316,"column":26}},"type":"Identifier","name":"i"}},"right":{"range":[11106,11122],"loc":{"start":{"line":316,"column":30},"end":{"line":316,"column":46}},"type":"CallExpression","callee":{"range":[11106,11113],"loc":{"start":{"line":316,"column":30},"end":{"line":316,"column":37}},"type":"Identifier","name":"callDep"},"arguments":[{"range":[11114,11121],"loc":{"start":{"line":316,"column":38},"end":{"line":316,"column":45}},"type":"Identifier","name":"depName"}]}}}]},"alternate":{"range":[11147,11407],"loc":{"start":{"line":317,"column":23},"end":{"line":322,"column":17}},"type":"IfStatement","test":{"range":[11151,11156],"loc":{"start":{"line":317,"column":27},"end":{"line":317,"column":32}},"type":"MemberExpression","computed":false,"object":{"range":[11151,11154],"loc":{"start":{"line":317,"column":27},"end":{"line":317,"column":30}},"type":"Identifier","name":"map"},"property":{"range":[11155,11156],"loc":{"start":{"line":317,"column":31},"end":{"line":317,"column":32}},"type":"Identifier","name":"p"}},"consequent":{"range":[11158,11315],"loc":{"start":{"line":317,"column":34},"end":{"line":320,"column":17}},"type":"BlockStatement","body":[{"range":[11180,11249],"loc":{"start":{"line":318,"column":20},"end":{"line":318,"column":89}},"type":"ExpressionStatement","expression":{"range":[11180,11248],"loc":{"start":{"line":318,"column":20},"end":{"line":318,"column":88}},"type":"CallExpression","callee":{"range":[11180,11190],"loc":{"start":{"line":318,"column":20},"end":{"line":318,"column":30}},"type":"MemberExpression","computed":false,"object":{"range":[11180,11185],"loc":{"start":{"line":318,"column":20},"end":{"line":318,"column":25}},"type":"MemberExpression","computed":false,"object":{"range":[11180,11183],"loc":{"start":{"line":318,"column":20},"end":{"line":318,"column":23}},"type":"Identifier","name":"map"},"property":{"range":[11184,11185],"loc":{"start":{"line":318,"column":24},"end":{"line":318,"column":25}},"type":"Identifier","name":"p"}},"property":{"range":[11186,11190],"loc":{"start":{"line":318,"column":26},"end":{"line":318,"column":30}},"type":"Identifier","name":"load"}},"arguments":[{"range":[11191,11196],"loc":{"start":{"line":318,"column":31},"end":{"line":318,"column":36}},"type":"MemberExpression","computed":false,"object":{"range":[11191,11194],"loc":{"start":{"line":318,"column":31},"end":{"line":318,"column":34}},"type":"Identifier","name":"map"},"property":{"range":[11195,11196],"loc":{"start":{"line":318,"column":35},"end":{"line":318,"column":36}},"type":"Identifier","name":"n"}},{"range":[11198,11224],"loc":{"start":{"line":318,"column":38},"end":{"line":318,"column":64}},"type":"CallExpression","callee":{"range":[11198,11209],"loc":{"start":{"line":318,"column":38},"end":{"line":318,"column":49}},"type":"Identifier","name":"makeRequire"},"arguments":[{"range":[11210,11217],"loc":{"start":{"line":318,"column":50},"end":{"line":318,"column":57}},"type":"Identifier","name":"relName"},{"range":[11219,11223],"loc":{"start":{"line":318,"column":59},"end":{"line":318,"column":63}},"type":"Literal","value":true,"raw":"true"}]},{"range":[11226,11243],"loc":{"start":{"line":318,"column":66},"end":{"line":318,"column":83}},"type":"CallExpression","callee":{"range":[11226,11234],"loc":{"start":{"line":318,"column":66},"end":{"line":318,"column":74}},"type":"Identifier","name":"makeLoad"},"arguments":[{"range":[11235,11242],"loc":{"start":{"line":318,"column":75},"end":{"line":318,"column":82}},"type":"Identifier","name":"depName"}]},{"range":[11245,11247],"loc":{"start":{"line":318,"column":85},"end":{"line":318,"column":87}},"type":"ObjectExpression","properties":[]}]}},{"range":[11270,11297],"loc":{"start":{"line":319,"column":20},"end":{"line":319,"column":47}},"type":"ExpressionStatement","expression":{"range":[11270,11296],"loc":{"start":{"line":319,"column":20},"end":{"line":319,"column":46}},"type":"AssignmentExpression","operator":"=","left":{"range":[11270,11277],"loc":{"start":{"line":319,"column":20},"end":{"line":319,"column":27}},"type":"MemberExpression","computed":true,"object":{"range":[11270,11274],"loc":{"start":{"line":319,"column":20},"end":{"line":319,"column":24}},"type":"Identifier","name":"args"},"property":{"range":[11275,11276],"loc":{"start":{"line":319,"column":25},"end":{"line":319,"column":26}},"type":"Identifier","name":"i"}},"right":{"range":[11280,11296],"loc":{"start":{"line":319,"column":30},"end":{"line":319,"column":46}},"type":"MemberExpression","computed":true,"object":{"range":[11280,11287],"loc":{"start":{"line":319,"column":30},"end":{"line":319,"column":37}},"type":"Identifier","name":"defined"},"property":{"range":[11288,11295],"loc":{"start":{"line":319,"column":38},"end":{"line":319,"column":45}},"type":"Identifier","name":"depName"}}}}]},"alternate":{"range":[11321,11407],"loc":{"start":{"line":320,"column":23},"end":{"line":322,"column":17}},"type":"BlockStatement","body":[{"range":[11343,11389],"loc":{"start":{"line":321,"column":20},"end":{"line":321,"column":66}},"type":"ThrowStatement","argument":{"range":[11349,11388],"loc":{"start":{"line":321,"column":26},"end":{"line":321,"column":65}},"type":"NewExpression","callee":{"range":[11353,11358],"loc":{"start":{"line":321,"column":30},"end":{"line":321,"column":35}},"type":"Identifier","name":"Error"},"arguments":[{"range":[11359,11387],"loc":{"start":{"line":321,"column":36},"end":{"line":321,"column":64}},"type":"BinaryExpression","operator":"+","left":{"range":[11359,11377],"loc":{"start":{"line":321,"column":36},"end":{"line":321,"column":54}},"type":"BinaryExpression","operator":"+","left":{"range":[11359,11363],"loc":{"start":{"line":321,"column":36},"end":{"line":321,"column":40}},"type":"Identifier","name":"name"},"right":{"range":[11366,11377],"loc":{"start":{"line":321,"column":43},"end":{"line":321,"column":54}},"type":"Literal","value":" missing ","raw":"' missing '"}},"right":{"range":[11380,11387],"loc":{"start":{"line":321,"column":57},"end":{"line":321,"column":64}},"type":"Identifier","name":"depName"}}]}}]}}}}},"leadingComments":[{"type":"Line","value":"Fast path CommonJS standard dependencies.","range":[10407,10450],"loc":{"start":{"line":303,"column":16},"end":{"line":303,"column":59}}}]}]}},{"range":[11435,11500],"loc":{"start":{"line":325,"column":12},"end":{"line":325,"column":77}},"type":"ExpressionStatement","expression":{"range":[11435,11499],"loc":{"start":{"line":325,"column":12},"end":{"line":325,"column":76}},"type":"AssignmentExpression","operator":"=","left":{"range":[11435,11438],"loc":{"start":{"line":325,"column":12},"end":{"line":325,"column":15}},"type":"Identifier","name":"ret"},"right":{"range":[11441,11499],"loc":{"start":{"line":325,"column":18},"end":{"line":325,"column":76}},"type":"ConditionalExpression","test":{"range":[11441,11449],"loc":{"start":{"line":325,"column":18},"end":{"line":325,"column":26}},"type":"Identifier","name":"callback"},"consequent":{"range":[11452,11487],"loc":{"start":{"line":325,"column":29},"end":{"line":325,"column":64}},"type":"CallExpression","callee":{"range":[11452,11466],"loc":{"start":{"line":325,"column":29},"end":{"line":325,"column":43}},"type":"MemberExpression","computed":false,"object":{"range":[11452,11460],"loc":{"start":{"line":325,"column":29},"end":{"line":325,"column":37}},"type":"Identifier","name":"callback"},"property":{"range":[11461,11466],"loc":{"start":{"line":325,"column":38},"end":{"line":325,"column":43}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[11467,11480],"loc":{"start":{"line":325,"column":44},"end":{"line":325,"column":57}},"type":"MemberExpression","computed":true,"object":{"range":[11467,11474],"loc":{"start":{"line":325,"column":44},"end":{"line":325,"column":51}},"type":"Identifier","name":"defined"},"property":{"range":[11475,11479],"loc":{"start":{"line":325,"column":52},"end":{"line":325,"column":56}},"type":"Identifier","name":"name"}},{"range":[11482,11486],"loc":{"start":{"line":325,"column":59},"end":{"line":325,"column":63}},"type":"Identifier","name":"args"}]},"alternate":{"range":[11490,11499],"loc":{"start":{"line":325,"column":67},"end":{"line":325,"column":76}},"type":"Identifier","name":"undefined"}}}},{"range":[11514,12108],"loc":{"start":{"line":327,"column":12},"end":{"line":338,"column":13}},"type":"IfStatement","test":{"range":[11518,11522],"loc":{"start":{"line":327,"column":16},"end":{"line":327,"column":20}},"type":"Identifier","name":"name"},"consequent":{"range":[11524,12108],"loc":{"start":{"line":327,"column":22},"end":{"line":338,"column":13}},"type":"BlockStatement","body":[{"range":[11747,12094],"loc":{"start":{"line":331,"column":16},"end":{"line":337,"column":17}},"type":"IfStatement","test":{"range":[11751,11854],"loc":{"start":{"line":331,"column":20},"end":{"line":332,"column":59}},"type":"LogicalExpression","operator":"&&","left":{"range":[11751,11791],"loc":{"start":{"line":331,"column":20},"end":{"line":331,"column":60}},"type":"LogicalExpression","operator":"&&","left":{"range":[11751,11760],"loc":{"start":{"line":331,"column":20},"end":{"line":331,"column":29}},"type":"Identifier","name":"cjsModule"},"right":{"range":[11764,11791],"loc":{"start":{"line":331,"column":33},"end":{"line":331,"column":60}},"type":"BinaryExpression","operator":"!==","left":{"range":[11764,11781],"loc":{"start":{"line":331,"column":33},"end":{"line":331,"column":50}},"type":"MemberExpression","computed":false,"object":{"range":[11764,11773],"loc":{"start":{"line":331,"column":33},"end":{"line":331,"column":42}},"type":"Identifier","name":"cjsModule"},"property":{"range":[11774,11781],"loc":{"start":{"line":331,"column":43},"end":{"line":331,"column":50}},"type":"Identifier","name":"exports"}},"right":{"range":[11786,11791],"loc":{"start":{"line":331,"column":55},"end":{"line":331,"column":60}},"type":"Identifier","name":"undef"}}},"right":{"range":[11819,11854],"loc":{"start":{"line":332,"column":24},"end":{"line":332,"column":59}},"type":"BinaryExpression","operator":"!==","left":{"range":[11819,11836],"loc":{"start":{"line":332,"column":24},"end":{"line":332,"column":41}},"type":"MemberExpression","computed":false,"object":{"range":[11819,11828],"loc":{"start":{"line":332,"column":24},"end":{"line":332,"column":33}},"type":"Identifier","name":"cjsModule"},"property":{"range":[11829,11836],"loc":{"start":{"line":332,"column":34},"end":{"line":332,"column":41}},"type":"Identifier","name":"exports"}},"right":{"range":[11841,11854],"loc":{"start":{"line":332,"column":46},"end":{"line":332,"column":59}},"type":"MemberExpression","computed":true,"object":{"range":[11841,11848],"loc":{"start":{"line":332,"column":46},"end":{"line":332,"column":53}},"type":"Identifier","name":"defined"},"property":{"range":[11849,11853],"loc":{"start":{"line":332,"column":54},"end":{"line":332,"column":58}},"type":"Identifier","name":"name"}}}},"consequent":{"range":[11856,11930],"loc":{"start":{"line":332,"column":61},"end":{"line":334,"column":17}},"type":"BlockStatement","body":[{"range":[11878,11912],"loc":{"start":{"line":333,"column":20},"end":{"line":333,"column":54}},"type":"ExpressionStatement","expression":{"range":[11878,11911],"loc":{"start":{"line":333,"column":20},"end":{"line":333,"column":53}},"type":"AssignmentExpression","operator":"=","left":{"range":[11878,11891],"loc":{"start":{"line":333,"column":20},"end":{"line":333,"column":33}},"type":"MemberExpression","computed":true,"object":{"range":[11878,11885],"loc":{"start":{"line":333,"column":20},"end":{"line":333,"column":27}},"type":"Identifier","name":"defined"},"property":{"range":[11886,11890],"loc":{"start":{"line":333,"column":28},"end":{"line":333,"column":32}},"type":"Identifier","name":"name"}},"right":{"range":[11894,11911],"loc":{"start":{"line":333,"column":36},"end":{"line":333,"column":53}},"type":"MemberExpression","computed":false,"object":{"range":[11894,11903],"loc":{"start":{"line":333,"column":36},"end":{"line":333,"column":45}},"type":"Identifier","name":"cjsModule"},"property":{"range":[11904,11911],"loc":{"start":{"line":333,"column":46},"end":{"line":333,"column":53}},"type":"Identifier","name":"exports"}}}}]},"alternate":{"range":[11936,12094],"loc":{"start":{"line":334,"column":23},"end":{"line":337,"column":17}},"type":"IfStatement","test":{"range":[11940,11970],"loc":{"start":{"line":334,"column":27},"end":{"line":334,"column":57}},"type":"LogicalExpression","operator":"||","left":{"range":[11940,11953],"loc":{"start":{"line":334,"column":27},"end":{"line":334,"column":40}},"type":"BinaryExpression","operator":"!==","left":{"range":[11940,11943],"loc":{"start":{"line":334,"column":27},"end":{"line":334,"column":30}},"type":"Identifier","name":"ret"},"right":{"range":[11948,11953],"loc":{"start":{"line":334,"column":35},"end":{"line":334,"column":40}},"type":"Identifier","name":"undef"}},"right":{"range":[11957,11970],"loc":{"start":{"line":334,"column":44},"end":{"line":334,"column":57}},"type":"UnaryExpression","operator":"!","argument":{"range":[11958,11970],"loc":{"start":{"line":334,"column":45},"end":{"line":334,"column":57}},"type":"Identifier","name":"usingExports"},"prefix":true}},"consequent":{"range":[11972,12094],"loc":{"start":{"line":334,"column":59},"end":{"line":337,"column":17}},"type":"BlockStatement","body":[{"range":[12056,12076],"loc":{"start":{"line":336,"column":20},"end":{"line":336,"column":40}},"type":"ExpressionStatement","expression":{"range":[12056,12075],"loc":{"start":{"line":336,"column":20},"end":{"line":336,"column":39}},"type":"AssignmentExpression","operator":"=","left":{"range":[12056,12069],"loc":{"start":{"line":336,"column":20},"end":{"line":336,"column":33}},"type":"MemberExpression","computed":true,"object":{"range":[12056,12063],"loc":{"start":{"line":336,"column":20},"end":{"line":336,"column":27}},"type":"Identifier","name":"defined"},"property":{"range":[12064,12068],"loc":{"start":{"line":336,"column":28},"end":{"line":336,"column":32}},"type":"Identifier","name":"name"}},"right":{"range":[12072,12075],"loc":{"start":{"line":336,"column":36},"end":{"line":336,"column":39}},"type":"Identifier","name":"ret"}},"leadingComments":[{"type":"Line","value":"Use the return value from the function.","range":[11994,12035],"loc":{"start":{"line":335,"column":20},"end":{"line":335,"column":61}}}]}]},"alternate":null},"leadingComments":[{"type":"Line","value":"If setting exports via \"module\" is in play,","range":[11542,11587],"loc":{"start":{"line":328,"column":16},"end":{"line":328,"column":61}}},{"type":"Line","value":"favor that over return value and exports. After that,","range":[11604,11659],"loc":{"start":{"line":329,"column":16},"end":{"line":329,"column":71}}},{"type":"Line","value":"favor a non-undefined return value over exports use.","range":[11676,11730],"loc":{"start":{"line":330,"column":16},"end":{"line":330,"column":70}}}]}]},"alternate":null}]},"alternate":{"range":[12124,12309],"loc":{"start":{"line":339,"column":15},"end":{"line":343,"column":9}},"type":"IfStatement","test":{"range":[12128,12132],"loc":{"start":{"line":339,"column":19},"end":{"line":339,"column":23}},"type":"Identifier","name":"name"},"consequent":{"range":[12134,12309],"loc":{"start":{"line":339,"column":25},"end":{"line":343,"column":9}},"type":"BlockStatement","body":[{"range":[12274,12299],"loc":{"start":{"line":342,"column":12},"end":{"line":342,"column":37}},"type":"ExpressionStatement","expression":{"range":[12274,12298],"loc":{"start":{"line":342,"column":12},"end":{"line":342,"column":36}},"type":"AssignmentExpression","operator":"=","left":{"range":[12274,12287],"loc":{"start":{"line":342,"column":12},"end":{"line":342,"column":25}},"type":"MemberExpression","computed":true,"object":{"range":[12274,12281],"loc":{"start":{"line":342,"column":12},"end":{"line":342,"column":19}},"type":"Identifier","name":"defined"},"property":{"range":[12282,12286],"loc":{"start":{"line":342,"column":20},"end":{"line":342,"column":24}},"type":"Identifier","name":"name"}},"right":{"range":[12290,12298],"loc":{"start":{"line":342,"column":28},"end":{"line":342,"column":36}},"type":"Identifier","name":"callback"}},"leadingComments":[{"type":"Line","value":"May just be an object definition for the module. Only","range":[12148,12203],"loc":{"start":{"line":340,"column":12},"end":{"line":340,"column":67}}},{"type":"Line","value":"worry about defining if have a module name.","range":[12216,12261],"loc":{"start":{"line":341,"column":12},"end":{"line":341,"column":57}}}]}]},"alternate":null},"leadingComments":[{"type":"Line","value":"Call the callback to define the module, if necessary.","range":[9862,9917],"loc":{"start":{"line":293,"column":8},"end":{"line":293,"column":63}}}]}]},"generator":false,"expression":false}}},{"range":[12322,14560],"loc":{"start":{"line":346,"column":4},"end":{"line":404,"column":6}},"type":"ExpressionStatement","expression":{"range":[12322,14559],"loc":{"start":{"line":346,"column":4},"end":{"line":404,"column":5}},"type":"AssignmentExpression","operator":"=","left":{"range":[12322,12331],"loc":{"start":{"line":346,"column":4},"end":{"line":346,"column":13}},"type":"Identifier","name":"requirejs"},"right":{"range":[12334,14559],"loc":{"start":{"line":346,"column":16},"end":{"line":404,"column":5}},"type":"AssignmentExpression","operator":"=","left":{"range":[12334,12341],"loc":{"start":{"line":346,"column":16},"end":{"line":346,"column":23}},"type":"Identifier","name":"require"},"right":{"range":[12344,14559],"loc":{"start":{"line":346,"column":26},"end":{"line":404,"column":5}},"type":"AssignmentExpression","operator":"=","left":{"range":[12344,12347],"loc":{"start":{"line":346,"column":26},"end":{"line":346,"column":29}},"type":"Identifier","name":"req"},"right":{"range":[12350,14559],"loc":{"start":{"line":346,"column":32},"end":{"line":404,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[12360,12364],"loc":{"start":{"line":346,"column":42},"end":{"line":346,"column":46}},"type":"Identifier","name":"deps"},{"range":[12366,12374],"loc":{"start":{"line":346,"column":48},"end":{"line":346,"column":56}},"type":"Identifier","name":"callback"},{"range":[12376,12383],"loc":{"start":{"line":346,"column":58},"end":{"line":346,"column":65}},"type":"Identifier","name":"relName"},{"range":[12385,12394],"loc":{"start":{"line":346,"column":67},"end":{"line":346,"column":76}},"type":"Identifier","name":"forceSync"},{"range":[12396,12399],"loc":{"start":{"line":346,"column":78},"end":{"line":346,"column":81}},"type":"Identifier","name":"alt"}],"defaults":[],"body":{"range":[12401,14559],"loc":{"start":{"line":346,"column":83},"end":{"line":404,"column":5}},"type":"BlockStatement","body":[{"range":[12411,13507],"loc":{"start":{"line":347,"column":8},"end":{"line":376,"column":9}},"type":"IfStatement","test":{"range":[12415,12439],"loc":{"start":{"line":347,"column":12},"end":{"line":347,"column":36}},"type":"BinaryExpression","operator":"===","left":{"range":[12415,12426],"loc":{"start":{"line":347,"column":12},"end":{"line":347,"column":23}},"type":"UnaryExpression","operator":"typeof","argument":{"range":[12422,12426],"loc":{"start":{"line":347,"column":19},"end":{"line":347,"column":23}},"type":"Identifier","name":"deps"},"prefix":true},"right":{"range":[12431,12439],"loc":{"start":{"line":347,"column":28},"end":{"line":347,"column":36}},"type":"Literal","value":"string","raw":"\"string\""}},"consequent":{"range":[12441,12894],"loc":{"start":{"line":347,"column":38},"end":{"line":357,"column":9}},"type":"BlockStatement","body":[{"range":[12455,12597],"loc":{"start":{"line":348,"column":12},"end":{"line":351,"column":13}},"type":"IfStatement","test":{"range":[12459,12473],"loc":{"start":{"line":348,"column":16},"end":{"line":348,"column":30}},"type":"MemberExpression","computed":true,"object":{"range":[12459,12467],"loc":{"start":{"line":348,"column":16},"end":{"line":348,"column":24}},"type":"Identifier","name":"handlers"},"property":{"range":[12468,12472],"loc":{"start":{"line":348,"column":25},"end":{"line":348,"column":29}},"type":"Identifier","name":"deps"}},"consequent":{"range":[12475,12597],"loc":{"start":{"line":348,"column":32},"end":{"line":351,"column":13}},"type":"BlockStatement","body":[{"range":[12551,12583],"loc":{"start":{"line":350,"column":16},"end":{"line":350,"column":48}},"type":"ReturnStatement","argument":{"range":[12558,12582],"loc":{"start":{"line":350,"column":23},"end":{"line":350,"column":47}},"type":"CallExpression","callee":{"range":[12558,12572],"loc":{"start":{"line":350,"column":23},"end":{"line":350,"column":37}},"type":"MemberExpression","computed":true,"object":{"range":[12558,12566],"loc":{"start":{"line":350,"column":23},"end":{"line":350,"column":31}},"type":"Identifier","name":"handlers"},"property":{"range":[12567,12571],"loc":{"start":{"line":350,"column":32},"end":{"line":350,"column":36}},"type":"Identifier","name":"deps"}},"arguments":[{"range":[12573,12581],"loc":{"start":{"line":350,"column":38},"end":{"line":350,"column":46}},"type":"Identifier","name":"callback"}]},"leadingComments":[{"type":"Line","value":"callback in this case is really relName","range":[12493,12534],"loc":{"start":{"line":349,"column":16},"end":{"line":349,"column":57}}}]}]},"alternate":null,"trailingComments":[{"type":"Line","value":"Just return the module wanted. In this scenario, the","range":[12610,12664],"loc":{"start":{"line":352,"column":12},"end":{"line":352,"column":66}}},{"type":"Line","value":"deps arg is the module name, and second arg (if passed)","range":[12677,12734],"loc":{"start":{"line":353,"column":12},"end":{"line":353,"column":69}}},{"type":"Line","value":"is just the relName.","range":[12747,12769],"loc":{"start":{"line":354,"column":12},"end":{"line":354,"column":34}}},{"type":"Line","value":"Normalize module name, if it contains . or ..","range":[12782,12829],"loc":{"start":{"line":355,"column":12},"end":{"line":355,"column":59}}}]},{"range":[12842,12884],"loc":{"start":{"line":356,"column":12},"end":{"line":356,"column":54}},"type":"ReturnStatement","argument":{"range":[12849,12883],"loc":{"start":{"line":356,"column":19},"end":{"line":356,"column":53}},"type":"CallExpression","callee":{"range":[12849,12856],"loc":{"start":{"line":356,"column":19},"end":{"line":356,"column":26}},"type":"Identifier","name":"callDep"},"arguments":[{"range":[12857,12882],"loc":{"start":{"line":356,"column":27},"end":{"line":356,"column":52}},"type":"MemberExpression","computed":false,"object":{"range":[12857,12880],"loc":{"start":{"line":356,"column":27},"end":{"line":356,"column":50}},"type":"CallExpression","callee":{"range":[12857,12864],"loc":{"start":{"line":356,"column":27},"end":{"line":356,"column":34}},"type":"Identifier","name":"makeMap"},"arguments":[{"range":[12865,12869],"loc":{"start":{"line":356,"column":35},"end":{"line":356,"column":39}},"type":"Identifier","name":"deps"},{"range":[12871,12879],"loc":{"start":{"line":356,"column":41},"end":{"line":356,"column":49}},"type":"Identifier","name":"callback"}]},"property":{"range":[12881,12882],"loc":{"start":{"line":356,"column":51},"end":{"line":356,"column":52}},"type":"Identifier","name":"f"}}]},"leadingComments":[{"type":"Line","value":"Just return the module wanted. In this scenario, the","range":[12610,12664],"loc":{"start":{"line":352,"column":12},"end":{"line":352,"column":66}}},{"type":"Line","value":"deps arg is the module name, and second arg (if passed)","range":[12677,12734],"loc":{"start":{"line":353,"column":12},"end":{"line":353,"column":69}}},{"type":"Line","value":"is just the relName.","range":[12747,12769],"loc":{"start":{"line":354,"column":12},"end":{"line":354,"column":34}}},{"type":"Line","value":"Normalize module name, if it contains . or ..","range":[12782,12829],"loc":{"start":{"line":355,"column":12},"end":{"line":355,"column":59}}}]}]},"alternate":{"range":[12900,13507],"loc":{"start":{"line":357,"column":15},"end":{"line":376,"column":9}},"type":"IfStatement","test":{"range":[12904,12916],"loc":{"start":{"line":357,"column":19},"end":{"line":357,"column":31}},"type":"UnaryExpression","operator":"!","argument":{"range":[12905,12916],"loc":{"start":{"line":357,"column":20},"end":{"line":357,"column":31}},"type":"MemberExpression","computed":false,"object":{"range":[12905,12909],"loc":{"start":{"line":357,"column":20},"end":{"line":357,"column":24}},"type":"Identifier","name":"deps"},"property":{"range":[12910,12916],"loc":{"start":{"line":357,"column":25},"end":{"line":357,"column":31}},"type":"Identifier","name":"splice"}},"prefix":true},"consequent":{"range":[12918,13507],"loc":{"start":{"line":357,"column":33},"end":{"line":376,"column":9}},"type":"BlockStatement","body":[{"range":[12985,12999],"loc":{"start":{"line":359,"column":12},"end":{"line":359,"column":26}},"type":"ExpressionStatement","expression":{"range":[12985,12998],"loc":{"start":{"line":359,"column":12},"end":{"line":359,"column":25}},"type":"AssignmentExpression","operator":"=","left":{"range":[12985,12991],"loc":{"start":{"line":359,"column":12},"end":{"line":359,"column":18}},"type":"Identifier","name":"config"},"right":{"range":[12994,12998],"loc":{"start":{"line":359,"column":21},"end":{"line":359,"column":25}},"type":"Identifier","name":"deps"}},"leadingComments":[{"type":"Line","value":"deps is a config object, not an array.","range":[12932,12972],"loc":{"start":{"line":358,"column":12},"end":{"line":358,"column":52}}}]},{"range":[13012,13095],"loc":{"start":{"line":360,"column":12},"end":{"line":362,"column":13}},"type":"IfStatement","test":{"range":[13016,13027],"loc":{"start":{"line":360,"column":16},"end":{"line":360,"column":27}},"type":"MemberExpression","computed":false,"object":{"range":[13016,13022],"loc":{"start":{"line":360,"column":16},"end":{"line":360,"column":22}},"type":"Identifier","name":"config"},"property":{"range":[13023,13027],"loc":{"start":{"line":360,"column":23},"end":{"line":360,"column":27}},"type":"Identifier","name":"deps"}},"consequent":{"range":[13029,13095],"loc":{"start":{"line":360,"column":29},"end":{"line":362,"column":13}},"type":"BlockStatement","body":[{"range":[13047,13081],"loc":{"start":{"line":361,"column":16},"end":{"line":361,"column":50}},"type":"ExpressionStatement","expression":{"range":[13047,13080],"loc":{"start":{"line":361,"column":16},"end":{"line":361,"column":49}},"type":"CallExpression","callee":{"range":[13047,13050],"loc":{"start":{"line":361,"column":16},"end":{"line":361,"column":19}},"type":"Identifier","name":"req"},"arguments":[{"range":[13051,13062],"loc":{"start":{"line":361,"column":20},"end":{"line":361,"column":31}},"type":"MemberExpression","computed":false,"object":{"range":[13051,13057],"loc":{"start":{"line":361,"column":20},"end":{"line":361,"column":26}},"type":"Identifier","name":"config"},"property":{"range":[13058,13062],"loc":{"start":{"line":361,"column":27},"end":{"line":361,"column":31}},"type":"Identifier","name":"deps"}},{"range":[13064,13079],"loc":{"start":{"line":361,"column":33},"end":{"line":361,"column":48}},"type":"MemberExpression","computed":false,"object":{"range":[13064,13070],"loc":{"start":{"line":361,"column":33},"end":{"line":361,"column":39}},"type":"Identifier","name":"config"},"property":{"range":[13071,13079],"loc":{"start":{"line":361,"column":40},"end":{"line":361,"column":48}},"type":"Identifier","name":"callback"}}]}}]},"alternate":null},{"range":[13108,13162],"loc":{"start":{"line":363,"column":12},"end":{"line":365,"column":13}},"type":"IfStatement","test":{"range":[13112,13121],"loc":{"start":{"line":363,"column":16},"end":{"line":363,"column":25}},"type":"UnaryExpression","operator":"!","argument":{"range":[13113,13121],"loc":{"start":{"line":363,"column":17},"end":{"line":363,"column":25}},"type":"Identifier","name":"callback"},"prefix":true},"consequent":{"range":[13123,13162],"loc":{"start":{"line":363,"column":27},"end":{"line":365,"column":13}},"type":"BlockStatement","body":[{"range":[13141,13148],"loc":{"start":{"line":364,"column":16},"end":{"line":364,"column":23}},"type":"ReturnStatement","argument":null}]},"alternate":null},{"range":[13176,13497],"loc":{"start":{"line":367,"column":12},"end":{"line":375,"column":13}},"type":"IfStatement","test":{"range":[13180,13195],"loc":{"start":{"line":367,"column":16},"end":{"line":367,"column":31}},"type":"MemberExpression","computed":false,"object":{"range":[13180,13188],"loc":{"start":{"line":367,"column":16},"end":{"line":367,"column":24}},"type":"Identifier","name":"callback"},"property":{"range":[13189,13195],"loc":{"start":{"line":367,"column":25},"end":{"line":367,"column":31}},"type":"Identifier","name":"splice"}},"consequent":{"range":[13197,13446],"loc":{"start":{"line":367,"column":33},"end":{"line":373,"column":13}},"type":"BlockStatement","body":[{"range":[13348,13364],"loc":{"start":{"line":370,"column":16},"end":{"line":370,"column":32}},"type":"ExpressionStatement","expression":{"range":[13348,13363],"loc":{"start":{"line":370,"column":16},"end":{"line":370,"column":31}},"type":"AssignmentExpression","operator":"=","left":{"range":[13348,13352],"loc":{"start":{"line":370,"column":16},"end":{"line":370,"column":20}},"type":"Identifier","name":"deps"},"right":{"range":[13355,13363],"loc":{"start":{"line":370,"column":23},"end":{"line":370,"column":31}},"type":"Identifier","name":"callback"}},"leadingComments":[{"type":"Line","value":"callback is an array, which means it is a dependency list.","range":[13215,13275],"loc":{"start":{"line":368,"column":16},"end":{"line":368,"column":76}}},{"type":"Line","value":"Adjust args if there are dependencies","range":[13292,13331],"loc":{"start":{"line":369,"column":16},"end":{"line":369,"column":55}}}]},{"range":[13381,13400],"loc":{"start":{"line":371,"column":16},"end":{"line":371,"column":35}},"type":"ExpressionStatement","expression":{"range":[13381,13399],"loc":{"start":{"line":371,"column":16},"end":{"line":371,"column":34}},"type":"AssignmentExpression","operator":"=","left":{"range":[13381,13389],"loc":{"start":{"line":371,"column":16},"end":{"line":371,"column":24}},"type":"Identifier","name":"callback"},"right":{"range":[13392,13399],"loc":{"start":{"line":371,"column":27},"end":{"line":371,"column":34}},"type":"Identifier","name":"relName"}}},{"range":[13417,13432],"loc":{"start":{"line":372,"column":16},"end":{"line":372,"column":31}},"type":"ExpressionStatement","expression":{"range":[13417,13431],"loc":{"start":{"line":372,"column":16},"end":{"line":372,"column":30}},"type":"AssignmentExpression","operator":"=","left":{"range":[13417,13424],"loc":{"start":{"line":372,"column":16},"end":{"line":372,"column":23}},"type":"Identifier","name":"relName"},"right":{"range":[13427,13431],"loc":{"start":{"line":372,"column":26},"end":{"line":372,"column":30}},"type":"Literal","value":null,"raw":"null"}}}]},"alternate":{"range":[13452,13497],"loc":{"start":{"line":373,"column":19},"end":{"line":375,"column":13}},"type":"BlockStatement","body":[{"range":[13470,13483],"loc":{"start":{"line":374,"column":16},"end":{"line":374,"column":29}},"type":"ExpressionStatement","expression":{"range":[13470,13482],"loc":{"start":{"line":374,"column":16},"end":{"line":374,"column":28}},"type":"AssignmentExpression","operator":"=","left":{"range":[13470,13474],"loc":{"start":{"line":374,"column":16},"end":{"line":374,"column":20}},"type":"Identifier","name":"deps"},"right":{"range":[13477,13482],"loc":{"start":{"line":374,"column":23},"end":{"line":374,"column":28}},"type":"Identifier","name":"undef"}}}]}}]},"alternate":null},"trailingComments":[{"type":"Line","value":"Support require(['a'])","range":[13517,13541],"loc":{"start":{"line":378,"column":8},"end":{"line":378,"column":32}}}]},{"range":[13550,13588],"loc":{"start":{"line":379,"column":8},"end":{"line":379,"column":46}},"type":"ExpressionStatement","expression":{"range":[13550,13587],"loc":{"start":{"line":379,"column":8},"end":{"line":379,"column":45}},"type":"AssignmentExpression","operator":"=","left":{"range":[13550,13558],"loc":{"start":{"line":379,"column":8},"end":{"line":379,"column":16}},"type":"Identifier","name":"callback"},"right":{"range":[13561,13587],"loc":{"start":{"line":379,"column":19},"end":{"line":379,"column":45}},"type":"LogicalExpression","operator":"||","left":{"range":[13561,13569],"loc":{"start":{"line":379,"column":19},"end":{"line":379,"column":27}},"type":"Identifier","name":"callback"},"right":{"range":[13573,13587],"loc":{"start":{"line":379,"column":31},"end":{"line":379,"column":45}},"type":"FunctionExpression","id":null,"params":[],"defaults":[],"body":{"range":[13585,13587],"loc":{"start":{"line":379,"column":43},"end":{"line":379,"column":45}},"type":"BlockStatement","body":[]},"generator":false,"expression":false}}},"leadingComments":[{"type":"Line","value":"Support require(['a'])","range":[13517,13541],"loc":{"start":{"line":378,"column":8},"end":{"line":378,"column":32}}}],"trailingComments":[{"type":"Line","value":"If relName is a function, it is an errback handler,","range":[13598,13651],"loc":{"start":{"line":381,"column":8},"end":{"line":381,"column":61}}},{"type":"Line","value":"so remove it.","range":[13660,13675],"loc":{"start":{"line":382,"column":8},"end":{"line":382,"column":23}}}]},{"range":[13684,13792],"loc":{"start":{"line":383,"column":8},"end":{"line":386,"column":9}},"type":"IfStatement","test":{"range":[13688,13717],"loc":{"start":{"line":383,"column":12},"end":{"line":383,"column":41}},"type":"BinaryExpression","operator":"===","left":{"range":[13688,13702],"loc":{"start":{"line":383,"column":12},"end":{"line":383,"column":26}},"type":"UnaryExpression","operator":"typeof","argument":{"range":[13695,13702],"loc":{"start":{"line":383,"column":19},"end":{"line":383,"column":26}},"type":"Identifier","name":"relName"},"prefix":true},"right":{"range":[13707,13717],"loc":{"start":{"line":383,"column":31},"end":{"line":383,"column":41}},"type":"Literal","value":"function","raw":"'function'"}},"consequent":{"range":[13719,13792],"loc":{"start":{"line":383,"column":43},"end":{"line":386,"column":9}},"type":"BlockStatement","body":[{"range":[13733,13753],"loc":{"start":{"line":384,"column":12},"end":{"line":384,"column":32}},"type":"ExpressionStatement","expression":{"range":[13733,13752],"loc":{"start":{"line":384,"column":12},"end":{"line":384,"column":31}},"type":"AssignmentExpression","operator":"=","left":{"range":[13733,13740],"loc":{"start":{"line":384,"column":12},"end":{"line":384,"column":19}},"type":"Identifier","name":"relName"},"right":{"range":[13743,13752],"loc":{"start":{"line":384,"column":22},"end":{"line":384,"column":31}},"type":"Identifier","name":"forceSync"}}},{"range":[13766,13782],"loc":{"start":{"line":385,"column":12},"end":{"line":385,"column":28}},"type":"ExpressionStatement","expression":{"range":[13766,13781],"loc":{"start":{"line":385,"column":12},"end":{"line":385,"column":27}},"type":"AssignmentExpression","operator":"=","left":{"range":[13766,13775],"loc":{"start":{"line":385,"column":12},"end":{"line":385,"column":21}},"type":"Identifier","name":"forceSync"},"right":{"range":[13778,13781],"loc":{"start":{"line":385,"column":24},"end":{"line":385,"column":27}},"type":"Identifier","name":"alt"}}}]},"alternate":null,"leadingComments":[{"type":"Line","value":"If relName is a function, it is an errback handler,","range":[13598,13651],"loc":{"start":{"line":381,"column":8},"end":{"line":381,"column":61}}},{"type":"Line","value":"so remove it.","range":[13660,13675],"loc":{"start":{"line":382,"column":8},"end":{"line":382,"column":23}}}],"trailingComments":[{"type":"Line","value":"Simulate async callback;","range":[13802,13828],"loc":{"start":{"line":388,"column":8},"end":{"line":388,"column":34}}}]},{"range":[13837,14532],"loc":{"start":{"line":389,"column":8},"end":{"line":401,"column":9}},"type":"IfStatement","test":{"range":[13841,13850],"loc":{"start":{"line":389,"column":12},"end":{"line":389,"column":21}},"type":"Identifier","name":"forceSync"},"consequent":{"range":[13852,13913],"loc":{"start":{"line":389,"column":23},"end":{"line":391,"column":9}},"type":"BlockStatement","body":[{"range":[13866,13903],"loc":{"start":{"line":390,"column":12},"end":{"line":390,"column":49}},"type":"ExpressionStatement","expression":{"range":[13866,13902],"loc":{"start":{"line":390,"column":12},"end":{"line":390,"column":48}},"type":"CallExpression","callee":{"range":[13866,13870],"loc":{"start":{"line":390,"column":12},"end":{"line":390,"column":16}},"type":"Identifier","name":"main"},"arguments":[{"range":[13871,13876],"loc":{"start":{"line":390,"column":17},"end":{"line":390,"column":22}},"type":"Identifier","name":"undef"},{"range":[13878,13882],"loc":{"start":{"line":390,"column":24},"end":{"line":390,"column":28}},"type":"Identifier","name":"deps"},{"range":[13884,13892],"loc":{"start":{"line":390,"column":30},"end":{"line":390,"column":38}},"type":"Identifier","name":"callback"},{"range":[13894,13901],"loc":{"start":{"line":390,"column":40},"end":{"line":390,"column":47}},"type":"Identifier","name":"relName"}]}}]},"alternate":{"range":[13919,14532],"loc":{"start":{"line":391,"column":15},"end":{"line":401,"column":9}},"type":"BlockStatement","body":[{"range":[14425,14522],"loc":{"start":{"line":398,"column":12},"end":{"line":400,"column":18}},"type":"ExpressionStatement","expression":{"range":[14425,14521],"loc":{"start":{"line":398,"column":12},"end":{"line":400,"column":17}},"type":"CallExpression","callee":{"range":[14425,14435],"loc":{"start":{"line":398,"column":12},"end":{"line":398,"column":22}},"type":"Identifier","name":"setTimeout"},"arguments":[{"range":[14436,14517],"loc":{"start":{"line":398,"column":23},"end":{"line":400,"column":13}},"type":"FunctionExpression","id":null,"params":[],"defaults":[],"body":{"range":[14448,14517],"loc":{"start":{"line":398,"column":35},"end":{"line":400,"column":13}},"type":"BlockStatement","body":[{"range":[14466,14503],"loc":{"start":{"line":399,"column":16},"end":{"line":399,"column":53}},"type":"ExpressionStatement","expression":{"range":[14466,14502],"loc":{"start":{"line":399,"column":16},"end":{"line":399,"column":52}},"type":"CallExpression","callee":{"range":[14466,14470],"loc":{"start":{"line":399,"column":16},"end":{"line":399,"column":20}},"type":"Identifier","name":"main"},"arguments":[{"range":[14471,14476],"loc":{"start":{"line":399,"column":21},"end":{"line":399,"column":26}},"type":"Identifier","name":"undef"},{"range":[14478,14482],"loc":{"start":{"line":399,"column":28},"end":{"line":399,"column":32}},"type":"Identifier","name":"deps"},{"range":[14484,14492],"loc":{"start":{"line":399,"column":34},"end":{"line":399,"column":42}},"type":"Identifier","name":"callback"},{"range":[14494,14501],"loc":{"start":{"line":399,"column":44},"end":{"line":399,"column":51}},"type":"Identifier","name":"relName"}]}}]},"generator":false,"expression":false},{"range":[14519,14520],"loc":{"start":{"line":400,"column":15},"end":{"line":400,"column":16}},"type":"Literal","value":4,"raw":"4"}]},"leadingComments":[{"type":"Line","value":"Using a non-zero value because of concern for what old browsers","range":[13933,13998],"loc":{"start":{"line":392,"column":12},"end":{"line":392,"column":77}}},{"type":"Line","value":"do, and latest browsers \"upgrade\" to 4 if lower value is used:","range":[14011,14075],"loc":{"start":{"line":393,"column":12},"end":{"line":393,"column":76}}},{"type":"Line","value":"http://www.whatwg.org/specs/web-apps/current-work/multipage/timers.html#dom-windowtimers-settimeout:","range":[14088,14190],"loc":{"start":{"line":394,"column":12},"end":{"line":394,"column":114}}},{"type":"Line","value":"If want a value immediately, use require('id') instead -- something","range":[14203,14272],"loc":{"start":{"line":395,"column":12},"end":{"line":395,"column":81}}},{"type":"Line","value":"that works in almond on the global level, but not guaranteed and","range":[14285,14351],"loc":{"start":{"line":396,"column":12},"end":{"line":396,"column":78}}},{"type":"Line","value":"unlikely to work in other AMD implementations.","range":[14364,14412],"loc":{"start":{"line":397,"column":12},"end":{"line":397,"column":60}}}]}]},"leadingComments":[{"type":"Line","value":"Simulate async callback;","range":[13802,13828],"loc":{"start":{"line":388,"column":8},"end":{"line":388,"column":34}}}]},{"range":[14542,14553],"loc":{"start":{"line":403,"column":8},"end":{"line":403,"column":19}},"type":"ReturnStatement","argument":{"range":[14549,14552],"loc":{"start":{"line":403,"column":15},"end":{"line":403,"column":18}},"type":"Identifier","name":"req"}}]},"generator":false,"expression":false}}}},"trailingComments":[{"type":"Block","value":"*\n     * Just drops the config on the floor, but returns req in case\n     * the config return value is used.\n     ","range":[14566,14684],"loc":{"start":{"line":406,"column":4},"end":{"line":409,"column":7}}}]},{"range":[14689,14750],"loc":{"start":{"line":410,"column":4},"end":{"line":412,"column":6}},"type":"ExpressionStatement","expression":{"range":[14689,14749],"loc":{"start":{"line":410,"column":4},"end":{"line":412,"column":5}},"type":"AssignmentExpression","operator":"=","left":{"range":[14689,14699],"loc":{"start":{"line":410,"column":4},"end":{"line":410,"column":14}},"type":"MemberExpression","computed":false,"object":{"range":[14689,14692],"loc":{"start":{"line":410,"column":4},"end":{"line":410,"column":7}},"type":"Identifier","name":"req"},"property":{"range":[14693,14699],"loc":{"start":{"line":410,"column":8},"end":{"line":410,"column":14}},"type":"Identifier","name":"config"}},"right":{"range":[14702,14749],"loc":{"start":{"line":410,"column":17},"end":{"line":412,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[14712,14715],"loc":{"start":{"line":410,"column":27},"end":{"line":410,"column":30}},"type":"Identifier","name":"cfg"}],"defaults":[],"body":{"range":[14717,14749],"loc":{"start":{"line":410,"column":32},"end":{"line":412,"column":5}},"type":"BlockStatement","body":[{"range":[14727,14743],"loc":{"start":{"line":411,"column":8},"end":{"line":411,"column":24}},"type":"ReturnStatement","argument":{"range":[14734,14742],"loc":{"start":{"line":411,"column":15},"end":{"line":411,"column":23}},"type":"CallExpression","callee":{"range":[14734,14737],"loc":{"start":{"line":411,"column":15},"end":{"line":411,"column":18}},"type":"Identifier","name":"req"},"arguments":[{"range":[14738,14741],"loc":{"start":{"line":411,"column":19},"end":{"line":411,"column":22}},"type":"Identifier","name":"cfg"}]}}]},"generator":false,"expression":false}},"leadingComments":[{"type":"Block","value":"*\n     * Just drops the config on the floor, but returns req in case\n     * the config return value is used.\n     ","range":[14566,14684],"loc":{"start":{"line":406,"column":4},"end":{"line":409,"column":7}}}],"trailingComments":[{"type":"Block","value":"*\n     * Expose module registry for debugging and tooling\n     ","range":[14756,14823],"loc":{"start":{"line":414,"column":4},"end":{"line":416,"column":7}}}]},{"range":[14828,14857],"loc":{"start":{"line":417,"column":4},"end":{"line":417,"column":33}},"type":"ExpressionStatement","expression":{"range":[14828,14856],"loc":{"start":{"line":417,"column":4},"end":{"line":417,"column":32}},"type":"AssignmentExpression","operator":"=","left":{"range":[14828,14846],"loc":{"start":{"line":417,"column":4},"end":{"line":417,"column":22}},"type":"MemberExpression","computed":false,"object":{"range":[14828,14837],"loc":{"start":{"line":417,"column":4},"end":{"line":417,"column":13}},"type":"Identifier","name":"requirejs"},"property":{"range":[14838,14846],"loc":{"start":{"line":417,"column":14},"end":{"line":417,"column":22}},"type":"Identifier","name":"_defined"}},"right":{"range":[14849,14856],"loc":{"start":{"line":417,"column":25},"end":{"line":417,"column":32}},"type":"Identifier","name":"defined"}},"leadingComments":[{"type":"Block","value":"*\n     * Expose module registry for debugging and tooling\n     ","range":[14756,14823],"loc":{"start":{"line":414,"column":4},"end":{"line":416,"column":7}}}]},{"range":[14863,15468],"loc":{"start":{"line":419,"column":4},"end":{"line":436,"column":6}},"type":"ExpressionStatement","expression":{"range":[14863,15467],"loc":{"start":{"line":419,"column":4},"end":{"line":436,"column":5}},"type":"AssignmentExpression","operator":"=","left":{"range":[14863,14869],"loc":{"start":{"line":419,"column":4},"end":{"line":419,"column":10}},"type":"Identifier","name":"define"},"right":{"range":[14872,15467],"loc":{"start":{"line":419,"column":13},"end":{"line":436,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[14882,14886],"loc":{"start":{"line":419,"column":23},"end":{"line":419,"column":27}},"type":"Identifier","name":"name"},{"range":[14888,14892],"loc":{"start":{"line":419,"column":29},"end":{"line":419,"column":33}},"type":"Identifier","name":"deps"},{"range":[14894,14902],"loc":{"start":{"line":419,"column":35},"end":{"line":419,"column":43}},"type":"Identifier","name":"callback"}],"defaults":[],"body":{"range":[14904,15467],"loc":{"start":{"line":419,"column":45},"end":{"line":436,"column":5}},"type":"BlockStatement","body":[{"range":[14914,15045],"loc":{"start":{"line":420,"column":8},"end":{"line":422,"column":9}},"type":"IfStatement","test":{"range":[14918,14942],"loc":{"start":{"line":420,"column":12},"end":{"line":420,"column":36}},"type":"BinaryExpression","operator":"!==","left":{"range":[14918,14929],"loc":{"start":{"line":420,"column":12},"end":{"line":420,"column":23}},"type":"UnaryExpression","operator":"typeof","argument":{"range":[14925,14929],"loc":{"start":{"line":420,"column":19},"end":{"line":420,"column":23}},"type":"Identifier","name":"name"},"prefix":true},"right":{"range":[14934,14942],"loc":{"start":{"line":420,"column":28},"end":{"line":420,"column":36}},"type":"Literal","value":"string","raw":"'string'"}},"consequent":{"range":[14944,15045],"loc":{"start":{"line":420,"column":38},"end":{"line":422,"column":9}},"type":"BlockStatement","body":[{"range":[14958,15035],"loc":{"start":{"line":421,"column":12},"end":{"line":421,"column":89}},"type":"ThrowStatement","argument":{"range":[14964,15034],"loc":{"start":{"line":421,"column":18},"end":{"line":421,"column":88}},"type":"NewExpression","callee":{"range":[14968,14973],"loc":{"start":{"line":421,"column":22},"end":{"line":421,"column":27}},"type":"Identifier","name":"Error"},"arguments":[{"range":[14974,15033],"loc":{"start":{"line":421,"column":28},"end":{"line":421,"column":87}},"type":"Literal","value":"See almond README: incorrect module build, no module name","raw":"'See almond README: incorrect module build, no module name'"}]}}]},"alternate":null,"trailingComments":[{"type":"Line","value":"This module may not have dependencies","range":[15055,15094],"loc":{"start":{"line":424,"column":8},"end":{"line":424,"column":47}}}]},{"range":[15103,15332],"loc":{"start":{"line":425,"column":8},"end":{"line":431,"column":9}},"type":"IfStatement","test":{"range":[15107,15119],"loc":{"start":{"line":425,"column":12},"end":{"line":425,"column":24}},"type":"UnaryExpression","operator":"!","argument":{"range":[15108,15119],"loc":{"start":{"line":425,"column":13},"end":{"line":425,"column":24}},"type":"MemberExpression","computed":false,"object":{"range":[15108,15112],"loc":{"start":{"line":425,"column":13},"end":{"line":425,"column":17}},"type":"Identifier","name":"deps"},"property":{"range":[15113,15119],"loc":{"start":{"line":425,"column":18},"end":{"line":425,"column":24}},"type":"Identifier","name":"splice"}},"prefix":true},"consequent":{"range":[15121,15332],"loc":{"start":{"line":425,"column":26},"end":{"line":431,"column":9}},"type":"BlockStatement","body":[{"range":[15283,15299],"loc":{"start":{"line":429,"column":12},"end":{"line":429,"column":28}},"type":"ExpressionStatement","expression":{"range":[15283,15298],"loc":{"start":{"line":429,"column":12},"end":{"line":429,"column":27}},"type":"AssignmentExpression","operator":"=","left":{"range":[15283,15291],"loc":{"start":{"line":429,"column":12},"end":{"line":429,"column":20}},"type":"Identifier","name":"callback"},"right":{"range":[15294,15298],"loc":{"start":{"line":429,"column":23},"end":{"line":429,"column":27}},"type":"Identifier","name":"deps"}},"leadingComments":[{"type":"Line","value":"deps is not an array, so probably means","range":[15135,15176],"loc":{"start":{"line":426,"column":12},"end":{"line":426,"column":53}}},{"type":"Line","value":"an object literal or factory function for","range":[15189,15232],"loc":{"start":{"line":427,"column":12},"end":{"line":427,"column":55}}},{"type":"Line","value":"the value. Adjust args.","range":[15245,15270],"loc":{"start":{"line":428,"column":12},"end":{"line":428,"column":37}}}]},{"range":[15312,15322],"loc":{"start":{"line":430,"column":12},"end":{"line":430,"column":22}},"type":"ExpressionStatement","expression":{"range":[15312,15321],"loc":{"start":{"line":430,"column":12},"end":{"line":430,"column":21}},"type":"AssignmentExpression","operator":"=","left":{"range":[15312,15316],"loc":{"start":{"line":430,"column":12},"end":{"line":430,"column":16}},"type":"Identifier","name":"deps"},"right":{"range":[15319,15321],"loc":{"start":{"line":430,"column":19},"end":{"line":430,"column":21}},"type":"ArrayExpression","elements":[]}}}]},"alternate":null,"leadingComments":[{"type":"Line","value":"This module may not have dependencies","range":[15055,15094],"loc":{"start":{"line":424,"column":8},"end":{"line":424,"column":47}}}]},{"range":[15342,15461],"loc":{"start":{"line":433,"column":8},"end":{"line":435,"column":9}},"type":"IfStatement","test":{"range":[15346,15396],"loc":{"start":{"line":433,"column":12},"end":{"line":433,"column":62}},"type":"LogicalExpression","operator":"&&","left":{"range":[15346,15369],"loc":{"start":{"line":433,"column":12},"end":{"line":433,"column":35}},"type":"UnaryExpression","operator":"!","argument":{"range":[15347,15369],"loc":{"start":{"line":433,"column":13},"end":{"line":433,"column":35}},"type":"CallExpression","callee":{"range":[15347,15354],"loc":{"start":{"line":433,"column":13},"end":{"line":433,"column":20}},"type":"Identifier","name":"hasProp"},"arguments":[{"range":[15355,15362],"loc":{"start":{"line":433,"column":21},"end":{"line":433,"column":28}},"type":"Identifier","name":"defined"},{"range":[15364,15368],"loc":{"start":{"line":433,"column":30},"end":{"line":433,"column":34}},"type":"Identifier","name":"name"}]},"prefix":true},"right":{"range":[15373,15396],"loc":{"start":{"line":433,"column":39},"end":{"line":433,"column":62}},"type":"UnaryExpression","operator":"!","argument":{"range":[15374,15396],"loc":{"start":{"line":433,"column":40},"end":{"line":433,"column":62}},"type":"CallExpression","callee":{"range":[15374,15381],"loc":{"start":{"line":433,"column":40},"end":{"line":433,"column":47}},"type":"Identifier","name":"hasProp"},"arguments":[{"range":[15382,15389],"loc":{"start":{"line":433,"column":48},"end":{"line":433,"column":55}},"type":"Identifier","name":"waiting"},{"range":[15391,15395],"loc":{"start":{"line":433,"column":57},"end":{"line":433,"column":61}},"type":"Identifier","name":"name"}]},"prefix":true}},"consequent":{"range":[15398,15461],"loc":{"start":{"line":433,"column":64},"end":{"line":435,"column":9}},"type":"BlockStatement","body":[{"range":[15412,15451],"loc":{"start":{"line":434,"column":12},"end":{"line":434,"column":51}},"type":"ExpressionStatement","expression":{"range":[15412,15450],"loc":{"start":{"line":434,"column":12},"end":{"line":434,"column":50}},"type":"AssignmentExpression","operator":"=","left":{"range":[15412,15425],"loc":{"start":{"line":434,"column":12},"end":{"line":434,"column":25}},"type":"MemberExpression","computed":true,"object":{"range":[15412,15419],"loc":{"start":{"line":434,"column":12},"end":{"line":434,"column":19}},"type":"Identifier","name":"waiting"},"property":{"range":[15420,15424],"loc":{"start":{"line":434,"column":20},"end":{"line":434,"column":24}},"type":"Identifier","name":"name"}},"right":{"range":[15428,15450],"loc":{"start":{"line":434,"column":28},"end":{"line":434,"column":50}},"type":"ArrayExpression","elements":[{"range":[15429,15433],"loc":{"start":{"line":434,"column":29},"end":{"line":434,"column":33}},"type":"Identifier","name":"name"},{"range":[15435,15439],"loc":{"start":{"line":434,"column":35},"end":{"line":434,"column":39}},"type":"Identifier","name":"deps"},{"range":[15441,15449],"loc":{"start":{"line":434,"column":41},"end":{"line":434,"column":49}},"type":"Identifier","name":"callback"}]}}}]},"alternate":null}]},"generator":false,"expression":false}}},{"range":[15474,15516],"loc":{"start":{"line":438,"column":4},"end":{"line":440,"column":6}},"type":"ExpressionStatement","expression":{"range":[15474,15515],"loc":{"start":{"line":438,"column":4},"end":{"line":440,"column":5}},"type":"AssignmentExpression","operator":"=","left":{"range":[15474,15484],"loc":{"start":{"line":438,"column":4},"end":{"line":438,"column":14}},"type":"MemberExpression","computed":false,"object":{"range":[15474,15480],"loc":{"start":{"line":438,"column":4},"end":{"line":438,"column":10}},"type":"Identifier","name":"define"},"property":{"range":[15481,15484],"loc":{"start":{"line":438,"column":11},"end":{"line":438,"column":14}},"type":"Identifier","name":"amd"}},"right":{"range":[15487,15515],"loc":{"start":{"line":438,"column":17},"end":{"line":440,"column":5}},"type":"ObjectExpression","properties":[{"range":[15497,15509],"loc":{"start":{"line":439,"column":8},"end":{"line":439,"column":20}},"type":"Property","key":{"range":[15497,15503],"loc":{"start":{"line":439,"column":8},"end":{"line":439,"column":14}},"type":"Identifier","name":"jQuery"},"computed":false,"value":{"range":[15505,15509],"loc":{"start":{"line":439,"column":16},"end":{"line":439,"column":20}},"type":"Literal","value":true,"raw":"true"},"kind":"init","method":false,"shorthand":false}]}}}]},"generator":false,"expression":false},"arguments":[]}},{"range":[15524,15555],"loc":{"start":{"line":443,"column":0},"end":{"line":443,"column":31}},"type":"ExpressionStatement","expression":{"range":[15524,15554],"loc":{"start":{"line":443,"column":0},"end":{"line":443,"column":30}},"type":"CallExpression","callee":{"range":[15524,15530],"loc":{"start":{"line":443,"column":0},"end":{"line":443,"column":6}},"type":"Identifier","name":"define"},"arguments":[{"range":[15531,15539],"loc":{"start":{"line":443,"column":7},"end":{"line":443,"column":15}},"type":"Literal","value":"almond","raw":"\"almond\""},{"range":[15541,15553],"loc":{"start":{"line":443,"column":17},"end":{"line":443,"column":29}},"type":"FunctionExpression","id":null,"params":[],"defaults":[],"body":{"range":[15551,15553],"loc":{"start":{"line":443,"column":27},"end":{"line":443,"column":29}},"type":"BlockStatement","body":[]},"generator":false,"expression":false}]},"trailingComments":[{"type":"Block","value":"! Native Promise Only\n    v0.7.8-a (c) Kyle Simpson\n    MIT License: http://getify.mit-license.org\n","range":[15557,15660],"loc":{"start":{"line":445,"column":0},"end":{"line":448,"column":2}}}]},{"range":[15662,23589],"loc":{"start":{"line":450,"column":0},"end":{"line":810,"column":3}},"type":"ExpressionStatement","expression":{"range":[15662,23588],"loc":{"start":{"line":450,"column":0},"end":{"line":810,"column":2}},"type":"CallExpression","callee":{"range":[15663,16020],"loc":{"start":{"line":450,"column":1},"end":{"line":455,"column":1}},"type":"FunctionExpression","id":{"range":[15672,15675],"loc":{"start":{"line":450,"column":10},"end":{"line":450,"column":13}},"type":"Identifier","name":"UMD"},"params":[{"range":[15676,15680],"loc":{"start":{"line":450,"column":14},"end":{"line":450,"column":18}},"type":"Identifier","name":"name"},{"range":[15681,15688],"loc":{"start":{"line":450,"column":19},"end":{"line":450,"column":26}},"type":"Identifier","name":"context"},{"range":[15689,15699],"loc":{"start":{"line":450,"column":27},"end":{"line":450,"column":37}},"type":"Identifier","name":"definition"}],"defaults":[],"body":{"range":[15700,16020],"loc":{"start":{"line":450,"column":38},"end":{"line":455,"column":1}},"type":"BlockStatement","body":[{"range":[15762,15808],"loc":{"start":{"line":452,"column":1},"end":{"line":452,"column":47}},"type":"ExpressionStatement","expression":{"range":[15762,15807],"loc":{"start":{"line":452,"column":1},"end":{"line":452,"column":46}},"type":"AssignmentExpression","operator":"=","left":{"range":[15762,15775],"loc":{"start":{"line":452,"column":1},"end":{"line":452,"column":14}},"type":"MemberExpression","computed":true,"object":{"range":[15762,15769],"loc":{"start":{"line":452,"column":1},"end":{"line":452,"column":8}},"type":"Identifier","name":"context"},"property":{"range":[15770,15774],"loc":{"start":{"line":452,"column":9},"end":{"line":452,"column":13}},"type":"Identifier","name":"name"}},"right":{"range":[15778,15807],"loc":{"start":{"line":452,"column":17},"end":{"line":452,"column":46}},"type":"LogicalExpression","operator":"||","left":{"range":[15778,15791],"loc":{"start":{"line":452,"column":17},"end":{"line":452,"column":30}},"type":"MemberExpression","computed":true,"object":{"range":[15778,15785],"loc":{"start":{"line":452,"column":17},"end":{"line":452,"column":24}},"type":"Identifier","name":"context"},"property":{"range":[15786,15790],"loc":{"start":{"line":452,"column":25},"end":{"line":452,"column":29}},"type":"Identifier","name":"name"}},"right":{"range":[15795,15807],"loc":{"start":{"line":452,"column":34},"end":{"line":452,"column":46}},"type":"CallExpression","callee":{"range":[15795,15805],"loc":{"start":{"line":452,"column":34},"end":{"line":452,"column":44}},"type":"Identifier","name":"definition"},"arguments":[]}}},"leadingComments":[{"type":"Line","value":" special form of UMD for polyfilling across evironments","range":[15703,15760],"loc":{"start":{"line":451,"column":1},"end":{"line":451,"column":58}}}]},{"range":[15810,16018],"loc":{"start":{"line":453,"column":1},"end":{"line":454,"column":93}},"type":"IfStatement","test":{"range":[15814,15855],"loc":{"start":{"line":453,"column":5},"end":{"line":453,"column":46}},"type":"LogicalExpression","operator":"&&","left":{"range":[15814,15841],"loc":{"start":{"line":453,"column":5},"end":{"line":453,"column":32}},"type":"BinaryExpression","operator":"==","left":{"range":[15814,15827],"loc":{"start":{"line":453,"column":5},"end":{"line":453,"column":18}},"type":"UnaryExpression","operator":"typeof","argument":{"range":[15821,15827],"loc":{"start":{"line":453,"column":12},"end":{"line":453,"column":18}},"type":"Identifier","name":"define"},"prefix":true},"right":{"range":[15831,15841],"loc":{"start":{"line":453,"column":22},"end":{"line":453,"column":32}},"type":"Literal","value":"function","raw":"\"function\""}},"right":{"range":[15845,15855],"loc":{"start":{"line":453,"column":36},"end":{"line":453,"column":46}},"type":"MemberExpression","computed":false,"object":{"range":[15845,15851],"loc":{"start":{"line":453,"column":36},"end":{"line":453,"column":42}},"type":"Identifier","name":"define"},"property":{"range":[15852,15855],"loc":{"start":{"line":453,"column":43},"end":{"line":453,"column":46}},"type":"Identifier","name":"amd"}}},"consequent":{"range":[15857,15924],"loc":{"start":{"line":453,"column":48},"end":{"line":453,"column":115}},"type":"BlockStatement","body":[{"range":[15859,15922],"loc":{"start":{"line":453,"column":50},"end":{"line":453,"column":113}},"type":"ExpressionStatement","expression":{"range":[15859,15921],"loc":{"start":{"line":453,"column":50},"end":{"line":453,"column":112}},"type":"CallExpression","callee":{"range":[15859,15865],"loc":{"start":{"line":453,"column":50},"end":{"line":453,"column":56}},"type":"Identifier","name":"define"},"arguments":[{"range":[15866,15875],"loc":{"start":{"line":453,"column":57},"end":{"line":453,"column":66}},"type":"Literal","value":"promise","raw":"'promise'"},{"range":[15876,15878],"loc":{"start":{"line":453,"column":67},"end":{"line":453,"column":69}},"type":"ArrayExpression","elements":[]},{"range":[15879,15920],"loc":{"start":{"line":453,"column":70},"end":{"line":453,"column":111}},"type":"FunctionExpression","id":{"range":[15888,15893],"loc":{"start":{"line":453,"column":79},"end":{"line":453,"column":84}},"type":"Identifier","name":"$AMD$"},"params":[],"defaults":[],"body":{"range":[15895,15920],"loc":{"start":{"line":453,"column":86},"end":{"line":453,"column":111}},"type":"BlockStatement","body":[{"range":[15897,15918],"loc":{"start":{"line":453,"column":88},"end":{"line":453,"column":109}},"type":"ReturnStatement","argument":{"range":[15904,15917],"loc":{"start":{"line":453,"column":95},"end":{"line":453,"column":108}},"type":"MemberExpression","computed":true,"object":{"range":[15904,15911],"loc":{"start":{"line":453,"column":95},"end":{"line":453,"column":102}},"type":"Identifier","name":"context"},"property":{"range":[15912,15916],"loc":{"start":{"line":453,"column":103},"end":{"line":453,"column":107}},"type":"Identifier","name":"name"}}}]},"generator":false,"expression":false}]}}]},"alternate":{"range":[15931,16018],"loc":{"start":{"line":454,"column":6},"end":{"line":454,"column":93}},"type":"IfStatement","test":{"range":[15935,15981],"loc":{"start":{"line":454,"column":10},"end":{"line":454,"column":56}},"type":"LogicalExpression","operator":"&&","left":{"range":[15935,15963],"loc":{"start":{"line":454,"column":10},"end":{"line":454,"column":38}},"type":"BinaryExpression","operator":"!=","left":{"range":[15935,15948],"loc":{"start":{"line":454,"column":10},"end":{"line":454,"column":23}},"type":"UnaryExpression","operator":"typeof","argument":{"range":[15942,15948],"loc":{"start":{"line":454,"column":17},"end":{"line":454,"column":23}},"type":"Identifier","name":"module"},"prefix":true},"right":{"range":[15952,15963],"loc":{"start":{"line":454,"column":27},"end":{"line":454,"column":38}},"type":"Literal","value":"undefined","raw":"\"undefined\""}},"right":{"range":[15967,15981],"loc":{"start":{"line":454,"column":42},"end":{"line":454,"column":56}},"type":"MemberExpression","computed":false,"object":{"range":[15967,15973],"loc":{"start":{"line":454,"column":42},"end":{"line":454,"column":48}},"type":"Identifier","name":"module"},"property":{"range":[15974,15981],"loc":{"start":{"line":454,"column":49},"end":{"line":454,"column":56}},"type":"Identifier","name":"exports"}}},"consequent":{"range":[15983,16018],"loc":{"start":{"line":454,"column":58},"end":{"line":454,"column":93}},"type":"BlockStatement","body":[{"range":[15985,16016],"loc":{"start":{"line":454,"column":60},"end":{"line":454,"column":91}},"type":"ExpressionStatement","expression":{"range":[15985,16015],"loc":{"start":{"line":454,"column":60},"end":{"line":454,"column":90}},"type":"AssignmentExpression","operator":"=","left":{"range":[15985,15999],"loc":{"start":{"line":454,"column":60},"end":{"line":454,"column":74}},"type":"MemberExpression","computed":false,"object":{"range":[15985,15991],"loc":{"start":{"line":454,"column":60},"end":{"line":454,"column":66}},"type":"Identifier","name":"module"},"property":{"range":[15992,15999],"loc":{"start":{"line":454,"column":67},"end":{"line":454,"column":74}},"type":"Identifier","name":"exports"}},"right":{"range":[16002,16015],"loc":{"start":{"line":454,"column":77},"end":{"line":454,"column":90}},"type":"MemberExpression","computed":true,"object":{"range":[16002,16009],"loc":{"start":{"line":454,"column":77},"end":{"line":454,"column":84}},"type":"Identifier","name":"context"},"property":{"range":[16010,16014],"loc":{"start":{"line":454,"column":85},"end":{"line":454,"column":89}},"type":"Identifier","name":"name"}}}}]},"alternate":null}}]},"generator":false,"expression":false},"arguments":[{"range":[16022,16031],"loc":{"start":{"line":455,"column":3},"end":{"line":455,"column":12}},"type":"Literal","value":"Promise","raw":"\"Promise\""},{"range":[16032,16076],"loc":{"start":{"line":455,"column":13},"end":{"line":455,"column":57}},"type":"ConditionalExpression","test":{"range":[16032,16060],"loc":{"start":{"line":455,"column":13},"end":{"line":455,"column":41}},"type":"BinaryExpression","operator":"!=","left":{"range":[16032,16045],"loc":{"start":{"line":455,"column":13},"end":{"line":455,"column":26}},"type":"UnaryExpression","operator":"typeof","argument":{"range":[16039,16045],"loc":{"start":{"line":455,"column":20},"end":{"line":455,"column":26}},"type":"Identifier","name":"global"},"prefix":true},"right":{"range":[16049,16060],"loc":{"start":{"line":455,"column":30},"end":{"line":455,"column":41}},"type":"Literal","value":"undefined","raw":"\"undefined\""}},"consequent":{"range":[16063,16069],"loc":{"start":{"line":455,"column":44},"end":{"line":455,"column":50}},"type":"Identifier","name":"global"},"alternate":{"range":[16072,16076],"loc":{"start":{"line":455,"column":53},"end":{"line":455,"column":57}},"type":"ThisExpression"}},{"range":[16077,23587],"loc":{"start":{"line":455,"column":58},"end":{"line":810,"column":1}},"type":"FunctionExpression","id":{"range":[16086,16089],"loc":{"start":{"line":455,"column":67},"end":{"line":455,"column":70}},"type":"Identifier","name":"DEF"},"params":[],"defaults":[],"body":{"range":[16091,23587],"loc":{"start":{"line":455,"column":72},"end":{"line":810,"column":1}},"type":"BlockStatement","body":[{"range":[16122,16135],"loc":{"start":{"line":457,"column":1},"end":{"line":457,"column":14}},"type":"ExpressionStatement","expression":{"range":[16122,16134],"loc":{"start":{"line":457,"column":1},"end":{"line":457,"column":13}},"type":"Literal","value":"use strict","raw":"\"use strict\""},"leadingComments":[{"type":"Block","value":"jshint validthis:true ","range":[16094,16120],"loc":{"start":{"line":456,"column":1},"end":{"line":456,"column":27}}}]},{"range":[16138,16338],"loc":{"start":{"line":459,"column":1},"end":{"line":464,"column":2}},"type":"VariableDeclaration","declarations":[{"range":[16142,16153],"loc":{"start":{"line":459,"column":5},"end":{"line":459,"column":16}},"type":"VariableDeclarator","id":{"range":[16142,16153],"loc":{"start":{"line":459,"column":5},"end":{"line":459,"column":16}},"type":"Identifier","name":"builtInProp"},"init":null},{"range":[16155,16160],"loc":{"start":{"line":459,"column":18},"end":{"line":459,"column":23}},"type":"VariableDeclarator","id":{"range":[16155,16160],"loc":{"start":{"line":459,"column":18},"end":{"line":459,"column":23}},"type":"Identifier","name":"cycle"},"init":null},{"range":[16162,16178],"loc":{"start":{"line":459,"column":25},"end":{"line":459,"column":41}},"type":"VariableDeclarator","id":{"range":[16162,16178],"loc":{"start":{"line":459,"column":25},"end":{"line":459,"column":41}},"type":"Identifier","name":"scheduling_queue"},"init":null},{"range":[16182,16218],"loc":{"start":{"line":460,"column":2},"end":{"line":460,"column":38}},"type":"VariableDeclarator","id":{"range":[16182,16190],"loc":{"start":{"line":460,"column":2},"end":{"line":460,"column":10}},"type":"Identifier","name":"ToString"},"init":{"range":[16193,16218],"loc":{"start":{"line":460,"column":13},"end":{"line":460,"column":38}},"type":"MemberExpression","computed":false,"object":{"range":[16193,16209],"loc":{"start":{"line":460,"column":13},"end":{"line":460,"column":29}},"type":"MemberExpression","computed":false,"object":{"range":[16193,16199],"loc":{"start":{"line":460,"column":13},"end":{"line":460,"column":19}},"type":"Identifier","name":"Object"},"property":{"range":[16200,16209],"loc":{"start":{"line":460,"column":20},"end":{"line":460,"column":29}},"type":"Identifier","name":"prototype"}},"property":{"range":[16210,16218],"loc":{"start":{"line":460,"column":30},"end":{"line":460,"column":38}},"type":"Identifier","name":"toString"}}},{"range":[16222,16335],"loc":{"start":{"line":461,"column":2},"end":{"line":463,"column":13}},"type":"VariableDeclarator","id":{"range":[16222,16227],"loc":{"start":{"line":461,"column":2},"end":{"line":461,"column":7}},"type":"Identifier","name":"timer"},"init":{"range":[16230,16335],"loc":{"start":{"line":461,"column":10},"end":{"line":463,"column":13}},"type":"ConditionalExpression","test":{"range":[16231,16265],"loc":{"start":{"line":461,"column":11},"end":{"line":461,"column":45}},"type":"BinaryExpression","operator":"!=","left":{"range":[16231,16250],"loc":{"start":{"line":461,"column":11},"end":{"line":461,"column":30}},"type":"UnaryExpression","operator":"typeof","argument":{"range":[16238,16250],"loc":{"start":{"line":461,"column":18},"end":{"line":461,"column":30}},"type":"Identifier","name":"setImmediate"},"prefix":true},"right":{"range":[16254,16265],"loc":{"start":{"line":461,"column":34},"end":{"line":461,"column":45}},"type":"Literal","value":"undefined","raw":"\"undefined\""}},"consequent":{"range":[16272,16319],"loc":{"start":{"line":462,"column":3},"end":{"line":462,"column":50}},"type":"FunctionExpression","id":{"range":[16281,16286],"loc":{"start":{"line":462,"column":12},"end":{"line":462,"column":17}},"type":"Identifier","name":"timer"},"params":[{"range":[16287,16289],"loc":{"start":{"line":462,"column":18},"end":{"line":462,"column":20}},"type":"Identifier","name":"fn"}],"defaults":[],"body":{"range":[16291,16319],"loc":{"start":{"line":462,"column":22},"end":{"line":462,"column":50}},"type":"BlockStatement","body":[{"range":[16293,16317],"loc":{"start":{"line":462,"column":24},"end":{"line":462,"column":48}},"type":"ReturnStatement","argument":{"range":[16300,16316],"loc":{"start":{"line":462,"column":31},"end":{"line":462,"column":47}},"type":"CallExpression","callee":{"range":[16300,16312],"loc":{"start":{"line":462,"column":31},"end":{"line":462,"column":43}},"type":"Identifier","name":"setImmediate"},"arguments":[{"range":[16313,16315],"loc":{"start":{"line":462,"column":44},"end":{"line":462,"column":46}},"type":"Identifier","name":"fn"}]}}]},"generator":false,"expression":false},"alternate":{"range":[16325,16335],"loc":{"start":{"line":463,"column":3},"end":{"line":463,"column":13}},"type":"Identifier","name":"setTimeout"}}}],"kind":"var","trailingComments":[{"type":"Line","value":" dammit, IE8.","range":[16341,16356],"loc":{"start":{"line":466,"column":1},"end":{"line":466,"column":16}}}]},{"range":[16358,16699],"loc":{"start":{"line":467,"column":1},"end":{"line":482,"column":2}},"type":"TryStatement","block":{"range":[16362,16588],"loc":{"start":{"line":467,"column":5},"end":{"line":476,"column":2}},"type":"BlockStatement","body":[{"range":[16366,16399],"loc":{"start":{"line":468,"column":2},"end":{"line":468,"column":35}},"type":"ExpressionStatement","expression":{"range":[16366,16398],"loc":{"start":{"line":468,"column":2},"end":{"line":468,"column":34}},"type":"CallExpression","callee":{"range":[16366,16387],"loc":{"start":{"line":468,"column":2},"end":{"line":468,"column":23}},"type":"MemberExpression","computed":false,"object":{"range":[16366,16372],"loc":{"start":{"line":468,"column":2},"end":{"line":468,"column":8}},"type":"Identifier","name":"Object"},"property":{"range":[16373,16387],"loc":{"start":{"line":468,"column":9},"end":{"line":468,"column":23}},"type":"Identifier","name":"defineProperty"}},"arguments":[{"range":[16388,16390],"loc":{"start":{"line":468,"column":24},"end":{"line":468,"column":26}},"type":"ObjectExpression","properties":[]},{"range":[16391,16394],"loc":{"start":{"line":468,"column":27},"end":{"line":468,"column":30}},"type":"Literal","value":"x","raw":"\"x\""},{"range":[16395,16397],"loc":{"start":{"line":468,"column":31},"end":{"line":468,"column":33}},"type":"ObjectExpression","properties":[]}]}},{"range":[16402,16585],"loc":{"start":{"line":469,"column":2},"end":{"line":475,"column":4}},"type":"ExpressionStatement","expression":{"range":[16402,16584],"loc":{"start":{"line":469,"column":2},"end":{"line":475,"column":3}},"type":"AssignmentExpression","operator":"=","left":{"range":[16402,16413],"loc":{"start":{"line":469,"column":2},"end":{"line":469,"column":13}},"type":"Identifier","name":"builtInProp"},"right":{"range":[16416,16584],"loc":{"start":{"line":469,"column":16},"end":{"line":475,"column":3}},"type":"FunctionExpression","id":{"range":[16425,16436],"loc":{"start":{"line":469,"column":25},"end":{"line":469,"column":36}},"type":"Identifier","name":"builtInProp"},"params":[{"range":[16437,16440],"loc":{"start":{"line":469,"column":37},"end":{"line":469,"column":40}},"type":"Identifier","name":"obj"},{"range":[16441,16445],"loc":{"start":{"line":469,"column":41},"end":{"line":469,"column":45}},"type":"Identifier","name":"name"},{"range":[16446,16449],"loc":{"start":{"line":469,"column":46},"end":{"line":469,"column":49}},"type":"Identifier","name":"val"},{"range":[16450,16456],"loc":{"start":{"line":469,"column":50},"end":{"line":469,"column":56}},"type":"Identifier","name":"config"}],"defaults":[],"body":{"range":[16458,16584],"loc":{"start":{"line":469,"column":58},"end":{"line":475,"column":3}},"type":"BlockStatement","body":[{"range":[16463,16580],"loc":{"start":{"line":470,"column":3},"end":{"line":474,"column":6}},"type":"ReturnStatement","argument":{"range":[16470,16579],"loc":{"start":{"line":470,"column":10},"end":{"line":474,"column":5}},"type":"CallExpression","callee":{"range":[16470,16491],"loc":{"start":{"line":470,"column":10},"end":{"line":470,"column":31}},"type":"MemberExpression","computed":false,"object":{"range":[16470,16476],"loc":{"start":{"line":470,"column":10},"end":{"line":470,"column":16}},"type":"Identifier","name":"Object"},"property":{"range":[16477,16491],"loc":{"start":{"line":470,"column":17},"end":{"line":470,"column":31}},"type":"Identifier","name":"defineProperty"}},"arguments":[{"range":[16492,16495],"loc":{"start":{"line":470,"column":32},"end":{"line":470,"column":35}},"type":"Identifier","name":"obj"},{"range":[16496,16500],"loc":{"start":{"line":470,"column":36},"end":{"line":470,"column":40}},"type":"Identifier","name":"name"},{"range":[16501,16578],"loc":{"start":{"line":470,"column":41},"end":{"line":474,"column":4}},"type":"ObjectExpression","properties":[{"range":[16507,16517],"loc":{"start":{"line":471,"column":4},"end":{"line":471,"column":14}},"type":"Property","key":{"range":[16507,16512],"loc":{"start":{"line":471,"column":4},"end":{"line":471,"column":9}},"type":"Identifier","name":"value"},"computed":false,"value":{"range":[16514,16517],"loc":{"start":{"line":471,"column":11},"end":{"line":471,"column":14}},"type":"Identifier","name":"val"},"kind":"init","method":false,"shorthand":false},{"range":[16523,16537],"loc":{"start":{"line":472,"column":4},"end":{"line":472,"column":18}},"type":"Property","key":{"range":[16523,16531],"loc":{"start":{"line":472,"column":4},"end":{"line":472,"column":12}},"type":"Identifier","name":"writable"},"computed":false,"value":{"range":[16533,16537],"loc":{"start":{"line":472,"column":14},"end":{"line":472,"column":18}},"type":"Literal","value":true,"raw":"true"},"kind":"init","method":false,"shorthand":false},{"range":[16543,16573],"loc":{"start":{"line":473,"column":4},"end":{"line":473,"column":34}},"type":"Property","key":{"range":[16543,16555],"loc":{"start":{"line":473,"column":4},"end":{"line":473,"column":16}},"type":"Identifier","name":"configurable"},"computed":false,"value":{"range":[16557,16573],"loc":{"start":{"line":473,"column":18},"end":{"line":473,"column":34}},"type":"BinaryExpression","operator":"!==","left":{"range":[16557,16563],"loc":{"start":{"line":473,"column":18},"end":{"line":473,"column":24}},"type":"Identifier","name":"config"},"right":{"range":[16568,16573],"loc":{"start":{"line":473,"column":29},"end":{"line":473,"column":34}},"type":"Literal","value":false,"raw":"false"}},"kind":"init","method":false,"shorthand":false}]}]}}]},"generator":false,"expression":false}}}]},"guardedHandlers":[],"handlers":[{"range":[16590,16699],"loc":{"start":{"line":477,"column":1},"end":{"line":482,"column":2}},"type":"CatchClause","param":{"range":[16597,16600],"loc":{"start":{"line":477,"column":8},"end":{"line":477,"column":11}},"type":"Identifier","name":"err"},"body":{"range":[16602,16699],"loc":{"start":{"line":477,"column":13},"end":{"line":482,"column":2}},"type":"BlockStatement","body":[{"range":[16606,16696],"loc":{"start":{"line":478,"column":2},"end":{"line":481,"column":4}},"type":"ExpressionStatement","expression":{"range":[16606,16695],"loc":{"start":{"line":478,"column":2},"end":{"line":481,"column":3}},"type":"AssignmentExpression","operator":"=","left":{"range":[16606,16617],"loc":{"start":{"line":478,"column":2},"end":{"line":478,"column":13}},"type":"Identifier","name":"builtInProp"},"right":{"range":[16620,16695],"loc":{"start":{"line":478,"column":16},"end":{"line":481,"column":3}},"type":"FunctionExpression","id":{"range":[16629,16640],"loc":{"start":{"line":478,"column":25},"end":{"line":478,"column":36}},"type":"Identifier","name":"builtInProp"},"params":[{"range":[16641,16644],"loc":{"start":{"line":478,"column":37},"end":{"line":478,"column":40}},"type":"Identifier","name":"obj"},{"range":[16645,16649],"loc":{"start":{"line":478,"column":41},"end":{"line":478,"column":45}},"type":"Identifier","name":"name"},{"range":[16650,16653],"loc":{"start":{"line":478,"column":46},"end":{"line":478,"column":49}},"type":"Identifier","name":"val"}],"defaults":[],"body":{"range":[16655,16695],"loc":{"start":{"line":478,"column":51},"end":{"line":481,"column":3}},"type":"BlockStatement","body":[{"range":[16660,16676],"loc":{"start":{"line":479,"column":3},"end":{"line":479,"column":19}},"type":"ExpressionStatement","expression":{"range":[16660,16675],"loc":{"start":{"line":479,"column":3},"end":{"line":479,"column":18}},"type":"AssignmentExpression","operator":"=","left":{"range":[16660,16669],"loc":{"start":{"line":479,"column":3},"end":{"line":479,"column":12}},"type":"MemberExpression","computed":true,"object":{"range":[16660,16663],"loc":{"start":{"line":479,"column":3},"end":{"line":479,"column":6}},"type":"Identifier","name":"obj"},"property":{"range":[16664,16668],"loc":{"start":{"line":479,"column":7},"end":{"line":479,"column":11}},"type":"Identifier","name":"name"}},"right":{"range":[16672,16675],"loc":{"start":{"line":479,"column":15},"end":{"line":479,"column":18}},"type":"Identifier","name":"val"}}},{"range":[16680,16691],"loc":{"start":{"line":480,"column":3},"end":{"line":480,"column":14}},"type":"ReturnStatement","argument":{"range":[16687,16690],"loc":{"start":{"line":480,"column":10},"end":{"line":480,"column":13}},"type":"Identifier","name":"obj"}}]},"generator":false,"expression":false}}}]}}],"handler":{"range":[16590,16699],"loc":{"start":{"line":477,"column":1},"end":{"line":482,"column":2}},"type":"CatchClause","param":{"range":[16597,16600],"loc":{"start":{"line":477,"column":8},"end":{"line":477,"column":11}},"type":"Identifier","name":"err"},"body":{"range":[16602,16699],"loc":{"start":{"line":477,"column":13},"end":{"line":482,"column":2}},"type":"BlockStatement","body":[{"range":[16606,16696],"loc":{"start":{"line":478,"column":2},"end":{"line":481,"column":4}},"type":"ExpressionStatement","expression":{"range":[16606,16695],"loc":{"start":{"line":478,"column":2},"end":{"line":481,"column":3}},"type":"AssignmentExpression","operator":"=","left":{"range":[16606,16617],"loc":{"start":{"line":478,"column":2},"end":{"line":478,"column":13}},"type":"Identifier","name":"builtInProp"},"right":{"range":[16620,16695],"loc":{"start":{"line":478,"column":16},"end":{"line":481,"column":3}},"type":"FunctionExpression","id":{"range":[16629,16640],"loc":{"start":{"line":478,"column":25},"end":{"line":478,"column":36}},"type":"Identifier","name":"builtInProp"},"params":[{"range":[16641,16644],"loc":{"start":{"line":478,"column":37},"end":{"line":478,"column":40}},"type":"Identifier","name":"obj"},{"range":[16645,16649],"loc":{"start":{"line":478,"column":41},"end":{"line":478,"column":45}},"type":"Identifier","name":"name"},{"range":[16650,16653],"loc":{"start":{"line":478,"column":46},"end":{"line":478,"column":49}},"type":"Identifier","name":"val"}],"defaults":[],"body":{"range":[16655,16695],"loc":{"start":{"line":478,"column":51},"end":{"line":481,"column":3}},"type":"BlockStatement","body":[{"range":[16660,16676],"loc":{"start":{"line":479,"column":3},"end":{"line":479,"column":19}},"type":"ExpressionStatement","expression":{"range":[16660,16675],"loc":{"start":{"line":479,"column":3},"end":{"line":479,"column":18}},"type":"AssignmentExpression","operator":"=","left":{"range":[16660,16669],"loc":{"start":{"line":479,"column":3},"end":{"line":479,"column":12}},"type":"MemberExpression","computed":true,"object":{"range":[16660,16663],"loc":{"start":{"line":479,"column":3},"end":{"line":479,"column":6}},"type":"Identifier","name":"obj"},"property":{"range":[16664,16668],"loc":{"start":{"line":479,"column":7},"end":{"line":479,"column":11}},"type":"Identifier","name":"name"}},"right":{"range":[16672,16675],"loc":{"start":{"line":479,"column":15},"end":{"line":479,"column":18}},"type":"Identifier","name":"val"}}},{"range":[16680,16691],"loc":{"start":{"line":480,"column":3},"end":{"line":480,"column":14}},"type":"ReturnStatement","argument":{"range":[16687,16690],"loc":{"start":{"line":480,"column":10},"end":{"line":480,"column":13}},"type":"Identifier","name":"obj"}}]},"generator":false,"expression":false}}}]}},"finalizer":null,"leadingComments":[{"type":"Line","value":" dammit, IE8.","range":[16341,16356],"loc":{"start":{"line":466,"column":1},"end":{"line":466,"column":16}}}],"trailingComments":[{"type":"Line","value":" Note: using a queue instead of array for efficiency","range":[16702,16756],"loc":{"start":{"line":484,"column":1},"end":{"line":484,"column":55}}}]},{"range":[16758,17275],"loc":{"start":{"line":485,"column":1},"end":{"line":516,"column":6}},"type":"ExpressionStatement","expression":{"range":[16758,17274],"loc":{"start":{"line":485,"column":1},"end":{"line":516,"column":5}},"type":"AssignmentExpression","operator":"=","left":{"range":[16758,16774],"loc":{"start":{"line":485,"column":1},"end":{"line":485,"column":17}},"type":"Identifier","name":"scheduling_queue"},"right":{"range":[16777,17274],"loc":{"start":{"line":485,"column":20},"end":{"line":516,"column":5}},"type":"CallExpression","callee":{"range":[16778,17271],"loc":{"start":{"line":485,"column":21},"end":{"line":516,"column":2}},"type":"FunctionExpression","id":{"range":[16787,16792],"loc":{"start":{"line":485,"column":30},"end":{"line":485,"column":35}},"type":"Identifier","name":"Queue"},"params":[],"defaults":[],"body":{"range":[16795,17271],"loc":{"start":{"line":485,"column":38},"end":{"line":516,"column":2}},"type":"BlockStatement","body":[{"range":[16799,16821],"loc":{"start":{"line":486,"column":2},"end":{"line":486,"column":24}},"type":"VariableDeclaration","declarations":[{"range":[16803,16808],"loc":{"start":{"line":486,"column":6},"end":{"line":486,"column":11}},"type":"VariableDeclarator","id":{"range":[16803,16808],"loc":{"start":{"line":486,"column":6},"end":{"line":486,"column":11}},"type":"Identifier","name":"first"},"init":null},{"range":[16810,16814],"loc":{"start":{"line":486,"column":13},"end":{"line":486,"column":17}},"type":"VariableDeclarator","id":{"range":[16810,16814],"loc":{"start":{"line":486,"column":13},"end":{"line":486,"column":17}},"type":"Identifier","name":"last"},"init":null},{"range":[16816,16820],"loc":{"start":{"line":486,"column":19},"end":{"line":486,"column":23}},"type":"VariableDeclarator","id":{"range":[16816,16820],"loc":{"start":{"line":486,"column":19},"end":{"line":486,"column":23}},"type":"Identifier","name":"item"},"init":null}],"kind":"var"},{"range":[16825,16914],"loc":{"start":{"line":488,"column":2},"end":{"line":492,"column":3}},"type":"FunctionDeclaration","id":{"range":[16834,16838],"loc":{"start":{"line":488,"column":11},"end":{"line":488,"column":15}},"type":"Identifier","name":"Item"},"params":[{"range":[16839,16841],"loc":{"start":{"line":488,"column":16},"end":{"line":488,"column":18}},"type":"Identifier","name":"fn"},{"range":[16842,16846],"loc":{"start":{"line":488,"column":19},"end":{"line":488,"column":23}},"type":"Identifier","name":"self"}],"defaults":[],"body":{"range":[16848,16914],"loc":{"start":{"line":488,"column":25},"end":{"line":492,"column":3}},"type":"BlockStatement","body":[{"range":[16853,16866],"loc":{"start":{"line":489,"column":3},"end":{"line":489,"column":16}},"type":"ExpressionStatement","expression":{"range":[16853,16865],"loc":{"start":{"line":489,"column":3},"end":{"line":489,"column":15}},"type":"AssignmentExpression","operator":"=","left":{"range":[16853,16860],"loc":{"start":{"line":489,"column":3},"end":{"line":489,"column":10}},"type":"MemberExpression","computed":false,"object":{"range":[16853,16857],"loc":{"start":{"line":489,"column":3},"end":{"line":489,"column":7}},"type":"ThisExpression"},"property":{"range":[16858,16860],"loc":{"start":{"line":489,"column":8},"end":{"line":489,"column":10}},"type":"Identifier","name":"fn"}},"right":{"range":[16863,16865],"loc":{"start":{"line":489,"column":13},"end":{"line":489,"column":15}},"type":"Identifier","name":"fn"}}},{"range":[16870,16887],"loc":{"start":{"line":490,"column":3},"end":{"line":490,"column":20}},"type":"ExpressionStatement","expression":{"range":[16870,16886],"loc":{"start":{"line":490,"column":3},"end":{"line":490,"column":19}},"type":"AssignmentExpression","operator":"=","left":{"range":[16870,16879],"loc":{"start":{"line":490,"column":3},"end":{"line":490,"column":12}},"type":"MemberExpression","computed":false,"object":{"range":[16870,16874],"loc":{"start":{"line":490,"column":3},"end":{"line":490,"column":7}},"type":"ThisExpression"},"property":{"range":[16875,16879],"loc":{"start":{"line":490,"column":8},"end":{"line":490,"column":12}},"type":"Identifier","name":"self"}},"right":{"range":[16882,16886],"loc":{"start":{"line":490,"column":15},"end":{"line":490,"column":19}},"type":"Identifier","name":"self"}}},{"range":[16891,16910],"loc":{"start":{"line":491,"column":3},"end":{"line":491,"column":22}},"type":"ExpressionStatement","expression":{"range":[16891,16909],"loc":{"start":{"line":491,"column":3},"end":{"line":491,"column":21}},"type":"AssignmentExpression","operator":"=","left":{"range":[16891,16900],"loc":{"start":{"line":491,"column":3},"end":{"line":491,"column":12}},"type":"MemberExpression","computed":false,"object":{"range":[16891,16895],"loc":{"start":{"line":491,"column":3},"end":{"line":491,"column":7}},"type":"ThisExpression"},"property":{"range":[16896,16900],"loc":{"start":{"line":491,"column":8},"end":{"line":491,"column":12}},"type":"Identifier","name":"next"}},"right":{"range":[16903,16909],"loc":{"start":{"line":491,"column":15},"end":{"line":491,"column":21}},"type":"UnaryExpression","operator":"void","argument":{"range":[16908,16909],"loc":{"start":{"line":491,"column":20},"end":{"line":491,"column":21}},"type":"Literal","value":0,"raw":"0"},"prefix":true}}}]},"generator":false,"expression":false},{"range":[16918,17268],"loc":{"start":{"line":494,"column":2},"end":{"line":515,"column":4}},"type":"ReturnStatement","argument":{"range":[16925,17267],"loc":{"start":{"line":494,"column":9},"end":{"line":515,"column":3}},"type":"ObjectExpression","properties":[{"range":[16930,17110],"loc":{"start":{"line":495,"column":3},"end":{"line":505,"column":4}},"type":"Property","key":{"range":[16930,16933],"loc":{"start":{"line":495,"column":3},"end":{"line":495,"column":6}},"type":"Identifier","name":"add"},"computed":false,"value":{"range":[16935,17110],"loc":{"start":{"line":495,"column":8},"end":{"line":505,"column":4}},"type":"FunctionExpression","id":{"range":[16944,16947],"loc":{"start":{"line":495,"column":17},"end":{"line":495,"column":20}},"type":"Identifier","name":"add"},"params":[{"range":[16948,16950],"loc":{"start":{"line":495,"column":21},"end":{"line":495,"column":23}},"type":"Identifier","name":"fn"},{"range":[16951,16955],"loc":{"start":{"line":495,"column":24},"end":{"line":495,"column":28}},"type":"Identifier","name":"self"}],"defaults":[],"body":{"range":[16957,17110],"loc":{"start":{"line":495,"column":30},"end":{"line":505,"column":4}},"type":"BlockStatement","body":[{"range":[16963,16988],"loc":{"start":{"line":496,"column":4},"end":{"line":496,"column":29}},"type":"ExpressionStatement","expression":{"range":[16963,16987],"loc":{"start":{"line":496,"column":4},"end":{"line":496,"column":28}},"type":"AssignmentExpression","operator":"=","left":{"range":[16963,16967],"loc":{"start":{"line":496,"column":4},"end":{"line":496,"column":8}},"type":"Identifier","name":"item"},"right":{"range":[16970,16987],"loc":{"start":{"line":496,"column":11},"end":{"line":496,"column":28}},"type":"NewExpression","callee":{"range":[16974,16978],"loc":{"start":{"line":496,"column":15},"end":{"line":496,"column":19}},"type":"Identifier","name":"Item"},"arguments":[{"range":[16979,16981],"loc":{"start":{"line":496,"column":20},"end":{"line":496,"column":22}},"type":"Identifier","name":"fn"},{"range":[16982,16986],"loc":{"start":{"line":496,"column":23},"end":{"line":496,"column":27}},"type":"Identifier","name":"self"}]}}},{"range":[16993,17069],"loc":{"start":{"line":497,"column":4},"end":{"line":502,"column":5}},"type":"IfStatement","test":{"range":[16997,17001],"loc":{"start":{"line":497,"column":8},"end":{"line":497,"column":12}},"type":"Identifier","name":"last"},"consequent":{"range":[17003,17033],"loc":{"start":{"line":497,"column":14},"end":{"line":499,"column":5}},"type":"BlockStatement","body":[{"range":[17010,17027],"loc":{"start":{"line":498,"column":5},"end":{"line":498,"column":22}},"type":"ExpressionStatement","expression":{"range":[17010,17026],"loc":{"start":{"line":498,"column":5},"end":{"line":498,"column":21}},"type":"AssignmentExpression","operator":"=","left":{"range":[17010,17019],"loc":{"start":{"line":498,"column":5},"end":{"line":498,"column":14}},"type":"MemberExpression","computed":false,"object":{"range":[17010,17014],"loc":{"start":{"line":498,"column":5},"end":{"line":498,"column":9}},"type":"Identifier","name":"last"},"property":{"range":[17015,17019],"loc":{"start":{"line":498,"column":10},"end":{"line":498,"column":14}},"type":"Identifier","name":"next"}},"right":{"range":[17022,17026],"loc":{"start":{"line":498,"column":17},"end":{"line":498,"column":21}},"type":"Identifier","name":"item"}}}]},"alternate":{"range":[17043,17069],"loc":{"start":{"line":500,"column":9},"end":{"line":502,"column":5}},"type":"BlockStatement","body":[{"range":[17050,17063],"loc":{"start":{"line":501,"column":5},"end":{"line":501,"column":18}},"type":"ExpressionStatement","expression":{"range":[17050,17062],"loc":{"start":{"line":501,"column":5},"end":{"line":501,"column":17}},"type":"AssignmentExpression","operator":"=","left":{"range":[17050,17055],"loc":{"start":{"line":501,"column":5},"end":{"line":501,"column":10}},"type":"Identifier","name":"first"},"right":{"range":[17058,17062],"loc":{"start":{"line":501,"column":13},"end":{"line":501,"column":17}},"type":"Identifier","name":"item"}}}]}},{"range":[17074,17086],"loc":{"start":{"line":503,"column":4},"end":{"line":503,"column":16}},"type":"ExpressionStatement","expression":{"range":[17074,17085],"loc":{"start":{"line":503,"column":4},"end":{"line":503,"column":15}},"type":"AssignmentExpression","operator":"=","left":{"range":[17074,17078],"loc":{"start":{"line":503,"column":4},"end":{"line":503,"column":8}},"type":"Identifier","name":"last"},"right":{"range":[17081,17085],"loc":{"start":{"line":503,"column":11},"end":{"line":503,"column":15}},"type":"Identifier","name":"item"}}},{"range":[17091,17105],"loc":{"start":{"line":504,"column":4},"end":{"line":504,"column":18}},"type":"ExpressionStatement","expression":{"range":[17091,17104],"loc":{"start":{"line":504,"column":4},"end":{"line":504,"column":17}},"type":"AssignmentExpression","operator":"=","left":{"range":[17091,17095],"loc":{"start":{"line":504,"column":4},"end":{"line":504,"column":8}},"type":"Identifier","name":"item"},"right":{"range":[17098,17104],"loc":{"start":{"line":504,"column":11},"end":{"line":504,"column":17}},"type":"UnaryExpression","operator":"void","argument":{"range":[17103,17104],"loc":{"start":{"line":504,"column":16},"end":{"line":504,"column":17}},"type":"Literal","value":0,"raw":"0"},"prefix":true}}}]},"generator":false,"expression":false},"kind":"init","method":false,"shorthand":false},{"range":[17115,17263],"loc":{"start":{"line":506,"column":3},"end":{"line":514,"column":4}},"type":"Property","key":{"range":[17115,17120],"loc":{"start":{"line":506,"column":3},"end":{"line":506,"column":8}},"type":"Identifier","name":"drain"},"computed":false,"value":{"range":[17122,17263],"loc":{"start":{"line":506,"column":10},"end":{"line":514,"column":4}},"type":"FunctionExpression","id":{"range":[17131,17136],"loc":{"start":{"line":506,"column":19},"end":{"line":506,"column":24}},"type":"Identifier","name":"drain"},"params":[],"defaults":[],"body":{"range":[17139,17263],"loc":{"start":{"line":506,"column":27},"end":{"line":514,"column":4}},"type":"BlockStatement","body":[{"range":[17145,17159],"loc":{"start":{"line":507,"column":4},"end":{"line":507,"column":18}},"type":"VariableDeclaration","declarations":[{"range":[17149,17158],"loc":{"start":{"line":507,"column":8},"end":{"line":507,"column":17}},"type":"VariableDeclarator","id":{"range":[17149,17150],"loc":{"start":{"line":507,"column":8},"end":{"line":507,"column":9}},"type":"Identifier","name":"f"},"init":{"range":[17153,17158],"loc":{"start":{"line":507,"column":12},"end":{"line":507,"column":17}},"type":"Identifier","name":"first"}}],"kind":"var"},{"range":[17164,17194],"loc":{"start":{"line":508,"column":4},"end":{"line":508,"column":34}},"type":"ExpressionStatement","expression":{"range":[17164,17193],"loc":{"start":{"line":508,"column":4},"end":{"line":508,"column":33}},"type":"AssignmentExpression","operator":"=","left":{"range":[17164,17169],"loc":{"start":{"line":508,"column":4},"end":{"line":508,"column":9}},"type":"Identifier","name":"first"},"right":{"range":[17172,17193],"loc":{"start":{"line":508,"column":12},"end":{"line":508,"column":33}},"type":"AssignmentExpression","operator":"=","left":{"range":[17172,17176],"loc":{"start":{"line":508,"column":12},"end":{"line":508,"column":16}},"type":"Identifier","name":"last"},"right":{"range":[17179,17193],"loc":{"start":{"line":508,"column":19},"end":{"line":508,"column":33}},"type":"AssignmentExpression","operator":"=","left":{"range":[17179,17184],"loc":{"start":{"line":508,"column":19},"end":{"line":508,"column":24}},"type":"Identifier","name":"cycle"},"right":{"range":[17187,17193],"loc":{"start":{"line":508,"column":27},"end":{"line":508,"column":33}},"type":"UnaryExpression","operator":"void","argument":{"range":[17192,17193],"loc":{"start":{"line":508,"column":32},"end":{"line":508,"column":33}},"type":"Literal","value":0,"raw":"0"},"prefix":true}}}}},{"range":[17200,17258],"loc":{"start":{"line":510,"column":4},"end":{"line":513,"column":5}},"type":"WhileStatement","test":{"range":[17207,17208],"loc":{"start":{"line":510,"column":11},"end":{"line":510,"column":12}},"type":"Identifier","name":"f"},"body":{"range":[17210,17258],"loc":{"start":{"line":510,"column":14},"end":{"line":513,"column":5}},"type":"BlockStatement","body":[{"range":[17217,17235],"loc":{"start":{"line":511,"column":5},"end":{"line":511,"column":23}},"type":"ExpressionStatement","expression":{"range":[17217,17234],"loc":{"start":{"line":511,"column":5},"end":{"line":511,"column":22}},"type":"CallExpression","callee":{"range":[17217,17226],"loc":{"start":{"line":511,"column":5},"end":{"line":511,"column":14}},"type":"MemberExpression","computed":false,"object":{"range":[17217,17221],"loc":{"start":{"line":511,"column":5},"end":{"line":511,"column":9}},"type":"MemberExpression","computed":false,"object":{"range":[17217,17218],"loc":{"start":{"line":511,"column":5},"end":{"line":511,"column":6}},"type":"Identifier","name":"f"},"property":{"range":[17219,17221],"loc":{"start":{"line":511,"column":7},"end":{"line":511,"column":9}},"type":"Identifier","name":"fn"}},"property":{"range":[17222,17226],"loc":{"start":{"line":511,"column":10},"end":{"line":511,"column":14}},"type":"Identifier","name":"call"}},"arguments":[{"range":[17227,17233],"loc":{"start":{"line":511,"column":15},"end":{"line":511,"column":21}},"type":"MemberExpression","computed":false,"object":{"range":[17227,17228],"loc":{"start":{"line":511,"column":15},"end":{"line":511,"column":16}},"type":"Identifier","name":"f"},"property":{"range":[17229,17233],"loc":{"start":{"line":511,"column":17},"end":{"line":511,"column":21}},"type":"Identifier","name":"self"}}]}},{"range":[17241,17252],"loc":{"start":{"line":512,"column":5},"end":{"line":512,"column":16}},"type":"ExpressionStatement","expression":{"range":[17241,17251],"loc":{"start":{"line":512,"column":5},"end":{"line":512,"column":15}},"type":"AssignmentExpression","operator":"=","left":{"range":[17241,17242],"loc":{"start":{"line":512,"column":5},"end":{"line":512,"column":6}},"type":"Identifier","name":"f"},"right":{"range":[17245,17251],"loc":{"start":{"line":512,"column":9},"end":{"line":512,"column":15}},"type":"MemberExpression","computed":false,"object":{"range":[17245,17246],"loc":{"start":{"line":512,"column":9},"end":{"line":512,"column":10}},"type":"Identifier","name":"f"},"property":{"range":[17247,17251],"loc":{"start":{"line":512,"column":11},"end":{"line":512,"column":15}},"type":"Identifier","name":"next"}}}}]}}]},"generator":false,"expression":false},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false},"arguments":[]}},"leadingComments":[{"type":"Line","value":" Note: using a queue instead of array for efficiency","range":[16702,16756],"loc":{"start":{"line":484,"column":1},"end":{"line":484,"column":55}}}]},{"range":[17278,17404],"loc":{"start":{"line":518,"column":1},"end":{"line":523,"column":2}},"type":"FunctionDeclaration","id":{"range":[17287,17295],"loc":{"start":{"line":518,"column":10},"end":{"line":518,"column":18}},"type":"Identifier","name":"schedule"},"params":[{"range":[17296,17298],"loc":{"start":{"line":518,"column":19},"end":{"line":518,"column":21}},"type":"Identifier","name":"fn"},{"range":[17299,17303],"loc":{"start":{"line":518,"column":22},"end":{"line":518,"column":26}},"type":"Identifier","name":"self"}],"defaults":[],"body":{"range":[17305,17404],"loc":{"start":{"line":518,"column":28},"end":{"line":523,"column":2}},"type":"BlockStatement","body":[{"range":[17309,17339],"loc":{"start":{"line":519,"column":2},"end":{"line":519,"column":32}},"type":"ExpressionStatement","expression":{"range":[17309,17338],"loc":{"start":{"line":519,"column":2},"end":{"line":519,"column":31}},"type":"CallExpression","callee":{"range":[17309,17329],"loc":{"start":{"line":519,"column":2},"end":{"line":519,"column":22}},"type":"MemberExpression","computed":false,"object":{"range":[17309,17325],"loc":{"start":{"line":519,"column":2},"end":{"line":519,"column":18}},"type":"Identifier","name":"scheduling_queue"},"property":{"range":[17326,17329],"loc":{"start":{"line":519,"column":19},"end":{"line":519,"column":22}},"type":"Identifier","name":"add"}},"arguments":[{"range":[17330,17332],"loc":{"start":{"line":519,"column":23},"end":{"line":519,"column":25}},"type":"Identifier","name":"fn"},{"range":[17333,17337],"loc":{"start":{"line":519,"column":26},"end":{"line":519,"column":30}},"type":"Identifier","name":"self"}]}},{"range":[17342,17401],"loc":{"start":{"line":520,"column":2},"end":{"line":522,"column":3}},"type":"IfStatement","test":{"range":[17346,17352],"loc":{"start":{"line":520,"column":6},"end":{"line":520,"column":12}},"type":"UnaryExpression","operator":"!","argument":{"range":[17347,17352],"loc":{"start":{"line":520,"column":7},"end":{"line":520,"column":12}},"type":"Identifier","name":"cycle"},"prefix":true},"consequent":{"range":[17354,17401],"loc":{"start":{"line":520,"column":14},"end":{"line":522,"column":3}},"type":"BlockStatement","body":[{"range":[17359,17397],"loc":{"start":{"line":521,"column":3},"end":{"line":521,"column":41}},"type":"ExpressionStatement","expression":{"range":[17359,17396],"loc":{"start":{"line":521,"column":3},"end":{"line":521,"column":40}},"type":"AssignmentExpression","operator":"=","left":{"range":[17359,17364],"loc":{"start":{"line":521,"column":3},"end":{"line":521,"column":8}},"type":"Identifier","name":"cycle"},"right":{"range":[17367,17396],"loc":{"start":{"line":521,"column":11},"end":{"line":521,"column":40}},"type":"CallExpression","callee":{"range":[17367,17372],"loc":{"start":{"line":521,"column":11},"end":{"line":521,"column":16}},"type":"Identifier","name":"timer"},"arguments":[{"range":[17373,17395],"loc":{"start":{"line":521,"column":17},"end":{"line":521,"column":39}},"type":"MemberExpression","computed":false,"object":{"range":[17373,17389],"loc":{"start":{"line":521,"column":17},"end":{"line":521,"column":33}},"type":"Identifier","name":"scheduling_queue"},"property":{"range":[17390,17395],"loc":{"start":{"line":521,"column":34},"end":{"line":521,"column":39}},"type":"Identifier","name":"drain"}}]}}}]},"alternate":null}]},"generator":false,"expression":false,"trailingComments":[{"type":"Line","value":" promise duck typing","range":[17407,17429],"loc":{"start":{"line":525,"column":1},"end":{"line":525,"column":23}}}]},{"range":[17431,17649],"loc":{"start":{"line":526,"column":1},"end":{"line":537,"column":2}},"type":"FunctionDeclaration","id":{"range":[17440,17450],"loc":{"start":{"line":526,"column":10},"end":{"line":526,"column":20}},"type":"Identifier","name":"isThenable"},"params":[{"range":[17451,17452],"loc":{"start":{"line":526,"column":21},"end":{"line":526,"column":22}},"type":"Identifier","name":"o"}],"defaults":[],"body":{"range":[17454,17649],"loc":{"start":{"line":526,"column":24},"end":{"line":537,"column":2}},"type":"BlockStatement","body":[{"range":[17458,17487],"loc":{"start":{"line":527,"column":2},"end":{"line":527,"column":31}},"type":"VariableDeclaration","declarations":[{"range":[17462,17467],"loc":{"start":{"line":527,"column":6},"end":{"line":527,"column":11}},"type":"VariableDeclarator","id":{"range":[17462,17467],"loc":{"start":{"line":527,"column":6},"end":{"line":527,"column":11}},"type":"Identifier","name":"_then"},"init":null},{"range":[17469,17486],"loc":{"start":{"line":527,"column":13},"end":{"line":527,"column":30}},"type":"VariableDeclarator","id":{"range":[17469,17475],"loc":{"start":{"line":527,"column":13},"end":{"line":527,"column":19}},"type":"Identifier","name":"o_type"},"init":{"range":[17478,17486],"loc":{"start":{"line":527,"column":22},"end":{"line":527,"column":30}},"type":"UnaryExpression","operator":"typeof","argument":{"range":[17485,17486],"loc":{"start":{"line":527,"column":29},"end":{"line":527,"column":30}},"type":"Identifier","name":"o"},"prefix":true}}],"kind":"var"},{"range":[17491,17593],"loc":{"start":{"line":529,"column":2},"end":{"line":535,"column":3}},"type":"IfStatement","test":{"range":[17495,17564],"loc":{"start":{"line":529,"column":6},"end":{"line":532,"column":4}},"type":"LogicalExpression","operator":"&&","left":{"range":[17495,17504],"loc":{"start":{"line":529,"column":6},"end":{"line":529,"column":15}},"type":"BinaryExpression","operator":"!=","left":{"range":[17495,17496],"loc":{"start":{"line":529,"column":6},"end":{"line":529,"column":7}},"type":"Identifier","name":"o"},"right":{"range":[17500,17504],"loc":{"start":{"line":529,"column":11},"end":{"line":529,"column":15}},"type":"Literal","value":null,"raw":"null"}},"right":{"range":[17517,17559],"loc":{"start":{"line":531,"column":4},"end":{"line":531,"column":46}},"type":"LogicalExpression","operator":"||","left":{"range":[17517,17535],"loc":{"start":{"line":531,"column":4},"end":{"line":531,"column":22}},"type":"BinaryExpression","operator":"==","left":{"range":[17517,17523],"loc":{"start":{"line":531,"column":4},"end":{"line":531,"column":10}},"type":"Identifier","name":"o_type"},"right":{"range":[17527,17535],"loc":{"start":{"line":531,"column":14},"end":{"line":531,"column":22}},"type":"Literal","value":"object","raw":"\"object\""}},"right":{"range":[17539,17559],"loc":{"start":{"line":531,"column":26},"end":{"line":531,"column":46}},"type":"BinaryExpression","operator":"==","left":{"range":[17539,17545],"loc":{"start":{"line":531,"column":26},"end":{"line":531,"column":32}},"type":"Identifier","name":"o_type"},"right":{"range":[17549,17559],"loc":{"start":{"line":531,"column":36},"end":{"line":531,"column":46}},"type":"Literal","value":"function","raw":"\"function\""}}}},"consequent":{"range":[17569,17593],"loc":{"start":{"line":533,"column":4},"end":{"line":535,"column":3}},"type":"BlockStatement","body":[{"range":[17574,17589],"loc":{"start":{"line":534,"column":3},"end":{"line":534,"column":18}},"type":"ExpressionStatement","expression":{"range":[17574,17588],"loc":{"start":{"line":534,"column":3},"end":{"line":534,"column":17}},"type":"AssignmentExpression","operator":"=","left":{"range":[17574,17579],"loc":{"start":{"line":534,"column":3},"end":{"line":534,"column":8}},"type":"Identifier","name":"_then"},"right":{"range":[17582,17588],"loc":{"start":{"line":534,"column":11},"end":{"line":534,"column":17}},"type":"MemberExpression","computed":false,"object":{"range":[17582,17583],"loc":{"start":{"line":534,"column":11},"end":{"line":534,"column":12}},"type":"Identifier","name":"o"},"property":{"range":[17584,17588],"loc":{"start":{"line":534,"column":13},"end":{"line":534,"column":17}},"type":"Identifier","name":"then"}}}}]},"alternate":null},{"range":[17596,17646],"loc":{"start":{"line":536,"column":2},"end":{"line":536,"column":52}},"type":"ReturnStatement","argument":{"range":[17603,17645],"loc":{"start":{"line":536,"column":9},"end":{"line":536,"column":51}},"type":"ConditionalExpression","test":{"range":[17603,17629],"loc":{"start":{"line":536,"column":9},"end":{"line":536,"column":35}},"type":"BinaryExpression","operator":"==","left":{"range":[17603,17615],"loc":{"start":{"line":536,"column":9},"end":{"line":536,"column":21}},"type":"UnaryExpression","operator":"typeof","argument":{"range":[17610,17615],"loc":{"start":{"line":536,"column":16},"end":{"line":536,"column":21}},"type":"Identifier","name":"_then"},"prefix":true},"right":{"range":[17619,17629],"loc":{"start":{"line":536,"column":25},"end":{"line":536,"column":35}},"type":"Literal","value":"function","raw":"\"function\""}},"consequent":{"range":[17632,17637],"loc":{"start":{"line":536,"column":38},"end":{"line":536,"column":43}},"type":"Identifier","name":"_then"},"alternate":{"range":[17640,17645],"loc":{"start":{"line":536,"column":46},"end":{"line":536,"column":51}},"type":"Literal","value":false,"raw":"false"}}}]},"generator":false,"expression":false,"leadingComments":[{"type":"Line","value":" promise duck typing","range":[17407,17429],"loc":{"start":{"line":525,"column":1},"end":{"line":525,"column":23}}}]},{"range":[17652,17872],"loc":{"start":{"line":539,"column":1},"end":{"line":548,"column":2}},"type":"FunctionDeclaration","id":{"range":[17661,17667],"loc":{"start":{"line":539,"column":10},"end":{"line":539,"column":16}},"type":"Identifier","name":"notify"},"params":[],"defaults":[],"body":{"range":[17670,17872],"loc":{"start":{"line":539,"column":19},"end":{"line":548,"column":2}},"type":"BlockStatement","body":[{"range":[17674,17844],"loc":{"start":{"line":540,"column":2},"end":{"line":546,"column":3}},"type":"ForStatement","init":{"range":[17679,17686],"loc":{"start":{"line":540,"column":7},"end":{"line":540,"column":14}},"type":"VariableDeclaration","declarations":[{"range":[17683,17686],"loc":{"start":{"line":540,"column":11},"end":{"line":540,"column":14}},"type":"VariableDeclarator","id":{"range":[17683,17684],"loc":{"start":{"line":540,"column":11},"end":{"line":540,"column":12}},"type":"Identifier","name":"i"},"init":{"range":[17685,17686],"loc":{"start":{"line":540,"column":13},"end":{"line":540,"column":14}},"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"range":[17688,17707],"loc":{"start":{"line":540,"column":16},"end":{"line":540,"column":35}},"type":"BinaryExpression","operator":"<","left":{"range":[17688,17689],"loc":{"start":{"line":540,"column":16},"end":{"line":540,"column":17}},"type":"Identifier","name":"i"},"right":{"range":[17690,17707],"loc":{"start":{"line":540,"column":18},"end":{"line":540,"column":35}},"type":"MemberExpression","computed":false,"object":{"range":[17690,17700],"loc":{"start":{"line":540,"column":18},"end":{"line":540,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[17690,17694],"loc":{"start":{"line":540,"column":18},"end":{"line":540,"column":22}},"type":"ThisExpression"},"property":{"range":[17695,17700],"loc":{"start":{"line":540,"column":23},"end":{"line":540,"column":28}},"type":"Identifier","name":"chain"}},"property":{"range":[17701,17707],"loc":{"start":{"line":540,"column":29},"end":{"line":540,"column":35}},"type":"Identifier","name":"length"}}},"update":{"range":[17709,17712],"loc":{"start":{"line":540,"column":37},"end":{"line":540,"column":40}},"type":"UpdateExpression","operator":"++","argument":{"range":[17709,17710],"loc":{"start":{"line":540,"column":37},"end":{"line":540,"column":38}},"type":"Identifier","name":"i"},"prefix":false},"body":{"range":[17714,17844],"loc":{"start":{"line":540,"column":42},"end":{"line":546,"column":3}},"type":"BlockStatement","body":[{"range":[17719,17840],"loc":{"start":{"line":541,"column":3},"end":{"line":545,"column":5}},"type":"ExpressionStatement","expression":{"range":[17719,17839],"loc":{"start":{"line":541,"column":3},"end":{"line":545,"column":4}},"type":"CallExpression","callee":{"range":[17719,17733],"loc":{"start":{"line":541,"column":3},"end":{"line":541,"column":17}},"type":"Identifier","name":"notifyIsolated"},"arguments":[{"range":[17739,17743],"loc":{"start":{"line":542,"column":4},"end":{"line":542,"column":8}},"type":"ThisExpression"},{"range":[17749,17815],"loc":{"start":{"line":543,"column":4},"end":{"line":543,"column":70}},"type":"ConditionalExpression","test":{"range":[17750,17766],"loc":{"start":{"line":543,"column":5},"end":{"line":543,"column":21}},"type":"BinaryExpression","operator":"===","left":{"range":[17750,17760],"loc":{"start":{"line":543,"column":5},"end":{"line":543,"column":15}},"type":"MemberExpression","computed":false,"object":{"range":[17750,17754],"loc":{"start":{"line":543,"column":5},"end":{"line":543,"column":9}},"type":"ThisExpression"},"property":{"range":[17755,17760],"loc":{"start":{"line":543,"column":10},"end":{"line":543,"column":15}},"type":"Identifier","name":"state"}},"right":{"range":[17765,17766],"loc":{"start":{"line":543,"column":20},"end":{"line":543,"column":21}},"type":"Literal","value":1,"raw":"1"}},"consequent":{"range":[17770,17791],"loc":{"start":{"line":543,"column":25},"end":{"line":543,"column":46}},"type":"MemberExpression","computed":false,"object":{"range":[17770,17783],"loc":{"start":{"line":543,"column":25},"end":{"line":543,"column":38}},"type":"MemberExpression","computed":true,"object":{"range":[17770,17780],"loc":{"start":{"line":543,"column":25},"end":{"line":543,"column":35}},"type":"MemberExpression","computed":false,"object":{"range":[17770,17774],"loc":{"start":{"line":543,"column":25},"end":{"line":543,"column":29}},"type":"ThisExpression"},"property":{"range":[17775,17780],"loc":{"start":{"line":543,"column":30},"end":{"line":543,"column":35}},"type":"Identifier","name":"chain"}},"property":{"range":[17781,17782],"loc":{"start":{"line":543,"column":36},"end":{"line":543,"column":37}},"type":"Identifier","name":"i"}},"property":{"range":[17784,17791],"loc":{"start":{"line":543,"column":39},"end":{"line":543,"column":46}},"type":"Identifier","name":"success"}},"alternate":{"range":[17794,17815],"loc":{"start":{"line":543,"column":49},"end":{"line":543,"column":70}},"type":"MemberExpression","computed":false,"object":{"range":[17794,17807],"loc":{"start":{"line":543,"column":49},"end":{"line":543,"column":62}},"type":"MemberExpression","computed":true,"object":{"range":[17794,17804],"loc":{"start":{"line":543,"column":49},"end":{"line":543,"column":59}},"type":"MemberExpression","computed":false,"object":{"range":[17794,17798],"loc":{"start":{"line":543,"column":49},"end":{"line":543,"column":53}},"type":"ThisExpression"},"property":{"range":[17799,17804],"loc":{"start":{"line":543,"column":54},"end":{"line":543,"column":59}},"type":"Identifier","name":"chain"}},"property":{"range":[17805,17806],"loc":{"start":{"line":543,"column":60},"end":{"line":543,"column":61}},"type":"Identifier","name":"i"}},"property":{"range":[17808,17815],"loc":{"start":{"line":543,"column":63},"end":{"line":543,"column":70}},"type":"Identifier","name":"failure"}}},{"range":[17821,17834],"loc":{"start":{"line":544,"column":4},"end":{"line":544,"column":17}},"type":"MemberExpression","computed":true,"object":{"range":[17821,17831],"loc":{"start":{"line":544,"column":4},"end":{"line":544,"column":14}},"type":"MemberExpression","computed":false,"object":{"range":[17821,17825],"loc":{"start":{"line":544,"column":4},"end":{"line":544,"column":8}},"type":"ThisExpression"},"property":{"range":[17826,17831],"loc":{"start":{"line":544,"column":9},"end":{"line":544,"column":14}},"type":"Identifier","name":"chain"}},"property":{"range":[17832,17833],"loc":{"start":{"line":544,"column":15},"end":{"line":544,"column":16}},"type":"Identifier","name":"i"}}]}}]}},{"range":[17847,17869],"loc":{"start":{"line":547,"column":2},"end":{"line":547,"column":24}},"type":"ExpressionStatement","expression":{"range":[17847,17868],"loc":{"start":{"line":547,"column":2},"end":{"line":547,"column":23}},"type":"AssignmentExpression","operator":"=","left":{"range":[17847,17864],"loc":{"start":{"line":547,"column":2},"end":{"line":547,"column":19}},"type":"MemberExpression","computed":false,"object":{"range":[17847,17857],"loc":{"start":{"line":547,"column":2},"end":{"line":547,"column":12}},"type":"MemberExpression","computed":false,"object":{"range":[17847,17851],"loc":{"start":{"line":547,"column":2},"end":{"line":547,"column":6}},"type":"ThisExpression"},"property":{"range":[17852,17857],"loc":{"start":{"line":547,"column":7},"end":{"line":547,"column":12}},"type":"Identifier","name":"chain"}},"property":{"range":[17858,17864],"loc":{"start":{"line":547,"column":13},"end":{"line":547,"column":19}},"type":"Identifier","name":"length"}},"right":{"range":[17867,17868],"loc":{"start":{"line":547,"column":22},"end":{"line":547,"column":23}},"type":"Literal","value":0,"raw":"0"}}}]},"generator":false,"expression":false,"trailingComments":[{"type":"Line","value":" NOTE: This is a separate function to isolate","range":[17875,17922],"loc":{"start":{"line":550,"column":1},"end":{"line":550,"column":48}}},{"type":"Line","value":" the `try..catch` so that other code can be","range":[17924,17969],"loc":{"start":{"line":551,"column":1},"end":{"line":551,"column":46}}},{"type":"Line","value":" optimized better","range":[17971,17990],"loc":{"start":{"line":552,"column":1},"end":{"line":552,"column":20}}}]},{"range":[17992,18512],"loc":{"start":{"line":553,"column":1},"end":{"line":581,"column":2}},"type":"FunctionDeclaration","id":{"range":[18001,18015],"loc":{"start":{"line":553,"column":10},"end":{"line":553,"column":24}},"type":"Identifier","name":"notifyIsolated"},"params":[{"range":[18016,18020],"loc":{"start":{"line":553,"column":25},"end":{"line":553,"column":29}},"type":"Identifier","name":"self"},{"range":[18021,18023],"loc":{"start":{"line":553,"column":30},"end":{"line":553,"column":32}},"type":"Identifier","name":"cb"},{"range":[18024,18029],"loc":{"start":{"line":553,"column":33},"end":{"line":553,"column":38}},"type":"Identifier","name":"chain"}],"defaults":[],"body":{"range":[18031,18512],"loc":{"start":{"line":553,"column":40},"end":{"line":581,"column":2}},"type":"BlockStatement","body":[{"range":[18035,18050],"loc":{"start":{"line":554,"column":2},"end":{"line":554,"column":17}},"type":"VariableDeclaration","declarations":[{"range":[18039,18042],"loc":{"start":{"line":554,"column":6},"end":{"line":554,"column":9}},"type":"VariableDeclarator","id":{"range":[18039,18042],"loc":{"start":{"line":554,"column":6},"end":{"line":554,"column":9}},"type":"Identifier","name":"ret"},"init":null},{"range":[18044,18049],"loc":{"start":{"line":554,"column":11},"end":{"line":554,"column":16}},"type":"VariableDeclarator","id":{"range":[18044,18049],"loc":{"start":{"line":554,"column":11},"end":{"line":554,"column":16}},"type":"Identifier","name":"_then"},"init":null}],"kind":"var"},{"range":[18053,18509],"loc":{"start":{"line":555,"column":2},"end":{"line":580,"column":3}},"type":"TryStatement","block":{"range":[18057,18467],"loc":{"start":{"line":555,"column":6},"end":{"line":577,"column":3}},"type":"BlockStatement","body":[{"range":[18062,18463],"loc":{"start":{"line":556,"column":3},"end":{"line":576,"column":4}},"type":"IfStatement","test":{"range":[18066,18078],"loc":{"start":{"line":556,"column":7},"end":{"line":556,"column":19}},"type":"BinaryExpression","operator":"===","left":{"range":[18066,18068],"loc":{"start":{"line":556,"column":7},"end":{"line":556,"column":9}},"type":"Identifier","name":"cb"},"right":{"range":[18073,18078],"loc":{"start":{"line":556,"column":14},"end":{"line":556,"column":19}},"type":"Literal","value":false,"raw":"false"}},"consequent":{"range":[18080,18114],"loc":{"start":{"line":556,"column":21},"end":{"line":558,"column":4}},"type":"BlockStatement","body":[{"range":[18086,18109],"loc":{"start":{"line":557,"column":4},"end":{"line":557,"column":27}},"type":"ExpressionStatement","expression":{"range":[18086,18108],"loc":{"start":{"line":557,"column":4},"end":{"line":557,"column":26}},"type":"CallExpression","callee":{"range":[18086,18098],"loc":{"start":{"line":557,"column":4},"end":{"line":557,"column":16}},"type":"MemberExpression","computed":false,"object":{"range":[18086,18091],"loc":{"start":{"line":557,"column":4},"end":{"line":557,"column":9}},"type":"Identifier","name":"chain"},"property":{"range":[18092,18098],"loc":{"start":{"line":557,"column":10},"end":{"line":557,"column":16}},"type":"Identifier","name":"reject"}},"arguments":[{"range":[18099,18107],"loc":{"start":{"line":557,"column":17},"end":{"line":557,"column":25}},"type":"MemberExpression","computed":false,"object":{"range":[18099,18103],"loc":{"start":{"line":557,"column":17},"end":{"line":557,"column":21}},"type":"Identifier","name":"self"},"property":{"range":[18104,18107],"loc":{"start":{"line":557,"column":22},"end":{"line":557,"column":25}},"type":"Identifier","name":"msg"}}]}}]},"alternate":{"range":[18123,18463],"loc":{"start":{"line":559,"column":8},"end":{"line":576,"column":4}},"type":"BlockStatement","body":[{"range":[18129,18228],"loc":{"start":{"line":560,"column":4},"end":{"line":565,"column":5}},"type":"IfStatement","test":{"range":[18133,18144],"loc":{"start":{"line":560,"column":8},"end":{"line":560,"column":19}},"type":"BinaryExpression","operator":"===","left":{"range":[18133,18135],"loc":{"start":{"line":560,"column":8},"end":{"line":560,"column":10}},"type":"Identifier","name":"cb"},"right":{"range":[18140,18144],"loc":{"start":{"line":560,"column":15},"end":{"line":560,"column":19}},"type":"Literal","value":true,"raw":"true"}},"consequent":{"range":[18146,18174],"loc":{"start":{"line":560,"column":21},"end":{"line":562,"column":5}},"type":"BlockStatement","body":[{"range":[18153,18168],"loc":{"start":{"line":561,"column":5},"end":{"line":561,"column":20}},"type":"ExpressionStatement","expression":{"range":[18153,18167],"loc":{"start":{"line":561,"column":5},"end":{"line":561,"column":19}},"type":"AssignmentExpression","operator":"=","left":{"range":[18153,18156],"loc":{"start":{"line":561,"column":5},"end":{"line":561,"column":8}},"type":"Identifier","name":"ret"},"right":{"range":[18159,18167],"loc":{"start":{"line":561,"column":11},"end":{"line":561,"column":19}},"type":"MemberExpression","computed":false,"object":{"range":[18159,18163],"loc":{"start":{"line":561,"column":11},"end":{"line":561,"column":15}},"type":"Identifier","name":"self"},"property":{"range":[18164,18167],"loc":{"start":{"line":561,"column":16},"end":{"line":561,"column":19}},"type":"Identifier","name":"msg"}}}}]},"alternate":{"range":[18184,18228],"loc":{"start":{"line":563,"column":9},"end":{"line":565,"column":5}},"type":"BlockStatement","body":[{"range":[18191,18222],"loc":{"start":{"line":564,"column":5},"end":{"line":564,"column":36}},"type":"ExpressionStatement","expression":{"range":[18191,18221],"loc":{"start":{"line":564,"column":5},"end":{"line":564,"column":35}},"type":"AssignmentExpression","operator":"=","left":{"range":[18191,18194],"loc":{"start":{"line":564,"column":5},"end":{"line":564,"column":8}},"type":"Identifier","name":"ret"},"right":{"range":[18197,18221],"loc":{"start":{"line":564,"column":11},"end":{"line":564,"column":35}},"type":"CallExpression","callee":{"range":[18197,18204],"loc":{"start":{"line":564,"column":11},"end":{"line":564,"column":18}},"type":"MemberExpression","computed":false,"object":{"range":[18197,18199],"loc":{"start":{"line":564,"column":11},"end":{"line":564,"column":13}},"type":"Identifier","name":"cb"},"property":{"range":[18200,18204],"loc":{"start":{"line":564,"column":14},"end":{"line":564,"column":18}},"type":"Identifier","name":"call"}},"arguments":[{"range":[18205,18211],"loc":{"start":{"line":564,"column":19},"end":{"line":564,"column":25}},"type":"UnaryExpression","operator":"void","argument":{"range":[18210,18211],"loc":{"start":{"line":564,"column":24},"end":{"line":564,"column":25}},"type":"Literal","value":0,"raw":"0"},"prefix":true},{"range":[18212,18220],"loc":{"start":{"line":564,"column":26},"end":{"line":564,"column":34}},"type":"MemberExpression","computed":false,"object":{"range":[18212,18216],"loc":{"start":{"line":564,"column":26},"end":{"line":564,"column":30}},"type":"Identifier","name":"self"},"property":{"range":[18217,18220],"loc":{"start":{"line":564,"column":31},"end":{"line":564,"column":34}},"type":"Identifier","name":"msg"}}]}}}]}},{"range":[18234,18458],"loc":{"start":{"line":567,"column":4},"end":{"line":575,"column":5}},"type":"IfStatement","test":{"range":[18238,18259],"loc":{"start":{"line":567,"column":8},"end":{"line":567,"column":29}},"type":"BinaryExpression","operator":"===","left":{"range":[18238,18241],"loc":{"start":{"line":567,"column":8},"end":{"line":567,"column":11}},"type":"Identifier","name":"ret"},"right":{"range":[18246,18259],"loc":{"start":{"line":567,"column":16},"end":{"line":567,"column":29}},"type":"MemberExpression","computed":false,"object":{"range":[18246,18251],"loc":{"start":{"line":567,"column":16},"end":{"line":567,"column":21}},"type":"Identifier","name":"chain"},"property":{"range":[18252,18259],"loc":{"start":{"line":567,"column":22},"end":{"line":567,"column":29}},"type":"Identifier","name":"promise"}}},"consequent":{"range":[18261,18321],"loc":{"start":{"line":567,"column":31},"end":{"line":569,"column":5}},"type":"BlockStatement","body":[{"range":[18268,18315],"loc":{"start":{"line":568,"column":5},"end":{"line":568,"column":52}},"type":"ExpressionStatement","expression":{"range":[18268,18314],"loc":{"start":{"line":568,"column":5},"end":{"line":568,"column":51}},"type":"CallExpression","callee":{"range":[18268,18280],"loc":{"start":{"line":568,"column":5},"end":{"line":568,"column":17}},"type":"MemberExpression","computed":false,"object":{"range":[18268,18273],"loc":{"start":{"line":568,"column":5},"end":{"line":568,"column":10}},"type":"Identifier","name":"chain"},"property":{"range":[18274,18280],"loc":{"start":{"line":568,"column":11},"end":{"line":568,"column":17}},"type":"Identifier","name":"reject"}},"arguments":[{"range":[18281,18313],"loc":{"start":{"line":568,"column":18},"end":{"line":568,"column":50}},"type":"CallExpression","callee":{"range":[18281,18290],"loc":{"start":{"line":568,"column":18},"end":{"line":568,"column":27}},"type":"Identifier","name":"TypeError"},"arguments":[{"range":[18291,18312],"loc":{"start":{"line":568,"column":28},"end":{"line":568,"column":49}},"type":"Literal","value":"Promise-chain cycle","raw":"\"Promise-chain cycle\""}]}]}}]},"alternate":{"range":[18331,18458],"loc":{"start":{"line":570,"column":9},"end":{"line":575,"column":5}},"type":"IfStatement","test":{"range":[18335,18358],"loc":{"start":{"line":570,"column":13},"end":{"line":570,"column":36}},"type":"AssignmentExpression","operator":"=","left":{"range":[18335,18340],"loc":{"start":{"line":570,"column":13},"end":{"line":570,"column":18}},"type":"Identifier","name":"_then"},"right":{"range":[18343,18358],"loc":{"start":{"line":570,"column":21},"end":{"line":570,"column":36}},"type":"CallExpression","callee":{"range":[18343,18353],"loc":{"start":{"line":570,"column":21},"end":{"line":570,"column":31}},"type":"Identifier","name":"isThenable"},"arguments":[{"range":[18354,18357],"loc":{"start":{"line":570,"column":32},"end":{"line":570,"column":35}},"type":"Identifier","name":"ret"}]}},"consequent":{"range":[18360,18416],"loc":{"start":{"line":570,"column":38},"end":{"line":572,"column":5}},"type":"BlockStatement","body":[{"range":[18367,18410],"loc":{"start":{"line":571,"column":5},"end":{"line":571,"column":48}},"type":"ExpressionStatement","expression":{"range":[18367,18409],"loc":{"start":{"line":571,"column":5},"end":{"line":571,"column":47}},"type":"CallExpression","callee":{"range":[18367,18377],"loc":{"start":{"line":571,"column":5},"end":{"line":571,"column":15}},"type":"MemberExpression","computed":false,"object":{"range":[18367,18372],"loc":{"start":{"line":571,"column":5},"end":{"line":571,"column":10}},"type":"Identifier","name":"_then"},"property":{"range":[18373,18377],"loc":{"start":{"line":571,"column":11},"end":{"line":571,"column":15}},"type":"Identifier","name":"call"}},"arguments":[{"range":[18378,18381],"loc":{"start":{"line":571,"column":16},"end":{"line":571,"column":19}},"type":"Identifier","name":"ret"},{"range":[18382,18395],"loc":{"start":{"line":571,"column":20},"end":{"line":571,"column":33}},"type":"MemberExpression","computed":false,"object":{"range":[18382,18387],"loc":{"start":{"line":571,"column":20},"end":{"line":571,"column":25}},"type":"Identifier","name":"chain"},"property":{"range":[18388,18395],"loc":{"start":{"line":571,"column":26},"end":{"line":571,"column":33}},"type":"Identifier","name":"resolve"}},{"range":[18396,18408],"loc":{"start":{"line":571,"column":34},"end":{"line":571,"column":46}},"type":"MemberExpression","computed":false,"object":{"range":[18396,18401],"loc":{"start":{"line":571,"column":34},"end":{"line":571,"column":39}},"type":"Identifier","name":"chain"},"property":{"range":[18402,18408],"loc":{"start":{"line":571,"column":40},"end":{"line":571,"column":46}},"type":"Identifier","name":"reject"}}]}}]},"alternate":{"range":[18426,18458],"loc":{"start":{"line":573,"column":9},"end":{"line":575,"column":5}},"type":"BlockStatement","body":[{"range":[18433,18452],"loc":{"start":{"line":574,"column":5},"end":{"line":574,"column":24}},"type":"ExpressionStatement","expression":{"range":[18433,18451],"loc":{"start":{"line":574,"column":5},"end":{"line":574,"column":23}},"type":"CallExpression","callee":{"range":[18433,18446],"loc":{"start":{"line":574,"column":5},"end":{"line":574,"column":18}},"type":"MemberExpression","computed":false,"object":{"range":[18433,18438],"loc":{"start":{"line":574,"column":5},"end":{"line":574,"column":10}},"type":"Identifier","name":"chain"},"property":{"range":[18439,18446],"loc":{"start":{"line":574,"column":11},"end":{"line":574,"column":18}},"type":"Identifier","name":"resolve"}},"arguments":[{"range":[18447,18450],"loc":{"start":{"line":574,"column":19},"end":{"line":574,"column":22}},"type":"Identifier","name":"ret"}]}}]}}}]}}]},"guardedHandlers":[],"handlers":[{"range":[18470,18509],"loc":{"start":{"line":578,"column":2},"end":{"line":580,"column":3}},"type":"CatchClause","param":{"range":[18477,18480],"loc":{"start":{"line":578,"column":9},"end":{"line":578,"column":12}},"type":"Identifier","name":"err"},"body":{"range":[18482,18509],"loc":{"start":{"line":578,"column":14},"end":{"line":580,"column":3}},"type":"BlockStatement","body":[{"range":[18487,18505],"loc":{"start":{"line":579,"column":3},"end":{"line":579,"column":21}},"type":"ExpressionStatement","expression":{"range":[18487,18504],"loc":{"start":{"line":579,"column":3},"end":{"line":579,"column":20}},"type":"CallExpression","callee":{"range":[18487,18499],"loc":{"start":{"line":579,"column":3},"end":{"line":579,"column":15}},"type":"MemberExpression","computed":false,"object":{"range":[18487,18492],"loc":{"start":{"line":579,"column":3},"end":{"line":579,"column":8}},"type":"Identifier","name":"chain"},"property":{"range":[18493,18499],"loc":{"start":{"line":579,"column":9},"end":{"line":579,"column":15}},"type":"Identifier","name":"reject"}},"arguments":[{"range":[18500,18503],"loc":{"start":{"line":579,"column":16},"end":{"line":579,"column":19}},"type":"Identifier","name":"err"}]}}]}}],"handler":{"range":[18470,18509],"loc":{"start":{"line":578,"column":2},"end":{"line":580,"column":3}},"type":"CatchClause","param":{"range":[18477,18480],"loc":{"start":{"line":578,"column":9},"end":{"line":578,"column":12}},"type":"Identifier","name":"err"},"body":{"range":[18482,18509],"loc":{"start":{"line":578,"column":14},"end":{"line":580,"column":3}},"type":"BlockStatement","body":[{"range":[18487,18505],"loc":{"start":{"line":579,"column":3},"end":{"line":579,"column":21}},"type":"ExpressionStatement","expression":{"range":[18487,18504],"loc":{"start":{"line":579,"column":3},"end":{"line":579,"column":20}},"type":"CallExpression","callee":{"range":[18487,18499],"loc":{"start":{"line":579,"column":3},"end":{"line":579,"column":15}},"type":"MemberExpression","computed":false,"object":{"range":[18487,18492],"loc":{"start":{"line":579,"column":3},"end":{"line":579,"column":8}},"type":"Identifier","name":"chain"},"property":{"range":[18493,18499],"loc":{"start":{"line":579,"column":9},"end":{"line":579,"column":15}},"type":"Identifier","name":"reject"}},"arguments":[{"range":[18500,18503],"loc":{"start":{"line":579,"column":16},"end":{"line":579,"column":19}},"type":"Identifier","name":"err"}]}}]}},"finalizer":null}]},"generator":false,"expression":false,"leadingComments":[{"type":"Line","value":" NOTE: This is a separate function to isolate","range":[17875,17922],"loc":{"start":{"line":550,"column":1},"end":{"line":550,"column":48}}},{"type":"Line","value":" the `try..catch` so that other code can be","range":[17924,17969],"loc":{"start":{"line":551,"column":1},"end":{"line":551,"column":46}}},{"type":"Line","value":" optimized better","range":[17971,17990],"loc":{"start":{"line":552,"column":1},"end":{"line":552,"column":20}}}]},{"range":[18515,19181],"loc":{"start":{"line":583,"column":1},"end":{"line":615,"column":2}},"type":"FunctionDeclaration","id":{"range":[18524,18531],"loc":{"start":{"line":583,"column":10},"end":{"line":583,"column":17}},"type":"Identifier","name":"resolve"},"params":[{"range":[18532,18535],"loc":{"start":{"line":583,"column":18},"end":{"line":583,"column":21}},"type":"Identifier","name":"msg"}],"defaults":[],"body":{"range":[18537,19181],"loc":{"start":{"line":583,"column":23},"end":{"line":615,"column":2}},"type":"BlockStatement","body":[{"range":[18541,18577],"loc":{"start":{"line":584,"column":2},"end":{"line":584,"column":38}},"type":"VariableDeclaration","declarations":[{"range":[18545,18550],"loc":{"start":{"line":584,"column":6},"end":{"line":584,"column":11}},"type":"VariableDeclarator","id":{"range":[18545,18550],"loc":{"start":{"line":584,"column":6},"end":{"line":584,"column":11}},"type":"Identifier","name":"_then"},"init":null},{"range":[18552,18563],"loc":{"start":{"line":584,"column":13},"end":{"line":584,"column":24}},"type":"VariableDeclarator","id":{"range":[18552,18563],"loc":{"start":{"line":584,"column":13},"end":{"line":584,"column":24}},"type":"Identifier","name":"def_wrapper"},"init":null},{"range":[18565,18576],"loc":{"start":{"line":584,"column":26},"end":{"line":584,"column":37}},"type":"VariableDeclarator","id":{"range":[18565,18569],"loc":{"start":{"line":584,"column":26},"end":{"line":584,"column":30}},"type":"Identifier","name":"self"},"init":{"range":[18572,18576],"loc":{"start":{"line":584,"column":33},"end":{"line":584,"column":37}},"type":"ThisExpression"}}],"kind":"var","trailingComments":[{"type":"Line","value":" already triggered?","range":[18581,18602],"loc":{"start":{"line":586,"column":2},"end":{"line":586,"column":23}}}]},{"range":[18605,18636],"loc":{"start":{"line":587,"column":2},"end":{"line":587,"column":33}},"type":"IfStatement","test":{"range":[18609,18623],"loc":{"start":{"line":587,"column":6},"end":{"line":587,"column":20}},"type":"MemberExpression","computed":false,"object":{"range":[18609,18613],"loc":{"start":{"line":587,"column":6},"end":{"line":587,"column":10}},"type":"Identifier","name":"self"},"property":{"range":[18614,18623],"loc":{"start":{"line":587,"column":11},"end":{"line":587,"column":20}},"type":"Identifier","name":"triggered"}},"consequent":{"range":[18625,18636],"loc":{"start":{"line":587,"column":22},"end":{"line":587,"column":33}},"type":"BlockStatement","body":[{"range":[18627,18634],"loc":{"start":{"line":587,"column":24},"end":{"line":587,"column":31}},"type":"ReturnStatement","argument":null}]},"alternate":null,"leadingComments":[{"type":"Line","value":" already triggered?","range":[18581,18602],"loc":{"start":{"line":586,"column":2},"end":{"line":586,"column":23}}}]},{"range":[18640,18662],"loc":{"start":{"line":589,"column":2},"end":{"line":589,"column":24}},"type":"ExpressionStatement","expression":{"range":[18640,18661],"loc":{"start":{"line":589,"column":2},"end":{"line":589,"column":23}},"type":"AssignmentExpression","operator":"=","left":{"range":[18640,18654],"loc":{"start":{"line":589,"column":2},"end":{"line":589,"column":16}},"type":"MemberExpression","computed":false,"object":{"range":[18640,18644],"loc":{"start":{"line":589,"column":2},"end":{"line":589,"column":6}},"type":"Identifier","name":"self"},"property":{"range":[18645,18654],"loc":{"start":{"line":589,"column":7},"end":{"line":589,"column":16}},"type":"Identifier","name":"triggered"}},"right":{"range":[18657,18661],"loc":{"start":{"line":589,"column":19},"end":{"line":589,"column":23}},"type":"Literal","value":true,"raw":"true"}},"trailingComments":[{"type":"Line","value":" unwrap","range":[18666,18675],"loc":{"start":{"line":591,"column":2},"end":{"line":591,"column":11}}}]},{"range":[18678,18717],"loc":{"start":{"line":592,"column":2},"end":{"line":594,"column":3}},"type":"IfStatement","test":{"range":[18682,18690],"loc":{"start":{"line":592,"column":6},"end":{"line":592,"column":14}},"type":"MemberExpression","computed":false,"object":{"range":[18682,18686],"loc":{"start":{"line":592,"column":6},"end":{"line":592,"column":10}},"type":"Identifier","name":"self"},"property":{"range":[18687,18690],"loc":{"start":{"line":592,"column":11},"end":{"line":592,"column":14}},"type":"Identifier","name":"def"}},"consequent":{"range":[18692,18717],"loc":{"start":{"line":592,"column":16},"end":{"line":594,"column":3}},"type":"BlockStatement","body":[{"range":[18697,18713],"loc":{"start":{"line":593,"column":3},"end":{"line":593,"column":19}},"type":"ExpressionStatement","expression":{"range":[18697,18712],"loc":{"start":{"line":593,"column":3},"end":{"line":593,"column":18}},"type":"AssignmentExpression","operator":"=","left":{"range":[18697,18701],"loc":{"start":{"line":593,"column":3},"end":{"line":593,"column":7}},"type":"Identifier","name":"self"},"right":{"range":[18704,18712],"loc":{"start":{"line":593,"column":10},"end":{"line":593,"column":18}},"type":"MemberExpression","computed":false,"object":{"range":[18704,18708],"loc":{"start":{"line":593,"column":10},"end":{"line":593,"column":14}},"type":"Identifier","name":"self"},"property":{"range":[18709,18712],"loc":{"start":{"line":593,"column":15},"end":{"line":593,"column":18}},"type":"Identifier","name":"def"}}}}]},"alternate":null,"leadingComments":[{"type":"Line","value":" unwrap","range":[18666,18675],"loc":{"start":{"line":591,"column":2},"end":{"line":591,"column":11}}}]},{"range":[18721,19178],"loc":{"start":{"line":596,"column":2},"end":{"line":614,"column":3}},"type":"TryStatement","block":{"range":[18725,19095],"loc":{"start":{"line":596,"column":6},"end":{"line":611,"column":3}},"type":"BlockStatement","body":[{"range":[18730,19091],"loc":{"start":{"line":597,"column":3},"end":{"line":610,"column":4}},"type":"IfStatement","test":{"range":[18734,18757],"loc":{"start":{"line":597,"column":7},"end":{"line":597,"column":30}},"type":"AssignmentExpression","operator":"=","left":{"range":[18734,18739],"loc":{"start":{"line":597,"column":7},"end":{"line":597,"column":12}},"type":"Identifier","name":"_then"},"right":{"range":[18742,18757],"loc":{"start":{"line":597,"column":15},"end":{"line":597,"column":30}},"type":"CallExpression","callee":{"range":[18742,18752],"loc":{"start":{"line":597,"column":15},"end":{"line":597,"column":25}},"type":"Identifier","name":"isThenable"},"arguments":[{"range":[18753,18756],"loc":{"start":{"line":597,"column":26},"end":{"line":597,"column":29}},"type":"Identifier","name":"msg"}]}},"consequent":{"range":[18759,18969],"loc":{"start":{"line":597,"column":32},"end":{"line":603,"column":4}},"type":"BlockStatement","body":[{"range":[18765,18804],"loc":{"start":{"line":598,"column":4},"end":{"line":598,"column":43}},"type":"ExpressionStatement","expression":{"range":[18765,18803],"loc":{"start":{"line":598,"column":4},"end":{"line":598,"column":42}},"type":"AssignmentExpression","operator":"=","left":{"range":[18765,18776],"loc":{"start":{"line":598,"column":4},"end":{"line":598,"column":15}},"type":"Identifier","name":"def_wrapper"},"right":{"range":[18779,18803],"loc":{"start":{"line":598,"column":18},"end":{"line":598,"column":42}},"type":"NewExpression","callee":{"range":[18783,18797],"loc":{"start":{"line":598,"column":22},"end":{"line":598,"column":36}},"type":"Identifier","name":"MakeDefWrapper"},"arguments":[{"range":[18798,18802],"loc":{"start":{"line":598,"column":37},"end":{"line":598,"column":41}},"type":"Identifier","name":"self"}]}}},{"range":[18809,18964],"loc":{"start":{"line":599,"column":4},"end":{"line":602,"column":6}},"type":"ExpressionStatement","expression":{"range":[18809,18963],"loc":{"start":{"line":599,"column":4},"end":{"line":602,"column":5}},"type":"CallExpression","callee":{"range":[18809,18819],"loc":{"start":{"line":599,"column":4},"end":{"line":599,"column":14}},"type":"MemberExpression","computed":false,"object":{"range":[18809,18814],"loc":{"start":{"line":599,"column":4},"end":{"line":599,"column":9}},"type":"Identifier","name":"_then"},"property":{"range":[18815,18819],"loc":{"start":{"line":599,"column":10},"end":{"line":599,"column":14}},"type":"Identifier","name":"call"}},"arguments":[{"range":[18820,18823],"loc":{"start":{"line":599,"column":15},"end":{"line":599,"column":18}},"type":"Identifier","name":"msg"},{"range":[18830,18891],"loc":{"start":{"line":600,"column":5},"end":{"line":600,"column":66}},"type":"FunctionExpression","id":{"range":[18839,18848],"loc":{"start":{"line":600,"column":14},"end":{"line":600,"column":23}},"type":"Identifier","name":"$resolve$"},"params":[],"defaults":[],"body":{"range":[18850,18891],"loc":{"start":{"line":600,"column":25},"end":{"line":600,"column":66}},"type":"BlockStatement","body":[{"range":[18852,18889],"loc":{"start":{"line":600,"column":27},"end":{"line":600,"column":64}},"type":"ExpressionStatement","expression":{"range":[18852,18888],"loc":{"start":{"line":600,"column":27},"end":{"line":600,"column":63}},"type":"CallExpression","callee":{"range":[18852,18865],"loc":{"start":{"line":600,"column":27},"end":{"line":600,"column":40}},"type":"MemberExpression","computed":false,"object":{"range":[18852,18859],"loc":{"start":{"line":600,"column":27},"end":{"line":600,"column":34}},"type":"Identifier","name":"resolve"},"property":{"range":[18860,18865],"loc":{"start":{"line":600,"column":35},"end":{"line":600,"column":40}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[18866,18877],"loc":{"start":{"line":600,"column":41},"end":{"line":600,"column":52}},"type":"Identifier","name":"def_wrapper"},{"range":[18878,18887],"loc":{"start":{"line":600,"column":53},"end":{"line":600,"column":62}},"type":"Identifier","name":"arguments"}]}}]},"generator":false,"expression":false},{"range":[18898,18957],"loc":{"start":{"line":601,"column":5},"end":{"line":601,"column":64}},"type":"FunctionExpression","id":{"range":[18907,18915],"loc":{"start":{"line":601,"column":14},"end":{"line":601,"column":22}},"type":"Identifier","name":"$reject$"},"params":[],"defaults":[],"body":{"range":[18917,18957],"loc":{"start":{"line":601,"column":24},"end":{"line":601,"column":64}},"type":"BlockStatement","body":[{"range":[18919,18955],"loc":{"start":{"line":601,"column":26},"end":{"line":601,"column":62}},"type":"ExpressionStatement","expression":{"range":[18919,18954],"loc":{"start":{"line":601,"column":26},"end":{"line":601,"column":61}},"type":"CallExpression","callee":{"range":[18919,18931],"loc":{"start":{"line":601,"column":26},"end":{"line":601,"column":38}},"type":"MemberExpression","computed":false,"object":{"range":[18919,18925],"loc":{"start":{"line":601,"column":26},"end":{"line":601,"column":32}},"type":"Identifier","name":"reject"},"property":{"range":[18926,18931],"loc":{"start":{"line":601,"column":33},"end":{"line":601,"column":38}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[18932,18943],"loc":{"start":{"line":601,"column":39},"end":{"line":601,"column":50}},"type":"Identifier","name":"def_wrapper"},{"range":[18944,18953],"loc":{"start":{"line":601,"column":51},"end":{"line":601,"column":60}},"type":"Identifier","name":"arguments"}]}}]},"generator":false,"expression":false}]}}]},"alternate":{"range":[18978,19091],"loc":{"start":{"line":604,"column":8},"end":{"line":610,"column":4}},"type":"BlockStatement","body":[{"range":[18984,18999],"loc":{"start":{"line":605,"column":4},"end":{"line":605,"column":19}},"type":"ExpressionStatement","expression":{"range":[18984,18998],"loc":{"start":{"line":605,"column":4},"end":{"line":605,"column":18}},"type":"AssignmentExpression","operator":"=","left":{"range":[18984,18992],"loc":{"start":{"line":605,"column":4},"end":{"line":605,"column":12}},"type":"MemberExpression","computed":false,"object":{"range":[18984,18988],"loc":{"start":{"line":605,"column":4},"end":{"line":605,"column":8}},"type":"Identifier","name":"self"},"property":{"range":[18989,18992],"loc":{"start":{"line":605,"column":9},"end":{"line":605,"column":12}},"type":"Identifier","name":"msg"}},"right":{"range":[18995,18998],"loc":{"start":{"line":605,"column":15},"end":{"line":605,"column":18}},"type":"Identifier","name":"msg"}}},{"range":[19004,19019],"loc":{"start":{"line":606,"column":4},"end":{"line":606,"column":19}},"type":"ExpressionStatement","expression":{"range":[19004,19018],"loc":{"start":{"line":606,"column":4},"end":{"line":606,"column":18}},"type":"AssignmentExpression","operator":"=","left":{"range":[19004,19014],"loc":{"start":{"line":606,"column":4},"end":{"line":606,"column":14}},"type":"MemberExpression","computed":false,"object":{"range":[19004,19008],"loc":{"start":{"line":606,"column":4},"end":{"line":606,"column":8}},"type":"Identifier","name":"self"},"property":{"range":[19009,19014],"loc":{"start":{"line":606,"column":9},"end":{"line":606,"column":14}},"type":"Identifier","name":"state"}},"right":{"range":[19017,19018],"loc":{"start":{"line":606,"column":17},"end":{"line":606,"column":18}},"type":"Literal","value":1,"raw":"1"}}},{"range":[19024,19086],"loc":{"start":{"line":607,"column":4},"end":{"line":609,"column":5}},"type":"IfStatement","test":{"range":[19028,19049],"loc":{"start":{"line":607,"column":8},"end":{"line":607,"column":29}},"type":"BinaryExpression","operator":">","left":{"range":[19028,19045],"loc":{"start":{"line":607,"column":8},"end":{"line":607,"column":25}},"type":"MemberExpression","computed":false,"object":{"range":[19028,19038],"loc":{"start":{"line":607,"column":8},"end":{"line":607,"column":18}},"type":"MemberExpression","computed":false,"object":{"range":[19028,19032],"loc":{"start":{"line":607,"column":8},"end":{"line":607,"column":12}},"type":"Identifier","name":"self"},"property":{"range":[19033,19038],"loc":{"start":{"line":607,"column":13},"end":{"line":607,"column":18}},"type":"Identifier","name":"chain"}},"property":{"range":[19039,19045],"loc":{"start":{"line":607,"column":19},"end":{"line":607,"column":25}},"type":"Identifier","name":"length"}},"right":{"range":[19048,19049],"loc":{"start":{"line":607,"column":28},"end":{"line":607,"column":29}},"type":"Literal","value":0,"raw":"0"}},"consequent":{"range":[19051,19086],"loc":{"start":{"line":607,"column":31},"end":{"line":609,"column":5}},"type":"BlockStatement","body":[{"range":[19058,19080],"loc":{"start":{"line":608,"column":5},"end":{"line":608,"column":27}},"type":"ExpressionStatement","expression":{"range":[19058,19079],"loc":{"start":{"line":608,"column":5},"end":{"line":608,"column":26}},"type":"CallExpression","callee":{"range":[19058,19066],"loc":{"start":{"line":608,"column":5},"end":{"line":608,"column":13}},"type":"Identifier","name":"schedule"},"arguments":[{"range":[19067,19073],"loc":{"start":{"line":608,"column":14},"end":{"line":608,"column":20}},"type":"Identifier","name":"notify"},{"range":[19074,19078],"loc":{"start":{"line":608,"column":21},"end":{"line":608,"column":25}},"type":"Identifier","name":"self"}]}}]},"alternate":null}]}}]},"guardedHandlers":[],"handlers":[{"range":[19098,19178],"loc":{"start":{"line":612,"column":2},"end":{"line":614,"column":3}},"type":"CatchClause","param":{"range":[19105,19108],"loc":{"start":{"line":612,"column":9},"end":{"line":612,"column":12}},"type":"Identifier","name":"err"},"body":{"range":[19110,19178],"loc":{"start":{"line":612,"column":14},"end":{"line":614,"column":3}},"type":"BlockStatement","body":[{"range":[19115,19174],"loc":{"start":{"line":613,"column":3},"end":{"line":613,"column":62}},"type":"ExpressionStatement","expression":{"range":[19115,19173],"loc":{"start":{"line":613,"column":3},"end":{"line":613,"column":61}},"type":"CallExpression","callee":{"range":[19115,19126],"loc":{"start":{"line":613,"column":3},"end":{"line":613,"column":14}},"type":"MemberExpression","computed":false,"object":{"range":[19115,19121],"loc":{"start":{"line":613,"column":3},"end":{"line":613,"column":9}},"type":"Identifier","name":"reject"},"property":{"range":[19122,19126],"loc":{"start":{"line":613,"column":10},"end":{"line":613,"column":14}},"type":"Identifier","name":"call"}},"arguments":[{"range":[19127,19168],"loc":{"start":{"line":613,"column":15},"end":{"line":613,"column":56}},"type":"LogicalExpression","operator":"||","left":{"range":[19127,19138],"loc":{"start":{"line":613,"column":15},"end":{"line":613,"column":26}},"type":"Identifier","name":"def_wrapper"},"right":{"range":[19143,19167],"loc":{"start":{"line":613,"column":31},"end":{"line":613,"column":55}},"type":"NewExpression","callee":{"range":[19147,19161],"loc":{"start":{"line":613,"column":35},"end":{"line":613,"column":49}},"type":"Identifier","name":"MakeDefWrapper"},"arguments":[{"range":[19162,19166],"loc":{"start":{"line":613,"column":50},"end":{"line":613,"column":54}},"type":"Identifier","name":"self"}]}},{"range":[19169,19172],"loc":{"start":{"line":613,"column":57},"end":{"line":613,"column":60}},"type":"Identifier","name":"err"}]}}]}}],"handler":{"range":[19098,19178],"loc":{"start":{"line":612,"column":2},"end":{"line":614,"column":3}},"type":"CatchClause","param":{"range":[19105,19108],"loc":{"start":{"line":612,"column":9},"end":{"line":612,"column":12}},"type":"Identifier","name":"err"},"body":{"range":[19110,19178],"loc":{"start":{"line":612,"column":14},"end":{"line":614,"column":3}},"type":"BlockStatement","body":[{"range":[19115,19174],"loc":{"start":{"line":613,"column":3},"end":{"line":613,"column":62}},"type":"ExpressionStatement","expression":{"range":[19115,19173],"loc":{"start":{"line":613,"column":3},"end":{"line":613,"column":61}},"type":"CallExpression","callee":{"range":[19115,19126],"loc":{"start":{"line":613,"column":3},"end":{"line":613,"column":14}},"type":"MemberExpression","computed":false,"object":{"range":[19115,19121],"loc":{"start":{"line":613,"column":3},"end":{"line":613,"column":9}},"type":"Identifier","name":"reject"},"property":{"range":[19122,19126],"loc":{"start":{"line":613,"column":10},"end":{"line":613,"column":14}},"type":"Identifier","name":"call"}},"arguments":[{"range":[19127,19168],"loc":{"start":{"line":613,"column":15},"end":{"line":613,"column":56}},"type":"LogicalExpression","operator":"||","left":{"range":[19127,19138],"loc":{"start":{"line":613,"column":15},"end":{"line":613,"column":26}},"type":"Identifier","name":"def_wrapper"},"right":{"range":[19143,19167],"loc":{"start":{"line":613,"column":31},"end":{"line":613,"column":55}},"type":"NewExpression","callee":{"range":[19147,19161],"loc":{"start":{"line":613,"column":35},"end":{"line":613,"column":49}},"type":"Identifier","name":"MakeDefWrapper"},"arguments":[{"range":[19162,19166],"loc":{"start":{"line":613,"column":50},"end":{"line":613,"column":54}},"type":"Identifier","name":"self"}]}},{"range":[19169,19172],"loc":{"start":{"line":613,"column":57},"end":{"line":613,"column":60}},"type":"Identifier","name":"err"}]}}]}},"finalizer":null}]},"generator":false,"expression":false},{"range":[19184,19466],"loc":{"start":{"line":617,"column":1},"end":{"line":635,"column":2}},"type":"FunctionDeclaration","id":{"range":[19193,19199],"loc":{"start":{"line":617,"column":10},"end":{"line":617,"column":16}},"type":"Identifier","name":"reject"},"params":[{"range":[19200,19203],"loc":{"start":{"line":617,"column":17},"end":{"line":617,"column":20}},"type":"Identifier","name":"msg"}],"defaults":[],"body":{"range":[19205,19466],"loc":{"start":{"line":617,"column":22},"end":{"line":635,"column":2}},"type":"BlockStatement","body":[{"range":[19209,19225],"loc":{"start":{"line":618,"column":2},"end":{"line":618,"column":18}},"type":"VariableDeclaration","declarations":[{"range":[19213,19224],"loc":{"start":{"line":618,"column":6},"end":{"line":618,"column":17}},"type":"VariableDeclarator","id":{"range":[19213,19217],"loc":{"start":{"line":618,"column":6},"end":{"line":618,"column":10}},"type":"Identifier","name":"self"},"init":{"range":[19220,19224],"loc":{"start":{"line":618,"column":13},"end":{"line":618,"column":17}},"type":"ThisExpression"}}],"kind":"var","trailingComments":[{"type":"Line","value":" already triggered?","range":[19229,19250],"loc":{"start":{"line":620,"column":2},"end":{"line":620,"column":23}}}]},{"range":[19253,19284],"loc":{"start":{"line":621,"column":2},"end":{"line":621,"column":33}},"type":"IfStatement","test":{"range":[19257,19271],"loc":{"start":{"line":621,"column":6},"end":{"line":621,"column":20}},"type":"MemberExpression","computed":false,"object":{"range":[19257,19261],"loc":{"start":{"line":621,"column":6},"end":{"line":621,"column":10}},"type":"Identifier","name":"self"},"property":{"range":[19262,19271],"loc":{"start":{"line":621,"column":11},"end":{"line":621,"column":20}},"type":"Identifier","name":"triggered"}},"consequent":{"range":[19273,19284],"loc":{"start":{"line":621,"column":22},"end":{"line":621,"column":33}},"type":"BlockStatement","body":[{"range":[19275,19282],"loc":{"start":{"line":621,"column":24},"end":{"line":621,"column":31}},"type":"ReturnStatement","argument":null}]},"alternate":null,"leadingComments":[{"type":"Line","value":" already triggered?","range":[19229,19250],"loc":{"start":{"line":620,"column":2},"end":{"line":620,"column":23}}}]},{"range":[19288,19310],"loc":{"start":{"line":623,"column":2},"end":{"line":623,"column":24}},"type":"ExpressionStatement","expression":{"range":[19288,19309],"loc":{"start":{"line":623,"column":2},"end":{"line":623,"column":23}},"type":"AssignmentExpression","operator":"=","left":{"range":[19288,19302],"loc":{"start":{"line":623,"column":2},"end":{"line":623,"column":16}},"type":"MemberExpression","computed":false,"object":{"range":[19288,19292],"loc":{"start":{"line":623,"column":2},"end":{"line":623,"column":6}},"type":"Identifier","name":"self"},"property":{"range":[19293,19302],"loc":{"start":{"line":623,"column":7},"end":{"line":623,"column":16}},"type":"Identifier","name":"triggered"}},"right":{"range":[19305,19309],"loc":{"start":{"line":623,"column":19},"end":{"line":623,"column":23}},"type":"Literal","value":true,"raw":"true"}},"trailingComments":[{"type":"Line","value":" unwrap","range":[19314,19323],"loc":{"start":{"line":625,"column":2},"end":{"line":625,"column":11}}}]},{"range":[19326,19365],"loc":{"start":{"line":626,"column":2},"end":{"line":628,"column":3}},"type":"IfStatement","test":{"range":[19330,19338],"loc":{"start":{"line":626,"column":6},"end":{"line":626,"column":14}},"type":"MemberExpression","computed":false,"object":{"range":[19330,19334],"loc":{"start":{"line":626,"column":6},"end":{"line":626,"column":10}},"type":"Identifier","name":"self"},"property":{"range":[19335,19338],"loc":{"start":{"line":626,"column":11},"end":{"line":626,"column":14}},"type":"Identifier","name":"def"}},"consequent":{"range":[19340,19365],"loc":{"start":{"line":626,"column":16},"end":{"line":628,"column":3}},"type":"BlockStatement","body":[{"range":[19345,19361],"loc":{"start":{"line":627,"column":3},"end":{"line":627,"column":19}},"type":"ExpressionStatement","expression":{"range":[19345,19360],"loc":{"start":{"line":627,"column":3},"end":{"line":627,"column":18}},"type":"AssignmentExpression","operator":"=","left":{"range":[19345,19349],"loc":{"start":{"line":627,"column":3},"end":{"line":627,"column":7}},"type":"Identifier","name":"self"},"right":{"range":[19352,19360],"loc":{"start":{"line":627,"column":10},"end":{"line":627,"column":18}},"type":"MemberExpression","computed":false,"object":{"range":[19352,19356],"loc":{"start":{"line":627,"column":10},"end":{"line":627,"column":14}},"type":"Identifier","name":"self"},"property":{"range":[19357,19360],"loc":{"start":{"line":627,"column":15},"end":{"line":627,"column":18}},"type":"Identifier","name":"def"}}}}]},"alternate":null,"leadingComments":[{"type":"Line","value":" unwrap","range":[19314,19323],"loc":{"start":{"line":625,"column":2},"end":{"line":625,"column":11}}}]},{"range":[19369,19384],"loc":{"start":{"line":630,"column":2},"end":{"line":630,"column":17}},"type":"ExpressionStatement","expression":{"range":[19369,19383],"loc":{"start":{"line":630,"column":2},"end":{"line":630,"column":16}},"type":"AssignmentExpression","operator":"=","left":{"range":[19369,19377],"loc":{"start":{"line":630,"column":2},"end":{"line":630,"column":10}},"type":"MemberExpression","computed":false,"object":{"range":[19369,19373],"loc":{"start":{"line":630,"column":2},"end":{"line":630,"column":6}},"type":"Identifier","name":"self"},"property":{"range":[19374,19377],"loc":{"start":{"line":630,"column":7},"end":{"line":630,"column":10}},"type":"Identifier","name":"msg"}},"right":{"range":[19380,19383],"loc":{"start":{"line":630,"column":13},"end":{"line":630,"column":16}},"type":"Identifier","name":"msg"}}},{"range":[19387,19402],"loc":{"start":{"line":631,"column":2},"end":{"line":631,"column":17}},"type":"ExpressionStatement","expression":{"range":[19387,19401],"loc":{"start":{"line":631,"column":2},"end":{"line":631,"column":16}},"type":"AssignmentExpression","operator":"=","left":{"range":[19387,19397],"loc":{"start":{"line":631,"column":2},"end":{"line":631,"column":12}},"type":"MemberExpression","computed":false,"object":{"range":[19387,19391],"loc":{"start":{"line":631,"column":2},"end":{"line":631,"column":6}},"type":"Identifier","name":"self"},"property":{"range":[19392,19397],"loc":{"start":{"line":631,"column":7},"end":{"line":631,"column":12}},"type":"Identifier","name":"state"}},"right":{"range":[19400,19401],"loc":{"start":{"line":631,"column":15},"end":{"line":631,"column":16}},"type":"Literal","value":2,"raw":"2"}}},{"range":[19405,19463],"loc":{"start":{"line":632,"column":2},"end":{"line":634,"column":3}},"type":"IfStatement","test":{"range":[19409,19430],"loc":{"start":{"line":632,"column":6},"end":{"line":632,"column":27}},"type":"BinaryExpression","operator":">","left":{"range":[19409,19426],"loc":{"start":{"line":632,"column":6},"end":{"line":632,"column":23}},"type":"MemberExpression","computed":false,"object":{"range":[19409,19419],"loc":{"start":{"line":632,"column":6},"end":{"line":632,"column":16}},"type":"MemberExpression","computed":false,"object":{"range":[19409,19413],"loc":{"start":{"line":632,"column":6},"end":{"line":632,"column":10}},"type":"Identifier","name":"self"},"property":{"range":[19414,19419],"loc":{"start":{"line":632,"column":11},"end":{"line":632,"column":16}},"type":"Identifier","name":"chain"}},"property":{"range":[19420,19426],"loc":{"start":{"line":632,"column":17},"end":{"line":632,"column":23}},"type":"Identifier","name":"length"}},"right":{"range":[19429,19430],"loc":{"start":{"line":632,"column":26},"end":{"line":632,"column":27}},"type":"Literal","value":0,"raw":"0"}},"consequent":{"range":[19432,19463],"loc":{"start":{"line":632,"column":29},"end":{"line":634,"column":3}},"type":"BlockStatement","body":[{"range":[19437,19459],"loc":{"start":{"line":633,"column":3},"end":{"line":633,"column":25}},"type":"ExpressionStatement","expression":{"range":[19437,19458],"loc":{"start":{"line":633,"column":3},"end":{"line":633,"column":24}},"type":"CallExpression","callee":{"range":[19437,19445],"loc":{"start":{"line":633,"column":3},"end":{"line":633,"column":11}},"type":"Identifier","name":"schedule"},"arguments":[{"range":[19446,19452],"loc":{"start":{"line":633,"column":12},"end":{"line":633,"column":18}},"type":"Identifier","name":"notify"},{"range":[19453,19457],"loc":{"start":{"line":633,"column":19},"end":{"line":633,"column":23}},"type":"Identifier","name":"self"}]}}]},"alternate":null}]},"generator":false,"expression":false},{"range":[19469,19746],"loc":{"start":{"line":637,"column":1},"end":{"line":649,"column":2}},"type":"FunctionDeclaration","id":{"range":[19478,19493],"loc":{"start":{"line":637,"column":10},"end":{"line":637,"column":25}},"type":"Identifier","name":"iteratePromises"},"params":[{"range":[19494,19505],"loc":{"start":{"line":637,"column":26},"end":{"line":637,"column":37}},"type":"Identifier","name":"Constructor"},{"range":[19506,19509],"loc":{"start":{"line":637,"column":38},"end":{"line":637,"column":41}},"type":"Identifier","name":"arr"},{"range":[19510,19518],"loc":{"start":{"line":637,"column":42},"end":{"line":637,"column":50}},"type":"Identifier","name":"resolver"},{"range":[19519,19527],"loc":{"start":{"line":637,"column":51},"end":{"line":637,"column":59}},"type":"Identifier","name":"rejecter"}],"defaults":[],"body":{"range":[19529,19746],"loc":{"start":{"line":637,"column":61},"end":{"line":649,"column":2}},"type":"BlockStatement","body":[{"range":[19533,19743],"loc":{"start":{"line":638,"column":2},"end":{"line":648,"column":3}},"type":"ForStatement","init":{"range":[19538,19547],"loc":{"start":{"line":638,"column":7},"end":{"line":638,"column":16}},"type":"VariableDeclaration","declarations":[{"range":[19542,19547],"loc":{"start":{"line":638,"column":11},"end":{"line":638,"column":16}},"type":"VariableDeclarator","id":{"range":[19542,19545],"loc":{"start":{"line":638,"column":11},"end":{"line":638,"column":14}},"type":"Identifier","name":"idx"},"init":{"range":[19546,19547],"loc":{"start":{"line":638,"column":15},"end":{"line":638,"column":16}},"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},"test":{"range":[19549,19563],"loc":{"start":{"line":638,"column":18},"end":{"line":638,"column":32}},"type":"BinaryExpression","operator":"<","left":{"range":[19549,19552],"loc":{"start":{"line":638,"column":18},"end":{"line":638,"column":21}},"type":"Identifier","name":"idx"},"right":{"range":[19553,19563],"loc":{"start":{"line":638,"column":22},"end":{"line":638,"column":32}},"type":"MemberExpression","computed":false,"object":{"range":[19553,19556],"loc":{"start":{"line":638,"column":22},"end":{"line":638,"column":25}},"type":"Identifier","name":"arr"},"property":{"range":[19557,19563],"loc":{"start":{"line":638,"column":26},"end":{"line":638,"column":32}},"type":"Identifier","name":"length"}}},"update":{"range":[19565,19570],"loc":{"start":{"line":638,"column":34},"end":{"line":638,"column":39}},"type":"UpdateExpression","operator":"++","argument":{"range":[19565,19568],"loc":{"start":{"line":638,"column":34},"end":{"line":638,"column":37}},"type":"Identifier","name":"idx"},"prefix":false},"body":{"range":[19572,19743],"loc":{"start":{"line":638,"column":41},"end":{"line":648,"column":3}},"type":"BlockStatement","body":[{"range":[19577,19739],"loc":{"start":{"line":639,"column":3},"end":{"line":647,"column":11}},"type":"ExpressionStatement","expression":{"range":[19577,19738],"loc":{"start":{"line":639,"column":3},"end":{"line":647,"column":10}},"type":"CallExpression","callee":{"range":[19578,19732],"loc":{"start":{"line":639,"column":4},"end":{"line":647,"column":4}},"type":"FunctionExpression","id":{"range":[19587,19591],"loc":{"start":{"line":639,"column":13},"end":{"line":639,"column":17}},"type":"Identifier","name":"IIFE"},"params":[{"range":[19592,19595],"loc":{"start":{"line":639,"column":18},"end":{"line":639,"column":21}},"type":"Identifier","name":"idx"}],"defaults":[],"body":{"range":[19596,19732],"loc":{"start":{"line":639,"column":22},"end":{"line":647,"column":4}},"type":"BlockStatement","body":[{"range":[19602,19727],"loc":{"start":{"line":640,"column":4},"end":{"line":646,"column":6}},"type":"ExpressionStatement","expression":{"range":[19602,19726],"loc":{"start":{"line":640,"column":4},"end":{"line":646,"column":5}},"type":"CallExpression","callee":{"range":[19602,19641],"loc":{"start":{"line":640,"column":4},"end":{"line":641,"column":9}},"type":"MemberExpression","computed":false,"object":{"range":[19602,19631],"loc":{"start":{"line":640,"column":4},"end":{"line":640,"column":33}},"type":"CallExpression","callee":{"range":[19602,19621],"loc":{"start":{"line":640,"column":4},"end":{"line":640,"column":23}},"type":"MemberExpression","computed":false,"object":{"range":[19602,19613],"loc":{"start":{"line":640,"column":4},"end":{"line":640,"column":15}},"type":"Identifier","name":"Constructor"},"property":{"range":[19614,19621],"loc":{"start":{"line":640,"column":16},"end":{"line":640,"column":23}},"type":"Identifier","name":"resolve"}},"arguments":[{"range":[19622,19630],"loc":{"start":{"line":640,"column":24},"end":{"line":640,"column":32}},"type":"MemberExpression","computed":true,"object":{"range":[19622,19625],"loc":{"start":{"line":640,"column":24},"end":{"line":640,"column":27}},"type":"Identifier","name":"arr"},"property":{"range":[19626,19629],"loc":{"start":{"line":640,"column":28},"end":{"line":640,"column":31}},"type":"Identifier","name":"idx"}}]},"property":{"range":[19637,19641],"loc":{"start":{"line":641,"column":5},"end":{"line":641,"column":9}},"type":"Identifier","name":"then"}},"arguments":[{"range":[19648,19705],"loc":{"start":{"line":642,"column":5},"end":{"line":644,"column":6}},"type":"FunctionExpression","id":{"range":[19657,19667],"loc":{"start":{"line":642,"column":14},"end":{"line":642,"column":24}},"type":"Identifier","name":"$resolver$"},"params":[{"range":[19668,19671],"loc":{"start":{"line":642,"column":25},"end":{"line":642,"column":28}},"type":"Identifier","name":"msg"}],"defaults":[],"body":{"range":[19672,19705],"loc":{"start":{"line":642,"column":29},"end":{"line":644,"column":6}},"type":"BlockStatement","body":[{"range":[19680,19698],"loc":{"start":{"line":643,"column":6},"end":{"line":643,"column":24}},"type":"ExpressionStatement","expression":{"range":[19680,19697],"loc":{"start":{"line":643,"column":6},"end":{"line":643,"column":23}},"type":"CallExpression","callee":{"range":[19680,19688],"loc":{"start":{"line":643,"column":6},"end":{"line":643,"column":14}},"type":"Identifier","name":"resolver"},"arguments":[{"range":[19689,19692],"loc":{"start":{"line":643,"column":15},"end":{"line":643,"column":18}},"type":"Identifier","name":"idx"},{"range":[19693,19696],"loc":{"start":{"line":643,"column":19},"end":{"line":643,"column":22}},"type":"Identifier","name":"msg"}]}}]},"generator":false,"expression":false},{"range":[19712,19720],"loc":{"start":{"line":645,"column":5},"end":{"line":645,"column":13}},"type":"Identifier","name":"rejecter"}]}}]},"generator":false,"expression":false},"arguments":[{"range":[19734,19737],"loc":{"start":{"line":647,"column":6},"end":{"line":647,"column":9}},"type":"Identifier","name":"idx"}]}}]}}]},"generator":false,"expression":false},{"range":[19749,19828],"loc":{"start":{"line":651,"column":1},"end":{"line":654,"column":2}},"type":"FunctionDeclaration","id":{"range":[19758,19772],"loc":{"start":{"line":651,"column":10},"end":{"line":651,"column":24}},"type":"Identifier","name":"MakeDefWrapper"},"params":[{"range":[19773,19777],"loc":{"start":{"line":651,"column":25},"end":{"line":651,"column":29}},"type":"Identifier","name":"self"}],"defaults":[],"body":{"range":[19779,19828],"loc":{"start":{"line":651,"column":31},"end":{"line":654,"column":2}},"type":"BlockStatement","body":[{"range":[19783,19799],"loc":{"start":{"line":652,"column":2},"end":{"line":652,"column":18}},"type":"ExpressionStatement","expression":{"range":[19783,19798],"loc":{"start":{"line":652,"column":2},"end":{"line":652,"column":17}},"type":"AssignmentExpression","operator":"=","left":{"range":[19783,19791],"loc":{"start":{"line":652,"column":2},"end":{"line":652,"column":10}},"type":"MemberExpression","computed":false,"object":{"range":[19783,19787],"loc":{"start":{"line":652,"column":2},"end":{"line":652,"column":6}},"type":"ThisExpression"},"property":{"range":[19788,19791],"loc":{"start":{"line":652,"column":7},"end":{"line":652,"column":10}},"type":"Identifier","name":"def"}},"right":{"range":[19794,19798],"loc":{"start":{"line":652,"column":13},"end":{"line":652,"column":17}},"type":"Identifier","name":"self"}}},{"range":[19802,19825],"loc":{"start":{"line":653,"column":2},"end":{"line":653,"column":25}},"type":"ExpressionStatement","expression":{"range":[19802,19824],"loc":{"start":{"line":653,"column":2},"end":{"line":653,"column":24}},"type":"AssignmentExpression","operator":"=","left":{"range":[19802,19816],"loc":{"start":{"line":653,"column":2},"end":{"line":653,"column":16}},"type":"MemberExpression","computed":false,"object":{"range":[19802,19806],"loc":{"start":{"line":653,"column":2},"end":{"line":653,"column":6}},"type":"ThisExpression"},"property":{"range":[19807,19816],"loc":{"start":{"line":653,"column":7},"end":{"line":653,"column":16}},"type":"Identifier","name":"triggered"}},"right":{"range":[19819,19824],"loc":{"start":{"line":653,"column":19},"end":{"line":653,"column":24}},"type":"Literal","value":false,"raw":"false"}}}]},"generator":false,"expression":false},{"range":[19831,19965],"loc":{"start":{"line":656,"column":1},"end":{"line":662,"column":2}},"type":"FunctionDeclaration","id":{"range":[19840,19847],"loc":{"start":{"line":656,"column":10},"end":{"line":656,"column":17}},"type":"Identifier","name":"MakeDef"},"params":[{"range":[19848,19852],"loc":{"start":{"line":656,"column":18},"end":{"line":656,"column":22}},"type":"Identifier","name":"self"}],"defaults":[],"body":{"range":[19854,19965],"loc":{"start":{"line":656,"column":24},"end":{"line":662,"column":2}},"type":"BlockStatement","body":[{"range":[19858,19878],"loc":{"start":{"line":657,"column":2},"end":{"line":657,"column":22}},"type":"ExpressionStatement","expression":{"range":[19858,19877],"loc":{"start":{"line":657,"column":2},"end":{"line":657,"column":21}},"type":"AssignmentExpression","operator":"=","left":{"range":[19858,19870],"loc":{"start":{"line":657,"column":2},"end":{"line":657,"column":14}},"type":"MemberExpression","computed":false,"object":{"range":[19858,19862],"loc":{"start":{"line":657,"column":2},"end":{"line":657,"column":6}},"type":"ThisExpression"},"property":{"range":[19863,19870],"loc":{"start":{"line":657,"column":7},"end":{"line":657,"column":14}},"type":"Identifier","name":"promise"}},"right":{"range":[19873,19877],"loc":{"start":{"line":657,"column":17},"end":{"line":657,"column":21}},"type":"Identifier","name":"self"}}},{"range":[19881,19896],"loc":{"start":{"line":658,"column":2},"end":{"line":658,"column":17}},"type":"ExpressionStatement","expression":{"range":[19881,19895],"loc":{"start":{"line":658,"column":2},"end":{"line":658,"column":16}},"type":"AssignmentExpression","operator":"=","left":{"range":[19881,19891],"loc":{"start":{"line":658,"column":2},"end":{"line":658,"column":12}},"type":"MemberExpression","computed":false,"object":{"range":[19881,19885],"loc":{"start":{"line":658,"column":2},"end":{"line":658,"column":6}},"type":"ThisExpression"},"property":{"range":[19886,19891],"loc":{"start":{"line":658,"column":7},"end":{"line":658,"column":12}},"type":"Identifier","name":"state"}},"right":{"range":[19894,19895],"loc":{"start":{"line":658,"column":15},"end":{"line":658,"column":16}},"type":"Literal","value":0,"raw":"0"}}},{"range":[19899,19922],"loc":{"start":{"line":659,"column":2},"end":{"line":659,"column":25}},"type":"ExpressionStatement","expression":{"range":[19899,19921],"loc":{"start":{"line":659,"column":2},"end":{"line":659,"column":24}},"type":"AssignmentExpression","operator":"=","left":{"range":[19899,19913],"loc":{"start":{"line":659,"column":2},"end":{"line":659,"column":16}},"type":"MemberExpression","computed":false,"object":{"range":[19899,19903],"loc":{"start":{"line":659,"column":2},"end":{"line":659,"column":6}},"type":"ThisExpression"},"property":{"range":[19904,19913],"loc":{"start":{"line":659,"column":7},"end":{"line":659,"column":16}},"type":"Identifier","name":"triggered"}},"right":{"range":[19916,19921],"loc":{"start":{"line":659,"column":19},"end":{"line":659,"column":24}},"type":"Literal","value":false,"raw":"false"}}},{"range":[19925,19941],"loc":{"start":{"line":660,"column":2},"end":{"line":660,"column":18}},"type":"ExpressionStatement","expression":{"range":[19925,19940],"loc":{"start":{"line":660,"column":2},"end":{"line":660,"column":17}},"type":"AssignmentExpression","operator":"=","left":{"range":[19925,19935],"loc":{"start":{"line":660,"column":2},"end":{"line":660,"column":12}},"type":"MemberExpression","computed":false,"object":{"range":[19925,19929],"loc":{"start":{"line":660,"column":2},"end":{"line":660,"column":6}},"type":"ThisExpression"},"property":{"range":[19930,19935],"loc":{"start":{"line":660,"column":7},"end":{"line":660,"column":12}},"type":"Identifier","name":"chain"}},"right":{"range":[19938,19940],"loc":{"start":{"line":660,"column":15},"end":{"line":660,"column":17}},"type":"ArrayExpression","elements":[]}}},{"range":[19944,19962],"loc":{"start":{"line":661,"column":2},"end":{"line":661,"column":20}},"type":"ExpressionStatement","expression":{"range":[19944,19961],"loc":{"start":{"line":661,"column":2},"end":{"line":661,"column":19}},"type":"AssignmentExpression","operator":"=","left":{"range":[19944,19952],"loc":{"start":{"line":661,"column":2},"end":{"line":661,"column":10}},"type":"MemberExpression","computed":false,"object":{"range":[19944,19948],"loc":{"start":{"line":661,"column":2},"end":{"line":661,"column":6}},"type":"ThisExpression"},"property":{"range":[19949,19952],"loc":{"start":{"line":661,"column":7},"end":{"line":661,"column":10}},"type":"Identifier","name":"msg"}},"right":{"range":[19955,19961],"loc":{"start":{"line":661,"column":13},"end":{"line":661,"column":19}},"type":"UnaryExpression","operator":"void","argument":{"range":[19960,19961],"loc":{"start":{"line":661,"column":18},"end":{"line":661,"column":19}},"type":"Literal","value":0,"raw":"0"},"prefix":true}}}]},"generator":false,"expression":false},{"range":[19968,21344],"loc":{"start":{"line":664,"column":1},"end":{"line":721,"column":2}},"type":"FunctionDeclaration","id":{"range":[19977,19984],"loc":{"start":{"line":664,"column":10},"end":{"line":664,"column":17}},"type":"Identifier","name":"Promise"},"params":[{"range":[19985,19993],"loc":{"start":{"line":664,"column":18},"end":{"line":664,"column":26}},"type":"Identifier","name":"executor"}],"defaults":[],"body":{"range":[19995,21344],"loc":{"start":{"line":664,"column":28},"end":{"line":721,"column":2}},"type":"BlockStatement","body":[{"range":[19999,20077],"loc":{"start":{"line":665,"column":2},"end":{"line":667,"column":3}},"type":"IfStatement","test":{"range":[20003,20032],"loc":{"start":{"line":665,"column":6},"end":{"line":665,"column":35}},"type":"BinaryExpression","operator":"!=","left":{"range":[20003,20018],"loc":{"start":{"line":665,"column":6},"end":{"line":665,"column":21}},"type":"UnaryExpression","operator":"typeof","argument":{"range":[20010,20018],"loc":{"start":{"line":665,"column":13},"end":{"line":665,"column":21}},"type":"Identifier","name":"executor"},"prefix":true},"right":{"range":[20022,20032],"loc":{"start":{"line":665,"column":25},"end":{"line":665,"column":35}},"type":"Literal","value":"function","raw":"\"function\""}},"consequent":{"range":[20034,20077],"loc":{"start":{"line":665,"column":37},"end":{"line":667,"column":3}},"type":"BlockStatement","body":[{"range":[20039,20073],"loc":{"start":{"line":666,"column":3},"end":{"line":666,"column":37}},"type":"ThrowStatement","argument":{"range":[20045,20072],"loc":{"start":{"line":666,"column":9},"end":{"line":666,"column":36}},"type":"CallExpression","callee":{"range":[20045,20054],"loc":{"start":{"line":666,"column":9},"end":{"line":666,"column":18}},"type":"Identifier","name":"TypeError"},"arguments":[{"range":[20055,20071],"loc":{"start":{"line":666,"column":19},"end":{"line":666,"column":35}},"type":"Literal","value":"Not a function","raw":"\"Not a function\""}]}}]},"alternate":null},{"range":[20081,20147],"loc":{"start":{"line":669,"column":2},"end":{"line":671,"column":3}},"type":"IfStatement","test":{"range":[20085,20103],"loc":{"start":{"line":669,"column":6},"end":{"line":669,"column":24}},"type":"BinaryExpression","operator":"!==","left":{"range":[20085,20097],"loc":{"start":{"line":669,"column":6},"end":{"line":669,"column":18}},"type":"MemberExpression","computed":false,"object":{"range":[20085,20089],"loc":{"start":{"line":669,"column":6},"end":{"line":669,"column":10}},"type":"ThisExpression"},"property":{"range":[20090,20097],"loc":{"start":{"line":669,"column":11},"end":{"line":669,"column":18}},"type":"Identifier","name":"__NPO__"}},"right":{"range":[20102,20103],"loc":{"start":{"line":669,"column":23},"end":{"line":669,"column":24}},"type":"Literal","value":0,"raw":"0"}},"consequent":{"range":[20105,20147],"loc":{"start":{"line":669,"column":26},"end":{"line":671,"column":3}},"type":"BlockStatement","body":[{"range":[20110,20143],"loc":{"start":{"line":670,"column":3},"end":{"line":670,"column":36}},"type":"ThrowStatement","argument":{"range":[20116,20142],"loc":{"start":{"line":670,"column":9},"end":{"line":670,"column":35}},"type":"CallExpression","callee":{"range":[20116,20125],"loc":{"start":{"line":670,"column":9},"end":{"line":670,"column":18}},"type":"Identifier","name":"TypeError"},"arguments":[{"range":[20126,20141],"loc":{"start":{"line":670,"column":19},"end":{"line":670,"column":34}},"type":"Literal","value":"Not a promise","raw":"\"Not a promise\""}]}}]},"alternate":null,"trailingComments":[{"type":"Line","value":" instance shadowing the inherited \"brand\"","range":[20151,20194],"loc":{"start":{"line":673,"column":2},"end":{"line":673,"column":45}}},{"type":"Line","value":" to signal an already \"initialized\" promise","range":[20197,20242],"loc":{"start":{"line":674,"column":2},"end":{"line":674,"column":47}}}]},{"range":[20245,20262],"loc":{"start":{"line":675,"column":2},"end":{"line":675,"column":19}},"type":"ExpressionStatement","expression":{"range":[20245,20261],"loc":{"start":{"line":675,"column":2},"end":{"line":675,"column":18}},"type":"AssignmentExpression","operator":"=","left":{"range":[20245,20257],"loc":{"start":{"line":675,"column":2},"end":{"line":675,"column":14}},"type":"MemberExpression","computed":false,"object":{"range":[20245,20249],"loc":{"start":{"line":675,"column":2},"end":{"line":675,"column":6}},"type":"ThisExpression"},"property":{"range":[20250,20257],"loc":{"start":{"line":675,"column":7},"end":{"line":675,"column":14}},"type":"Identifier","name":"__NPO__"}},"right":{"range":[20260,20261],"loc":{"start":{"line":675,"column":17},"end":{"line":675,"column":18}},"type":"Literal","value":1,"raw":"1"}},"leadingComments":[{"type":"Line","value":" instance shadowing the inherited \"brand\"","range":[20151,20194],"loc":{"start":{"line":673,"column":2},"end":{"line":673,"column":45}}},{"type":"Line","value":" to signal an already \"initialized\" promise","range":[20197,20242],"loc":{"start":{"line":674,"column":2},"end":{"line":674,"column":47}}}]},{"range":[20266,20294],"loc":{"start":{"line":677,"column":2},"end":{"line":677,"column":30}},"type":"VariableDeclaration","declarations":[{"range":[20270,20293],"loc":{"start":{"line":677,"column":6},"end":{"line":677,"column":29}},"type":"VariableDeclarator","id":{"range":[20270,20273],"loc":{"start":{"line":677,"column":6},"end":{"line":677,"column":9}},"type":"Identifier","name":"def"},"init":{"range":[20276,20293],"loc":{"start":{"line":677,"column":12},"end":{"line":677,"column":29}},"type":"NewExpression","callee":{"range":[20280,20287],"loc":{"start":{"line":677,"column":16},"end":{"line":677,"column":23}},"type":"Identifier","name":"MakeDef"},"arguments":[{"range":[20288,20292],"loc":{"start":{"line":677,"column":24},"end":{"line":677,"column":28}},"type":"ThisExpression"}]}}],"kind":"var"},{"range":[20298,21025],"loc":{"start":{"line":679,"column":2},"end":{"line":702,"column":4}},"type":"ExpressionStatement","expression":{"range":[20298,21024],"loc":{"start":{"line":679,"column":2},"end":{"line":702,"column":3}},"type":"AssignmentExpression","operator":"=","left":{"range":[20298,20310],"loc":{"start":{"line":679,"column":2},"end":{"line":679,"column":14}},"type":"MemberExpression","computed":true,"object":{"range":[20298,20302],"loc":{"start":{"line":679,"column":2},"end":{"line":679,"column":6}},"type":"ThisExpression"},"property":{"range":[20303,20309],"loc":{"start":{"line":679,"column":7},"end":{"line":679,"column":13}},"type":"Literal","value":"then","raw":"\"then\""}},"right":{"range":[20313,21024],"loc":{"start":{"line":679,"column":17},"end":{"line":702,"column":3}},"type":"FunctionExpression","id":{"range":[20322,20326],"loc":{"start":{"line":679,"column":26},"end":{"line":679,"column":30}},"type":"Identifier","name":"then"},"params":[{"range":[20327,20334],"loc":{"start":{"line":679,"column":31},"end":{"line":679,"column":38}},"type":"Identifier","name":"success"},{"range":[20335,20342],"loc":{"start":{"line":679,"column":39},"end":{"line":679,"column":46}},"type":"Identifier","name":"failure"}],"defaults":[],"body":{"range":[20344,21024],"loc":{"start":{"line":679,"column":48},"end":{"line":702,"column":3}},"type":"BlockStatement","body":[{"range":[20349,20484],"loc":{"start":{"line":680,"column":3},"end":{"line":683,"column":5}},"type":"VariableDeclaration","declarations":[{"range":[20353,20483],"loc":{"start":{"line":680,"column":7},"end":{"line":683,"column":4}},"type":"VariableDeclarator","id":{"range":[20353,20354],"loc":{"start":{"line":680,"column":7},"end":{"line":680,"column":8}},"type":"Identifier","name":"o"},"init":{"range":[20357,20483],"loc":{"start":{"line":680,"column":11},"end":{"line":683,"column":4}},"type":"ObjectExpression","properties":[{"range":[20363,20417],"loc":{"start":{"line":681,"column":4},"end":{"line":681,"column":58}},"type":"Property","key":{"range":[20363,20370],"loc":{"start":{"line":681,"column":4},"end":{"line":681,"column":11}},"type":"Identifier","name":"success"},"computed":false,"value":{"range":[20372,20417],"loc":{"start":{"line":681,"column":13},"end":{"line":681,"column":58}},"type":"ConditionalExpression","test":{"range":[20372,20400],"loc":{"start":{"line":681,"column":13},"end":{"line":681,"column":41}},"type":"BinaryExpression","operator":"==","left":{"range":[20372,20386],"loc":{"start":{"line":681,"column":13},"end":{"line":681,"column":27}},"type":"UnaryExpression","operator":"typeof","argument":{"range":[20379,20386],"loc":{"start":{"line":681,"column":20},"end":{"line":681,"column":27}},"type":"Identifier","name":"success"},"prefix":true},"right":{"range":[20390,20400],"loc":{"start":{"line":681,"column":31},"end":{"line":681,"column":41}},"type":"Literal","value":"function","raw":"\"function\""}},"consequent":{"range":[20403,20410],"loc":{"start":{"line":681,"column":44},"end":{"line":681,"column":51}},"type":"Identifier","name":"success"},"alternate":{"range":[20413,20417],"loc":{"start":{"line":681,"column":54},"end":{"line":681,"column":58}},"type":"Literal","value":true,"raw":"true"}},"kind":"init","method":false,"shorthand":false},{"range":[20423,20478],"loc":{"start":{"line":682,"column":4},"end":{"line":682,"column":59}},"type":"Property","key":{"range":[20423,20430],"loc":{"start":{"line":682,"column":4},"end":{"line":682,"column":11}},"type":"Identifier","name":"failure"},"computed":false,"value":{"range":[20432,20478],"loc":{"start":{"line":682,"column":13},"end":{"line":682,"column":59}},"type":"ConditionalExpression","test":{"range":[20432,20460],"loc":{"start":{"line":682,"column":13},"end":{"line":682,"column":41}},"type":"BinaryExpression","operator":"==","left":{"range":[20432,20446],"loc":{"start":{"line":682,"column":13},"end":{"line":682,"column":27}},"type":"UnaryExpression","operator":"typeof","argument":{"range":[20439,20446],"loc":{"start":{"line":682,"column":20},"end":{"line":682,"column":27}},"type":"Identifier","name":"failure"},"prefix":true},"right":{"range":[20450,20460],"loc":{"start":{"line":682,"column":31},"end":{"line":682,"column":41}},"type":"Literal","value":"function","raw":"\"function\""}},"consequent":{"range":[20463,20470],"loc":{"start":{"line":682,"column":44},"end":{"line":682,"column":51}},"type":"Identifier","name":"failure"},"alternate":{"range":[20473,20478],"loc":{"start":{"line":682,"column":54},"end":{"line":682,"column":59}},"type":"Literal","value":false,"raw":"false"}},"kind":"init","method":false,"shorthand":false}]}}],"kind":"var","trailingComments":[{"type":"Line","value":" Note: `then(..)` itself can be borrowed to be used against","range":[20488,20549],"loc":{"start":{"line":684,"column":3},"end":{"line":684,"column":64}}},{"type":"Line","value":" a different promise constructor for making the chained promise,","range":[20553,20619],"loc":{"start":{"line":685,"column":3},"end":{"line":685,"column":69}}},{"type":"Line","value":" by substituting a different `this` binding.","range":[20623,20669],"loc":{"start":{"line":686,"column":3},"end":{"line":686,"column":49}}}]},{"range":[20673,20918],"loc":{"start":{"line":687,"column":3},"end":{"line":694,"column":6}},"type":"ExpressionStatement","expression":{"range":[20673,20917],"loc":{"start":{"line":687,"column":3},"end":{"line":694,"column":5}},"type":"AssignmentExpression","operator":"=","left":{"range":[20673,20682],"loc":{"start":{"line":687,"column":3},"end":{"line":687,"column":12}},"type":"MemberExpression","computed":false,"object":{"range":[20673,20674],"loc":{"start":{"line":687,"column":3},"end":{"line":687,"column":4}},"type":"Identifier","name":"o"},"property":{"range":[20675,20682],"loc":{"start":{"line":687,"column":5},"end":{"line":687,"column":12}},"type":"Identifier","name":"promise"}},"right":{"range":[20685,20917],"loc":{"start":{"line":687,"column":15},"end":{"line":694,"column":5}},"type":"NewExpression","callee":{"range":[20689,20705],"loc":{"start":{"line":687,"column":19},"end":{"line":687,"column":35}},"type":"MemberExpression","computed":false,"object":{"range":[20689,20693],"loc":{"start":{"line":687,"column":19},"end":{"line":687,"column":23}},"type":"ThisExpression"},"property":{"range":[20694,20705],"loc":{"start":{"line":687,"column":24},"end":{"line":687,"column":35}},"type":"Identifier","name":"constructor"}},"arguments":[{"range":[20706,20916],"loc":{"start":{"line":687,"column":36},"end":{"line":694,"column":4}},"type":"FunctionExpression","id":{"range":[20715,20727],"loc":{"start":{"line":687,"column":45},"end":{"line":687,"column":57}},"type":"Identifier","name":"extractChain"},"params":[{"range":[20728,20735],"loc":{"start":{"line":687,"column":58},"end":{"line":687,"column":65}},"type":"Identifier","name":"resolve"},{"range":[20736,20742],"loc":{"start":{"line":687,"column":66},"end":{"line":687,"column":72}},"type":"Identifier","name":"reject"}],"defaults":[],"body":{"range":[20744,20916],"loc":{"start":{"line":687,"column":74},"end":{"line":694,"column":4}},"type":"BlockStatement","body":[{"range":[20750,20862],"loc":{"start":{"line":688,"column":4},"end":{"line":690,"column":5}},"type":"IfStatement","test":{"range":[20754,20813],"loc":{"start":{"line":688,"column":8},"end":{"line":688,"column":67}},"type":"LogicalExpression","operator":"||","left":{"range":[20754,20782],"loc":{"start":{"line":688,"column":8},"end":{"line":688,"column":36}},"type":"BinaryExpression","operator":"!=","left":{"range":[20754,20768],"loc":{"start":{"line":688,"column":8},"end":{"line":688,"column":22}},"type":"UnaryExpression","operator":"typeof","argument":{"range":[20761,20768],"loc":{"start":{"line":688,"column":15},"end":{"line":688,"column":22}},"type":"Identifier","name":"resolve"},"prefix":true},"right":{"range":[20772,20782],"loc":{"start":{"line":688,"column":26},"end":{"line":688,"column":36}},"type":"Literal","value":"function","raw":"\"function\""}},"right":{"range":[20786,20813],"loc":{"start":{"line":688,"column":40},"end":{"line":688,"column":67}},"type":"BinaryExpression","operator":"!=","left":{"range":[20786,20799],"loc":{"start":{"line":688,"column":40},"end":{"line":688,"column":53}},"type":"UnaryExpression","operator":"typeof","argument":{"range":[20793,20799],"loc":{"start":{"line":688,"column":47},"end":{"line":688,"column":53}},"type":"Identifier","name":"reject"},"prefix":true},"right":{"range":[20803,20813],"loc":{"start":{"line":688,"column":57},"end":{"line":688,"column":67}},"type":"Literal","value":"function","raw":"\"function\""}}},"consequent":{"range":[20815,20862],"loc":{"start":{"line":688,"column":69},"end":{"line":690,"column":5}},"type":"BlockStatement","body":[{"range":[20822,20856],"loc":{"start":{"line":689,"column":5},"end":{"line":689,"column":39}},"type":"ThrowStatement","argument":{"range":[20828,20855],"loc":{"start":{"line":689,"column":11},"end":{"line":689,"column":38}},"type":"CallExpression","callee":{"range":[20828,20837],"loc":{"start":{"line":689,"column":11},"end":{"line":689,"column":20}},"type":"Identifier","name":"TypeError"},"arguments":[{"range":[20838,20854],"loc":{"start":{"line":689,"column":21},"end":{"line":689,"column":37}},"type":"Literal","value":"Not a function","raw":"\"Not a function\""}]}}]},"alternate":null},{"range":[20868,20888],"loc":{"start":{"line":692,"column":4},"end":{"line":692,"column":24}},"type":"ExpressionStatement","expression":{"range":[20868,20887],"loc":{"start":{"line":692,"column":4},"end":{"line":692,"column":23}},"type":"AssignmentExpression","operator":"=","left":{"range":[20868,20877],"loc":{"start":{"line":692,"column":4},"end":{"line":692,"column":13}},"type":"MemberExpression","computed":false,"object":{"range":[20868,20869],"loc":{"start":{"line":692,"column":4},"end":{"line":692,"column":5}},"type":"Identifier","name":"o"},"property":{"range":[20870,20877],"loc":{"start":{"line":692,"column":6},"end":{"line":692,"column":13}},"type":"Identifier","name":"resolve"}},"right":{"range":[20880,20887],"loc":{"start":{"line":692,"column":16},"end":{"line":692,"column":23}},"type":"Identifier","name":"resolve"}}},{"range":[20893,20911],"loc":{"start":{"line":693,"column":4},"end":{"line":693,"column":22}},"type":"ExpressionStatement","expression":{"range":[20893,20910],"loc":{"start":{"line":693,"column":4},"end":{"line":693,"column":21}},"type":"AssignmentExpression","operator":"=","left":{"range":[20893,20901],"loc":{"start":{"line":693,"column":4},"end":{"line":693,"column":12}},"type":"MemberExpression","computed":false,"object":{"range":[20893,20894],"loc":{"start":{"line":693,"column":4},"end":{"line":693,"column":5}},"type":"Identifier","name":"o"},"property":{"range":[20895,20901],"loc":{"start":{"line":693,"column":6},"end":{"line":693,"column":12}},"type":"Identifier","name":"reject"}},"right":{"range":[20904,20910],"loc":{"start":{"line":693,"column":15},"end":{"line":693,"column":21}},"type":"Identifier","name":"reject"}}}]},"generator":false,"expression":false}]}},"leadingComments":[{"type":"Line","value":" Note: `then(..)` itself can be borrowed to be used against","range":[20488,20549],"loc":{"start":{"line":684,"column":3},"end":{"line":684,"column":64}}},{"type":"Line","value":" a different promise constructor for making the chained promise,","range":[20553,20619],"loc":{"start":{"line":685,"column":3},"end":{"line":685,"column":69}}},{"type":"Line","value":" by substituting a different `this` binding.","range":[20623,20669],"loc":{"start":{"line":686,"column":3},"end":{"line":686,"column":49}}}]},{"range":[20922,20940],"loc":{"start":{"line":695,"column":3},"end":{"line":695,"column":21}},"type":"ExpressionStatement","expression":{"range":[20922,20939],"loc":{"start":{"line":695,"column":3},"end":{"line":695,"column":20}},"type":"CallExpression","callee":{"range":[20922,20936],"loc":{"start":{"line":695,"column":3},"end":{"line":695,"column":17}},"type":"MemberExpression","computed":false,"object":{"range":[20922,20931],"loc":{"start":{"line":695,"column":3},"end":{"line":695,"column":12}},"type":"MemberExpression","computed":false,"object":{"range":[20922,20925],"loc":{"start":{"line":695,"column":3},"end":{"line":695,"column":6}},"type":"Identifier","name":"def"},"property":{"range":[20926,20931],"loc":{"start":{"line":695,"column":7},"end":{"line":695,"column":12}},"type":"Identifier","name":"chain"}},"property":{"range":[20932,20936],"loc":{"start":{"line":695,"column":13},"end":{"line":695,"column":17}},"type":"Identifier","name":"push"}},"arguments":[{"range":[20937,20938],"loc":{"start":{"line":695,"column":18},"end":{"line":695,"column":19}},"type":"Identifier","name":"o"}]}},{"range":[20945,20998],"loc":{"start":{"line":697,"column":3},"end":{"line":699,"column":4}},"type":"IfStatement","test":{"range":[20949,20964],"loc":{"start":{"line":697,"column":7},"end":{"line":697,"column":22}},"type":"BinaryExpression","operator":"!==","left":{"range":[20949,20958],"loc":{"start":{"line":697,"column":7},"end":{"line":697,"column":16}},"type":"MemberExpression","computed":false,"object":{"range":[20949,20952],"loc":{"start":{"line":697,"column":7},"end":{"line":697,"column":10}},"type":"Identifier","name":"def"},"property":{"range":[20953,20958],"loc":{"start":{"line":697,"column":11},"end":{"line":697,"column":16}},"type":"Identifier","name":"state"}},"right":{"range":[20963,20964],"loc":{"start":{"line":697,"column":21},"end":{"line":697,"column":22}},"type":"Literal","value":0,"raw":"0"}},"consequent":{"range":[20966,20998],"loc":{"start":{"line":697,"column":24},"end":{"line":699,"column":4}},"type":"BlockStatement","body":[{"range":[20972,20993],"loc":{"start":{"line":698,"column":4},"end":{"line":698,"column":25}},"type":"ExpressionStatement","expression":{"range":[20972,20992],"loc":{"start":{"line":698,"column":4},"end":{"line":698,"column":24}},"type":"CallExpression","callee":{"range":[20972,20980],"loc":{"start":{"line":698,"column":4},"end":{"line":698,"column":12}},"type":"Identifier","name":"schedule"},"arguments":[{"range":[20981,20987],"loc":{"start":{"line":698,"column":13},"end":{"line":698,"column":19}},"type":"Identifier","name":"notify"},{"range":[20988,20991],"loc":{"start":{"line":698,"column":20},"end":{"line":698,"column":23}},"type":"Identifier","name":"def"}]}}]},"alternate":null},{"range":[21003,21020],"loc":{"start":{"line":701,"column":3},"end":{"line":701,"column":20}},"type":"ReturnStatement","argument":{"range":[21010,21019],"loc":{"start":{"line":701,"column":10},"end":{"line":701,"column":19}},"type":"MemberExpression","computed":false,"object":{"range":[21010,21011],"loc":{"start":{"line":701,"column":10},"end":{"line":701,"column":11}},"type":"Identifier","name":"o"},"property":{"range":[21012,21019],"loc":{"start":{"line":701,"column":12},"end":{"line":701,"column":19}},"type":"Identifier","name":"promise"}}}]},"generator":false,"expression":false}}},{"range":[21028,21113],"loc":{"start":{"line":703,"column":2},"end":{"line":705,"column":4}},"type":"ExpressionStatement","expression":{"range":[21028,21112],"loc":{"start":{"line":703,"column":2},"end":{"line":705,"column":3}},"type":"AssignmentExpression","operator":"=","left":{"range":[21028,21041],"loc":{"start":{"line":703,"column":2},"end":{"line":703,"column":15}},"type":"MemberExpression","computed":true,"object":{"range":[21028,21032],"loc":{"start":{"line":703,"column":2},"end":{"line":703,"column":6}},"type":"ThisExpression"},"property":{"range":[21033,21040],"loc":{"start":{"line":703,"column":7},"end":{"line":703,"column":14}},"type":"Literal","value":"catch","raw":"\"catch\""}},"right":{"range":[21044,21112],"loc":{"start":{"line":703,"column":18},"end":{"line":705,"column":3}},"type":"FunctionExpression","id":{"range":[21053,21060],"loc":{"start":{"line":703,"column":27},"end":{"line":703,"column":34}},"type":"Identifier","name":"$catch$"},"params":[{"range":[21061,21068],"loc":{"start":{"line":703,"column":35},"end":{"line":703,"column":42}},"type":"Identifier","name":"failure"}],"defaults":[],"body":{"range":[21070,21112],"loc":{"start":{"line":703,"column":44},"end":{"line":705,"column":3}},"type":"BlockStatement","body":[{"range":[21075,21108],"loc":{"start":{"line":704,"column":3},"end":{"line":704,"column":36}},"type":"ReturnStatement","argument":{"range":[21082,21107],"loc":{"start":{"line":704,"column":10},"end":{"line":704,"column":35}},"type":"CallExpression","callee":{"range":[21082,21091],"loc":{"start":{"line":704,"column":10},"end":{"line":704,"column":19}},"type":"MemberExpression","computed":false,"object":{"range":[21082,21086],"loc":{"start":{"line":704,"column":10},"end":{"line":704,"column":14}},"type":"ThisExpression"},"property":{"range":[21087,21091],"loc":{"start":{"line":704,"column":15},"end":{"line":704,"column":19}},"type":"Identifier","name":"then"}},"arguments":[{"range":[21092,21098],"loc":{"start":{"line":704,"column":20},"end":{"line":704,"column":26}},"type":"UnaryExpression","operator":"void","argument":{"range":[21097,21098],"loc":{"start":{"line":704,"column":25},"end":{"line":704,"column":26}},"type":"Literal","value":0,"raw":"0"},"prefix":true},{"range":[21099,21106],"loc":{"start":{"line":704,"column":27},"end":{"line":704,"column":34}},"type":"Identifier","name":"failure"}]}}]},"generator":false,"expression":false}}},{"range":[21117,21341],"loc":{"start":{"line":707,"column":2},"end":{"line":720,"column":3}},"type":"TryStatement","block":{"range":[21121,21296],"loc":{"start":{"line":707,"column":6},"end":{"line":717,"column":3}},"type":"BlockStatement","body":[{"range":[21126,21292],"loc":{"start":{"line":708,"column":3},"end":{"line":716,"column":5}},"type":"ExpressionStatement","expression":{"range":[21126,21291],"loc":{"start":{"line":708,"column":3},"end":{"line":716,"column":4}},"type":"CallExpression","callee":{"range":[21126,21139],"loc":{"start":{"line":708,"column":3},"end":{"line":708,"column":16}},"type":"MemberExpression","computed":false,"object":{"range":[21126,21134],"loc":{"start":{"line":708,"column":3},"end":{"line":708,"column":11}},"type":"Identifier","name":"executor"},"property":{"range":[21135,21139],"loc":{"start":{"line":708,"column":12},"end":{"line":708,"column":16}},"type":"Identifier","name":"call"}},"arguments":[{"range":[21145,21151],"loc":{"start":{"line":709,"column":4},"end":{"line":709,"column":10}},"type":"UnaryExpression","operator":"void","argument":{"range":[21150,21151],"loc":{"start":{"line":709,"column":9},"end":{"line":709,"column":10}},"type":"Literal","value":0,"raw":"0"},"prefix":true},{"range":[21157,21219],"loc":{"start":{"line":710,"column":4},"end":{"line":712,"column":5}},"type":"FunctionExpression","id":{"range":[21166,21179],"loc":{"start":{"line":710,"column":13},"end":{"line":710,"column":26}},"type":"Identifier","name":"publicResolve"},"params":[{"range":[21180,21183],"loc":{"start":{"line":710,"column":27},"end":{"line":710,"column":30}},"type":"Identifier","name":"msg"}],"defaults":[],"body":{"range":[21184,21219],"loc":{"start":{"line":710,"column":31},"end":{"line":712,"column":5}},"type":"BlockStatement","body":[{"range":[21191,21213],"loc":{"start":{"line":711,"column":5},"end":{"line":711,"column":27}},"type":"ExpressionStatement","expression":{"range":[21191,21212],"loc":{"start":{"line":711,"column":5},"end":{"line":711,"column":26}},"type":"CallExpression","callee":{"range":[21191,21203],"loc":{"start":{"line":711,"column":5},"end":{"line":711,"column":17}},"type":"MemberExpression","computed":false,"object":{"range":[21191,21198],"loc":{"start":{"line":711,"column":5},"end":{"line":711,"column":12}},"type":"Identifier","name":"resolve"},"property":{"range":[21199,21203],"loc":{"start":{"line":711,"column":13},"end":{"line":711,"column":17}},"type":"Identifier","name":"call"}},"arguments":[{"range":[21204,21207],"loc":{"start":{"line":711,"column":18},"end":{"line":711,"column":21}},"type":"Identifier","name":"def"},{"range":[21208,21211],"loc":{"start":{"line":711,"column":22},"end":{"line":711,"column":25}},"type":"Identifier","name":"msg"}]}}]},"generator":false,"expression":false},{"range":[21225,21286],"loc":{"start":{"line":713,"column":4},"end":{"line":715,"column":5}},"type":"FunctionExpression","id":{"range":[21234,21246],"loc":{"start":{"line":713,"column":13},"end":{"line":713,"column":25}},"type":"Identifier","name":"publicReject"},"params":[{"range":[21247,21250],"loc":{"start":{"line":713,"column":26},"end":{"line":713,"column":29}},"type":"Identifier","name":"msg"}],"defaults":[],"body":{"range":[21252,21286],"loc":{"start":{"line":713,"column":31},"end":{"line":715,"column":5}},"type":"BlockStatement","body":[{"range":[21259,21280],"loc":{"start":{"line":714,"column":5},"end":{"line":714,"column":26}},"type":"ExpressionStatement","expression":{"range":[21259,21279],"loc":{"start":{"line":714,"column":5},"end":{"line":714,"column":25}},"type":"CallExpression","callee":{"range":[21259,21270],"loc":{"start":{"line":714,"column":5},"end":{"line":714,"column":16}},"type":"MemberExpression","computed":false,"object":{"range":[21259,21265],"loc":{"start":{"line":714,"column":5},"end":{"line":714,"column":11}},"type":"Identifier","name":"reject"},"property":{"range":[21266,21270],"loc":{"start":{"line":714,"column":12},"end":{"line":714,"column":16}},"type":"Identifier","name":"call"}},"arguments":[{"range":[21271,21274],"loc":{"start":{"line":714,"column":17},"end":{"line":714,"column":20}},"type":"Identifier","name":"def"},{"range":[21275,21278],"loc":{"start":{"line":714,"column":21},"end":{"line":714,"column":24}},"type":"Identifier","name":"msg"}]}}]},"generator":false,"expression":false}]}}]},"guardedHandlers":[],"handlers":[{"range":[21299,21341],"loc":{"start":{"line":718,"column":2},"end":{"line":720,"column":3}},"type":"CatchClause","param":{"range":[21306,21309],"loc":{"start":{"line":718,"column":9},"end":{"line":718,"column":12}},"type":"Identifier","name":"err"},"body":{"range":[21311,21341],"loc":{"start":{"line":718,"column":14},"end":{"line":720,"column":3}},"type":"BlockStatement","body":[{"range":[21316,21337],"loc":{"start":{"line":719,"column":3},"end":{"line":719,"column":24}},"type":"ExpressionStatement","expression":{"range":[21316,21336],"loc":{"start":{"line":719,"column":3},"end":{"line":719,"column":23}},"type":"CallExpression","callee":{"range":[21316,21327],"loc":{"start":{"line":719,"column":3},"end":{"line":719,"column":14}},"type":"MemberExpression","computed":false,"object":{"range":[21316,21322],"loc":{"start":{"line":719,"column":3},"end":{"line":719,"column":9}},"type":"Identifier","name":"reject"},"property":{"range":[21323,21327],"loc":{"start":{"line":719,"column":10},"end":{"line":719,"column":14}},"type":"Identifier","name":"call"}},"arguments":[{"range":[21328,21331],"loc":{"start":{"line":719,"column":15},"end":{"line":719,"column":18}},"type":"Identifier","name":"def"},{"range":[21332,21335],"loc":{"start":{"line":719,"column":19},"end":{"line":719,"column":22}},"type":"Identifier","name":"err"}]}}]}}],"handler":{"range":[21299,21341],"loc":{"start":{"line":718,"column":2},"end":{"line":720,"column":3}},"type":"CatchClause","param":{"range":[21306,21309],"loc":{"start":{"line":718,"column":9},"end":{"line":718,"column":12}},"type":"Identifier","name":"err"},"body":{"range":[21311,21341],"loc":{"start":{"line":718,"column":14},"end":{"line":720,"column":3}},"type":"BlockStatement","body":[{"range":[21316,21337],"loc":{"start":{"line":719,"column":3},"end":{"line":719,"column":24}},"type":"ExpressionStatement","expression":{"range":[21316,21336],"loc":{"start":{"line":719,"column":3},"end":{"line":719,"column":23}},"type":"CallExpression","callee":{"range":[21316,21327],"loc":{"start":{"line":719,"column":3},"end":{"line":719,"column":14}},"type":"MemberExpression","computed":false,"object":{"range":[21316,21322],"loc":{"start":{"line":719,"column":3},"end":{"line":719,"column":9}},"type":"Identifier","name":"reject"},"property":{"range":[21323,21327],"loc":{"start":{"line":719,"column":10},"end":{"line":719,"column":14}},"type":"Identifier","name":"call"}},"arguments":[{"range":[21328,21331],"loc":{"start":{"line":719,"column":15},"end":{"line":719,"column":18}},"type":"Identifier","name":"def"},{"range":[21332,21335],"loc":{"start":{"line":719,"column":19},"end":{"line":719,"column":22}},"type":"Identifier","name":"err"}]}}]}},"finalizer":null}]},"generator":false,"expression":false},{"range":[21347,21436],"loc":{"start":{"line":723,"column":1},"end":{"line":725,"column":3}},"type":"VariableDeclaration","declarations":[{"range":[21351,21435],"loc":{"start":{"line":723,"column":5},"end":{"line":725,"column":2}},"type":"VariableDeclarator","id":{"range":[21351,21367],"loc":{"start":{"line":723,"column":5},"end":{"line":723,"column":21}},"type":"Identifier","name":"PromisePrototype"},"init":{"range":[21370,21435],"loc":{"start":{"line":723,"column":24},"end":{"line":725,"column":2}},"type":"CallExpression","callee":{"range":[21370,21381],"loc":{"start":{"line":723,"column":24},"end":{"line":723,"column":35}},"type":"Identifier","name":"builtInProp"},"arguments":[{"range":[21382,21384],"loc":{"start":{"line":723,"column":36},"end":{"line":723,"column":38}},"type":"ObjectExpression","properties":[]},{"range":[21385,21398],"loc":{"start":{"line":723,"column":39},"end":{"line":723,"column":52}},"type":"Literal","value":"constructor","raw":"\"constructor\""},{"range":[21399,21406],"loc":{"start":{"line":723,"column":53},"end":{"line":723,"column":60}},"type":"Identifier","name":"Promise"},{"range":[21427,21432],"loc":{"start":{"line":724,"column":19},"end":{"line":724,"column":24}},"type":"Literal","value":false,"raw":"false","leadingComments":[{"type":"Block","value":"configurable=","range":[21410,21427],"loc":{"start":{"line":724,"column":2},"end":{"line":724,"column":19}}}]}]}}],"kind":"var","trailingComments":[{"type":"Line","value":" Note: Android 4 cannot use `Object.defineProperty(..)` here","range":[21439,21501],"loc":{"start":{"line":727,"column":1},"end":{"line":727,"column":63}}}]},{"range":[21503,21540],"loc":{"start":{"line":728,"column":1},"end":{"line":728,"column":38}},"type":"ExpressionStatement","expression":{"range":[21503,21539],"loc":{"start":{"line":728,"column":1},"end":{"line":728,"column":37}},"type":"AssignmentExpression","operator":"=","left":{"range":[21503,21520],"loc":{"start":{"line":728,"column":1},"end":{"line":728,"column":18}},"type":"MemberExpression","computed":false,"object":{"range":[21503,21510],"loc":{"start":{"line":728,"column":1},"end":{"line":728,"column":8}},"type":"Identifier","name":"Promise"},"property":{"range":[21511,21520],"loc":{"start":{"line":728,"column":9},"end":{"line":728,"column":18}},"type":"Identifier","name":"prototype"}},"right":{"range":[21523,21539],"loc":{"start":{"line":728,"column":21},"end":{"line":728,"column":37}},"type":"Identifier","name":"PromisePrototype"}},"leadingComments":[{"type":"Line","value":" Note: Android 4 cannot use `Object.defineProperty(..)` here","range":[21439,21501],"loc":{"start":{"line":727,"column":1},"end":{"line":727,"column":63}}}],"trailingComments":[{"type":"Line","value":" built-in \"brand\" to signal an \"uninitialized\" promise","range":[21543,21599],"loc":{"start":{"line":730,"column":1},"end":{"line":730,"column":57}}}]},{"range":[21601,21671],"loc":{"start":{"line":731,"column":1},"end":{"line":733,"column":3}},"type":"ExpressionStatement","expression":{"range":[21601,21670],"loc":{"start":{"line":731,"column":1},"end":{"line":733,"column":2}},"type":"CallExpression","callee":{"range":[21601,21612],"loc":{"start":{"line":731,"column":1},"end":{"line":731,"column":12}},"type":"Identifier","name":"builtInProp"},"arguments":[{"range":[21613,21629],"loc":{"start":{"line":731,"column":13},"end":{"line":731,"column":29}},"type":"Identifier","name":"PromisePrototype"},{"range":[21630,21639],"loc":{"start":{"line":731,"column":30},"end":{"line":731,"column":39}},"type":"Literal","value":"__NPO__","raw":"\"__NPO__\""},{"range":[21640,21641],"loc":{"start":{"line":731,"column":40},"end":{"line":731,"column":41}},"type":"Literal","value":0,"raw":"0"},{"range":[21662,21667],"loc":{"start":{"line":732,"column":19},"end":{"line":732,"column":24}},"type":"Literal","value":false,"raw":"false","leadingComments":[{"type":"Block","value":"configurable=","range":[21645,21662],"loc":{"start":{"line":732,"column":2},"end":{"line":732,"column":19}}}]}]},"leadingComments":[{"type":"Line","value":" built-in \"brand\" to signal an \"uninitialized\" promise","range":[21543,21599],"loc":{"start":{"line":730,"column":1},"end":{"line":730,"column":57}}}]},{"range":[21674,22130],"loc":{"start":{"line":735,"column":1},"end":{"line":751,"column":4}},"type":"ExpressionStatement","expression":{"range":[21674,22129],"loc":{"start":{"line":735,"column":1},"end":{"line":751,"column":3}},"type":"CallExpression","callee":{"range":[21674,21685],"loc":{"start":{"line":735,"column":1},"end":{"line":735,"column":12}},"type":"Identifier","name":"builtInProp"},"arguments":[{"range":[21686,21693],"loc":{"start":{"line":735,"column":13},"end":{"line":735,"column":20}},"type":"Identifier","name":"Promise"},{"range":[21694,21703],"loc":{"start":{"line":735,"column":21},"end":{"line":735,"column":30}},"type":"Literal","value":"resolve","raw":"\"resolve\""},{"range":[21704,22128],"loc":{"start":{"line":735,"column":31},"end":{"line":751,"column":2}},"type":"FunctionExpression","id":{"range":[21713,21728],"loc":{"start":{"line":735,"column":40},"end":{"line":735,"column":55}},"type":"Identifier","name":"Promise$resolve"},"params":[{"range":[21729,21732],"loc":{"start":{"line":735,"column":56},"end":{"line":735,"column":59}},"type":"Identifier","name":"msg"}],"defaults":[],"body":{"range":[21734,22128],"loc":{"start":{"line":735,"column":61},"end":{"line":751,"column":2}},"type":"BlockStatement","body":[{"range":[21738,21761],"loc":{"start":{"line":736,"column":2},"end":{"line":736,"column":25}},"type":"VariableDeclaration","declarations":[{"range":[21742,21760],"loc":{"start":{"line":736,"column":6},"end":{"line":736,"column":24}},"type":"VariableDeclarator","id":{"range":[21742,21753],"loc":{"start":{"line":736,"column":6},"end":{"line":736,"column":17}},"type":"Identifier","name":"Constructor"},"init":{"range":[21756,21760],"loc":{"start":{"line":736,"column":20},"end":{"line":736,"column":24}},"type":"ThisExpression"}}],"kind":"var","trailingComments":[{"type":"Line","value":" spec mandated checks","range":[21765,21788],"loc":{"start":{"line":738,"column":2},"end":{"line":738,"column":25}}},{"type":"Line","value":" note: best \"isPromise\" check that's practical for now","range":[21791,21847],"loc":{"start":{"line":739,"column":2},"end":{"line":739,"column":58}}}]},{"range":[21850,21926],"loc":{"start":{"line":740,"column":2},"end":{"line":742,"column":3}},"type":"IfStatement","test":{"range":[21854,21904],"loc":{"start":{"line":740,"column":6},"end":{"line":740,"column":56}},"type":"LogicalExpression","operator":"&&","left":{"range":[21854,21883],"loc":{"start":{"line":740,"column":6},"end":{"line":740,"column":35}},"type":"LogicalExpression","operator":"&&","left":{"range":[21854,21857],"loc":{"start":{"line":740,"column":6},"end":{"line":740,"column":9}},"type":"Identifier","name":"msg"},"right":{"range":[21861,21883],"loc":{"start":{"line":740,"column":13},"end":{"line":740,"column":35}},"type":"BinaryExpression","operator":"==","left":{"range":[21861,21871],"loc":{"start":{"line":740,"column":13},"end":{"line":740,"column":23}},"type":"UnaryExpression","operator":"typeof","argument":{"range":[21868,21871],"loc":{"start":{"line":740,"column":20},"end":{"line":740,"column":23}},"type":"Identifier","name":"msg"},"prefix":true},"right":{"range":[21875,21883],"loc":{"start":{"line":740,"column":27},"end":{"line":740,"column":35}},"type":"Literal","value":"object","raw":"\"object\""}}},"right":{"range":[21887,21904],"loc":{"start":{"line":740,"column":39},"end":{"line":740,"column":56}},"type":"BinaryExpression","operator":"===","left":{"range":[21887,21898],"loc":{"start":{"line":740,"column":39},"end":{"line":740,"column":50}},"type":"MemberExpression","computed":false,"object":{"range":[21887,21890],"loc":{"start":{"line":740,"column":39},"end":{"line":740,"column":42}},"type":"Identifier","name":"msg"},"property":{"range":[21891,21898],"loc":{"start":{"line":740,"column":43},"end":{"line":740,"column":50}},"type":"Identifier","name":"__NPO__"}},"right":{"range":[21903,21904],"loc":{"start":{"line":740,"column":55},"end":{"line":740,"column":56}},"type":"Literal","value":1,"raw":"1"}}},"consequent":{"range":[21906,21926],"loc":{"start":{"line":740,"column":58},"end":{"line":742,"column":3}},"type":"BlockStatement","body":[{"range":[21911,21922],"loc":{"start":{"line":741,"column":3},"end":{"line":741,"column":14}},"type":"ReturnStatement","argument":{"range":[21918,21921],"loc":{"start":{"line":741,"column":10},"end":{"line":741,"column":13}},"type":"Identifier","name":"msg"}}]},"alternate":null,"leadingComments":[{"type":"Line","value":" spec mandated checks","range":[21765,21788],"loc":{"start":{"line":738,"column":2},"end":{"line":738,"column":25}}},{"type":"Line","value":" note: best \"isPromise\" check that's practical for now","range":[21791,21847],"loc":{"start":{"line":739,"column":2},"end":{"line":739,"column":58}}}]},{"range":[21930,22125],"loc":{"start":{"line":744,"column":2},"end":{"line":750,"column":5}},"type":"ReturnStatement","argument":{"range":[21937,22124],"loc":{"start":{"line":744,"column":9},"end":{"line":750,"column":4}},"type":"NewExpression","callee":{"range":[21941,21952],"loc":{"start":{"line":744,"column":13},"end":{"line":744,"column":24}},"type":"Identifier","name":"Constructor"},"arguments":[{"range":[21953,22123],"loc":{"start":{"line":744,"column":25},"end":{"line":750,"column":3}},"type":"FunctionExpression","id":{"range":[21962,21970],"loc":{"start":{"line":744,"column":34},"end":{"line":744,"column":42}},"type":"Identifier","name":"executor"},"params":[{"range":[21971,21978],"loc":{"start":{"line":744,"column":43},"end":{"line":744,"column":50}},"type":"Identifier","name":"resolve"},{"range":[21979,21985],"loc":{"start":{"line":744,"column":51},"end":{"line":744,"column":57}},"type":"Identifier","name":"reject"}],"defaults":[],"body":{"range":[21986,22123],"loc":{"start":{"line":744,"column":58},"end":{"line":750,"column":3}},"type":"BlockStatement","body":[{"range":[21991,22101],"loc":{"start":{"line":745,"column":3},"end":{"line":747,"column":4}},"type":"IfStatement","test":{"range":[21995,22054],"loc":{"start":{"line":745,"column":7},"end":{"line":745,"column":66}},"type":"LogicalExpression","operator":"||","left":{"range":[21995,22023],"loc":{"start":{"line":745,"column":7},"end":{"line":745,"column":35}},"type":"BinaryExpression","operator":"!=","left":{"range":[21995,22009],"loc":{"start":{"line":745,"column":7},"end":{"line":745,"column":21}},"type":"UnaryExpression","operator":"typeof","argument":{"range":[22002,22009],"loc":{"start":{"line":745,"column":14},"end":{"line":745,"column":21}},"type":"Identifier","name":"resolve"},"prefix":true},"right":{"range":[22013,22023],"loc":{"start":{"line":745,"column":25},"end":{"line":745,"column":35}},"type":"Literal","value":"function","raw":"\"function\""}},"right":{"range":[22027,22054],"loc":{"start":{"line":745,"column":39},"end":{"line":745,"column":66}},"type":"BinaryExpression","operator":"!=","left":{"range":[22027,22040],"loc":{"start":{"line":745,"column":39},"end":{"line":745,"column":52}},"type":"UnaryExpression","operator":"typeof","argument":{"range":[22034,22040],"loc":{"start":{"line":745,"column":46},"end":{"line":745,"column":52}},"type":"Identifier","name":"reject"},"prefix":true},"right":{"range":[22044,22054],"loc":{"start":{"line":745,"column":56},"end":{"line":745,"column":66}},"type":"Literal","value":"function","raw":"\"function\""}}},"consequent":{"range":[22056,22101],"loc":{"start":{"line":745,"column":68},"end":{"line":747,"column":4}},"type":"BlockStatement","body":[{"range":[22062,22096],"loc":{"start":{"line":746,"column":4},"end":{"line":746,"column":38}},"type":"ThrowStatement","argument":{"range":[22068,22095],"loc":{"start":{"line":746,"column":10},"end":{"line":746,"column":37}},"type":"CallExpression","callee":{"range":[22068,22077],"loc":{"start":{"line":746,"column":10},"end":{"line":746,"column":19}},"type":"Identifier","name":"TypeError"},"arguments":[{"range":[22078,22094],"loc":{"start":{"line":746,"column":20},"end":{"line":746,"column":36}},"type":"Literal","value":"Not a function","raw":"\"Not a function\""}]}}]},"alternate":null},{"range":[22106,22119],"loc":{"start":{"line":749,"column":3},"end":{"line":749,"column":16}},"type":"ExpressionStatement","expression":{"range":[22106,22118],"loc":{"start":{"line":749,"column":3},"end":{"line":749,"column":15}},"type":"CallExpression","callee":{"range":[22106,22113],"loc":{"start":{"line":749,"column":3},"end":{"line":749,"column":10}},"type":"Identifier","name":"resolve"},"arguments":[{"range":[22114,22117],"loc":{"start":{"line":749,"column":11},"end":{"line":749,"column":14}},"type":"Identifier","name":"msg"}]}}]},"generator":false,"expression":false}]}}]},"generator":false,"expression":false}]}},{"range":[22133,22387],"loc":{"start":{"line":753,"column":1},"end":{"line":761,"column":4}},"type":"ExpressionStatement","expression":{"range":[22133,22386],"loc":{"start":{"line":753,"column":1},"end":{"line":761,"column":3}},"type":"CallExpression","callee":{"range":[22133,22144],"loc":{"start":{"line":753,"column":1},"end":{"line":753,"column":12}},"type":"Identifier","name":"builtInProp"},"arguments":[{"range":[22145,22152],"loc":{"start":{"line":753,"column":13},"end":{"line":753,"column":20}},"type":"Identifier","name":"Promise"},{"range":[22153,22161],"loc":{"start":{"line":753,"column":21},"end":{"line":753,"column":29}},"type":"Literal","value":"reject","raw":"\"reject\""},{"range":[22162,22385],"loc":{"start":{"line":753,"column":30},"end":{"line":761,"column":2}},"type":"FunctionExpression","id":{"range":[22171,22185],"loc":{"start":{"line":753,"column":39},"end":{"line":753,"column":53}},"type":"Identifier","name":"Promise$reject"},"params":[{"range":[22186,22189],"loc":{"start":{"line":753,"column":54},"end":{"line":753,"column":57}},"type":"Identifier","name":"msg"}],"defaults":[],"body":{"range":[22191,22385],"loc":{"start":{"line":753,"column":59},"end":{"line":761,"column":2}},"type":"BlockStatement","body":[{"range":[22195,22382],"loc":{"start":{"line":754,"column":2},"end":{"line":760,"column":5}},"type":"ReturnStatement","argument":{"range":[22202,22381],"loc":{"start":{"line":754,"column":9},"end":{"line":760,"column":4}},"type":"NewExpression","callee":{"range":[22206,22210],"loc":{"start":{"line":754,"column":13},"end":{"line":754,"column":17}},"type":"ThisExpression"},"arguments":[{"range":[22211,22380],"loc":{"start":{"line":754,"column":18},"end":{"line":760,"column":3}},"type":"FunctionExpression","id":{"range":[22220,22228],"loc":{"start":{"line":754,"column":27},"end":{"line":754,"column":35}},"type":"Identifier","name":"executor"},"params":[{"range":[22229,22236],"loc":{"start":{"line":754,"column":36},"end":{"line":754,"column":43}},"type":"Identifier","name":"resolve"},{"range":[22237,22243],"loc":{"start":{"line":754,"column":44},"end":{"line":754,"column":50}},"type":"Identifier","name":"reject"}],"defaults":[],"body":{"range":[22244,22380],"loc":{"start":{"line":754,"column":51},"end":{"line":760,"column":3}},"type":"BlockStatement","body":[{"range":[22249,22359],"loc":{"start":{"line":755,"column":3},"end":{"line":757,"column":4}},"type":"IfStatement","test":{"range":[22253,22312],"loc":{"start":{"line":755,"column":7},"end":{"line":755,"column":66}},"type":"LogicalExpression","operator":"||","left":{"range":[22253,22281],"loc":{"start":{"line":755,"column":7},"end":{"line":755,"column":35}},"type":"BinaryExpression","operator":"!=","left":{"range":[22253,22267],"loc":{"start":{"line":755,"column":7},"end":{"line":755,"column":21}},"type":"UnaryExpression","operator":"typeof","argument":{"range":[22260,22267],"loc":{"start":{"line":755,"column":14},"end":{"line":755,"column":21}},"type":"Identifier","name":"resolve"},"prefix":true},"right":{"range":[22271,22281],"loc":{"start":{"line":755,"column":25},"end":{"line":755,"column":35}},"type":"Literal","value":"function","raw":"\"function\""}},"right":{"range":[22285,22312],"loc":{"start":{"line":755,"column":39},"end":{"line":755,"column":66}},"type":"BinaryExpression","operator":"!=","left":{"range":[22285,22298],"loc":{"start":{"line":755,"column":39},"end":{"line":755,"column":52}},"type":"UnaryExpression","operator":"typeof","argument":{"range":[22292,22298],"loc":{"start":{"line":755,"column":46},"end":{"line":755,"column":52}},"type":"Identifier","name":"reject"},"prefix":true},"right":{"range":[22302,22312],"loc":{"start":{"line":755,"column":56},"end":{"line":755,"column":66}},"type":"Literal","value":"function","raw":"\"function\""}}},"consequent":{"range":[22314,22359],"loc":{"start":{"line":755,"column":68},"end":{"line":757,"column":4}},"type":"BlockStatement","body":[{"range":[22320,22354],"loc":{"start":{"line":756,"column":4},"end":{"line":756,"column":38}},"type":"ThrowStatement","argument":{"range":[22326,22353],"loc":{"start":{"line":756,"column":10},"end":{"line":756,"column":37}},"type":"CallExpression","callee":{"range":[22326,22335],"loc":{"start":{"line":756,"column":10},"end":{"line":756,"column":19}},"type":"Identifier","name":"TypeError"},"arguments":[{"range":[22336,22352],"loc":{"start":{"line":756,"column":20},"end":{"line":756,"column":36}},"type":"Literal","value":"Not a function","raw":"\"Not a function\""}]}}]},"alternate":null},{"range":[22364,22376],"loc":{"start":{"line":759,"column":3},"end":{"line":759,"column":15}},"type":"ExpressionStatement","expression":{"range":[22364,22375],"loc":{"start":{"line":759,"column":3},"end":{"line":759,"column":14}},"type":"CallExpression","callee":{"range":[22364,22370],"loc":{"start":{"line":759,"column":3},"end":{"line":759,"column":9}},"type":"Identifier","name":"reject"},"arguments":[{"range":[22371,22374],"loc":{"start":{"line":759,"column":10},"end":{"line":759,"column":13}},"type":"Identifier","name":"msg"}]}}]},"generator":false,"expression":false}]}}]},"generator":false,"expression":false}]}},{"range":[22390,23065],"loc":{"start":{"line":763,"column":1},"end":{"line":788,"column":4}},"type":"ExpressionStatement","expression":{"range":[22390,23064],"loc":{"start":{"line":763,"column":1},"end":{"line":788,"column":3}},"type":"CallExpression","callee":{"range":[22390,22401],"loc":{"start":{"line":763,"column":1},"end":{"line":763,"column":12}},"type":"Identifier","name":"builtInProp"},"arguments":[{"range":[22402,22409],"loc":{"start":{"line":763,"column":13},"end":{"line":763,"column":20}},"type":"Identifier","name":"Promise"},{"range":[22410,22415],"loc":{"start":{"line":763,"column":21},"end":{"line":763,"column":26}},"type":"Literal","value":"all","raw":"\"all\""},{"range":[22416,23063],"loc":{"start":{"line":763,"column":27},"end":{"line":788,"column":2}},"type":"FunctionExpression","id":{"range":[22425,22436],"loc":{"start":{"line":763,"column":36},"end":{"line":763,"column":47}},"type":"Identifier","name":"Promise$all"},"params":[{"range":[22437,22440],"loc":{"start":{"line":763,"column":48},"end":{"line":763,"column":51}},"type":"Identifier","name":"arr"}],"defaults":[],"body":{"range":[22442,23063],"loc":{"start":{"line":763,"column":53},"end":{"line":788,"column":2}},"type":"BlockStatement","body":[{"range":[22446,22469],"loc":{"start":{"line":764,"column":2},"end":{"line":764,"column":25}},"type":"VariableDeclaration","declarations":[{"range":[22450,22468],"loc":{"start":{"line":764,"column":6},"end":{"line":764,"column":24}},"type":"VariableDeclarator","id":{"range":[22450,22461],"loc":{"start":{"line":764,"column":6},"end":{"line":764,"column":17}},"type":"Identifier","name":"Constructor"},"init":{"range":[22464,22468],"loc":{"start":{"line":764,"column":20},"end":{"line":764,"column":24}},"type":"ThisExpression"}}],"kind":"var","trailingComments":[{"type":"Line","value":" spec mandated checks","range":[22473,22496],"loc":{"start":{"line":766,"column":2},"end":{"line":766,"column":25}}}]},{"range":[22499,22605],"loc":{"start":{"line":767,"column":2},"end":{"line":769,"column":3}},"type":"IfStatement","test":{"range":[22503,22541],"loc":{"start":{"line":767,"column":6},"end":{"line":767,"column":44}},"type":"BinaryExpression","operator":"!=","left":{"range":[22503,22521],"loc":{"start":{"line":767,"column":6},"end":{"line":767,"column":24}},"type":"CallExpression","callee":{"range":[22503,22516],"loc":{"start":{"line":767,"column":6},"end":{"line":767,"column":19}},"type":"MemberExpression","computed":false,"object":{"range":[22503,22511],"loc":{"start":{"line":767,"column":6},"end":{"line":767,"column":14}},"type":"Identifier","name":"ToString"},"property":{"range":[22512,22516],"loc":{"start":{"line":767,"column":15},"end":{"line":767,"column":19}},"type":"Identifier","name":"call"}},"arguments":[{"range":[22517,22520],"loc":{"start":{"line":767,"column":20},"end":{"line":767,"column":23}},"type":"Identifier","name":"arr"}]},"right":{"range":[22525,22541],"loc":{"start":{"line":767,"column":28},"end":{"line":767,"column":44}},"type":"Literal","value":"[object Array]","raw":"\"[object Array]\""}},"consequent":{"range":[22543,22605],"loc":{"start":{"line":767,"column":46},"end":{"line":769,"column":3}},"type":"BlockStatement","body":[{"range":[22548,22601],"loc":{"start":{"line":768,"column":3},"end":{"line":768,"column":56}},"type":"ReturnStatement","argument":{"range":[22555,22600],"loc":{"start":{"line":768,"column":10},"end":{"line":768,"column":55}},"type":"CallExpression","callee":{"range":[22555,22573],"loc":{"start":{"line":768,"column":10},"end":{"line":768,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[22555,22566],"loc":{"start":{"line":768,"column":10},"end":{"line":768,"column":21}},"type":"Identifier","name":"Constructor"},"property":{"range":[22567,22573],"loc":{"start":{"line":768,"column":22},"end":{"line":768,"column":28}},"type":"Identifier","name":"reject"}},"arguments":[{"range":[22574,22599],"loc":{"start":{"line":768,"column":29},"end":{"line":768,"column":54}},"type":"CallExpression","callee":{"range":[22574,22583],"loc":{"start":{"line":768,"column":29},"end":{"line":768,"column":38}},"type":"Identifier","name":"TypeError"},"arguments":[{"range":[22584,22598],"loc":{"start":{"line":768,"column":39},"end":{"line":768,"column":53}},"type":"Literal","value":"Not an array","raw":"\"Not an array\""}]}]}}]},"alternate":null,"leadingComments":[{"type":"Line","value":" spec mandated checks","range":[22473,22496],"loc":{"start":{"line":766,"column":2},"end":{"line":766,"column":25}}}]},{"range":[22608,22670],"loc":{"start":{"line":770,"column":2},"end":{"line":772,"column":3}},"type":"IfStatement","test":{"range":[22612,22628],"loc":{"start":{"line":770,"column":6},"end":{"line":770,"column":22}},"type":"BinaryExpression","operator":"===","left":{"range":[22612,22622],"loc":{"start":{"line":770,"column":6},"end":{"line":770,"column":16}},"type":"MemberExpression","computed":false,"object":{"range":[22612,22615],"loc":{"start":{"line":770,"column":6},"end":{"line":770,"column":9}},"type":"Identifier","name":"arr"},"property":{"range":[22616,22622],"loc":{"start":{"line":770,"column":10},"end":{"line":770,"column":16}},"type":"Identifier","name":"length"}},"right":{"range":[22627,22628],"loc":{"start":{"line":770,"column":21},"end":{"line":770,"column":22}},"type":"Literal","value":0,"raw":"0"}},"consequent":{"range":[22630,22670],"loc":{"start":{"line":770,"column":24},"end":{"line":772,"column":3}},"type":"BlockStatement","body":[{"range":[22635,22666],"loc":{"start":{"line":771,"column":3},"end":{"line":771,"column":34}},"type":"ReturnStatement","argument":{"range":[22642,22665],"loc":{"start":{"line":771,"column":10},"end":{"line":771,"column":33}},"type":"CallExpression","callee":{"range":[22642,22661],"loc":{"start":{"line":771,"column":10},"end":{"line":771,"column":29}},"type":"MemberExpression","computed":false,"object":{"range":[22642,22653],"loc":{"start":{"line":771,"column":10},"end":{"line":771,"column":21}},"type":"Identifier","name":"Constructor"},"property":{"range":[22654,22661],"loc":{"start":{"line":771,"column":22},"end":{"line":771,"column":29}},"type":"Identifier","name":"resolve"}},"arguments":[{"range":[22662,22664],"loc":{"start":{"line":771,"column":30},"end":{"line":771,"column":32}},"type":"ArrayExpression","elements":[]}]}}]},"alternate":null},{"range":[22674,23060],"loc":{"start":{"line":774,"column":2},"end":{"line":787,"column":5}},"type":"ReturnStatement","argument":{"range":[22681,23059],"loc":{"start":{"line":774,"column":9},"end":{"line":787,"column":4}},"type":"NewExpression","callee":{"range":[22685,22696],"loc":{"start":{"line":774,"column":13},"end":{"line":774,"column":24}},"type":"Identifier","name":"Constructor"},"arguments":[{"range":[22697,23058],"loc":{"start":{"line":774,"column":25},"end":{"line":787,"column":3}},"type":"FunctionExpression","id":{"range":[22706,22714],"loc":{"start":{"line":774,"column":34},"end":{"line":774,"column":42}},"type":"Identifier","name":"executor"},"params":[{"range":[22715,22722],"loc":{"start":{"line":774,"column":43},"end":{"line":774,"column":50}},"type":"Identifier","name":"resolve"},{"range":[22723,22729],"loc":{"start":{"line":774,"column":51},"end":{"line":774,"column":57}},"type":"Identifier","name":"reject"}],"defaults":[],"body":{"range":[22730,23058],"loc":{"start":{"line":774,"column":58},"end":{"line":787,"column":3}},"type":"BlockStatement","body":[{"range":[22735,22845],"loc":{"start":{"line":775,"column":3},"end":{"line":777,"column":4}},"type":"IfStatement","test":{"range":[22739,22798],"loc":{"start":{"line":775,"column":7},"end":{"line":775,"column":66}},"type":"LogicalExpression","operator":"||","left":{"range":[22739,22767],"loc":{"start":{"line":775,"column":7},"end":{"line":775,"column":35}},"type":"BinaryExpression","operator":"!=","left":{"range":[22739,22753],"loc":{"start":{"line":775,"column":7},"end":{"line":775,"column":21}},"type":"UnaryExpression","operator":"typeof","argument":{"range":[22746,22753],"loc":{"start":{"line":775,"column":14},"end":{"line":775,"column":21}},"type":"Identifier","name":"resolve"},"prefix":true},"right":{"range":[22757,22767],"loc":{"start":{"line":775,"column":25},"end":{"line":775,"column":35}},"type":"Literal","value":"function","raw":"\"function\""}},"right":{"range":[22771,22798],"loc":{"start":{"line":775,"column":39},"end":{"line":775,"column":66}},"type":"BinaryExpression","operator":"!=","left":{"range":[22771,22784],"loc":{"start":{"line":775,"column":39},"end":{"line":775,"column":52}},"type":"UnaryExpression","operator":"typeof","argument":{"range":[22778,22784],"loc":{"start":{"line":775,"column":46},"end":{"line":775,"column":52}},"type":"Identifier","name":"reject"},"prefix":true},"right":{"range":[22788,22798],"loc":{"start":{"line":775,"column":56},"end":{"line":775,"column":66}},"type":"Literal","value":"function","raw":"\"function\""}}},"consequent":{"range":[22800,22845],"loc":{"start":{"line":775,"column":68},"end":{"line":777,"column":4}},"type":"BlockStatement","body":[{"range":[22806,22840],"loc":{"start":{"line":776,"column":4},"end":{"line":776,"column":38}},"type":"ThrowStatement","argument":{"range":[22812,22839],"loc":{"start":{"line":776,"column":10},"end":{"line":776,"column":37}},"type":"CallExpression","callee":{"range":[22812,22821],"loc":{"start":{"line":776,"column":10},"end":{"line":776,"column":19}},"type":"Identifier","name":"TypeError"},"arguments":[{"range":[22822,22838],"loc":{"start":{"line":776,"column":20},"end":{"line":776,"column":36}},"type":"Literal","value":"Not a function","raw":"\"Not a function\""}]}}]},"alternate":null},{"range":[22850,22901],"loc":{"start":{"line":779,"column":3},"end":{"line":779,"column":54}},"type":"VariableDeclaration","declarations":[{"range":[22854,22870],"loc":{"start":{"line":779,"column":7},"end":{"line":779,"column":23}},"type":"VariableDeclarator","id":{"range":[22854,22857],"loc":{"start":{"line":779,"column":7},"end":{"line":779,"column":10}},"type":"Identifier","name":"len"},"init":{"range":[22860,22870],"loc":{"start":{"line":779,"column":13},"end":{"line":779,"column":23}},"type":"MemberExpression","computed":false,"object":{"range":[22860,22863],"loc":{"start":{"line":779,"column":13},"end":{"line":779,"column":16}},"type":"Identifier","name":"arr"},"property":{"range":[22864,22870],"loc":{"start":{"line":779,"column":17},"end":{"line":779,"column":23}},"type":"Identifier","name":"length"}}},{"range":[22872,22889],"loc":{"start":{"line":779,"column":25},"end":{"line":779,"column":42}},"type":"VariableDeclarator","id":{"range":[22872,22876],"loc":{"start":{"line":779,"column":25},"end":{"line":779,"column":29}},"type":"Identifier","name":"msgs"},"init":{"range":[22879,22889],"loc":{"start":{"line":779,"column":32},"end":{"line":779,"column":42}},"type":"CallExpression","callee":{"range":[22879,22884],"loc":{"start":{"line":779,"column":32},"end":{"line":779,"column":37}},"type":"Identifier","name":"Array"},"arguments":[{"range":[22885,22888],"loc":{"start":{"line":779,"column":38},"end":{"line":779,"column":41}},"type":"Identifier","name":"len"}]}},{"range":[22891,22900],"loc":{"start":{"line":779,"column":44},"end":{"line":779,"column":53}},"type":"VariableDeclarator","id":{"range":[22891,22896],"loc":{"start":{"line":779,"column":44},"end":{"line":779,"column":49}},"type":"Identifier","name":"count"},"init":{"range":[22899,22900],"loc":{"start":{"line":779,"column":52},"end":{"line":779,"column":53}},"type":"Literal","value":0,"raw":"0"}}],"kind":"var"},{"range":[22906,23054],"loc":{"start":{"line":781,"column":3},"end":{"line":786,"column":13}},"type":"ExpressionStatement","expression":{"range":[22906,23053],"loc":{"start":{"line":781,"column":3},"end":{"line":786,"column":12}},"type":"CallExpression","callee":{"range":[22906,22921],"loc":{"start":{"line":781,"column":3},"end":{"line":781,"column":18}},"type":"Identifier","name":"iteratePromises"},"arguments":[{"range":[22922,22933],"loc":{"start":{"line":781,"column":19},"end":{"line":781,"column":30}},"type":"Identifier","name":"Constructor"},{"range":[22934,22937],"loc":{"start":{"line":781,"column":31},"end":{"line":781,"column":34}},"type":"Identifier","name":"arr"},{"range":[22938,23045],"loc":{"start":{"line":781,"column":35},"end":{"line":786,"column":4}},"type":"FunctionExpression","id":{"range":[22947,22955],"loc":{"start":{"line":781,"column":44},"end":{"line":781,"column":52}},"type":"Identifier","name":"resolver"},"params":[{"range":[22956,22959],"loc":{"start":{"line":781,"column":53},"end":{"line":781,"column":56}},"type":"Identifier","name":"idx"},{"range":[22960,22963],"loc":{"start":{"line":781,"column":57},"end":{"line":781,"column":60}},"type":"Identifier","name":"msg"}],"defaults":[],"body":{"range":[22965,23045],"loc":{"start":{"line":781,"column":62},"end":{"line":786,"column":4}},"type":"BlockStatement","body":[{"range":[22971,22987],"loc":{"start":{"line":782,"column":4},"end":{"line":782,"column":20}},"type":"ExpressionStatement","expression":{"range":[22971,22986],"loc":{"start":{"line":782,"column":4},"end":{"line":782,"column":19}},"type":"AssignmentExpression","operator":"=","left":{"range":[22971,22980],"loc":{"start":{"line":782,"column":4},"end":{"line":782,"column":13}},"type":"MemberExpression","computed":true,"object":{"range":[22971,22975],"loc":{"start":{"line":782,"column":4},"end":{"line":782,"column":8}},"type":"Identifier","name":"msgs"},"property":{"range":[22976,22979],"loc":{"start":{"line":782,"column":9},"end":{"line":782,"column":12}},"type":"Identifier","name":"idx"}},"right":{"range":[22983,22986],"loc":{"start":{"line":782,"column":16},"end":{"line":782,"column":19}},"type":"Identifier","name":"msg"}}},{"range":[22992,23040],"loc":{"start":{"line":783,"column":4},"end":{"line":785,"column":5}},"type":"IfStatement","test":{"range":[22996,23011],"loc":{"start":{"line":783,"column":8},"end":{"line":783,"column":23}},"type":"BinaryExpression","operator":"===","left":{"range":[22996,23003],"loc":{"start":{"line":783,"column":8},"end":{"line":783,"column":15}},"type":"UpdateExpression","operator":"++","argument":{"range":[22998,23003],"loc":{"start":{"line":783,"column":10},"end":{"line":783,"column":15}},"type":"Identifier","name":"count"},"prefix":true},"right":{"range":[23008,23011],"loc":{"start":{"line":783,"column":20},"end":{"line":783,"column":23}},"type":"Identifier","name":"len"}},"consequent":{"range":[23013,23040],"loc":{"start":{"line":783,"column":25},"end":{"line":785,"column":5}},"type":"BlockStatement","body":[{"range":[23020,23034],"loc":{"start":{"line":784,"column":5},"end":{"line":784,"column":19}},"type":"ExpressionStatement","expression":{"range":[23020,23033],"loc":{"start":{"line":784,"column":5},"end":{"line":784,"column":18}},"type":"CallExpression","callee":{"range":[23020,23027],"loc":{"start":{"line":784,"column":5},"end":{"line":784,"column":12}},"type":"Identifier","name":"resolve"},"arguments":[{"range":[23028,23032],"loc":{"start":{"line":784,"column":13},"end":{"line":784,"column":17}},"type":"Identifier","name":"msgs"}]}}]},"alternate":null}]},"generator":false,"expression":false},{"range":[23046,23052],"loc":{"start":{"line":786,"column":5},"end":{"line":786,"column":11}},"type":"Identifier","name":"reject"}]}}]},"generator":false,"expression":false}]}}]},"generator":false,"expression":false}]}},{"range":[23068,23567],"loc":{"start":{"line":790,"column":1},"end":{"line":807,"column":4}},"type":"ExpressionStatement","expression":{"range":[23068,23566],"loc":{"start":{"line":790,"column":1},"end":{"line":807,"column":3}},"type":"CallExpression","callee":{"range":[23068,23079],"loc":{"start":{"line":790,"column":1},"end":{"line":790,"column":12}},"type":"Identifier","name":"builtInProp"},"arguments":[{"range":[23080,23087],"loc":{"start":{"line":790,"column":13},"end":{"line":790,"column":20}},"type":"Identifier","name":"Promise"},{"range":[23088,23094],"loc":{"start":{"line":790,"column":21},"end":{"line":790,"column":27}},"type":"Literal","value":"race","raw":"\"race\""},{"range":[23095,23565],"loc":{"start":{"line":790,"column":28},"end":{"line":807,"column":2}},"type":"FunctionExpression","id":{"range":[23104,23116],"loc":{"start":{"line":790,"column":37},"end":{"line":790,"column":49}},"type":"Identifier","name":"Promise$race"},"params":[{"range":[23117,23120],"loc":{"start":{"line":790,"column":50},"end":{"line":790,"column":53}},"type":"Identifier","name":"arr"}],"defaults":[],"body":{"range":[23122,23565],"loc":{"start":{"line":790,"column":55},"end":{"line":807,"column":2}},"type":"BlockStatement","body":[{"range":[23126,23149],"loc":{"start":{"line":791,"column":2},"end":{"line":791,"column":25}},"type":"VariableDeclaration","declarations":[{"range":[23130,23148],"loc":{"start":{"line":791,"column":6},"end":{"line":791,"column":24}},"type":"VariableDeclarator","id":{"range":[23130,23141],"loc":{"start":{"line":791,"column":6},"end":{"line":791,"column":17}},"type":"Identifier","name":"Constructor"},"init":{"range":[23144,23148],"loc":{"start":{"line":791,"column":20},"end":{"line":791,"column":24}},"type":"ThisExpression"}}],"kind":"var","trailingComments":[{"type":"Line","value":" spec mandated checks","range":[23153,23176],"loc":{"start":{"line":793,"column":2},"end":{"line":793,"column":25}}}]},{"range":[23179,23285],"loc":{"start":{"line":794,"column":2},"end":{"line":796,"column":3}},"type":"IfStatement","test":{"range":[23183,23221],"loc":{"start":{"line":794,"column":6},"end":{"line":794,"column":44}},"type":"BinaryExpression","operator":"!=","left":{"range":[23183,23201],"loc":{"start":{"line":794,"column":6},"end":{"line":794,"column":24}},"type":"CallExpression","callee":{"range":[23183,23196],"loc":{"start":{"line":794,"column":6},"end":{"line":794,"column":19}},"type":"MemberExpression","computed":false,"object":{"range":[23183,23191],"loc":{"start":{"line":794,"column":6},"end":{"line":794,"column":14}},"type":"Identifier","name":"ToString"},"property":{"range":[23192,23196],"loc":{"start":{"line":794,"column":15},"end":{"line":794,"column":19}},"type":"Identifier","name":"call"}},"arguments":[{"range":[23197,23200],"loc":{"start":{"line":794,"column":20},"end":{"line":794,"column":23}},"type":"Identifier","name":"arr"}]},"right":{"range":[23205,23221],"loc":{"start":{"line":794,"column":28},"end":{"line":794,"column":44}},"type":"Literal","value":"[object Array]","raw":"\"[object Array]\""}},"consequent":{"range":[23223,23285],"loc":{"start":{"line":794,"column":46},"end":{"line":796,"column":3}},"type":"BlockStatement","body":[{"range":[23228,23281],"loc":{"start":{"line":795,"column":3},"end":{"line":795,"column":56}},"type":"ReturnStatement","argument":{"range":[23235,23280],"loc":{"start":{"line":795,"column":10},"end":{"line":795,"column":55}},"type":"CallExpression","callee":{"range":[23235,23253],"loc":{"start":{"line":795,"column":10},"end":{"line":795,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[23235,23246],"loc":{"start":{"line":795,"column":10},"end":{"line":795,"column":21}},"type":"Identifier","name":"Constructor"},"property":{"range":[23247,23253],"loc":{"start":{"line":795,"column":22},"end":{"line":795,"column":28}},"type":"Identifier","name":"reject"}},"arguments":[{"range":[23254,23279],"loc":{"start":{"line":795,"column":29},"end":{"line":795,"column":54}},"type":"CallExpression","callee":{"range":[23254,23263],"loc":{"start":{"line":795,"column":29},"end":{"line":795,"column":38}},"type":"Identifier","name":"TypeError"},"arguments":[{"range":[23264,23278],"loc":{"start":{"line":795,"column":39},"end":{"line":795,"column":53}},"type":"Literal","value":"Not an array","raw":"\"Not an array\""}]}]}}]},"alternate":null,"leadingComments":[{"type":"Line","value":" spec mandated checks","range":[23153,23176],"loc":{"start":{"line":793,"column":2},"end":{"line":793,"column":25}}}]},{"range":[23289,23562],"loc":{"start":{"line":798,"column":2},"end":{"line":806,"column":5}},"type":"ReturnStatement","argument":{"range":[23296,23561],"loc":{"start":{"line":798,"column":9},"end":{"line":806,"column":4}},"type":"NewExpression","callee":{"range":[23300,23311],"loc":{"start":{"line":798,"column":13},"end":{"line":798,"column":24}},"type":"Identifier","name":"Constructor"},"arguments":[{"range":[23312,23560],"loc":{"start":{"line":798,"column":25},"end":{"line":806,"column":3}},"type":"FunctionExpression","id":{"range":[23321,23329],"loc":{"start":{"line":798,"column":34},"end":{"line":798,"column":42}},"type":"Identifier","name":"executor"},"params":[{"range":[23330,23337],"loc":{"start":{"line":798,"column":43},"end":{"line":798,"column":50}},"type":"Identifier","name":"resolve"},{"range":[23338,23344],"loc":{"start":{"line":798,"column":51},"end":{"line":798,"column":57}},"type":"Identifier","name":"reject"}],"defaults":[],"body":{"range":[23345,23560],"loc":{"start":{"line":798,"column":58},"end":{"line":806,"column":3}},"type":"BlockStatement","body":[{"range":[23350,23460],"loc":{"start":{"line":799,"column":3},"end":{"line":801,"column":4}},"type":"IfStatement","test":{"range":[23354,23413],"loc":{"start":{"line":799,"column":7},"end":{"line":799,"column":66}},"type":"LogicalExpression","operator":"||","left":{"range":[23354,23382],"loc":{"start":{"line":799,"column":7},"end":{"line":799,"column":35}},"type":"BinaryExpression","operator":"!=","left":{"range":[23354,23368],"loc":{"start":{"line":799,"column":7},"end":{"line":799,"column":21}},"type":"UnaryExpression","operator":"typeof","argument":{"range":[23361,23368],"loc":{"start":{"line":799,"column":14},"end":{"line":799,"column":21}},"type":"Identifier","name":"resolve"},"prefix":true},"right":{"range":[23372,23382],"loc":{"start":{"line":799,"column":25},"end":{"line":799,"column":35}},"type":"Literal","value":"function","raw":"\"function\""}},"right":{"range":[23386,23413],"loc":{"start":{"line":799,"column":39},"end":{"line":799,"column":66}},"type":"BinaryExpression","operator":"!=","left":{"range":[23386,23399],"loc":{"start":{"line":799,"column":39},"end":{"line":799,"column":52}},"type":"UnaryExpression","operator":"typeof","argument":{"range":[23393,23399],"loc":{"start":{"line":799,"column":46},"end":{"line":799,"column":52}},"type":"Identifier","name":"reject"},"prefix":true},"right":{"range":[23403,23413],"loc":{"start":{"line":799,"column":56},"end":{"line":799,"column":66}},"type":"Literal","value":"function","raw":"\"function\""}}},"consequent":{"range":[23415,23460],"loc":{"start":{"line":799,"column":68},"end":{"line":801,"column":4}},"type":"BlockStatement","body":[{"range":[23421,23455],"loc":{"start":{"line":800,"column":4},"end":{"line":800,"column":38}},"type":"ThrowStatement","argument":{"range":[23427,23454],"loc":{"start":{"line":800,"column":10},"end":{"line":800,"column":37}},"type":"CallExpression","callee":{"range":[23427,23436],"loc":{"start":{"line":800,"column":10},"end":{"line":800,"column":19}},"type":"Identifier","name":"TypeError"},"arguments":[{"range":[23437,23453],"loc":{"start":{"line":800,"column":20},"end":{"line":800,"column":36}},"type":"Literal","value":"Not a function","raw":"\"Not a function\""}]}}]},"alternate":null},{"range":[23465,23556],"loc":{"start":{"line":803,"column":3},"end":{"line":805,"column":13}},"type":"ExpressionStatement","expression":{"range":[23465,23555],"loc":{"start":{"line":803,"column":3},"end":{"line":805,"column":12}},"type":"CallExpression","callee":{"range":[23465,23480],"loc":{"start":{"line":803,"column":3},"end":{"line":803,"column":18}},"type":"Identifier","name":"iteratePromises"},"arguments":[{"range":[23481,23492],"loc":{"start":{"line":803,"column":19},"end":{"line":803,"column":30}},"type":"Identifier","name":"Constructor"},{"range":[23493,23496],"loc":{"start":{"line":803,"column":31},"end":{"line":803,"column":34}},"type":"Identifier","name":"arr"},{"range":[23497,23547],"loc":{"start":{"line":803,"column":35},"end":{"line":805,"column":4}},"type":"FunctionExpression","id":{"range":[23506,23514],"loc":{"start":{"line":803,"column":44},"end":{"line":803,"column":52}},"type":"Identifier","name":"resolver"},"params":[{"range":[23515,23518],"loc":{"start":{"line":803,"column":53},"end":{"line":803,"column":56}},"type":"Identifier","name":"idx"},{"range":[23519,23522],"loc":{"start":{"line":803,"column":57},"end":{"line":803,"column":60}},"type":"Identifier","name":"msg"}],"defaults":[],"body":{"range":[23523,23547],"loc":{"start":{"line":803,"column":61},"end":{"line":805,"column":4}},"type":"BlockStatement","body":[{"range":[23529,23542],"loc":{"start":{"line":804,"column":4},"end":{"line":804,"column":17}},"type":"ExpressionStatement","expression":{"range":[23529,23541],"loc":{"start":{"line":804,"column":4},"end":{"line":804,"column":16}},"type":"CallExpression","callee":{"range":[23529,23536],"loc":{"start":{"line":804,"column":4},"end":{"line":804,"column":11}},"type":"Identifier","name":"resolve"},"arguments":[{"range":[23537,23540],"loc":{"start":{"line":804,"column":12},"end":{"line":804,"column":15}},"type":"Identifier","name":"msg"}]}}]},"generator":false,"expression":false},{"range":[23548,23554],"loc":{"start":{"line":805,"column":5},"end":{"line":805,"column":11}},"type":"Identifier","name":"reject"}]}}]},"generator":false,"expression":false}]}}]},"generator":false,"expression":false}]}},{"range":[23570,23585],"loc":{"start":{"line":809,"column":1},"end":{"line":809,"column":16}},"type":"ReturnStatement","argument":{"range":[23577,23584],"loc":{"start":{"line":809,"column":8},"end":{"line":809,"column":15}},"type":"Identifier","name":"Promise"}}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Block","value":"! Native Promise Only\n    v0.7.8-a (c) Kyle Simpson\n    MIT License: http://getify.mit-license.org\n","range":[15557,15660],"loc":{"start":{"line":445,"column":0},"end":{"line":448,"column":2}}}],"trailingComments":[{"type":"Line","value":" ## UTILS.JS","range":[23591,23605],"loc":{"start":{"line":812,"column":0},"end":{"line":812,"column":14}}},{"type":"Line","value":" **The Utils module provide a set of utility methods used","range":[23607,23666],"loc":{"start":{"line":814,"column":0},"end":{"line":814,"column":59}}},{"type":"Line","value":" across the whole library. For that, it doesn't have any","range":[23667,23725],"loc":{"start":{"line":815,"column":0},"end":{"line":815,"column":58}}},{"type":"Line","value":" dependency.**","range":[23726,23742],"loc":{"start":{"line":816,"column":0},"end":{"line":816,"column":16}}}]},{"range":[23744,28224],"loc":{"start":{"line":818,"column":0},"end":{"line":973,"column":3}},"type":"ExpressionStatement","expression":{"range":[23744,28223],"loc":{"start":{"line":818,"column":0},"end":{"line":973,"column":2}},"type":"CallExpression","callee":{"range":[23744,23750],"loc":{"start":{"line":818,"column":0},"end":{"line":818,"column":6}},"type":"Identifier","name":"define"},"arguments":[{"range":[23751,23758],"loc":{"start":{"line":818,"column":7},"end":{"line":818,"column":14}},"type":"Literal","value":"utils","raw":"'utils'"},{"range":[23759,23770],"loc":{"start":{"line":818,"column":15},"end":{"line":818,"column":26}},"type":"ArrayExpression","elements":[{"range":[23760,23769],"loc":{"start":{"line":818,"column":16},"end":{"line":818,"column":25}},"type":"Literal","value":"promise","raw":"'promise'"}]},{"range":[23772,28222],"loc":{"start":{"line":818,"column":28},"end":{"line":973,"column":1}},"type":"FunctionExpression","id":null,"params":[{"range":[23782,23789],"loc":{"start":{"line":818,"column":38},"end":{"line":818,"column":45}},"type":"Identifier","name":"Promise"}],"defaults":[],"body":{"range":[23791,28222],"loc":{"start":{"line":818,"column":47},"end":{"line":973,"column":1}},"type":"BlockStatement","body":[{"range":[23795,23808],"loc":{"start":{"line":819,"column":2},"end":{"line":819,"column":15}},"type":"ExpressionStatement","expression":{"range":[23795,23807],"loc":{"start":{"line":819,"column":2},"end":{"line":819,"column":14}},"type":"Literal","value":"use strict","raw":"'use strict'"}},{"range":[23812,28219],"loc":{"start":{"line":821,"column":2},"end":{"line":971,"column":4}},"type":"ReturnStatement","argument":{"range":[23819,28218],"loc":{"start":{"line":821,"column":9},"end":{"line":971,"column":3}},"type":"ObjectExpression","properties":[{"range":[23866,23942],"loc":{"start":{"line":824,"column":4},"end":{"line":826,"column":5}},"type":"Property","key":{"range":[23866,23875],"loc":{"start":{"line":824,"column":4},"end":{"line":824,"column":13}},"type":"Identifier","name":"isDefined"},"computed":false,"value":{"range":[23877,23942],"loc":{"start":{"line":824,"column":15},"end":{"line":826,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[23886,23891],"loc":{"start":{"line":824,"column":24},"end":{"line":824,"column":29}},"type":"Identifier","name":"value"}],"defaults":[],"body":{"range":[23892,23942],"loc":{"start":{"line":824,"column":30},"end":{"line":826,"column":5}},"type":"BlockStatement","body":[{"range":[23900,23936],"loc":{"start":{"line":825,"column":6},"end":{"line":825,"column":42}},"type":"ReturnStatement","argument":{"range":[23907,23935],"loc":{"start":{"line":825,"column":13},"end":{"line":825,"column":41}},"type":"BinaryExpression","operator":"!==","left":{"range":[23907,23919],"loc":{"start":{"line":825,"column":13},"end":{"line":825,"column":25}},"type":"UnaryExpression","operator":"typeof","argument":{"range":[23914,23919],"loc":{"start":{"line":825,"column":20},"end":{"line":825,"column":25}},"type":"Identifier","name":"value"},"prefix":true},"right":{"range":[23924,23935],"loc":{"start":{"line":825,"column":30},"end":{"line":825,"column":41}},"type":"Literal","value":"undefined","raw":"'undefined'"}}}]},"generator":false,"expression":false},"kind":"init","method":false,"shorthand":false,"leadingComments":[{"type":"Line","value":" Check if a reference is defined.","range":[23826,23861],"loc":{"start":{"line":823,"column":4},"end":{"line":823,"column":39}}}]},{"range":[23991,24094],"loc":{"start":{"line":829,"column":4},"end":{"line":831,"column":5}},"type":"Property","key":{"range":[23991,24001],"loc":{"start":{"line":829,"column":4},"end":{"line":829,"column":14}},"type":"Identifier","name":"isFunction"},"computed":false,"value":{"range":[24003,24094],"loc":{"start":{"line":829,"column":16},"end":{"line":831,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[24012,24014],"loc":{"start":{"line":829,"column":25},"end":{"line":829,"column":27}},"type":"Identifier","name":"fn"}],"defaults":[],"body":{"range":[24015,24094],"loc":{"start":{"line":829,"column":28},"end":{"line":831,"column":5}},"type":"BlockStatement","body":[{"range":[24023,24088],"loc":{"start":{"line":830,"column":6},"end":{"line":830,"column":71}},"type":"ReturnStatement","argument":{"range":[24030,24087],"loc":{"start":{"line":830,"column":13},"end":{"line":830,"column":70}},"type":"BinaryExpression","operator":"==","left":{"range":[24030,24064],"loc":{"start":{"line":830,"column":13},"end":{"line":830,"column":47}},"type":"CallExpression","callee":{"range":[24030,24060],"loc":{"start":{"line":830,"column":13},"end":{"line":830,"column":43}},"type":"MemberExpression","computed":false,"object":{"range":[24030,24055],"loc":{"start":{"line":830,"column":13},"end":{"line":830,"column":38}},"type":"MemberExpression","computed":false,"object":{"range":[24030,24046],"loc":{"start":{"line":830,"column":13},"end":{"line":830,"column":29}},"type":"MemberExpression","computed":false,"object":{"range":[24030,24036],"loc":{"start":{"line":830,"column":13},"end":{"line":830,"column":19}},"type":"Identifier","name":"Object"},"property":{"range":[24037,24046],"loc":{"start":{"line":830,"column":20},"end":{"line":830,"column":29}},"type":"Identifier","name":"prototype"}},"property":{"range":[24047,24055],"loc":{"start":{"line":830,"column":30},"end":{"line":830,"column":38}},"type":"Identifier","name":"toString"}},"property":{"range":[24056,24060],"loc":{"start":{"line":830,"column":39},"end":{"line":830,"column":43}},"type":"Identifier","name":"call"}},"arguments":[{"range":[24061,24063],"loc":{"start":{"line":830,"column":44},"end":{"line":830,"column":46}},"type":"Identifier","name":"fn"}]},"right":{"range":[24068,24087],"loc":{"start":{"line":830,"column":51},"end":{"line":830,"column":70}},"type":"Literal","value":"[object Function]","raw":"'[object Function]'"}}}]},"generator":false,"expression":false},"kind":"init","method":false,"shorthand":false,"leadingComments":[{"type":"Line","value":" Check if a variable is a function.","range":[23949,23986],"loc":{"start":{"line":828,"column":4},"end":{"line":828,"column":41}}}]},{"range":[24141,24242],"loc":{"start":{"line":834,"column":4},"end":{"line":836,"column":5}},"type":"Property","key":{"range":[24141,24149],"loc":{"start":{"line":834,"column":4},"end":{"line":834,"column":12}},"type":"Identifier","name":"isString"},"computed":false,"value":{"range":[24151,24242],"loc":{"start":{"line":834,"column":14},"end":{"line":836,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[24160,24163],"loc":{"start":{"line":834,"column":23},"end":{"line":834,"column":26}},"type":"Identifier","name":"str"}],"defaults":[],"body":{"range":[24164,24242],"loc":{"start":{"line":834,"column":27},"end":{"line":836,"column":5}},"type":"BlockStatement","body":[{"range":[24172,24236],"loc":{"start":{"line":835,"column":6},"end":{"line":835,"column":70}},"type":"ReturnStatement","argument":{"range":[24179,24235],"loc":{"start":{"line":835,"column":13},"end":{"line":835,"column":69}},"type":"BinaryExpression","operator":"==","left":{"range":[24179,24214],"loc":{"start":{"line":835,"column":13},"end":{"line":835,"column":48}},"type":"CallExpression","callee":{"range":[24179,24209],"loc":{"start":{"line":835,"column":13},"end":{"line":835,"column":43}},"type":"MemberExpression","computed":false,"object":{"range":[24179,24204],"loc":{"start":{"line":835,"column":13},"end":{"line":835,"column":38}},"type":"MemberExpression","computed":false,"object":{"range":[24179,24195],"loc":{"start":{"line":835,"column":13},"end":{"line":835,"column":29}},"type":"MemberExpression","computed":false,"object":{"range":[24179,24185],"loc":{"start":{"line":835,"column":13},"end":{"line":835,"column":19}},"type":"Identifier","name":"Object"},"property":{"range":[24186,24195],"loc":{"start":{"line":835,"column":20},"end":{"line":835,"column":29}},"type":"Identifier","name":"prototype"}},"property":{"range":[24196,24204],"loc":{"start":{"line":835,"column":30},"end":{"line":835,"column":38}},"type":"Identifier","name":"toString"}},"property":{"range":[24205,24209],"loc":{"start":{"line":835,"column":39},"end":{"line":835,"column":43}},"type":"Identifier","name":"call"}},"arguments":[{"range":[24210,24213],"loc":{"start":{"line":835,"column":44},"end":{"line":835,"column":47}},"type":"Identifier","name":"str"}]},"right":{"range":[24218,24235],"loc":{"start":{"line":835,"column":52},"end":{"line":835,"column":69}},"type":"Literal","value":"[object String]","raw":"'[object String]'"}}}]},"generator":false,"expression":false},"kind":"init","method":false,"shorthand":false,"leadingComments":[{"type":"Line","value":" Check if a variable is a string.","range":[24101,24136],"loc":{"start":{"line":833,"column":4},"end":{"line":833,"column":39}}}]},{"range":[24289,24388],"loc":{"start":{"line":839,"column":4},"end":{"line":841,"column":5}},"type":"Property","key":{"range":[24289,24296],"loc":{"start":{"line":839,"column":4},"end":{"line":839,"column":11}},"type":"Identifier","name":"isArray"},"computed":false,"value":{"range":[24298,24388],"loc":{"start":{"line":839,"column":13},"end":{"line":841,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[24307,24310],"loc":{"start":{"line":839,"column":22},"end":{"line":839,"column":25}},"type":"Identifier","name":"arr"}],"defaults":[],"body":{"range":[24311,24388],"loc":{"start":{"line":839,"column":26},"end":{"line":841,"column":5}},"type":"BlockStatement","body":[{"range":[24319,24382],"loc":{"start":{"line":840,"column":6},"end":{"line":840,"column":69}},"type":"ReturnStatement","argument":{"range":[24326,24381],"loc":{"start":{"line":840,"column":13},"end":{"line":840,"column":68}},"type":"BinaryExpression","operator":"==","left":{"range":[24326,24361],"loc":{"start":{"line":840,"column":13},"end":{"line":840,"column":48}},"type":"CallExpression","callee":{"range":[24326,24356],"loc":{"start":{"line":840,"column":13},"end":{"line":840,"column":43}},"type":"MemberExpression","computed":false,"object":{"range":[24326,24351],"loc":{"start":{"line":840,"column":13},"end":{"line":840,"column":38}},"type":"MemberExpression","computed":false,"object":{"range":[24326,24342],"loc":{"start":{"line":840,"column":13},"end":{"line":840,"column":29}},"type":"MemberExpression","computed":false,"object":{"range":[24326,24332],"loc":{"start":{"line":840,"column":13},"end":{"line":840,"column":19}},"type":"Identifier","name":"Object"},"property":{"range":[24333,24342],"loc":{"start":{"line":840,"column":20},"end":{"line":840,"column":29}},"type":"Identifier","name":"prototype"}},"property":{"range":[24343,24351],"loc":{"start":{"line":840,"column":30},"end":{"line":840,"column":38}},"type":"Identifier","name":"toString"}},"property":{"range":[24352,24356],"loc":{"start":{"line":840,"column":39},"end":{"line":840,"column":43}},"type":"Identifier","name":"call"}},"arguments":[{"range":[24357,24360],"loc":{"start":{"line":840,"column":44},"end":{"line":840,"column":47}},"type":"Identifier","name":"arr"}]},"right":{"range":[24365,24381],"loc":{"start":{"line":840,"column":52},"end":{"line":840,"column":68}},"type":"Literal","value":"[object Array]","raw":"'[object Array]'"}}}]},"generator":false,"expression":false},"kind":"init","method":false,"shorthand":false,"leadingComments":[{"type":"Line","value":" Check if a variable is an array.","range":[24249,24284],"loc":{"start":{"line":838,"column":4},"end":{"line":838,"column":39}}}]},{"range":[24488,24575],"loc":{"start":{"line":845,"column":4},"end":{"line":847,"column":5}},"type":"Property","key":{"range":[24488,24496],"loc":{"start":{"line":845,"column":4},"end":{"line":845,"column":12}},"type":"Identifier","name":"isObject"},"computed":false,"value":{"range":[24498,24575],"loc":{"start":{"line":845,"column":14},"end":{"line":847,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[24507,24510],"loc":{"start":{"line":845,"column":23},"end":{"line":845,"column":26}},"type":"Identifier","name":"obj"}],"defaults":[],"body":{"range":[24512,24575],"loc":{"start":{"line":845,"column":28},"end":{"line":847,"column":5}},"type":"BlockStatement","body":[{"range":[24520,24569],"loc":{"start":{"line":846,"column":6},"end":{"line":846,"column":55}},"type":"ReturnStatement","argument":{"range":[24527,24568],"loc":{"start":{"line":846,"column":13},"end":{"line":846,"column":54}},"type":"LogicalExpression","operator":"&&","left":{"range":[24527,24546],"loc":{"start":{"line":846,"column":13},"end":{"line":846,"column":32}},"type":"BinaryExpression","operator":"===","left":{"range":[24527,24530],"loc":{"start":{"line":846,"column":13},"end":{"line":846,"column":16}},"type":"Identifier","name":"obj"},"right":{"range":[24535,24546],"loc":{"start":{"line":846,"column":21},"end":{"line":846,"column":32}},"type":"CallExpression","callee":{"range":[24535,24541],"loc":{"start":{"line":846,"column":21},"end":{"line":846,"column":27}},"type":"Identifier","name":"Object"},"arguments":[{"range":[24542,24545],"loc":{"start":{"line":846,"column":28},"end":{"line":846,"column":31}},"type":"Identifier","name":"obj"}]}},"right":{"range":[24550,24568],"loc":{"start":{"line":846,"column":36},"end":{"line":846,"column":54}},"type":"UnaryExpression","operator":"!","argument":{"range":[24551,24568],"loc":{"start":{"line":846,"column":37},"end":{"line":846,"column":54}},"type":"CallExpression","callee":{"range":[24551,24563],"loc":{"start":{"line":846,"column":37},"end":{"line":846,"column":49}},"type":"MemberExpression","computed":false,"object":{"range":[24551,24555],"loc":{"start":{"line":846,"column":37},"end":{"line":846,"column":41}},"type":"ThisExpression"},"property":{"range":[24556,24563],"loc":{"start":{"line":846,"column":42},"end":{"line":846,"column":49}},"type":"Identifier","name":"isArray"}},"arguments":[{"range":[24564,24567],"loc":{"start":{"line":846,"column":50},"end":{"line":846,"column":53}},"type":"Identifier","name":"obj"}]},"prefix":true}}}]},"generator":false,"expression":false},"kind":"init","method":false,"shorthand":false,"leadingComments":[{"type":"Line","value":" Check if a variable is an Object (includes Object functions and","range":[24395,24461],"loc":{"start":{"line":843,"column":4},"end":{"line":843,"column":70}}},{"type":"Line","value":" plain objects)","range":[24466,24483],"loc":{"start":{"line":844,"column":4},"end":{"line":844,"column":21}}}]},{"range":[24852,25354],"loc":{"start":{"line":853,"column":4},"end":{"line":877,"column":5}},"type":"Property","key":{"range":[24852,24858],"loc":{"start":{"line":853,"column":4},"end":{"line":853,"column":10}},"type":"Identifier","name":"extend"},"computed":false,"value":{"range":[24860,25354],"loc":{"start":{"line":853,"column":12},"end":{"line":877,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[24869,24875],"loc":{"start":{"line":853,"column":21},"end":{"line":853,"column":27}},"type":"Identifier","name":"source"},{"range":[24877,24880],"loc":{"start":{"line":853,"column":29},"end":{"line":853,"column":32}},"type":"Identifier","name":"obj"},{"range":[24882,24890],"loc":{"start":{"line":853,"column":34},"end":{"line":853,"column":42}},"type":"Identifier","name":"override"}],"defaults":[],"body":{"range":[24892,25354],"loc":{"start":{"line":853,"column":44},"end":{"line":877,"column":5}},"type":"BlockStatement","body":[{"range":[24900,24908],"loc":{"start":{"line":854,"column":6},"end":{"line":854,"column":14}},"type":"VariableDeclaration","declarations":[{"range":[24904,24907],"loc":{"start":{"line":854,"column":10},"end":{"line":854,"column":13}},"type":"VariableDeclarator","id":{"range":[24904,24907],"loc":{"start":{"line":854,"column":10},"end":{"line":854,"column":13}},"type":"Identifier","name":"out"},"init":null}],"kind":"var","trailingComments":[{"type":"Line","value":" Create extensible object.","range":[24916,24944],"loc":{"start":{"line":856,"column":6},"end":{"line":856,"column":34}}}]},{"range":[24951,25195],"loc":{"start":{"line":857,"column":6},"end":{"line":867,"column":7}},"type":"IfStatement","test":{"range":[24954,24962],"loc":{"start":{"line":857,"column":9},"end":{"line":857,"column":17}},"type":"Identifier","name":"override"},"consequent":{"range":[24964,24995],"loc":{"start":{"line":857,"column":19},"end":{"line":859,"column":7}},"type":"BlockStatement","body":[{"range":[24974,24987],"loc":{"start":{"line":858,"column":8},"end":{"line":858,"column":21}},"type":"ExpressionStatement","expression":{"range":[24974,24986],"loc":{"start":{"line":858,"column":8},"end":{"line":858,"column":20}},"type":"AssignmentExpression","operator":"=","left":{"range":[24974,24977],"loc":{"start":{"line":858,"column":8},"end":{"line":858,"column":11}},"type":"Identifier","name":"out"},"right":{"range":[24980,24986],"loc":{"start":{"line":858,"column":14},"end":{"line":858,"column":20}},"type":"Identifier","name":"source"}}}]},"alternate":{"range":[25001,25195],"loc":{"start":{"line":859,"column":13},"end":{"line":867,"column":7}},"type":"BlockStatement","body":[{"range":[25053,25062],"loc":{"start":{"line":861,"column":8},"end":{"line":861,"column":17}},"type":"ExpressionStatement","expression":{"range":[25053,25061],"loc":{"start":{"line":861,"column":8},"end":{"line":861,"column":16}},"type":"AssignmentExpression","operator":"=","left":{"range":[25053,25056],"loc":{"start":{"line":861,"column":8},"end":{"line":861,"column":11}},"type":"Identifier","name":"out"},"right":{"range":[25059,25061],"loc":{"start":{"line":861,"column":14},"end":{"line":861,"column":16}},"type":"ObjectExpression","properties":[]}},"leadingComments":[{"type":"Line","value":" Create shallow copy of source.","range":[25011,25044],"loc":{"start":{"line":860,"column":8},"end":{"line":860,"column":41}}}]},{"range":[25071,25187],"loc":{"start":{"line":862,"column":8},"end":{"line":866,"column":9}},"type":"ForInStatement","left":{"range":[25075,25080],"loc":{"start":{"line":862,"column":12},"end":{"line":862,"column":17}},"type":"VariableDeclaration","declarations":[{"range":[25079,25080],"loc":{"start":{"line":862,"column":16},"end":{"line":862,"column":17}},"type":"VariableDeclarator","id":{"range":[25079,25080],"loc":{"start":{"line":862,"column":16},"end":{"line":862,"column":17}},"type":"Identifier","name":"i"},"init":null}],"kind":"var"},"right":{"range":[25084,25090],"loc":{"start":{"line":862,"column":21},"end":{"line":862,"column":27}},"type":"Identifier","name":"source"},"body":{"range":[25091,25187],"loc":{"start":{"line":862,"column":28},"end":{"line":866,"column":9}},"type":"BlockStatement","body":[{"range":[25103,25177],"loc":{"start":{"line":863,"column":10},"end":{"line":865,"column":11}},"type":"IfStatement","test":{"range":[25106,25130],"loc":{"start":{"line":863,"column":13},"end":{"line":863,"column":37}},"type":"CallExpression","callee":{"range":[25106,25127],"loc":{"start":{"line":863,"column":13},"end":{"line":863,"column":34}},"type":"MemberExpression","computed":false,"object":{"range":[25106,25112],"loc":{"start":{"line":863,"column":13},"end":{"line":863,"column":19}},"type":"Identifier","name":"source"},"property":{"range":[25113,25127],"loc":{"start":{"line":863,"column":20},"end":{"line":863,"column":34}},"type":"Identifier","name":"hasOwnProperty"}},"arguments":[{"range":[25128,25129],"loc":{"start":{"line":863,"column":35},"end":{"line":863,"column":36}},"type":"Identifier","name":"i"}]},"consequent":{"range":[25132,25177],"loc":{"start":{"line":863,"column":39},"end":{"line":865,"column":11}},"type":"BlockStatement","body":[{"range":[25146,25165],"loc":{"start":{"line":864,"column":12},"end":{"line":864,"column":31}},"type":"ExpressionStatement","expression":{"range":[25146,25164],"loc":{"start":{"line":864,"column":12},"end":{"line":864,"column":30}},"type":"AssignmentExpression","operator":"=","left":{"range":[25146,25152],"loc":{"start":{"line":864,"column":12},"end":{"line":864,"column":18}},"type":"MemberExpression","computed":true,"object":{"range":[25146,25149],"loc":{"start":{"line":864,"column":12},"end":{"line":864,"column":15}},"type":"Identifier","name":"out"},"property":{"range":[25150,25151],"loc":{"start":{"line":864,"column":16},"end":{"line":864,"column":17}},"type":"Identifier","name":"i"}},"right":{"range":[25155,25164],"loc":{"start":{"line":864,"column":21},"end":{"line":864,"column":30}},"type":"MemberExpression","computed":true,"object":{"range":[25155,25161],"loc":{"start":{"line":864,"column":21},"end":{"line":864,"column":27}},"type":"Identifier","name":"source"},"property":{"range":[25162,25163],"loc":{"start":{"line":864,"column":28},"end":{"line":864,"column":29}},"type":"Identifier","name":"i"}}}}]},"alternate":null}]},"each":false}]},"leadingComments":[{"type":"Line","value":" Create extensible object.","range":[24916,24944],"loc":{"start":{"line":856,"column":6},"end":{"line":856,"column":34}}}],"trailingComments":[{"type":"Line","value":" Copy properties.","range":[25203,25222],"loc":{"start":{"line":869,"column":6},"end":{"line":869,"column":25}}}]},{"range":[25229,25329],"loc":{"start":{"line":870,"column":6},"end":{"line":874,"column":7}},"type":"ForInStatement","left":{"range":[25233,25238],"loc":{"start":{"line":870,"column":10},"end":{"line":870,"column":15}},"type":"VariableDeclaration","declarations":[{"range":[25237,25238],"loc":{"start":{"line":870,"column":14},"end":{"line":870,"column":15}},"type":"VariableDeclarator","id":{"range":[25237,25238],"loc":{"start":{"line":870,"column":14},"end":{"line":870,"column":15}},"type":"Identifier","name":"j"},"init":null}],"kind":"var"},"right":{"range":[25242,25245],"loc":{"start":{"line":870,"column":19},"end":{"line":870,"column":22}},"type":"Identifier","name":"obj"},"body":{"range":[25247,25329],"loc":{"start":{"line":870,"column":24},"end":{"line":874,"column":7}},"type":"BlockStatement","body":[{"range":[25257,25321],"loc":{"start":{"line":871,"column":8},"end":{"line":873,"column":9}},"type":"IfStatement","test":{"range":[25260,25281],"loc":{"start":{"line":871,"column":11},"end":{"line":871,"column":32}},"type":"CallExpression","callee":{"range":[25260,25278],"loc":{"start":{"line":871,"column":11},"end":{"line":871,"column":29}},"type":"MemberExpression","computed":false,"object":{"range":[25260,25263],"loc":{"start":{"line":871,"column":11},"end":{"line":871,"column":14}},"type":"Identifier","name":"obj"},"property":{"range":[25264,25278],"loc":{"start":{"line":871,"column":15},"end":{"line":871,"column":29}},"type":"Identifier","name":"hasOwnProperty"}},"arguments":[{"range":[25279,25280],"loc":{"start":{"line":871,"column":30},"end":{"line":871,"column":31}},"type":"Identifier","name":"j"}]},"consequent":{"range":[25283,25321],"loc":{"start":{"line":871,"column":34},"end":{"line":873,"column":9}},"type":"BlockStatement","body":[{"range":[25295,25311],"loc":{"start":{"line":872,"column":10},"end":{"line":872,"column":26}},"type":"ExpressionStatement","expression":{"range":[25295,25310],"loc":{"start":{"line":872,"column":10},"end":{"line":872,"column":25}},"type":"AssignmentExpression","operator":"=","left":{"range":[25295,25301],"loc":{"start":{"line":872,"column":10},"end":{"line":872,"column":16}},"type":"MemberExpression","computed":true,"object":{"range":[25295,25298],"loc":{"start":{"line":872,"column":10},"end":{"line":872,"column":13}},"type":"Identifier","name":"out"},"property":{"range":[25299,25300],"loc":{"start":{"line":872,"column":14},"end":{"line":872,"column":15}},"type":"Identifier","name":"j"}},"right":{"range":[25304,25310],"loc":{"start":{"line":872,"column":19},"end":{"line":872,"column":25}},"type":"MemberExpression","computed":true,"object":{"range":[25304,25307],"loc":{"start":{"line":872,"column":19},"end":{"line":872,"column":22}},"type":"Identifier","name":"obj"},"property":{"range":[25308,25309],"loc":{"start":{"line":872,"column":23},"end":{"line":872,"column":24}},"type":"Identifier","name":"j"}}}}]},"alternate":null}]},"each":false,"leadingComments":[{"type":"Line","value":" Copy properties.","range":[25203,25222],"loc":{"start":{"line":869,"column":6},"end":{"line":869,"column":25}}}]},{"range":[25337,25348],"loc":{"start":{"line":876,"column":6},"end":{"line":876,"column":17}},"type":"ReturnStatement","argument":{"range":[25344,25347],"loc":{"start":{"line":876,"column":13},"end":{"line":876,"column":16}},"type":"Identifier","name":"out"}}]},"generator":false,"expression":false},"kind":"init","method":false,"shorthand":false,"leadingComments":[{"type":"Line","value":" Simple and shallow extend method, used to extend an object's properties","range":[24582,24656],"loc":{"start":{"line":849,"column":4},"end":{"line":849,"column":78}}},{"type":"Line","value":" with another object's. The `override` parameter defines if the","range":[24661,24726],"loc":{"start":{"line":850,"column":4},"end":{"line":850,"column":69}}},{"type":"Line","value":" source object should be overriden or if this method should return a new","range":[24731,24805],"loc":{"start":{"line":851,"column":4},"end":{"line":851,"column":78}}},{"type":"Line","value":" object (it is *false by default*).","range":[24810,24847],"loc":{"start":{"line":852,"column":4},"end":{"line":852,"column":41}}}]},{"range":[25503,26128],"loc":{"start":{"line":881,"column":4},"end":{"line":900,"column":5}},"type":"Property","key":{"range":[25503,25514],"loc":{"start":{"line":881,"column":4},"end":{"line":881,"column":15}},"type":"Identifier","name":"buildParams"},"computed":false,"value":{"range":[25516,26128],"loc":{"start":{"line":881,"column":17},"end":{"line":900,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[25526,25532],"loc":{"start":{"line":881,"column":27},"end":{"line":881,"column":33}},"type":"Identifier","name":"params"},{"range":[25534,25542],"loc":{"start":{"line":881,"column":35},"end":{"line":881,"column":43}},"type":"Identifier","name":"noEncode"}],"defaults":[],"body":{"range":[25544,26128],"loc":{"start":{"line":881,"column":45},"end":{"line":900,"column":5}},"type":"BlockStatement","body":[{"range":[25552,26122],"loc":{"start":{"line":882,"column":6},"end":{"line":899,"column":7}},"type":"IfStatement","test":{"range":[25555,25576],"loc":{"start":{"line":882,"column":9},"end":{"line":882,"column":30}},"type":"CallExpression","callee":{"range":[25555,25568],"loc":{"start":{"line":882,"column":9},"end":{"line":882,"column":22}},"type":"MemberExpression","computed":false,"object":{"range":[25555,25559],"loc":{"start":{"line":882,"column":9},"end":{"line":882,"column":13}},"type":"ThisExpression"},"property":{"range":[25560,25568],"loc":{"start":{"line":882,"column":14},"end":{"line":882,"column":22}},"type":"Identifier","name":"isObject"}},"arguments":[{"range":[25569,25575],"loc":{"start":{"line":882,"column":23},"end":{"line":882,"column":29}},"type":"Identifier","name":"params"}]},"consequent":{"range":[25577,26084],"loc":{"start":{"line":882,"column":31},"end":{"line":897,"column":7}},"type":"BlockStatement","body":[{"range":[25588,25607],"loc":{"start":{"line":884,"column":8},"end":{"line":884,"column":27}},"type":"VariableDeclaration","declarations":[{"range":[25592,25606],"loc":{"start":{"line":884,"column":12},"end":{"line":884,"column":26}},"type":"VariableDeclarator","id":{"range":[25592,25601],"loc":{"start":{"line":884,"column":12},"end":{"line":884,"column":21}},"type":"Identifier","name":"paramsStr"},"init":{"range":[25604,25606],"loc":{"start":{"line":884,"column":24},"end":{"line":884,"column":26}},"type":"ArrayExpression","elements":[]}}],"kind":"var"},{"range":[25617,25998],"loc":{"start":{"line":886,"column":8},"end":{"line":892,"column":9}},"type":"ForInStatement","left":{"range":[25622,25629],"loc":{"start":{"line":886,"column":13},"end":{"line":886,"column":20}},"type":"VariableDeclaration","declarations":[{"range":[25626,25629],"loc":{"start":{"line":886,"column":17},"end":{"line":886,"column":20}},"type":"VariableDeclarator","id":{"range":[25626,25629],"loc":{"start":{"line":886,"column":17},"end":{"line":886,"column":20}},"type":"Identifier","name":"key"},"init":null}],"kind":"var"},"right":{"range":[25633,25639],"loc":{"start":{"line":886,"column":24},"end":{"line":886,"column":30}},"type":"Identifier","name":"params"},"body":{"range":[25641,25998],"loc":{"start":{"line":886,"column":32},"end":{"line":892,"column":9}},"type":"BlockStatement","body":[{"range":[25653,25988],"loc":{"start":{"line":887,"column":10},"end":{"line":891,"column":11}},"type":"IfStatement","test":{"range":[25657,25712],"loc":{"start":{"line":887,"column":14},"end":{"line":887,"column":69}},"type":"LogicalExpression","operator":"&&","left":{"range":[25657,25683],"loc":{"start":{"line":887,"column":14},"end":{"line":887,"column":40}},"type":"CallExpression","callee":{"range":[25657,25678],"loc":{"start":{"line":887,"column":14},"end":{"line":887,"column":35}},"type":"MemberExpression","computed":false,"object":{"range":[25657,25663],"loc":{"start":{"line":887,"column":14},"end":{"line":887,"column":20}},"type":"Identifier","name":"params"},"property":{"range":[25664,25678],"loc":{"start":{"line":887,"column":21},"end":{"line":887,"column":35}},"type":"Identifier","name":"hasOwnProperty"}},"arguments":[{"range":[25679,25682],"loc":{"start":{"line":887,"column":36},"end":{"line":887,"column":39}},"type":"Identifier","name":"key"}]},"right":{"range":[25687,25712],"loc":{"start":{"line":887,"column":44},"end":{"line":887,"column":69}},"type":"BinaryExpression","operator":"!==","left":{"range":[25687,25698],"loc":{"start":{"line":887,"column":44},"end":{"line":887,"column":55}},"type":"MemberExpression","computed":true,"object":{"range":[25687,25693],"loc":{"start":{"line":887,"column":44},"end":{"line":887,"column":50}},"type":"Identifier","name":"params"},"property":{"range":[25694,25697],"loc":{"start":{"line":887,"column":51},"end":{"line":887,"column":54}},"type":"Identifier","name":"key"}},"right":{"range":[25703,25712],"loc":{"start":{"line":887,"column":60},"end":{"line":887,"column":69}},"type":"Identifier","name":"undefined"}}},"consequent":{"range":[25714,25988],"loc":{"start":{"line":887,"column":71},"end":{"line":891,"column":11}},"type":"BlockStatement","body":[{"range":[25728,25818],"loc":{"start":{"line":888,"column":12},"end":{"line":888,"column":102}},"type":"VariableDeclaration","declarations":[{"range":[25732,25817],"loc":{"start":{"line":888,"column":16},"end":{"line":888,"column":101}},"type":"VariableDeclarator","id":{"range":[25732,25737],"loc":{"start":{"line":888,"column":16},"end":{"line":888,"column":21}},"type":"Identifier","name":"value"},"init":{"range":[25740,25817],"loc":{"start":{"line":888,"column":24},"end":{"line":888,"column":101}},"type":"ConditionalExpression","test":{"range":[25740,25766],"loc":{"start":{"line":888,"column":24},"end":{"line":888,"column":50}},"type":"CallExpression","callee":{"range":[25740,25753],"loc":{"start":{"line":888,"column":24},"end":{"line":888,"column":37}},"type":"MemberExpression","computed":false,"object":{"range":[25740,25744],"loc":{"start":{"line":888,"column":24},"end":{"line":888,"column":28}},"type":"ThisExpression"},"property":{"range":[25745,25753],"loc":{"start":{"line":888,"column":29},"end":{"line":888,"column":37}},"type":"Identifier","name":"isObject"}},"arguments":[{"range":[25754,25765],"loc":{"start":{"line":888,"column":38},"end":{"line":888,"column":49}},"type":"MemberExpression","computed":true,"object":{"range":[25754,25760],"loc":{"start":{"line":888,"column":38},"end":{"line":888,"column":44}},"type":"Identifier","name":"params"},"property":{"range":[25761,25764],"loc":{"start":{"line":888,"column":45},"end":{"line":888,"column":48}},"type":"Identifier","name":"key"}}]},"consequent":{"range":[25768,25803],"loc":{"start":{"line":888,"column":52},"end":{"line":888,"column":87}},"type":"CallExpression","callee":{"range":[25768,25784],"loc":{"start":{"line":888,"column":52},"end":{"line":888,"column":68}},"type":"MemberExpression","computed":false,"object":{"range":[25768,25772],"loc":{"start":{"line":888,"column":52},"end":{"line":888,"column":56}},"type":"ThisExpression"},"property":{"range":[25773,25784],"loc":{"start":{"line":888,"column":57},"end":{"line":888,"column":68}},"type":"Identifier","name":"buildParams"}},"arguments":[{"range":[25785,25796],"loc":{"start":{"line":888,"column":69},"end":{"line":888,"column":80}},"type":"MemberExpression","computed":true,"object":{"range":[25785,25791],"loc":{"start":{"line":888,"column":69},"end":{"line":888,"column":75}},"type":"Identifier","name":"params"},"property":{"range":[25792,25795],"loc":{"start":{"line":888,"column":76},"end":{"line":888,"column":79}},"type":"Identifier","name":"key"}},{"range":[25798,25802],"loc":{"start":{"line":888,"column":82},"end":{"line":888,"column":86}},"type":"Literal","value":true,"raw":"true"}]},"alternate":{"range":[25806,25817],"loc":{"start":{"line":888,"column":90},"end":{"line":888,"column":101}},"type":"MemberExpression","computed":true,"object":{"range":[25806,25812],"loc":{"start":{"line":888,"column":90},"end":{"line":888,"column":96}},"type":"Identifier","name":"params"},"property":{"range":[25813,25816],"loc":{"start":{"line":888,"column":97},"end":{"line":888,"column":100}},"type":"Identifier","name":"key"}}}}],"kind":"var"},{"range":[25831,25976],"loc":{"start":{"line":889,"column":12},"end":{"line":890,"column":86}},"type":"ExpressionStatement","expression":{"range":[25831,25975],"loc":{"start":{"line":889,"column":12},"end":{"line":890,"column":85}},"type":"CallExpression","callee":{"range":[25831,25845],"loc":{"start":{"line":889,"column":12},"end":{"line":889,"column":26}},"type":"MemberExpression","computed":false,"object":{"range":[25831,25840],"loc":{"start":{"line":889,"column":12},"end":{"line":889,"column":21}},"type":"Identifier","name":"paramsStr"},"property":{"range":[25841,25845],"loc":{"start":{"line":889,"column":22},"end":{"line":889,"column":26}},"type":"Identifier","name":"push"}},"arguments":[{"range":[25846,25974],"loc":{"start":{"line":889,"column":27},"end":{"line":890,"column":84}},"type":"BinaryExpression","operator":"+","left":{"range":[25846,25905],"loc":{"start":{"line":889,"column":27},"end":{"line":890,"column":15}},"type":"BinaryExpression","operator":"+","left":{"range":[25847,25886],"loc":{"start":{"line":889,"column":28},"end":{"line":889,"column":67}},"type":"ConditionalExpression","test":{"range":[25847,25855],"loc":{"start":{"line":889,"column":28},"end":{"line":889,"column":36}},"type":"Identifier","name":"noEncode"},"consequent":{"range":[25857,25860],"loc":{"start":{"line":889,"column":38},"end":{"line":889,"column":41}},"type":"Identifier","name":"key"},"alternate":{"range":[25863,25886],"loc":{"start":{"line":889,"column":44},"end":{"line":889,"column":67}},"type":"CallExpression","callee":{"range":[25863,25881],"loc":{"start":{"line":889,"column":44},"end":{"line":889,"column":62}},"type":"Identifier","name":"encodeURIComponent"},"arguments":[{"range":[25882,25885],"loc":{"start":{"line":889,"column":63},"end":{"line":889,"column":66}},"type":"Identifier","name":"key"}]}},"right":{"range":[25902,25905],"loc":{"start":{"line":890,"column":12},"end":{"line":890,"column":15}},"type":"Literal","value":"=","raw":"'='"}},"right":{"range":[25909,25973],"loc":{"start":{"line":890,"column":19},"end":{"line":890,"column":83}},"type":"ConditionalExpression","test":{"range":[25909,25917],"loc":{"start":{"line":890,"column":19},"end":{"line":890,"column":27}},"type":"Identifier","name":"noEncode"},"consequent":{"range":[25919,25945],"loc":{"start":{"line":890,"column":29},"end":{"line":890,"column":55}},"type":"CallExpression","callee":{"range":[25919,25938],"loc":{"start":{"line":890,"column":29},"end":{"line":890,"column":48}},"type":"MemberExpression","computed":false,"object":{"range":[25919,25923],"loc":{"start":{"line":890,"column":29},"end":{"line":890,"column":33}},"type":"ThisExpression"},"property":{"range":[25924,25938],"loc":{"start":{"line":890,"column":34},"end":{"line":890,"column":48}},"type":"Identifier","name":"escapeSpecials"}},"arguments":[{"range":[25939,25944],"loc":{"start":{"line":890,"column":49},"end":{"line":890,"column":54}},"type":"Identifier","name":"value"}]},"alternate":{"range":[25948,25973],"loc":{"start":{"line":890,"column":58},"end":{"line":890,"column":83}},"type":"CallExpression","callee":{"range":[25948,25966],"loc":{"start":{"line":890,"column":58},"end":{"line":890,"column":76}},"type":"Identifier","name":"encodeURIComponent"},"arguments":[{"range":[25967,25972],"loc":{"start":{"line":890,"column":77},"end":{"line":890,"column":82}},"type":"Identifier","name":"value"}]}}}]}}]},"alternate":null}]},"each":false,"trailingComments":[{"type":"Line","value":" Build string from the array.","range":[26008,26039],"loc":{"start":{"line":894,"column":8},"end":{"line":894,"column":39}}}]},{"range":[26048,26075],"loc":{"start":{"line":895,"column":8},"end":{"line":895,"column":35}},"type":"ReturnStatement","argument":{"range":[26055,26074],"loc":{"start":{"line":895,"column":15},"end":{"line":895,"column":34}},"type":"CallExpression","callee":{"range":[26055,26069],"loc":{"start":{"line":895,"column":15},"end":{"line":895,"column":29}},"type":"MemberExpression","computed":false,"object":{"range":[26055,26064],"loc":{"start":{"line":895,"column":15},"end":{"line":895,"column":24}},"type":"Identifier","name":"paramsStr"},"property":{"range":[26065,26069],"loc":{"start":{"line":895,"column":25},"end":{"line":895,"column":29}},"type":"Identifier","name":"join"}},"arguments":[{"range":[26070,26073],"loc":{"start":{"line":895,"column":30},"end":{"line":895,"column":33}},"type":"Literal","value":"&","raw":"'&'"}]},"leadingComments":[{"type":"Line","value":" Build string from the array.","range":[26008,26039],"loc":{"start":{"line":894,"column":8},"end":{"line":894,"column":39}}}]}]},"alternate":{"range":[26090,26122],"loc":{"start":{"line":897,"column":13},"end":{"line":899,"column":7}},"type":"BlockStatement","body":[{"range":[26100,26114],"loc":{"start":{"line":898,"column":8},"end":{"line":898,"column":22}},"type":"ReturnStatement","argument":{"range":[26107,26113],"loc":{"start":{"line":898,"column":15},"end":{"line":898,"column":21}},"type":"Identifier","name":"params"}}]}}]},"generator":false,"expression":false},"kind":"init","method":false,"shorthand":false,"leadingComments":[{"type":"Line","value":" Build URL query string params out of a javascript object.","range":[25361,25421],"loc":{"start":{"line":879,"column":4},"end":{"line":879,"column":64}}},{"type":"Line","value":" Encode key and value components as they are appended to query string.","range":[25426,25498],"loc":{"start":{"line":880,"column":4},"end":{"line":880,"column":76}}}]},{"range":[26203,26448],"loc":{"start":{"line":903,"column":4},"end":{"line":911,"column":5}},"type":"Property","key":{"range":[26203,26211],"loc":{"start":{"line":903,"column":4},"end":{"line":903,"column":12}},"type":"Identifier","name":"buildUrl"},"computed":false,"value":{"range":[26213,26448],"loc":{"start":{"line":903,"column":14},"end":{"line":911,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[26222,26229],"loc":{"start":{"line":903,"column":23},"end":{"line":903,"column":30}},"type":"Identifier","name":"options"}],"defaults":[],"body":{"range":[26230,26448],"loc":{"start":{"line":903,"column":31},"end":{"line":911,"column":5}},"type":"BlockStatement","body":[{"range":[26238,26298],"loc":{"start":{"line":904,"column":6},"end":{"line":904,"column":66}},"type":"VariableDeclaration","declarations":[{"range":[26242,26297],"loc":{"start":{"line":904,"column":10},"end":{"line":904,"column":65}},"type":"VariableDeclarator","id":{"range":[26242,26245],"loc":{"start":{"line":904,"column":10},"end":{"line":904,"column":13}},"type":"Identifier","name":"url"},"init":{"range":[26248,26297],"loc":{"start":{"line":904,"column":16},"end":{"line":904,"column":65}},"type":"BinaryExpression","operator":"+","left":{"range":[26248,26262],"loc":{"start":{"line":904,"column":16},"end":{"line":904,"column":30}},"type":"MemberExpression","computed":false,"object":{"range":[26248,26255],"loc":{"start":{"line":904,"column":16},"end":{"line":904,"column":23}},"type":"Identifier","name":"options"},"property":{"range":[26256,26262],"loc":{"start":{"line":904,"column":24},"end":{"line":904,"column":30}},"type":"Identifier","name":"apiUrl"}},"right":{"range":[26266,26296],"loc":{"start":{"line":904,"column":34},"end":{"line":904,"column":64}},"type":"ConditionalExpression","test":{"range":[26266,26277],"loc":{"start":{"line":904,"column":34},"end":{"line":904,"column":45}},"type":"MemberExpression","computed":false,"object":{"range":[26266,26273],"loc":{"start":{"line":904,"column":34},"end":{"line":904,"column":41}},"type":"Identifier","name":"options"},"property":{"range":[26274,26277],"loc":{"start":{"line":904,"column":42},"end":{"line":904,"column":45}},"type":"Identifier","name":"url"}},"consequent":{"range":[26280,26291],"loc":{"start":{"line":904,"column":48},"end":{"line":904,"column":59}},"type":"MemberExpression","computed":false,"object":{"range":[26280,26287],"loc":{"start":{"line":904,"column":48},"end":{"line":904,"column":55}},"type":"Identifier","name":"options"},"property":{"range":[26288,26291],"loc":{"start":{"line":904,"column":56},"end":{"line":904,"column":59}},"type":"Identifier","name":"url"}},"alternate":{"range":[26294,26296],"loc":{"start":{"line":904,"column":62},"end":{"line":904,"column":64}},"type":"Literal","value":"","raw":"''"}}}}],"kind":"var"},{"range":[26306,26423],"loc":{"start":{"line":906,"column":6},"end":{"line":908,"column":7}},"type":"IfStatement","test":{"range":[26309,26323],"loc":{"start":{"line":906,"column":9},"end":{"line":906,"column":23}},"type":"MemberExpression","computed":false,"object":{"range":[26309,26316],"loc":{"start":{"line":906,"column":9},"end":{"line":906,"column":16}},"type":"Identifier","name":"options"},"property":{"range":[26317,26323],"loc":{"start":{"line":906,"column":17},"end":{"line":906,"column":23}},"type":"Identifier","name":"params"}},"consequent":{"range":[26325,26423],"loc":{"start":{"line":906,"column":25},"end":{"line":908,"column":7}},"type":"BlockStatement","body":[{"range":[26335,26415],"loc":{"start":{"line":907,"column":8},"end":{"line":907,"column":88}},"type":"ExpressionStatement","expression":{"range":[26335,26414],"loc":{"start":{"line":907,"column":8},"end":{"line":907,"column":87}},"type":"AssignmentExpression","operator":"+=","left":{"range":[26335,26338],"loc":{"start":{"line":907,"column":8},"end":{"line":907,"column":11}},"type":"Identifier","name":"url"},"right":{"range":[26342,26414],"loc":{"start":{"line":907,"column":15},"end":{"line":907,"column":87}},"type":"BinaryExpression","operator":"+","left":{"range":[26343,26378],"loc":{"start":{"line":907,"column":16},"end":{"line":907,"column":51}},"type":"ConditionalExpression","test":{"range":[26343,26366],"loc":{"start":{"line":907,"column":16},"end":{"line":907,"column":39}},"type":"BinaryExpression","operator":"===","left":{"range":[26343,26359],"loc":{"start":{"line":907,"column":16},"end":{"line":907,"column":32}},"type":"CallExpression","callee":{"range":[26343,26354],"loc":{"start":{"line":907,"column":16},"end":{"line":907,"column":27}},"type":"MemberExpression","computed":false,"object":{"range":[26343,26346],"loc":{"start":{"line":907,"column":16},"end":{"line":907,"column":19}},"type":"Identifier","name":"url"},"property":{"range":[26347,26354],"loc":{"start":{"line":907,"column":20},"end":{"line":907,"column":27}},"type":"Identifier","name":"indexOf"}},"arguments":[{"range":[26355,26358],"loc":{"start":{"line":907,"column":28},"end":{"line":907,"column":31}},"type":"Literal","value":"?","raw":"'?'"}]},"right":{"range":[26364,26366],"loc":{"start":{"line":907,"column":37},"end":{"line":907,"column":39}},"type":"UnaryExpression","operator":"-","argument":{"range":[26365,26366],"loc":{"start":{"line":907,"column":38},"end":{"line":907,"column":39}},"type":"Literal","value":1,"raw":"1"},"prefix":true}},"consequent":{"range":[26369,26372],"loc":{"start":{"line":907,"column":42},"end":{"line":907,"column":45}},"type":"Literal","value":"?","raw":"'?'"},"alternate":{"range":[26375,26378],"loc":{"start":{"line":907,"column":48},"end":{"line":907,"column":51}},"type":"Literal","value":"&","raw":"'&'"}},"right":{"range":[26382,26414],"loc":{"start":{"line":907,"column":55},"end":{"line":907,"column":87}},"type":"CallExpression","callee":{"range":[26382,26398],"loc":{"start":{"line":907,"column":55},"end":{"line":907,"column":71}},"type":"MemberExpression","computed":false,"object":{"range":[26382,26386],"loc":{"start":{"line":907,"column":55},"end":{"line":907,"column":59}},"type":"ThisExpression"},"property":{"range":[26387,26398],"loc":{"start":{"line":907,"column":60},"end":{"line":907,"column":71}},"type":"Identifier","name":"buildParams"}},"arguments":[{"range":[26399,26413],"loc":{"start":{"line":907,"column":72},"end":{"line":907,"column":86}},"type":"MemberExpression","computed":false,"object":{"range":[26399,26406],"loc":{"start":{"line":907,"column":72},"end":{"line":907,"column":79}},"type":"Identifier","name":"options"},"property":{"range":[26407,26413],"loc":{"start":{"line":907,"column":80},"end":{"line":907,"column":86}},"type":"Identifier","name":"params"}}]}}}}]},"alternate":null},{"range":[26431,26442],"loc":{"start":{"line":910,"column":6},"end":{"line":910,"column":17}},"type":"ReturnStatement","argument":{"range":[26438,26441],"loc":{"start":{"line":910,"column":13},"end":{"line":910,"column":16}},"type":"Identifier","name":"url"}}]},"generator":false,"expression":false},"kind":"init","method":false,"shorthand":false,"leadingComments":[{"type":"Line","value":" Build full URL from a base url and params, if there are any.","range":[26135,26198],"loc":{"start":{"line":902,"column":4},"end":{"line":902,"column":67}}}]},{"range":[26556,27790],"loc":{"start":{"line":915,"column":4},"end":{"line":954,"column":5}},"type":"Property","key":{"range":[26556,26574],"loc":{"start":{"line":915,"column":4},"end":{"line":915,"column":22}},"type":"Identifier","name":"getCurrentPosition"},"computed":false,"value":{"range":[26576,27790],"loc":{"start":{"line":915,"column":24},"end":{"line":954,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[26585,26592],"loc":{"start":{"line":915,"column":33},"end":{"line":915,"column":40}},"type":"Identifier","name":"options"}],"defaults":[],"body":{"range":[26593,27790],"loc":{"start":{"line":915,"column":41},"end":{"line":954,"column":5}},"type":"BlockStatement","body":[{"range":[26601,27784],"loc":{"start":{"line":916,"column":6},"end":{"line":953,"column":7}},"type":"IfStatement","test":{"range":[26605,26666],"loc":{"start":{"line":916,"column":10},"end":{"line":916,"column":71}},"type":"LogicalExpression","operator":"&&","left":{"range":[26605,26634],"loc":{"start":{"line":916,"column":10},"end":{"line":916,"column":39}},"type":"BinaryExpression","operator":"!==","left":{"range":[26605,26618],"loc":{"start":{"line":916,"column":10},"end":{"line":916,"column":23}},"type":"UnaryExpression","operator":"typeof","argument":{"range":[26612,26618],"loc":{"start":{"line":916,"column":17},"end":{"line":916,"column":23}},"type":"Identifier","name":"window"},"prefix":true},"right":{"range":[26623,26634],"loc":{"start":{"line":916,"column":28},"end":{"line":916,"column":39}},"type":"Literal","value":"undefined","raw":"'undefined'"}},"right":{"range":[26638,26666],"loc":{"start":{"line":916,"column":43},"end":{"line":916,"column":71}},"type":"MemberExpression","computed":false,"object":{"range":[26638,26654],"loc":{"start":{"line":916,"column":43},"end":{"line":916,"column":59}},"type":"MemberExpression","computed":false,"object":{"range":[26638,26644],"loc":{"start":{"line":916,"column":43},"end":{"line":916,"column":49}},"type":"Identifier","name":"window"},"property":{"range":[26645,26654],"loc":{"start":{"line":916,"column":50},"end":{"line":916,"column":59}},"type":"Identifier","name":"navigator"}},"property":{"range":[26655,26666],"loc":{"start":{"line":916,"column":60},"end":{"line":916,"column":71}},"type":"Identifier","name":"geolocation"}}},"consequent":{"range":[26668,27626],"loc":{"start":{"line":916,"column":73},"end":{"line":949,"column":7}},"type":"BlockStatement","body":[{"range":[26745,26890],"loc":{"start":{"line":919,"column":8},"end":{"line":923,"column":20}},"type":"VariableDeclaration","declarations":[{"range":[26749,26889],"loc":{"start":{"line":919,"column":12},"end":{"line":923,"column":19}},"type":"VariableDeclarator","id":{"range":[26749,26767],"loc":{"start":{"line":919,"column":12},"end":{"line":919,"column":30}},"type":"Identifier","name":"geolocationOptions"},"init":{"range":[26770,26889],"loc":{"start":{"line":919,"column":33},"end":{"line":923,"column":19}},"type":"CallExpression","callee":{"range":[26770,26781],"loc":{"start":{"line":919,"column":33},"end":{"line":919,"column":44}},"type":"MemberExpression","computed":false,"object":{"range":[26770,26774],"loc":{"start":{"line":919,"column":33},"end":{"line":919,"column":37}},"type":"ThisExpression"},"property":{"range":[26775,26781],"loc":{"start":{"line":919,"column":38},"end":{"line":919,"column":44}},"type":"Identifier","name":"extend"}},"arguments":[{"range":[26782,26879],"loc":{"start":{"line":919,"column":45},"end":{"line":923,"column":9}},"type":"ObjectExpression","properties":[{"range":[26794,26807],"loc":{"start":{"line":920,"column":10},"end":{"line":920,"column":23}},"type":"Property","key":{"range":[26794,26804],"loc":{"start":{"line":920,"column":10},"end":{"line":920,"column":20}},"type":"Identifier","name":"maximumAge"},"computed":false,"value":{"range":[26806,26807],"loc":{"start":{"line":920,"column":22},"end":{"line":920,"column":23}},"type":"Literal","value":0,"raw":"0"},"kind":"init","method":false,"shorthand":false},{"range":[26819,26833],"loc":{"start":{"line":921,"column":10},"end":{"line":921,"column":24}},"type":"Property","key":{"range":[26819,26826],"loc":{"start":{"line":921,"column":10},"end":{"line":921,"column":17}},"type":"Identifier","name":"timeout"},"computed":false,"value":{"range":[26828,26833],"loc":{"start":{"line":921,"column":19},"end":{"line":921,"column":24}},"type":"Literal","value":10000,"raw":"10000"},"kind":"init","method":false,"shorthand":false},{"range":[26845,26869],"loc":{"start":{"line":922,"column":10},"end":{"line":922,"column":34}},"type":"Property","key":{"range":[26845,26863],"loc":{"start":{"line":922,"column":10},"end":{"line":922,"column":28}},"type":"Identifier","name":"enableHighAccuracy"},"computed":false,"value":{"range":[26865,26869],"loc":{"start":{"line":922,"column":30},"end":{"line":922,"column":34}},"type":"Literal","value":true,"raw":"true"},"kind":"init","method":false,"shorthand":false}]},{"range":[26881,26888],"loc":{"start":{"line":923,"column":11},"end":{"line":923,"column":18}},"type":"Identifier","name":"options"}]}}],"kind":"var","leadingComments":[{"type":"Line","value":" Have default options, but allow to extend with custom.","range":[26679,26736],"loc":{"start":{"line":918,"column":8},"end":{"line":918,"column":65}}}]},{"range":[26900,27617],"loc":{"start":{"line":925,"column":8},"end":{"line":947,"column":11}},"type":"ReturnStatement","argument":{"range":[26907,27616],"loc":{"start":{"line":925,"column":15},"end":{"line":947,"column":10}},"type":"NewExpression","callee":{"range":[26911,26918],"loc":{"start":{"line":925,"column":19},"end":{"line":925,"column":26}},"type":"Identifier","name":"Promise"},"arguments":[{"range":[26919,27615],"loc":{"start":{"line":925,"column":27},"end":{"line":947,"column":9}},"type":"FunctionExpression","id":null,"params":[{"range":[26929,26936],"loc":{"start":{"line":925,"column":37},"end":{"line":925,"column":44}},"type":"Identifier","name":"resolve"},{"range":[26938,26944],"loc":{"start":{"line":925,"column":46},"end":{"line":925,"column":52}},"type":"Identifier","name":"reject"}],"defaults":[],"body":{"range":[26946,27615],"loc":{"start":{"line":925,"column":54},"end":{"line":947,"column":9}},"type":"BlockStatement","body":[{"range":[26959,27604],"loc":{"start":{"line":927,"column":10},"end":{"line":945,"column":33}},"type":"ExpressionStatement","expression":{"range":[26959,27603],"loc":{"start":{"line":927,"column":10},"end":{"line":945,"column":32}},"type":"CallExpression","callee":{"range":[26959,27006],"loc":{"start":{"line":927,"column":10},"end":{"line":927,"column":57}},"type":"MemberExpression","computed":false,"object":{"range":[26959,26987],"loc":{"start":{"line":927,"column":10},"end":{"line":927,"column":38}},"type":"MemberExpression","computed":false,"object":{"range":[26959,26975],"loc":{"start":{"line":927,"column":10},"end":{"line":927,"column":26}},"type":"MemberExpression","computed":false,"object":{"range":[26959,26965],"loc":{"start":{"line":927,"column":10},"end":{"line":927,"column":16}},"type":"Identifier","name":"window"},"property":{"range":[26966,26975],"loc":{"start":{"line":927,"column":17},"end":{"line":927,"column":26}},"type":"Identifier","name":"navigator"}},"property":{"range":[26976,26987],"loc":{"start":{"line":927,"column":27},"end":{"line":927,"column":38}},"type":"Identifier","name":"geolocation"}},"property":{"range":[26988,27006],"loc":{"start":{"line":927,"column":39},"end":{"line":927,"column":57}},"type":"Identifier","name":"getCurrentPosition"}},"arguments":[{"range":[27007,27073],"loc":{"start":{"line":927,"column":58},"end":{"line":931,"column":11}},"type":"FunctionExpression","id":null,"params":[{"range":[27017,27025],"loc":{"start":{"line":927,"column":68},"end":{"line":927,"column":76}},"type":"Identifier","name":"position"}],"defaults":[],"body":{"range":[27027,27073],"loc":{"start":{"line":927,"column":78},"end":{"line":931,"column":11}},"type":"BlockStatement","body":[{"range":[27042,27060],"loc":{"start":{"line":929,"column":12},"end":{"line":929,"column":30}},"type":"ExpressionStatement","expression":{"range":[27042,27059],"loc":{"start":{"line":929,"column":12},"end":{"line":929,"column":29}},"type":"CallExpression","callee":{"range":[27042,27049],"loc":{"start":{"line":929,"column":12},"end":{"line":929,"column":19}},"type":"Identifier","name":"resolve"},"arguments":[{"range":[27050,27058],"loc":{"start":{"line":929,"column":20},"end":{"line":929,"column":28}},"type":"Identifier","name":"position"}]}}]},"generator":false,"expression":false},{"range":[27075,27582],"loc":{"start":{"line":931,"column":13},"end":{"line":945,"column":11}},"type":"FunctionExpression","id":null,"params":[{"range":[27085,27088],"loc":{"start":{"line":931,"column":23},"end":{"line":931,"column":26}},"type":"Identifier","name":"err"}],"defaults":[],"body":{"range":[27090,27582],"loc":{"start":{"line":931,"column":28},"end":{"line":945,"column":11}},"type":"BlockStatement","body":[{"range":[27105,27140],"loc":{"start":{"line":933,"column":12},"end":{"line":933,"column":47}},"type":"VariableDeclaration","declarations":[{"range":[27109,27139],"loc":{"start":{"line":933,"column":16},"end":{"line":933,"column":46}},"type":"VariableDeclarator","id":{"range":[27109,27121],"loc":{"start":{"line":933,"column":16},"end":{"line":933,"column":28}},"type":"Identifier","name":"errorMessage"},"init":{"range":[27124,27139],"loc":{"start":{"line":933,"column":31},"end":{"line":933,"column":46}},"type":"Literal","value":"Geolocation: ","raw":"'Geolocation: '"}}],"kind":"var"},{"range":[27153,27535],"loc":{"start":{"line":934,"column":12},"end":{"line":942,"column":13}},"type":"IfStatement","test":{"range":[27156,27170],"loc":{"start":{"line":934,"column":15},"end":{"line":934,"column":29}},"type":"BinaryExpression","operator":"===","left":{"range":[27156,27164],"loc":{"start":{"line":934,"column":15},"end":{"line":934,"column":23}},"type":"MemberExpression","computed":false,"object":{"range":[27156,27159],"loc":{"start":{"line":934,"column":15},"end":{"line":934,"column":18}},"type":"Identifier","name":"err"},"property":{"range":[27160,27164],"loc":{"start":{"line":934,"column":19},"end":{"line":934,"column":23}},"type":"Identifier","name":"code"}},"right":{"range":[27169,27170],"loc":{"start":{"line":934,"column":28},"end":{"line":934,"column":29}},"type":"Literal","value":1,"raw":"1"}},"consequent":{"range":[27172,27252],"loc":{"start":{"line":934,"column":31},"end":{"line":936,"column":13}},"type":"BlockStatement","body":[{"range":[27188,27238],"loc":{"start":{"line":935,"column":14},"end":{"line":935,"column":64}},"type":"ExpressionStatement","expression":{"range":[27188,27237],"loc":{"start":{"line":935,"column":14},"end":{"line":935,"column":63}},"type":"AssignmentExpression","operator":"=","left":{"range":[27188,27200],"loc":{"start":{"line":935,"column":14},"end":{"line":935,"column":26}},"type":"Identifier","name":"errorMessage"},"right":{"range":[27203,27237],"loc":{"start":{"line":935,"column":29},"end":{"line":935,"column":63}},"type":"Literal","value":"You didn't share your location.","raw":"'You didn\\'t share your location.'"}}}]},"alternate":{"range":[27258,27535],"loc":{"start":{"line":936,"column":19},"end":{"line":942,"column":13}},"type":"IfStatement","test":{"range":[27261,27275],"loc":{"start":{"line":936,"column":22},"end":{"line":936,"column":36}},"type":"BinaryExpression","operator":"===","left":{"range":[27261,27269],"loc":{"start":{"line":936,"column":22},"end":{"line":936,"column":30}},"type":"MemberExpression","computed":false,"object":{"range":[27261,27264],"loc":{"start":{"line":936,"column":22},"end":{"line":936,"column":25}},"type":"Identifier","name":"err"},"property":{"range":[27265,27269],"loc":{"start":{"line":936,"column":26},"end":{"line":936,"column":30}},"type":"Identifier","name":"code"}},"right":{"range":[27274,27275],"loc":{"start":{"line":936,"column":35},"end":{"line":936,"column":36}},"type":"Literal","value":2,"raw":"2"}},"consequent":{"range":[27277,27364],"loc":{"start":{"line":936,"column":38},"end":{"line":938,"column":13}},"type":"BlockStatement","body":[{"range":[27293,27350],"loc":{"start":{"line":937,"column":14},"end":{"line":937,"column":71}},"type":"ExpressionStatement","expression":{"range":[27293,27349],"loc":{"start":{"line":937,"column":14},"end":{"line":937,"column":70}},"type":"AssignmentExpression","operator":"=","left":{"range":[27293,27305],"loc":{"start":{"line":937,"column":14},"end":{"line":937,"column":26}},"type":"Identifier","name":"errorMessage"},"right":{"range":[27308,27349],"loc":{"start":{"line":937,"column":29},"end":{"line":937,"column":70}},"type":"Literal","value":"Couldn't detect your current location.","raw":"'Couldn\\'t detect your current location.'"}}}]},"alternate":{"range":[27370,27535],"loc":{"start":{"line":938,"column":19},"end":{"line":942,"column":13}},"type":"IfStatement","test":{"range":[27373,27387],"loc":{"start":{"line":938,"column":22},"end":{"line":938,"column":36}},"type":"BinaryExpression","operator":"===","left":{"range":[27373,27381],"loc":{"start":{"line":938,"column":22},"end":{"line":938,"column":30}},"type":"MemberExpression","computed":false,"object":{"range":[27373,27376],"loc":{"start":{"line":938,"column":22},"end":{"line":938,"column":25}},"type":"Identifier","name":"err"},"property":{"range":[27377,27381],"loc":{"start":{"line":938,"column":26},"end":{"line":938,"column":30}},"type":"Identifier","name":"code"}},"right":{"range":[27386,27387],"loc":{"start":{"line":938,"column":35},"end":{"line":938,"column":36}},"type":"Literal","value":3,"raw":"3"}},"consequent":{"range":[27389,27467],"loc":{"start":{"line":938,"column":38},"end":{"line":940,"column":13}},"type":"BlockStatement","body":[{"range":[27405,27453],"loc":{"start":{"line":939,"column":14},"end":{"line":939,"column":62}},"type":"ExpressionStatement","expression":{"range":[27405,27452],"loc":{"start":{"line":939,"column":14},"end":{"line":939,"column":61}},"type":"AssignmentExpression","operator":"=","left":{"range":[27405,27417],"loc":{"start":{"line":939,"column":14},"end":{"line":939,"column":26}},"type":"Identifier","name":"errorMessage"},"right":{"range":[27420,27452],"loc":{"start":{"line":939,"column":29},"end":{"line":939,"column":61}},"type":"Literal","value":"Retrieving position timed out.","raw":"'Retrieving position timed out.'"}}}]},"alternate":{"range":[27473,27535],"loc":{"start":{"line":940,"column":19},"end":{"line":942,"column":13}},"type":"BlockStatement","body":[{"range":[27489,27521],"loc":{"start":{"line":941,"column":14},"end":{"line":941,"column":46}},"type":"ExpressionStatement","expression":{"range":[27489,27520],"loc":{"start":{"line":941,"column":14},"end":{"line":941,"column":45}},"type":"AssignmentExpression","operator":"=","left":{"range":[27489,27501],"loc":{"start":{"line":941,"column":14},"end":{"line":941,"column":26}},"type":"Identifier","name":"errorMessage"},"right":{"range":[27504,27520],"loc":{"start":{"line":941,"column":29},"end":{"line":941,"column":45}},"type":"Literal","value":"Unknown error.","raw":"'Unknown error.'"}}}]}}}},{"range":[27548,27569],"loc":{"start":{"line":943,"column":12},"end":{"line":943,"column":33}},"type":"ExpressionStatement","expression":{"range":[27548,27568],"loc":{"start":{"line":943,"column":12},"end":{"line":943,"column":32}},"type":"CallExpression","callee":{"range":[27548,27554],"loc":{"start":{"line":943,"column":12},"end":{"line":943,"column":18}},"type":"Identifier","name":"reject"},"arguments":[{"range":[27555,27567],"loc":{"start":{"line":943,"column":19},"end":{"line":943,"column":31}},"type":"Identifier","name":"errorMessage"}]}}]},"generator":false,"expression":false},{"range":[27584,27602],"loc":{"start":{"line":945,"column":13},"end":{"line":945,"column":31}},"type":"Identifier","name":"geolocationOptions"}]}}]},"generator":false,"expression":false}]}}]},"alternate":{"range":[27630,27784],"loc":{"start":{"line":949,"column":11},"end":{"line":953,"column":7}},"type":"BlockStatement","body":[{"range":[27640,27776],"loc":{"start":{"line":950,"column":8},"end":{"line":952,"column":11}},"type":"ReturnStatement","argument":{"range":[27647,27775],"loc":{"start":{"line":950,"column":15},"end":{"line":952,"column":10}},"type":"NewExpression","callee":{"range":[27651,27658],"loc":{"start":{"line":950,"column":19},"end":{"line":950,"column":26}},"type":"Identifier","name":"Promise"},"arguments":[{"range":[27659,27774],"loc":{"start":{"line":950,"column":27},"end":{"line":952,"column":9}},"type":"FunctionExpression","id":null,"params":[{"range":[27669,27676],"loc":{"start":{"line":950,"column":37},"end":{"line":950,"column":44}},"type":"Identifier","name":"resolve"},{"range":[27678,27684],"loc":{"start":{"line":950,"column":46},"end":{"line":950,"column":52}},"type":"Identifier","name":"reject"}],"defaults":[],"body":{"range":[27686,27774],"loc":{"start":{"line":950,"column":54},"end":{"line":952,"column":9}},"type":"BlockStatement","body":[{"range":[27698,27764],"loc":{"start":{"line":951,"column":10},"end":{"line":951,"column":76}},"type":"ExpressionStatement","expression":{"range":[27698,27763],"loc":{"start":{"line":951,"column":10},"end":{"line":951,"column":75}},"type":"CallExpression","callee":{"range":[27698,27704],"loc":{"start":{"line":951,"column":10},"end":{"line":951,"column":16}},"type":"Identifier","name":"reject"},"arguments":[{"range":[27705,27762],"loc":{"start":{"line":951,"column":17},"end":{"line":951,"column":74}},"type":"Literal","value":"Your browser/environment doesn't support geolocation.","raw":"'Your browser\\/environment doesn\\'t support geolocation.'"}]}}]},"generator":false,"expression":false}]}}]}}]},"generator":false,"expression":false},"kind":"init","method":false,"shorthand":false,"leadingComments":[{"type":"Line","value":" Get current position using HTML5 Geolocation and resolve promise","range":[26455,26522],"loc":{"start":{"line":913,"column":4},"end":{"line":913,"column":71}}},{"type":"Line","value":" once it has returned.","range":[26527,26551],"loc":{"start":{"line":914,"column":4},"end":{"line":914,"column":28}}}]},{"range":[27856,28213],"loc":{"start":{"line":957,"column":4},"end":{"line":969,"column":5}},"type":"Property","key":{"range":[27856,27870],"loc":{"start":{"line":957,"column":4},"end":{"line":957,"column":18}},"type":"Identifier","name":"escapeSpecials"},"computed":false,"value":{"range":[27872,28213],"loc":{"start":{"line":957,"column":20},"end":{"line":969,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[27881,27886],"loc":{"start":{"line":957,"column":29},"end":{"line":957,"column":34}},"type":"Identifier","name":"input"}],"defaults":[],"body":{"range":[27888,28213],"loc":{"start":{"line":957,"column":36},"end":{"line":969,"column":5}},"type":"BlockStatement","body":[{"range":[27941,27998],"loc":{"start":{"line":960,"column":6},"end":{"line":960,"column":63}},"type":"VariableDeclaration","declarations":[{"range":[27945,27997],"loc":{"start":{"line":960,"column":10},"end":{"line":960,"column":62}},"type":"VariableDeclarator","id":{"range":[27945,27953],"loc":{"start":{"line":960,"column":10},"end":{"line":960,"column":18}},"type":"Identifier","name":"specials"},"init":{"range":[27956,27997],"loc":{"start":{"line":960,"column":21},"end":{"line":960,"column":62}},"type":"ArrayExpression","elements":[{"range":[27957,27960],"loc":{"start":{"line":960,"column":22},"end":{"line":960,"column":25}},"type":"Literal","value":"&","raw":"'&'"},{"range":[27961,27964],"loc":{"start":{"line":960,"column":26},"end":{"line":960,"column":29}},"type":"Literal","value":"|","raw":"'|'"},{"range":[27965,27968],"loc":{"start":{"line":960,"column":30},"end":{"line":960,"column":33}},"type":"Literal","value":"!","raw":"'!'"},{"range":[27969,27972],"loc":{"start":{"line":960,"column":34},"end":{"line":960,"column":37}},"type":"Literal","value":">","raw":"'>'"},{"range":[27973,27976],"loc":{"start":{"line":960,"column":38},"end":{"line":960,"column":41}},"type":"Literal","value":"<","raw":"'<'"},{"range":[27977,27980],"loc":{"start":{"line":960,"column":42},"end":{"line":960,"column":45}},"type":"Literal","value":"=","raw":"'='"},{"range":[27981,27984],"loc":{"start":{"line":960,"column":46},"end":{"line":960,"column":49}},"type":"Literal","value":"~","raw":"'~'"},{"range":[27985,27988],"loc":{"start":{"line":960,"column":50},"end":{"line":960,"column":53}},"type":"Literal","value":"(","raw":"'('"},{"range":[27989,27992],"loc":{"start":{"line":960,"column":54},"end":{"line":960,"column":57}},"type":"Literal","value":")","raw":"')'"},{"range":[27993,27996],"loc":{"start":{"line":960,"column":58},"end":{"line":960,"column":61}},"type":"Literal","value":",","raw":"','"}]}}],"kind":"var","leadingComments":[{"type":"Line","value":" Specials to be escaped by default.","range":[27897,27934],"loc":{"start":{"line":959,"column":6},"end":{"line":959,"column":43}}}]},{"range":[28006,28075],"loc":{"start":{"line":962,"column":6},"end":{"line":962,"column":75}},"type":"VariableDeclaration","declarations":[{"range":[28010,28074],"loc":{"start":{"line":962,"column":10},"end":{"line":962,"column":74}},"type":"VariableDeclarator","id":{"range":[28010,28023],"loc":{"start":{"line":962,"column":10},"end":{"line":962,"column":23}},"type":"Identifier","name":"specialsRegex"},"init":{"range":[28026,28074],"loc":{"start":{"line":962,"column":26},"end":{"line":962,"column":74}},"type":"NewExpression","callee":{"range":[28030,28036],"loc":{"start":{"line":962,"column":30},"end":{"line":962,"column":36}},"type":"Identifier","name":"RegExp"},"arguments":[{"range":[28037,28068],"loc":{"start":{"line":962,"column":37},"end":{"line":962,"column":68}},"type":"BinaryExpression","operator":"+","left":{"range":[28037,28062],"loc":{"start":{"line":962,"column":37},"end":{"line":962,"column":62}},"type":"BinaryExpression","operator":"+","left":{"range":[28037,28040],"loc":{"start":{"line":962,"column":37},"end":{"line":962,"column":40}},"type":"Literal","value":"[","raw":"'['"},"right":{"range":[28043,28062],"loc":{"start":{"line":962,"column":43},"end":{"line":962,"column":62}},"type":"CallExpression","callee":{"range":[28043,28056],"loc":{"start":{"line":962,"column":43},"end":{"line":962,"column":56}},"type":"MemberExpression","computed":false,"object":{"range":[28043,28051],"loc":{"start":{"line":962,"column":43},"end":{"line":962,"column":51}},"type":"Identifier","name":"specials"},"property":{"range":[28052,28056],"loc":{"start":{"line":962,"column":52},"end":{"line":962,"column":56}},"type":"Identifier","name":"join"}},"arguments":[{"range":[28057,28061],"loc":{"start":{"line":962,"column":57},"end":{"line":962,"column":61}},"type":"Literal","value":"\\","raw":"'\\\\'"}]}},"right":{"range":[28065,28068],"loc":{"start":{"line":962,"column":65},"end":{"line":962,"column":68}},"type":"Literal","value":"]","raw":"']'"}},{"range":[28070,28073],"loc":{"start":{"line":962,"column":70},"end":{"line":962,"column":73}},"type":"Literal","value":"g","raw":"'g'"}]}}],"kind":"var"},{"range":[28083,28186],"loc":{"start":{"line":964,"column":6},"end":{"line":966,"column":7}},"type":"IfStatement","test":{"range":[28087,28121],"loc":{"start":{"line":964,"column":10},"end":{"line":964,"column":44}},"type":"LogicalExpression","operator":"&&","left":{"range":[28087,28092],"loc":{"start":{"line":964,"column":10},"end":{"line":964,"column":15}},"type":"Identifier","name":"input"},"right":{"range":[28096,28121],"loc":{"start":{"line":964,"column":19},"end":{"line":964,"column":44}},"type":"BinaryExpression","operator":"===","left":{"range":[28096,28108],"loc":{"start":{"line":964,"column":19},"end":{"line":964,"column":31}},"type":"UnaryExpression","operator":"typeof","argument":{"range":[28103,28108],"loc":{"start":{"line":964,"column":26},"end":{"line":964,"column":31}},"type":"Identifier","name":"input"},"prefix":true},"right":{"range":[28113,28121],"loc":{"start":{"line":964,"column":36},"end":{"line":964,"column":44}},"type":"Literal","value":"string","raw":"'string'"}}},"consequent":{"range":[28123,28186],"loc":{"start":{"line":964,"column":46},"end":{"line":966,"column":7}},"type":"BlockStatement","body":[{"range":[28133,28178],"loc":{"start":{"line":965,"column":8},"end":{"line":965,"column":53}},"type":"ExpressionStatement","expression":{"range":[28133,28177],"loc":{"start":{"line":965,"column":8},"end":{"line":965,"column":52}},"type":"AssignmentExpression","operator":"=","left":{"range":[28133,28138],"loc":{"start":{"line":965,"column":8},"end":{"line":965,"column":13}},"type":"Identifier","name":"input"},"right":{"range":[28141,28177],"loc":{"start":{"line":965,"column":16},"end":{"line":965,"column":52}},"type":"CallExpression","callee":{"range":[28141,28154],"loc":{"start":{"line":965,"column":16},"end":{"line":965,"column":29}},"type":"MemberExpression","computed":false,"object":{"range":[28141,28146],"loc":{"start":{"line":965,"column":16},"end":{"line":965,"column":21}},"type":"Identifier","name":"input"},"property":{"range":[28147,28154],"loc":{"start":{"line":965,"column":22},"end":{"line":965,"column":29}},"type":"Identifier","name":"replace"}},"arguments":[{"range":[28155,28168],"loc":{"start":{"line":965,"column":30},"end":{"line":965,"column":43}},"type":"Identifier","name":"specialsRegex"},{"range":[28170,28176],"loc":{"start":{"line":965,"column":45},"end":{"line":965,"column":51}},"type":"Literal","value":"\\$&","raw":"'\\\\$&'"}]}}}]},"alternate":null},{"range":[28194,28207],"loc":{"start":{"line":968,"column":6},"end":{"line":968,"column":19}},"type":"ReturnStatement","argument":{"range":[28201,28206],"loc":{"start":{"line":968,"column":13},"end":{"line":968,"column":18}},"type":"Identifier","name":"input"}}]},"generator":false,"expression":false},"kind":"init","method":false,"shorthand":false,"leadingComments":[{"type":"Line","value":" Escape special characters from a string (with \"\\\").","range":[27797,27851],"loc":{"start":{"line":956,"column":4},"end":{"line":956,"column":58}}}]}]}}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" ## UTILS.JS","range":[23591,23605],"loc":{"start":{"line":812,"column":0},"end":{"line":812,"column":14}}},{"type":"Line","value":" **The Utils module provide a set of utility methods used","range":[23607,23666],"loc":{"start":{"line":814,"column":0},"end":{"line":814,"column":59}}},{"type":"Line","value":" across the whole library. For that, it doesn't have any","range":[23667,23725],"loc":{"start":{"line":815,"column":0},"end":{"line":815,"column":58}}},{"type":"Line","value":" dependency.**","range":[23726,23742],"loc":{"start":{"line":816,"column":0},"end":{"line":816,"column":16}}}],"trailingComments":[{"type":"Line","value":" ## CORE.JS","range":[28226,28239],"loc":{"start":{"line":975,"column":0},"end":{"line":975,"column":13}}},{"type":"Line","value":" **The Core module specifies the core EVT module and the client","range":[28241,28306],"loc":{"start":{"line":977,"column":0},"end":{"line":977,"column":65}}},{"type":"Line","value":" default settings. The library is built by adding functionality or","range":[28307,28375],"loc":{"start":{"line":978,"column":0},"end":{"line":978,"column":68}}},{"type":"Line","value":" sub-modules to EVT.**","range":[28376,28400],"loc":{"start":{"line":979,"column":0},"end":{"line":979,"column":24}}}]},{"range":[28402,31483],"loc":{"start":{"line":981,"column":0},"end":{"line":1080,"column":3}},"type":"ExpressionStatement","expression":{"range":[28402,31482],"loc":{"start":{"line":981,"column":0},"end":{"line":1080,"column":2}},"type":"CallExpression","callee":{"range":[28402,28408],"loc":{"start":{"line":981,"column":0},"end":{"line":981,"column":6}},"type":"Identifier","name":"define"},"arguments":[{"range":[28409,28415],"loc":{"start":{"line":981,"column":7},"end":{"line":981,"column":13}},"type":"Literal","value":"core","raw":"'core'"},{"range":[28416,28429],"loc":{"start":{"line":981,"column":14},"end":{"line":983,"column":1}},"type":"ArrayExpression","elements":[{"range":[28420,28427],"loc":{"start":{"line":982,"column":2},"end":{"line":982,"column":9}},"type":"Literal","value":"utils","raw":"'utils'"}]},{"range":[28431,31481],"loc":{"start":{"line":983,"column":3},"end":{"line":1080,"column":1}},"type":"FunctionExpression","id":null,"params":[{"range":[28441,28446],"loc":{"start":{"line":983,"column":13},"end":{"line":983,"column":18}},"type":"Identifier","name":"Utils"}],"defaults":[],"body":{"range":[28448,31481],"loc":{"start":{"line":983,"column":20},"end":{"line":1080,"column":1}},"type":"BlockStatement","body":[{"range":[28452,28465],"loc":{"start":{"line":984,"column":2},"end":{"line":984,"column":15}},"type":"ExpressionStatement","expression":{"range":[28452,28464],"loc":{"start":{"line":984,"column":2},"end":{"line":984,"column":14}},"type":"Literal","value":"use strict","raw":"'use strict'"},"trailingComments":[{"type":"Line","value":" Version is updated from package.json using `grunt-version` on build.","range":[28469,28540],"loc":{"start":{"line":986,"column":2},"end":{"line":986,"column":73}}}]},{"range":[28543,28565],"loc":{"start":{"line":987,"column":2},"end":{"line":987,"column":24}},"type":"VariableDeclaration","declarations":[{"range":[28547,28564],"loc":{"start":{"line":987,"column":6},"end":{"line":987,"column":23}},"type":"VariableDeclarator","id":{"range":[28547,28554],"loc":{"start":{"line":987,"column":6},"end":{"line":987,"column":13}},"type":"Identifier","name":"version"},"init":{"range":[28557,28564],"loc":{"start":{"line":987,"column":16},"end":{"line":987,"column":23}},"type":"Literal","value":"3.3.1","raw":"'3.3.1'"}}],"kind":"var","leadingComments":[{"type":"Line","value":" Version is updated from package.json using `grunt-version` on build.","range":[28469,28540],"loc":{"start":{"line":986,"column":2},"end":{"line":986,"column":73}}}],"trailingComments":[{"type":"Line","value":" Setup default settings:","range":[28570,28596],"loc":{"start":{"line":990,"column":2},"end":{"line":990,"column":28}}},{"type":"Line","value":" - _**apiUrl**: String - change the default API host_","range":[28600,28655],"loc":{"start":{"line":992,"column":2},"end":{"line":992,"column":57}}},{"type":"Line","value":" - _**fullResponse**: Boolean - by default the response of every call if the JSON","range":[28658,28741],"loc":{"start":{"line":993,"column":2},"end":{"line":993,"column":85}}},{"type":"Line","value":" body. However if you need to access the 'status' or 'responseHeaders' in responses","range":[28744,28829],"loc":{"start":{"line":994,"column":2},"end":{"line":994,"column":87}}},{"type":"Line","value":" set this to 'true'. The full response has the structure:_","range":[28832,28892],"loc":{"start":{"line":995,"column":2},"end":{"line":995,"column":62}}},{"type":"Line","value":" ```","range":[28896,28902],"loc":{"start":{"line":997,"column":2},"end":{"line":997,"column":8}}},{"type":"Line","value":"  {","range":[28905,28910],"loc":{"start":{"line":998,"column":2},"end":{"line":998,"column":7}}},{"type":"Line","value":"    data: <JSON data>,","range":[28913,28937],"loc":{"start":{"line":999,"column":2},"end":{"line":999,"column":26}}},{"type":"Line","value":"    headers: <response headers map>","range":[28940,28977],"loc":{"start":{"line":1000,"column":2},"end":{"line":1000,"column":39}}},{"type":"Line","value":"    status: <HTTP status code>","range":[28980,29012],"loc":{"start":{"line":1001,"column":2},"end":{"line":1001,"column":34}}},{"type":"Line","value":"  }","range":[29015,29020],"loc":{"start":{"line":1002,"column":2},"end":{"line":1002,"column":7}}},{"type":"Line","value":" ```","range":[29023,29029],"loc":{"start":{"line":1003,"column":2},"end":{"line":1003,"column":8}}},{"type":"Line","value":" - _**timeout**: Integer - set the request timeout, in ms_","range":[29033,29093],"loc":{"start":{"line":1005,"column":2},"end":{"line":1005,"column":62}}},{"type":"Line","value":" - _**quiet**: Boolean - set to true if you don't want EVT.js to write anything to the console_","range":[29096,29193],"loc":{"start":{"line":1006,"column":2},"end":{"line":1006,"column":99}}},{"type":"Line","value":" - _**geolocation**: Boolean - set to true to ask for Geolocation when needed_","range":[29196,29276],"loc":{"start":{"line":1007,"column":2},"end":{"line":1007,"column":82}}},{"type":"Line","value":" - _**fetchCascade**: Boolean - set to true to automagically fetch nested entities","range":[29279,29363],"loc":{"start":{"line":1008,"column":2},"end":{"line":1008,"column":86}}},{"type":"Line","value":" (e.g. thng.product is an EVT.Entity.Product instead of string id)_","range":[29366,29435],"loc":{"start":{"line":1009,"column":2},"end":{"line":1009,"column":71}}},{"type":"Line","value":" - _**interceptors**: Array - each interceptor implements 'request' and/or 'response' functions","range":[29438,29535],"loc":{"start":{"line":1010,"column":2},"end":{"line":1010,"column":99}}},{"type":"Line","value":" that run before or after each HTTP call:_","range":[29538,29582],"loc":{"start":{"line":1011,"column":2},"end":{"line":1011,"column":46}}},{"type":"Line","value":" ```","range":[29586,29592],"loc":{"start":{"line":1013,"column":2},"end":{"line":1013,"column":8}}},{"type":"Line","value":"  var myInterceptor = {","range":[29595,29620],"loc":{"start":{"line":1014,"column":2},"end":{"line":1014,"column":27}}},{"type":"Line","value":"    request: function(options){","range":[29623,29656],"loc":{"start":{"line":1015,"column":2},"end":{"line":1015,"column":35}}},{"type":"Line","value":"      // do anything with options.data, options.headers, start spinner, etc.","range":[29659,29737],"loc":{"start":{"line":1016,"column":2},"end":{"line":1016,"column":80}}},{"type":"Line","value":"      return options;","range":[29740,29763],"loc":{"start":{"line":1017,"column":2},"end":{"line":1017,"column":25}}},{"type":"Line","value":"    },","range":[29766,29774],"loc":{"start":{"line":1018,"column":2},"end":{"line":1018,"column":10}}},{"type":"Line","value":"    response: function(result){","range":[29777,29810],"loc":{"start":{"line":1019,"column":2},"end":{"line":1019,"column":35}}},{"type":"Line","value":"      // do anything with result, stop spinner, etc. (can return promise)","range":[29813,29888],"loc":{"start":{"line":1020,"column":2},"end":{"line":1020,"column":77}}},{"type":"Line","value":"      return result;","range":[29891,29913],"loc":{"start":{"line":1021,"column":2},"end":{"line":1021,"column":24}}},{"type":"Line","value":"    }","range":[29916,29923],"loc":{"start":{"line":1022,"column":2},"end":{"line":1022,"column":9}}},{"type":"Line","value":"  }","range":[29926,29931],"loc":{"start":{"line":1023,"column":2},"end":{"line":1023,"column":7}}},{"type":"Line","value":" ```","range":[29934,29940],"loc":{"start":{"line":1024,"column":2},"end":{"line":1024,"column":8}}}]},{"range":[29943,30126],"loc":{"start":{"line":1025,"column":2},"end":{"line":1032,"column":4}},"type":"VariableDeclaration","declarations":[{"range":[29947,30125],"loc":{"start":{"line":1025,"column":6},"end":{"line":1032,"column":3}},"type":"VariableDeclarator","id":{"range":[29947,29962],"loc":{"start":{"line":1025,"column":6},"end":{"line":1025,"column":21}},"type":"Identifier","name":"defaultSettings"},"init":{"range":[29965,30125],"loc":{"start":{"line":1025,"column":24},"end":{"line":1032,"column":3}},"type":"ObjectExpression","properties":[{"range":[29971,30005],"loc":{"start":{"line":1026,"column":4},"end":{"line":1026,"column":38}},"type":"Property","key":{"range":[29971,29977],"loc":{"start":{"line":1026,"column":4},"end":{"line":1026,"column":10}},"type":"Identifier","name":"apiUrl"},"computed":false,"value":{"range":[29979,30005],"loc":{"start":{"line":1026,"column":12},"end":{"line":1026,"column":38}},"type":"Literal","value":"https://api.evrythng.com","raw":"'https://api.evrythng.com'"},"kind":"init","method":false,"shorthand":false},{"range":[30011,30030],"loc":{"start":{"line":1027,"column":4},"end":{"line":1027,"column":23}},"type":"Property","key":{"range":[30011,30023],"loc":{"start":{"line":1027,"column":4},"end":{"line":1027,"column":16}},"type":"Identifier","name":"fullResponse"},"computed":false,"value":{"range":[30025,30030],"loc":{"start":{"line":1027,"column":18},"end":{"line":1027,"column":23}},"type":"Literal","value":false,"raw":"false"},"kind":"init","method":false,"shorthand":false},{"range":[30036,30048],"loc":{"start":{"line":1028,"column":4},"end":{"line":1028,"column":16}},"type":"Property","key":{"range":[30036,30041],"loc":{"start":{"line":1028,"column":4},"end":{"line":1028,"column":9}},"type":"Identifier","name":"quiet"},"computed":false,"value":{"range":[30043,30048],"loc":{"start":{"line":1028,"column":11},"end":{"line":1028,"column":16}},"type":"Literal","value":false,"raw":"false"},"kind":"init","method":false,"shorthand":false},{"range":[30054,30071],"loc":{"start":{"line":1029,"column":4},"end":{"line":1029,"column":21}},"type":"Property","key":{"range":[30054,30065],"loc":{"start":{"line":1029,"column":4},"end":{"line":1029,"column":15}},"type":"Identifier","name":"geolocation"},"computed":false,"value":{"range":[30067,30071],"loc":{"start":{"line":1029,"column":17},"end":{"line":1029,"column":21}},"type":"Literal","value":true,"raw":"true"},"kind":"init","method":false,"shorthand":false},{"range":[30077,30093],"loc":{"start":{"line":1030,"column":4},"end":{"line":1030,"column":20}},"type":"Property","key":{"range":[30077,30089],"loc":{"start":{"line":1030,"column":4},"end":{"line":1030,"column":16}},"type":"Identifier","name":"interceptors"},"computed":false,"value":{"range":[30091,30093],"loc":{"start":{"line":1030,"column":18},"end":{"line":1030,"column":20}},"type":"ArrayExpression","elements":[]},"kind":"init","method":false,"shorthand":false,"trailingComments":[{"type":"Block","value":"fetchCascade: false","range":[30098,30121],"loc":{"start":{"line":1031,"column":4},"end":{"line":1031,"column":27}}}]}]}}],"kind":"var","leadingComments":[{"type":"Line","value":" Setup default settings:","range":[28570,28596],"loc":{"start":{"line":990,"column":2},"end":{"line":990,"column":28}}},{"type":"Line","value":" - _**apiUrl**: String - change the default API host_","range":[28600,28655],"loc":{"start":{"line":992,"column":2},"end":{"line":992,"column":57}}},{"type":"Line","value":" - _**fullResponse**: Boolean - by default the response of every call if the JSON","range":[28658,28741],"loc":{"start":{"line":993,"column":2},"end":{"line":993,"column":85}}},{"type":"Line","value":" body. However if you need to access the 'status' or 'responseHeaders' in responses","range":[28744,28829],"loc":{"start":{"line":994,"column":2},"end":{"line":994,"column":87}}},{"type":"Line","value":" set this to 'true'. The full response has the structure:_","range":[28832,28892],"loc":{"start":{"line":995,"column":2},"end":{"line":995,"column":62}}},{"type":"Line","value":" ```","range":[28896,28902],"loc":{"start":{"line":997,"column":2},"end":{"line":997,"column":8}}},{"type":"Line","value":"  {","range":[28905,28910],"loc":{"start":{"line":998,"column":2},"end":{"line":998,"column":7}}},{"type":"Line","value":"    data: <JSON data>,","range":[28913,28937],"loc":{"start":{"line":999,"column":2},"end":{"line":999,"column":26}}},{"type":"Line","value":"    headers: <response headers map>","range":[28940,28977],"loc":{"start":{"line":1000,"column":2},"end":{"line":1000,"column":39}}},{"type":"Line","value":"    status: <HTTP status code>","range":[28980,29012],"loc":{"start":{"line":1001,"column":2},"end":{"line":1001,"column":34}}},{"type":"Line","value":"  }","range":[29015,29020],"loc":{"start":{"line":1002,"column":2},"end":{"line":1002,"column":7}}},{"type":"Line","value":" ```","range":[29023,29029],"loc":{"start":{"line":1003,"column":2},"end":{"line":1003,"column":8}}},{"type":"Line","value":" - _**timeout**: Integer - set the request timeout, in ms_","range":[29033,29093],"loc":{"start":{"line":1005,"column":2},"end":{"line":1005,"column":62}}},{"type":"Line","value":" - _**quiet**: Boolean - set to true if you don't want EVT.js to write anything to the console_","range":[29096,29193],"loc":{"start":{"line":1006,"column":2},"end":{"line":1006,"column":99}}},{"type":"Line","value":" - _**geolocation**: Boolean - set to true to ask for Geolocation when needed_","range":[29196,29276],"loc":{"start":{"line":1007,"column":2},"end":{"line":1007,"column":82}}},{"type":"Line","value":" - _**fetchCascade**: Boolean - set to true to automagically fetch nested entities","range":[29279,29363],"loc":{"start":{"line":1008,"column":2},"end":{"line":1008,"column":86}}},{"type":"Line","value":" (e.g. thng.product is an EVT.Entity.Product instead of string id)_","range":[29366,29435],"loc":{"start":{"line":1009,"column":2},"end":{"line":1009,"column":71}}},{"type":"Line","value":" - _**interceptors**: Array - each interceptor implements 'request' and/or 'response' functions","range":[29438,29535],"loc":{"start":{"line":1010,"column":2},"end":{"line":1010,"column":99}}},{"type":"Line","value":" that run before or after each HTTP call:_","range":[29538,29582],"loc":{"start":{"line":1011,"column":2},"end":{"line":1011,"column":46}}},{"type":"Line","value":" ```","range":[29586,29592],"loc":{"start":{"line":1013,"column":2},"end":{"line":1013,"column":8}}},{"type":"Line","value":"  var myInterceptor = {","range":[29595,29620],"loc":{"start":{"line":1014,"column":2},"end":{"line":1014,"column":27}}},{"type":"Line","value":"    request: function(options){","range":[29623,29656],"loc":{"start":{"line":1015,"column":2},"end":{"line":1015,"column":35}}},{"type":"Line","value":"      // do anything with options.data, options.headers, start spinner, etc.","range":[29659,29737],"loc":{"start":{"line":1016,"column":2},"end":{"line":1016,"column":80}}},{"type":"Line","value":"      return options;","range":[29740,29763],"loc":{"start":{"line":1017,"column":2},"end":{"line":1017,"column":25}}},{"type":"Line","value":"    },","range":[29766,29774],"loc":{"start":{"line":1018,"column":2},"end":{"line":1018,"column":10}}},{"type":"Line","value":"    response: function(result){","range":[29777,29810],"loc":{"start":{"line":1019,"column":2},"end":{"line":1019,"column":35}}},{"type":"Line","value":"      // do anything with result, stop spinner, etc. (can return promise)","range":[29813,29888],"loc":{"start":{"line":1020,"column":2},"end":{"line":1020,"column":77}}},{"type":"Line","value":"      return result;","range":[29891,29913],"loc":{"start":{"line":1021,"column":2},"end":{"line":1021,"column":24}}},{"type":"Line","value":"    }","range":[29916,29923],"loc":{"start":{"line":1022,"column":2},"end":{"line":1022,"column":9}}},{"type":"Line","value":"  }","range":[29926,29931],"loc":{"start":{"line":1023,"column":2},"end":{"line":1023,"column":7}}},{"type":"Line","value":" ```","range":[29934,29940],"loc":{"start":{"line":1024,"column":2},"end":{"line":1024,"column":8}}}],"trailingComments":[{"type":"Line","value":" Module definition and raw API.","range":[30131,30164],"loc":{"start":{"line":1035,"column":2},"end":{"line":1035,"column":35}}}]},{"range":[30167,31463],"loc":{"start":{"line":1036,"column":2},"end":{"line":1076,"column":4}},"type":"VariableDeclaration","declarations":[{"range":[30171,31462],"loc":{"start":{"line":1036,"column":6},"end":{"line":1076,"column":3}},"type":"VariableDeclarator","id":{"range":[30171,30174],"loc":{"start":{"line":1036,"column":6},"end":{"line":1036,"column":9}},"type":"Identifier","name":"EVT"},"init":{"range":[30177,31462],"loc":{"start":{"line":1036,"column":12},"end":{"line":1076,"column":3}},"type":"ObjectExpression","properties":[{"range":[30183,30199],"loc":{"start":{"line":1037,"column":4},"end":{"line":1037,"column":20}},"type":"Property","key":{"range":[30183,30190],"loc":{"start":{"line":1037,"column":4},"end":{"line":1037,"column":11}},"type":"Identifier","name":"version"},"computed":false,"value":{"range":[30192,30199],"loc":{"start":{"line":1037,"column":13},"end":{"line":1037,"column":20}},"type":"Identifier","name":"version"},"kind":"init","method":false,"shorthand":false},{"range":[30206,30231],"loc":{"start":{"line":1039,"column":4},"end":{"line":1039,"column":29}},"type":"Property","key":{"range":[30206,30214],"loc":{"start":{"line":1039,"column":4},"end":{"line":1039,"column":12}},"type":"Identifier","name":"settings"},"computed":false,"value":{"range":[30216,30231],"loc":{"start":{"line":1039,"column":14},"end":{"line":1039,"column":29}},"type":"Identifier","name":"defaultSettings"},"kind":"init","method":false,"shorthand":false},{"range":[30238,30248],"loc":{"start":{"line":1041,"column":4},"end":{"line":1041,"column":14}},"type":"Property","key":{"range":[30238,30244],"loc":{"start":{"line":1041,"column":4},"end":{"line":1041,"column":10}},"type":"Identifier","name":"Entity"},"computed":false,"value":{"range":[30246,30248],"loc":{"start":{"line":1041,"column":12},"end":{"line":1041,"column":14}},"type":"ObjectExpression","properties":[]},"kind":"init","method":false,"shorthand":false},{"range":[30482,30761],"loc":{"start":{"line":1046,"column":4},"end":{"line":1053,"column":5}},"type":"Property","key":{"range":[30482,30487],"loc":{"start":{"line":1046,"column":4},"end":{"line":1046,"column":9}},"type":"Identifier","name":"setup"},"computed":false,"value":{"range":[30489,30761],"loc":{"start":{"line":1046,"column":11},"end":{"line":1053,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[30499,30513],"loc":{"start":{"line":1046,"column":21},"end":{"line":1046,"column":35}},"type":"Identifier","name":"customSettings"}],"defaults":[],"body":{"range":[30515,30761],"loc":{"start":{"line":1046,"column":37},"end":{"line":1053,"column":5}},"type":"BlockStatement","body":[{"range":[30523,30727],"loc":{"start":{"line":1047,"column":6},"end":{"line":1051,"column":7}},"type":"IfStatement","test":{"range":[30526,30556],"loc":{"start":{"line":1047,"column":9},"end":{"line":1047,"column":39}},"type":"CallExpression","callee":{"range":[30526,30540],"loc":{"start":{"line":1047,"column":9},"end":{"line":1047,"column":23}},"type":"MemberExpression","computed":false,"object":{"range":[30526,30531],"loc":{"start":{"line":1047,"column":9},"end":{"line":1047,"column":14}},"type":"Identifier","name":"Utils"},"property":{"range":[30532,30540],"loc":{"start":{"line":1047,"column":15},"end":{"line":1047,"column":23}},"type":"Identifier","name":"isObject"}},"arguments":[{"range":[30541,30555],"loc":{"start":{"line":1047,"column":24},"end":{"line":1047,"column":38}},"type":"Identifier","name":"customSettings"}]},"consequent":{"range":[30557,30635],"loc":{"start":{"line":1047,"column":40},"end":{"line":1049,"column":7}},"type":"BlockStatement","body":[{"range":[30567,30627],"loc":{"start":{"line":1048,"column":8},"end":{"line":1048,"column":68}},"type":"ExpressionStatement","expression":{"range":[30567,30626],"loc":{"start":{"line":1048,"column":8},"end":{"line":1048,"column":67}},"type":"AssignmentExpression","operator":"=","left":{"range":[30567,30580],"loc":{"start":{"line":1048,"column":8},"end":{"line":1048,"column":21}},"type":"MemberExpression","computed":false,"object":{"range":[30567,30571],"loc":{"start":{"line":1048,"column":8},"end":{"line":1048,"column":12}},"type":"ThisExpression"},"property":{"range":[30572,30580],"loc":{"start":{"line":1048,"column":13},"end":{"line":1048,"column":21}},"type":"Identifier","name":"settings"}},"right":{"range":[30583,30626],"loc":{"start":{"line":1048,"column":24},"end":{"line":1048,"column":67}},"type":"CallExpression","callee":{"range":[30583,30595],"loc":{"start":{"line":1048,"column":24},"end":{"line":1048,"column":36}},"type":"MemberExpression","computed":false,"object":{"range":[30583,30588],"loc":{"start":{"line":1048,"column":24},"end":{"line":1048,"column":29}},"type":"Identifier","name":"Utils"},"property":{"range":[30589,30595],"loc":{"start":{"line":1048,"column":30},"end":{"line":1048,"column":36}},"type":"Identifier","name":"extend"}},"arguments":[{"range":[30596,30609],"loc":{"start":{"line":1048,"column":37},"end":{"line":1048,"column":50}},"type":"MemberExpression","computed":false,"object":{"range":[30596,30600],"loc":{"start":{"line":1048,"column":37},"end":{"line":1048,"column":41}},"type":"ThisExpression"},"property":{"range":[30601,30609],"loc":{"start":{"line":1048,"column":42},"end":{"line":1048,"column":50}},"type":"Identifier","name":"settings"}},{"range":[30611,30625],"loc":{"start":{"line":1048,"column":52},"end":{"line":1048,"column":66}},"type":"Identifier","name":"customSettings"}]}}}]},"alternate":{"range":[30639,30727],"loc":{"start":{"line":1049,"column":11},"end":{"line":1051,"column":7}},"type":"BlockStatement","body":[{"range":[30649,30719],"loc":{"start":{"line":1050,"column":8},"end":{"line":1050,"column":78}},"type":"ThrowStatement","argument":{"range":[30655,30718],"loc":{"start":{"line":1050,"column":14},"end":{"line":1050,"column":77}},"type":"NewExpression","callee":{"range":[30659,30668],"loc":{"start":{"line":1050,"column":18},"end":{"line":1050,"column":27}},"type":"Identifier","name":"TypeError"},"arguments":[{"range":[30669,30717],"loc":{"start":{"line":1050,"column":28},"end":{"line":1050,"column":76}},"type":"Literal","value":"Setup should be called with an options object.","raw":"'Setup should be called with an options object.'"}]}}]}},{"range":[30734,30755],"loc":{"start":{"line":1052,"column":6},"end":{"line":1052,"column":27}},"type":"ReturnStatement","argument":{"range":[30741,30754],"loc":{"start":{"line":1052,"column":13},"end":{"line":1052,"column":26}},"type":"MemberExpression","computed":false,"object":{"range":[30741,30745],"loc":{"start":{"line":1052,"column":13},"end":{"line":1052,"column":17}},"type":"ThisExpression"},"property":{"range":[30746,30754],"loc":{"start":{"line":1052,"column":18},"end":{"line":1052,"column":26}},"type":"Identifier","name":"settings"}}}]},"generator":false,"expression":false},"kind":"init","method":false,"shorthand":false,"leadingComments":[{"type":"Line","value":" Setup method allows the developer to change overall settings for every","range":[30255,30328],"loc":{"start":{"line":1043,"column":4},"end":{"line":1043,"column":77}}},{"type":"Line","value":" subsequent request. However, these can be overridden for each request as well.","range":[30333,30414],"loc":{"start":{"line":1044,"column":4},"end":{"line":1044,"column":85}}},{"type":"Line","value":" Setup merges current settings with the new custom ones.","range":[30419,30477],"loc":{"start":{"line":1045,"column":4},"end":{"line":1045,"column":62}}}]},{"range":[30856,31458],"loc":{"start":{"line":1057,"column":4},"end":{"line":1075,"column":5}},"type":"Property","key":{"range":[30856,30859],"loc":{"start":{"line":1057,"column":4},"end":{"line":1057,"column":7}},"type":"Identifier","name":"use"},"computed":false,"value":{"range":[30861,31458],"loc":{"start":{"line":1057,"column":9},"end":{"line":1075,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[30871,30877],"loc":{"start":{"line":1057,"column":19},"end":{"line":1057,"column":25}},"type":"Identifier","name":"plugin"},{"range":[30879,30887],"loc":{"start":{"line":1057,"column":27},"end":{"line":1057,"column":35}},"type":"Identifier","name":"callback"}],"defaults":[],"body":{"range":[30888,31458],"loc":{"start":{"line":1057,"column":36},"end":{"line":1075,"column":5}},"type":"BlockStatement","body":[{"range":[30896,31452],"loc":{"start":{"line":1058,"column":6},"end":{"line":1074,"column":7}},"type":"IfStatement","test":{"range":[30900,30958],"loc":{"start":{"line":1058,"column":10},"end":{"line":1058,"column":68}},"type":"LogicalExpression","operator":"&&","left":{"range":[30900,30922],"loc":{"start":{"line":1058,"column":10},"end":{"line":1058,"column":32}},"type":"CallExpression","callee":{"range":[30900,30914],"loc":{"start":{"line":1058,"column":10},"end":{"line":1058,"column":24}},"type":"MemberExpression","computed":false,"object":{"range":[30900,30905],"loc":{"start":{"line":1058,"column":10},"end":{"line":1058,"column":15}},"type":"Identifier","name":"Utils"},"property":{"range":[30906,30914],"loc":{"start":{"line":1058,"column":16},"end":{"line":1058,"column":24}},"type":"Identifier","name":"isObject"}},"arguments":[{"range":[30915,30921],"loc":{"start":{"line":1058,"column":25},"end":{"line":1058,"column":31}},"type":"Identifier","name":"plugin"}]},"right":{"range":[30926,30958],"loc":{"start":{"line":1058,"column":36},"end":{"line":1058,"column":68}},"type":"CallExpression","callee":{"range":[30926,30942],"loc":{"start":{"line":1058,"column":36},"end":{"line":1058,"column":52}},"type":"MemberExpression","computed":false,"object":{"range":[30926,30931],"loc":{"start":{"line":1058,"column":36},"end":{"line":1058,"column":41}},"type":"Identifier","name":"Utils"},"property":{"range":[30932,30942],"loc":{"start":{"line":1058,"column":42},"end":{"line":1058,"column":52}},"type":"Identifier","name":"isFunction"}},"arguments":[{"range":[30943,30957],"loc":{"start":{"line":1058,"column":53},"end":{"line":1058,"column":67}},"type":"MemberExpression","computed":false,"object":{"range":[30943,30949],"loc":{"start":{"line":1058,"column":53},"end":{"line":1058,"column":59}},"type":"Identifier","name":"plugin"},"property":{"range":[30950,30957],"loc":{"start":{"line":1058,"column":60},"end":{"line":1058,"column":67}},"type":"Identifier","name":"install"}}]}},"consequent":{"range":[30960,31361],"loc":{"start":{"line":1058,"column":70},"end":{"line":1072,"column":7}},"type":"BlockStatement","body":[{"range":[30970,30991],"loc":{"start":{"line":1059,"column":8},"end":{"line":1059,"column":29}},"type":"VariableDeclaration","declarations":[{"range":[30974,30990],"loc":{"start":{"line":1059,"column":12},"end":{"line":1059,"column":28}},"type":"VariableDeclarator","id":{"range":[30974,30985],"loc":{"start":{"line":1059,"column":12},"end":{"line":1059,"column":23}},"type":"Identifier","name":"installArgs"},"init":{"range":[30988,30990],"loc":{"start":{"line":1059,"column":26},"end":{"line":1059,"column":28}},"type":"ArrayExpression","elements":[]}}],"kind":"var","trailingComments":[{"type":"Line","value":" Inject plugin dependencies as requested, using the synchronous","range":[31001,31066],"loc":{"start":{"line":1061,"column":8},"end":{"line":1061,"column":73}}},{"type":"Line","value":" require API for Require.js and Almond.js.","range":[31075,31119],"loc":{"start":{"line":1062,"column":8},"end":{"line":1062,"column":52}}}]},{"range":[31128,31279],"loc":{"start":{"line":1063,"column":8},"end":{"line":1067,"column":9}},"type":"IfStatement","test":{"range":[31131,31145],"loc":{"start":{"line":1063,"column":11},"end":{"line":1063,"column":25}},"type":"MemberExpression","computed":false,"object":{"range":[31131,31137],"loc":{"start":{"line":1063,"column":11},"end":{"line":1063,"column":17}},"type":"Identifier","name":"plugin"},"property":{"range":[31138,31145],"loc":{"start":{"line":1063,"column":18},"end":{"line":1063,"column":25}},"type":"Identifier","name":"$inject"}},"consequent":{"range":[31146,31279],"loc":{"start":{"line":1063,"column":26},"end":{"line":1067,"column":9}},"type":"BlockStatement","body":[{"range":[31158,31269],"loc":{"start":{"line":1064,"column":10},"end":{"line":1066,"column":13}},"type":"ExpressionStatement","expression":{"range":[31158,31268],"loc":{"start":{"line":1064,"column":10},"end":{"line":1066,"column":12}},"type":"CallExpression","callee":{"range":[31158,31180],"loc":{"start":{"line":1064,"column":10},"end":{"line":1064,"column":32}},"type":"MemberExpression","computed":false,"object":{"range":[31158,31172],"loc":{"start":{"line":1064,"column":10},"end":{"line":1064,"column":24}},"type":"MemberExpression","computed":false,"object":{"range":[31158,31164],"loc":{"start":{"line":1064,"column":10},"end":{"line":1064,"column":16}},"type":"Identifier","name":"plugin"},"property":{"range":[31165,31172],"loc":{"start":{"line":1064,"column":17},"end":{"line":1064,"column":24}},"type":"Identifier","name":"$inject"}},"property":{"range":[31173,31180],"loc":{"start":{"line":1064,"column":25},"end":{"line":1064,"column":32}},"type":"Identifier","name":"forEach"}},"arguments":[{"range":[31181,31267],"loc":{"start":{"line":1064,"column":33},"end":{"line":1066,"column":11}},"type":"FunctionExpression","id":null,"params":[{"range":[31191,31201],"loc":{"start":{"line":1064,"column":43},"end":{"line":1064,"column":53}},"type":"Identifier","name":"dependency"}],"defaults":[],"body":{"range":[31203,31267],"loc":{"start":{"line":1064,"column":55},"end":{"line":1066,"column":11}},"type":"BlockStatement","body":[{"range":[31217,31255],"loc":{"start":{"line":1065,"column":12},"end":{"line":1065,"column":50}},"type":"ExpressionStatement","expression":{"range":[31217,31254],"loc":{"start":{"line":1065,"column":12},"end":{"line":1065,"column":49}},"type":"CallExpression","callee":{"range":[31217,31233],"loc":{"start":{"line":1065,"column":12},"end":{"line":1065,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[31217,31228],"loc":{"start":{"line":1065,"column":12},"end":{"line":1065,"column":23}},"type":"Identifier","name":"installArgs"},"property":{"range":[31229,31233],"loc":{"start":{"line":1065,"column":24},"end":{"line":1065,"column":28}},"type":"Identifier","name":"push"}},"arguments":[{"range":[31234,31253],"loc":{"start":{"line":1065,"column":29},"end":{"line":1065,"column":48}},"type":"CallExpression","callee":{"range":[31234,31241],"loc":{"start":{"line":1065,"column":29},"end":{"line":1065,"column":36}},"type":"Identifier","name":"require"},"arguments":[{"range":[31242,31252],"loc":{"start":{"line":1065,"column":37},"end":{"line":1065,"column":47}},"type":"Identifier","name":"dependency"}]}]}}]},"generator":false,"expression":false}]}}]},"alternate":null,"leadingComments":[{"type":"Line","value":" Inject plugin dependencies as requested, using the synchronous","range":[31001,31066],"loc":{"start":{"line":1061,"column":8},"end":{"line":1061,"column":73}}},{"type":"Line","value":" require API for Require.js and Almond.js.","range":[31075,31119],"loc":{"start":{"line":1062,"column":8},"end":{"line":1062,"column":52}}}]},{"range":[31289,31331],"loc":{"start":{"line":1069,"column":8},"end":{"line":1069,"column":50}},"type":"ExpressionStatement","expression":{"range":[31289,31330],"loc":{"start":{"line":1069,"column":8},"end":{"line":1069,"column":49}},"type":"CallExpression","callee":{"range":[31289,31309],"loc":{"start":{"line":1069,"column":8},"end":{"line":1069,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[31289,31303],"loc":{"start":{"line":1069,"column":8},"end":{"line":1069,"column":22}},"type":"MemberExpression","computed":false,"object":{"range":[31289,31295],"loc":{"start":{"line":1069,"column":8},"end":{"line":1069,"column":14}},"type":"Identifier","name":"plugin"},"property":{"range":[31296,31303],"loc":{"start":{"line":1069,"column":15},"end":{"line":1069,"column":22}},"type":"Identifier","name":"install"}},"property":{"range":[31304,31309],"loc":{"start":{"line":1069,"column":23},"end":{"line":1069,"column":28}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[31310,31316],"loc":{"start":{"line":1069,"column":29},"end":{"line":1069,"column":35}},"type":"Identifier","name":"plugin"},{"range":[31318,31329],"loc":{"start":{"line":1069,"column":37},"end":{"line":1069,"column":48}},"type":"Identifier","name":"installArgs"}]}},{"range":[31341,31353],"loc":{"start":{"line":1071,"column":8},"end":{"line":1071,"column":20}},"type":"ReturnStatement","argument":{"range":[31348,31352],"loc":{"start":{"line":1071,"column":15},"end":{"line":1071,"column":19}},"type":"ThisExpression"}}]},"alternate":{"range":[31367,31452],"loc":{"start":{"line":1072,"column":13},"end":{"line":1074,"column":7}},"type":"BlockStatement","body":[{"range":[31377,31444],"loc":{"start":{"line":1073,"column":8},"end":{"line":1073,"column":75}},"type":"ThrowStatement","argument":{"range":[31383,31443],"loc":{"start":{"line":1073,"column":14},"end":{"line":1073,"column":74}},"type":"NewExpression","callee":{"range":[31387,31396],"loc":{"start":{"line":1073,"column":18},"end":{"line":1073,"column":27}},"type":"Identifier","name":"TypeError"},"arguments":[{"range":[31397,31442],"loc":{"start":{"line":1073,"column":28},"end":{"line":1073,"column":73}},"type":"Literal","value":"Plugin must implement 'install()' method.","raw":"'Plugin must implement \\'install()\\' method.'"}]}}]}}]},"generator":false,"expression":false},"kind":"init","method":false,"shorthand":false,"leadingComments":[{"type":"Line","value":" Use the passed plugin features by requiring its dependencies and installing it.","range":[30769,30851],"loc":{"start":{"line":1056,"column":4},"end":{"line":1056,"column":86}}}]}]}}],"kind":"var","leadingComments":[{"type":"Block","value":"fetchCascade: false","range":[30098,30121],"loc":{"start":{"line":1031,"column":4},"end":{"line":1031,"column":27}}},{"type":"Line","value":" Module definition and raw API.","range":[30131,30164],"loc":{"start":{"line":1035,"column":2},"end":{"line":1035,"column":35}}}]},{"range":[31467,31478],"loc":{"start":{"line":1078,"column":2},"end":{"line":1078,"column":13}},"type":"ReturnStatement","argument":{"range":[31474,31477],"loc":{"start":{"line":1078,"column":9},"end":{"line":1078,"column":12}},"type":"Identifier","name":"EVT"}}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" ## CORE.JS","range":[28226,28239],"loc":{"start":{"line":975,"column":0},"end":{"line":975,"column":13}}},{"type":"Line","value":" **The Core module specifies the core EVT module and the client","range":[28241,28306],"loc":{"start":{"line":977,"column":0},"end":{"line":977,"column":65}}},{"type":"Line","value":" default settings. The library is built by adding functionality or","range":[28307,28375],"loc":{"start":{"line":978,"column":0},"end":{"line":978,"column":68}}},{"type":"Line","value":" sub-modules to EVT.**","range":[28376,28400],"loc":{"start":{"line":979,"column":0},"end":{"line":979,"column":24}}}],"trailingComments":[{"type":"Line","value":" ## SCOPE.JS","range":[31485,31499],"loc":{"start":{"line":1082,"column":0},"end":{"line":1082,"column":14}}},{"type":"Line","value":" **Scope defines the context in which API calls are made.","range":[31501,31560],"loc":{"start":{"line":1084,"column":0},"end":{"line":1084,"column":59}}},{"type":"Line","value":" Thus, it stores its defining API Key. Scopes send their","range":[31561,31619],"loc":{"start":{"line":1085,"column":0},"end":{"line":1085,"column":58}}},{"type":"Line","value":" respective `API Key` in their request's `Authorization` header.**","range":[31620,31688],"loc":{"start":{"line":1086,"column":0},"end":{"line":1086,"column":68}}},{"type":"Line","value":" *For example, reads on products using ApplicationScope or","range":[31690,31750],"loc":{"start":{"line":1088,"column":0},"end":{"line":1088,"column":60}}},{"type":"Line","value":" EVT.App only return the products created for that specific","range":[31751,31812],"loc":{"start":{"line":1089,"column":0},"end":{"line":1089,"column":61}}},{"type":"Line","value":" application/scope.*","range":[31813,31835],"loc":{"start":{"line":1090,"column":0},"end":{"line":1090,"column":22}}}]},{"range":[31837,32384],"loc":{"start":{"line":1092,"column":0},"end":{"line":1116,"column":3}},"type":"ExpressionStatement","expression":{"range":[31837,32383],"loc":{"start":{"line":1092,"column":0},"end":{"line":1116,"column":2}},"type":"CallExpression","callee":{"range":[31837,31843],"loc":{"start":{"line":1092,"column":0},"end":{"line":1092,"column":6}},"type":"Identifier","name":"define"},"arguments":[{"range":[31844,31857],"loc":{"start":{"line":1092,"column":7},"end":{"line":1092,"column":20}},"type":"Literal","value":"scope/scope","raw":"'scope/scope'"},{"range":[31858,31871],"loc":{"start":{"line":1092,"column":21},"end":{"line":1094,"column":1}},"type":"ArrayExpression","elements":[{"range":[31862,31869],"loc":{"start":{"line":1093,"column":2},"end":{"line":1093,"column":9}},"type":"Literal","value":"utils","raw":"'utils'"}]},{"range":[31873,32382],"loc":{"start":{"line":1094,"column":3},"end":{"line":1116,"column":1}},"type":"FunctionExpression","id":null,"params":[{"range":[31883,31888],"loc":{"start":{"line":1094,"column":13},"end":{"line":1094,"column":18}},"type":"Identifier","name":"Utils"}],"defaults":[],"body":{"range":[31890,32382],"loc":{"start":{"line":1094,"column":20},"end":{"line":1116,"column":1}},"type":"BlockStatement","body":[{"range":[31894,31907],"loc":{"start":{"line":1095,"column":2},"end":{"line":1095,"column":15}},"type":"ExpressionStatement","expression":{"range":[31894,31906],"loc":{"start":{"line":1095,"column":2},"end":{"line":1095,"column":14}},"type":"Literal","value":"use strict","raw":"'use strict'"},"trailingComments":[{"type":"Line","value":" Scope super class constructor:","range":[31911,31944],"loc":{"start":{"line":1097,"column":2},"end":{"line":1097,"column":35}}},{"type":"Line","value":" - _**new Scope(apiKey)** - API Key string_","range":[31948,31993],"loc":{"start":{"line":1099,"column":2},"end":{"line":1099,"column":47}}}]},{"range":[31996,32327],"loc":{"start":{"line":1100,"column":2},"end":{"line":1111,"column":4}},"type":"VariableDeclaration","declarations":[{"range":[32000,32326],"loc":{"start":{"line":1100,"column":6},"end":{"line":1111,"column":3}},"type":"VariableDeclarator","id":{"range":[32000,32005],"loc":{"start":{"line":1100,"column":6},"end":{"line":1100,"column":11}},"type":"Identifier","name":"Scope"},"init":{"range":[32008,32326],"loc":{"start":{"line":1100,"column":14},"end":{"line":1111,"column":3}},"type":"FunctionExpression","id":null,"params":[{"range":[32017,32023],"loc":{"start":{"line":1100,"column":23},"end":{"line":1100,"column":29}},"type":"Identifier","name":"apiKey"}],"defaults":[],"body":{"range":[32024,32326],"loc":{"start":{"line":1100,"column":30},"end":{"line":1111,"column":3}},"type":"BlockStatement","body":[{"range":[32081,32105],"loc":{"start":{"line":1103,"column":4},"end":{"line":1103,"column":28}},"type":"ExpressionStatement","expression":{"range":[32081,32104],"loc":{"start":{"line":1103,"column":4},"end":{"line":1103,"column":27}},"type":"AssignmentExpression","operator":"=","left":{"range":[32081,32097],"loc":{"start":{"line":1103,"column":4},"end":{"line":1103,"column":20}},"type":"MemberExpression","computed":false,"object":{"range":[32081,32085],"loc":{"start":{"line":1103,"column":4},"end":{"line":1103,"column":8}},"type":"ThisExpression"},"property":{"range":[32086,32097],"loc":{"start":{"line":1103,"column":9},"end":{"line":1103,"column":20}},"type":"Identifier","name":"parentScope"}},"right":{"range":[32100,32104],"loc":{"start":{"line":1103,"column":23},"end":{"line":1103,"column":27}},"type":"Literal","value":null,"raw":"null"}},"leadingComments":[{"type":"Line","value":" Default parent scope does not have parent.","range":[32031,32076],"loc":{"start":{"line":1102,"column":4},"end":{"line":1102,"column":49}}}],"trailingComments":[{"type":"Line","value":" Setup apiKey of the current Scope if it is a String.","range":[32111,32166],"loc":{"start":{"line":1105,"column":4},"end":{"line":1105,"column":59}}}]},{"range":[32171,32322],"loc":{"start":{"line":1106,"column":4},"end":{"line":1110,"column":5}},"type":"IfStatement","test":{"range":[32174,32196],"loc":{"start":{"line":1106,"column":7},"end":{"line":1106,"column":29}},"type":"CallExpression","callee":{"range":[32174,32188],"loc":{"start":{"line":1106,"column":7},"end":{"line":1106,"column":21}},"type":"MemberExpression","computed":false,"object":{"range":[32174,32179],"loc":{"start":{"line":1106,"column":7},"end":{"line":1106,"column":12}},"type":"Identifier","name":"Utils"},"property":{"range":[32180,32188],"loc":{"start":{"line":1106,"column":13},"end":{"line":1106,"column":21}},"type":"Identifier","name":"isString"}},"arguments":[{"range":[32189,32195],"loc":{"start":{"line":1106,"column":22},"end":{"line":1106,"column":28}},"type":"Identifier","name":"apiKey"}]},"consequent":{"range":[32197,32232],"loc":{"start":{"line":1106,"column":30},"end":{"line":1108,"column":5}},"type":"BlockStatement","body":[{"range":[32205,32226],"loc":{"start":{"line":1107,"column":6},"end":{"line":1107,"column":27}},"type":"ExpressionStatement","expression":{"range":[32205,32225],"loc":{"start":{"line":1107,"column":6},"end":{"line":1107,"column":26}},"type":"AssignmentExpression","operator":"=","left":{"range":[32205,32216],"loc":{"start":{"line":1107,"column":6},"end":{"line":1107,"column":17}},"type":"MemberExpression","computed":false,"object":{"range":[32205,32209],"loc":{"start":{"line":1107,"column":6},"end":{"line":1107,"column":10}},"type":"ThisExpression"},"property":{"range":[32210,32216],"loc":{"start":{"line":1107,"column":11},"end":{"line":1107,"column":17}},"type":"Identifier","name":"apiKey"}},"right":{"range":[32219,32225],"loc":{"start":{"line":1107,"column":20},"end":{"line":1107,"column":26}},"type":"Identifier","name":"apiKey"}}}]},"alternate":{"range":[32236,32322],"loc":{"start":{"line":1108,"column":9},"end":{"line":1110,"column":5}},"type":"BlockStatement","body":[{"range":[32244,32316],"loc":{"start":{"line":1109,"column":6},"end":{"line":1109,"column":78}},"type":"ThrowStatement","argument":{"range":[32250,32315],"loc":{"start":{"line":1109,"column":12},"end":{"line":1109,"column":77}},"type":"NewExpression","callee":{"range":[32254,32263],"loc":{"start":{"line":1109,"column":16},"end":{"line":1109,"column":25}},"type":"Identifier","name":"TypeError"},"arguments":[{"range":[32264,32314],"loc":{"start":{"line":1109,"column":26},"end":{"line":1109,"column":76}},"type":"Literal","value":"Scope constructor should be called with API Key.","raw":"'Scope constructor should be called with API Key.'"}]}}]},"leadingComments":[{"type":"Line","value":" Setup apiKey of the current Scope if it is a String.","range":[32111,32166],"loc":{"start":{"line":1105,"column":4},"end":{"line":1105,"column":59}}}]}]},"generator":false,"expression":false}}],"kind":"var","leadingComments":[{"type":"Line","value":" Scope super class constructor:","range":[31911,31944],"loc":{"start":{"line":1097,"column":2},"end":{"line":1097,"column":35}}},{"type":"Line","value":" - _**new Scope(apiKey)** - API Key string_","range":[31948,31993],"loc":{"start":{"line":1099,"column":2},"end":{"line":1099,"column":47}}}],"trailingComments":[{"type":"Line","value":" Return Scope factory function","range":[32331,32363],"loc":{"start":{"line":1113,"column":2},"end":{"line":1113,"column":34}}}]},{"range":[32366,32379],"loc":{"start":{"line":1114,"column":2},"end":{"line":1114,"column":15}},"type":"ReturnStatement","argument":{"range":[32373,32378],"loc":{"start":{"line":1114,"column":9},"end":{"line":1114,"column":14}},"type":"Identifier","name":"Scope"},"leadingComments":[{"type":"Line","value":" Return Scope factory function","range":[32331,32363],"loc":{"start":{"line":1113,"column":2},"end":{"line":1113,"column":34}}}]}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" ## SCOPE.JS","range":[31485,31499],"loc":{"start":{"line":1082,"column":0},"end":{"line":1082,"column":14}}},{"type":"Line","value":" **Scope defines the context in which API calls are made.","range":[31501,31560],"loc":{"start":{"line":1084,"column":0},"end":{"line":1084,"column":59}}},{"type":"Line","value":" Thus, it stores its defining API Key. Scopes send their","range":[31561,31619],"loc":{"start":{"line":1085,"column":0},"end":{"line":1085,"column":58}}},{"type":"Line","value":" respective `API Key` in their request's `Authorization` header.**","range":[31620,31688],"loc":{"start":{"line":1086,"column":0},"end":{"line":1086,"column":68}}},{"type":"Line","value":" *For example, reads on products using ApplicationScope or","range":[31690,31750],"loc":{"start":{"line":1088,"column":0},"end":{"line":1088,"column":60}}},{"type":"Line","value":" EVT.App only return the products created for that specific","range":[31751,31812],"loc":{"start":{"line":1089,"column":0},"end":{"line":1089,"column":61}}},{"type":"Line","value":" application/scope.*","range":[31813,31835],"loc":{"start":{"line":1090,"column":0},"end":{"line":1090,"column":22}}}],"trailingComments":[{"type":"Line","value":" ## LOGGER.JS","range":[32386,32401],"loc":{"start":{"line":1118,"column":0},"end":{"line":1118,"column":15}}},{"type":"Line","value":" **The Logger module is simple wrapper for console log","range":[32403,32459],"loc":{"start":{"line":1120,"column":0},"end":{"line":1120,"column":56}}},{"type":"Line","value":" that prefixes EvrythngJS's logs with a custom header.**","range":[32460,32518],"loc":{"start":{"line":1121,"column":0},"end":{"line":1121,"column":58}}}]},{"range":[32520,32898],"loc":{"start":{"line":1123,"column":0},"end":{"line":1146,"column":3}},"type":"ExpressionStatement","expression":{"range":[32520,32897],"loc":{"start":{"line":1123,"column":0},"end":{"line":1146,"column":2}},"type":"CallExpression","callee":{"range":[32520,32526],"loc":{"start":{"line":1123,"column":0},"end":{"line":1123,"column":6}},"type":"Identifier","name":"define"},"arguments":[{"range":[32527,32535],"loc":{"start":{"line":1123,"column":7},"end":{"line":1123,"column":15}},"type":"Literal","value":"logger","raw":"'logger'"},{"range":[32536,32547],"loc":{"start":{"line":1123,"column":16},"end":{"line":1124,"column":9}},"type":"ArrayExpression","elements":[{"range":[32540,32546],"loc":{"start":{"line":1124,"column":2},"end":{"line":1124,"column":8}},"type":"Literal","value":"core","raw":"'core'"}]},{"range":[32551,32896],"loc":{"start":{"line":1125,"column":2},"end":{"line":1146,"column":1}},"type":"FunctionExpression","id":null,"params":[{"range":[32561,32564],"loc":{"start":{"line":1125,"column":12},"end":{"line":1125,"column":15}},"type":"Identifier","name":"EVT"}],"defaults":[],"body":{"range":[32566,32896],"loc":{"start":{"line":1125,"column":17},"end":{"line":1146,"column":1}},"type":"BlockStatement","body":[{"range":[32570,32583],"loc":{"start":{"line":1126,"column":2},"end":{"line":1126,"column":15}},"type":"ExpressionStatement","expression":{"range":[32570,32582],"loc":{"start":{"line":1126,"column":2},"end":{"line":1126,"column":14}},"type":"Literal","value":"use strict","raw":"'use strict'"}},{"range":[32587,32613],"loc":{"start":{"line":1128,"column":2},"end":{"line":1128,"column":28}},"type":"VariableDeclaration","declarations":[{"range":[32591,32612],"loc":{"start":{"line":1128,"column":6},"end":{"line":1128,"column":27}},"type":"VariableDeclarator","id":{"range":[32591,32597],"loc":{"start":{"line":1128,"column":6},"end":{"line":1128,"column":12}},"type":"Identifier","name":"header"},"init":{"range":[32600,32612],"loc":{"start":{"line":1128,"column":15},"end":{"line":1128,"column":27}},"type":"Literal","value":"EvrythngJS","raw":"'EvrythngJS'"}}],"kind":"var"},{"range":[32617,32893],"loc":{"start":{"line":1130,"column":2},"end":{"line":1144,"column":4}},"type":"ReturnStatement","argument":{"range":[32624,32892],"loc":{"start":{"line":1130,"column":9},"end":{"line":1144,"column":3}},"type":"ObjectExpression","properties":[{"range":[32631,32757],"loc":{"start":{"line":1132,"column":4},"end":{"line":1136,"column":5}},"type":"Property","key":{"range":[32631,32636],"loc":{"start":{"line":1132,"column":4},"end":{"line":1132,"column":9}},"type":"Identifier","name":"error"},"computed":false,"value":{"range":[32638,32757],"loc":{"start":{"line":1132,"column":11},"end":{"line":1136,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[32647,32651],"loc":{"start":{"line":1132,"column":20},"end":{"line":1132,"column":24}},"type":"Identifier","name":"data"}],"defaults":[],"body":{"range":[32652,32757],"loc":{"start":{"line":1132,"column":25},"end":{"line":1136,"column":5}},"type":"BlockStatement","body":[{"range":[32660,32751],"loc":{"start":{"line":1133,"column":6},"end":{"line":1135,"column":7}},"type":"IfStatement","test":{"range":[32664,32692],"loc":{"start":{"line":1133,"column":10},"end":{"line":1133,"column":38}},"type":"BinaryExpression","operator":"===","left":{"range":[32664,32682],"loc":{"start":{"line":1133,"column":10},"end":{"line":1133,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[32664,32676],"loc":{"start":{"line":1133,"column":10},"end":{"line":1133,"column":22}},"type":"MemberExpression","computed":false,"object":{"range":[32664,32667],"loc":{"start":{"line":1133,"column":10},"end":{"line":1133,"column":13}},"type":"Identifier","name":"EVT"},"property":{"range":[32668,32676],"loc":{"start":{"line":1133,"column":14},"end":{"line":1133,"column":22}},"type":"Identifier","name":"settings"}},"property":{"range":[32677,32682],"loc":{"start":{"line":1133,"column":23},"end":{"line":1133,"column":28}},"type":"Identifier","name":"quiet"}},"right":{"range":[32687,32692],"loc":{"start":{"line":1133,"column":33},"end":{"line":1133,"column":38}},"type":"Literal","value":false,"raw":"false"}},"consequent":{"range":[32693,32751],"loc":{"start":{"line":1133,"column":39},"end":{"line":1135,"column":7}},"type":"BlockStatement","body":[{"range":[32703,32743],"loc":{"start":{"line":1134,"column":8},"end":{"line":1134,"column":48}},"type":"ExpressionStatement","expression":{"range":[32703,32742],"loc":{"start":{"line":1134,"column":8},"end":{"line":1134,"column":47}},"type":"CallExpression","callee":{"range":[32703,32716],"loc":{"start":{"line":1134,"column":8},"end":{"line":1134,"column":21}},"type":"MemberExpression","computed":false,"object":{"range":[32703,32710],"loc":{"start":{"line":1134,"column":8},"end":{"line":1134,"column":15}},"type":"Identifier","name":"console"},"property":{"range":[32711,32716],"loc":{"start":{"line":1134,"column":16},"end":{"line":1134,"column":21}},"type":"Identifier","name":"error"}},"arguments":[{"range":[32717,32735],"loc":{"start":{"line":1134,"column":22},"end":{"line":1134,"column":40}},"type":"BinaryExpression","operator":"+","left":{"range":[32717,32723],"loc":{"start":{"line":1134,"column":22},"end":{"line":1134,"column":28}},"type":"Identifier","name":"header"},"right":{"range":[32726,32735],"loc":{"start":{"line":1134,"column":31},"end":{"line":1134,"column":40}},"type":"Literal","value":" Error:","raw":"' Error:'"}},{"range":[32737,32741],"loc":{"start":{"line":1134,"column":42},"end":{"line":1134,"column":46}},"type":"Identifier","name":"data"}]}}]},"alternate":null}]},"generator":false,"expression":false},"kind":"init","method":false,"shorthand":false},{"range":[32764,32887],"loc":{"start":{"line":1138,"column":4},"end":{"line":1142,"column":5}},"type":"Property","key":{"range":[32764,32768],"loc":{"start":{"line":1138,"column":4},"end":{"line":1138,"column":8}},"type":"Identifier","name":"info"},"computed":false,"value":{"range":[32770,32887],"loc":{"start":{"line":1138,"column":10},"end":{"line":1142,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[32779,32783],"loc":{"start":{"line":1138,"column":19},"end":{"line":1138,"column":23}},"type":"Identifier","name":"data"}],"defaults":[],"body":{"range":[32784,32887],"loc":{"start":{"line":1138,"column":24},"end":{"line":1142,"column":5}},"type":"BlockStatement","body":[{"range":[32792,32881],"loc":{"start":{"line":1139,"column":6},"end":{"line":1141,"column":7}},"type":"IfStatement","test":{"range":[32796,32824],"loc":{"start":{"line":1139,"column":10},"end":{"line":1139,"column":38}},"type":"BinaryExpression","operator":"===","left":{"range":[32796,32814],"loc":{"start":{"line":1139,"column":10},"end":{"line":1139,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[32796,32808],"loc":{"start":{"line":1139,"column":10},"end":{"line":1139,"column":22}},"type":"MemberExpression","computed":false,"object":{"range":[32796,32799],"loc":{"start":{"line":1139,"column":10},"end":{"line":1139,"column":13}},"type":"Identifier","name":"EVT"},"property":{"range":[32800,32808],"loc":{"start":{"line":1139,"column":14},"end":{"line":1139,"column":22}},"type":"Identifier","name":"settings"}},"property":{"range":[32809,32814],"loc":{"start":{"line":1139,"column":23},"end":{"line":1139,"column":28}},"type":"Identifier","name":"quiet"}},"right":{"range":[32819,32824],"loc":{"start":{"line":1139,"column":33},"end":{"line":1139,"column":38}},"type":"Literal","value":false,"raw":"false"}},"consequent":{"range":[32825,32881],"loc":{"start":{"line":1139,"column":39},"end":{"line":1141,"column":7}},"type":"BlockStatement","body":[{"range":[32835,32873],"loc":{"start":{"line":1140,"column":8},"end":{"line":1140,"column":46}},"type":"ExpressionStatement","expression":{"range":[32835,32872],"loc":{"start":{"line":1140,"column":8},"end":{"line":1140,"column":45}},"type":"CallExpression","callee":{"range":[32835,32847],"loc":{"start":{"line":1140,"column":8},"end":{"line":1140,"column":20}},"type":"MemberExpression","computed":false,"object":{"range":[32835,32842],"loc":{"start":{"line":1140,"column":8},"end":{"line":1140,"column":15}},"type":"Identifier","name":"console"},"property":{"range":[32843,32847],"loc":{"start":{"line":1140,"column":16},"end":{"line":1140,"column":20}},"type":"Identifier","name":"info"}},"arguments":[{"range":[32848,32865],"loc":{"start":{"line":1140,"column":21},"end":{"line":1140,"column":38}},"type":"BinaryExpression","operator":"+","left":{"range":[32848,32854],"loc":{"start":{"line":1140,"column":21},"end":{"line":1140,"column":27}},"type":"Identifier","name":"header"},"right":{"range":[32857,32865],"loc":{"start":{"line":1140,"column":30},"end":{"line":1140,"column":38}},"type":"Literal","value":" Info:","raw":"' Info:'"}},{"range":[32867,32871],"loc":{"start":{"line":1140,"column":40},"end":{"line":1140,"column":44}},"type":"Identifier","name":"data"}]}}]},"alternate":null}]},"generator":false,"expression":false},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" ## LOGGER.JS","range":[32386,32401],"loc":{"start":{"line":1118,"column":0},"end":{"line":1118,"column":15}}},{"type":"Line","value":" **The Logger module is simple wrapper for console log","range":[32403,32459],"loc":{"start":{"line":1120,"column":0},"end":{"line":1120,"column":56}}},{"type":"Line","value":" that prefixes EvrythngJS's logs with a custom header.**","range":[32460,32518],"loc":{"start":{"line":1121,"column":0},"end":{"line":1121,"column":58}}}],"trailingComments":[{"type":"Line","value":" ## REQUEST.JS","range":[32900,32916],"loc":{"start":{"line":1148,"column":0},"end":{"line":1148,"column":16}}}]},{"range":[32918,35994],"loc":{"start":{"line":1150,"column":0},"end":{"line":1267,"column":3}},"type":"ExpressionStatement","expression":{"range":[32918,35993],"loc":{"start":{"line":1150,"column":0},"end":{"line":1267,"column":2}},"type":"CallExpression","callee":{"range":[32918,32924],"loc":{"start":{"line":1150,"column":0},"end":{"line":1150,"column":6}},"type":"Identifier","name":"define"},"arguments":[{"range":[32925,32942],"loc":{"start":{"line":1150,"column":7},"end":{"line":1150,"column":24}},"type":"Literal","value":"network/request","raw":"'network/request'"},{"range":[32943,32985],"loc":{"start":{"line":1150,"column":25},"end":{"line":1154,"column":1}},"type":"ArrayExpression","elements":[{"range":[32947,32956],"loc":{"start":{"line":1151,"column":2},"end":{"line":1151,"column":11}},"type":"Literal","value":"../core","raw":"'../core'"},{"range":[32960,32969],"loc":{"start":{"line":1152,"column":2},"end":{"line":1152,"column":11}},"type":"Literal","value":"promise","raw":"'promise'"},{"range":[32973,32983],"loc":{"start":{"line":1153,"column":2},"end":{"line":1153,"column":12}},"type":"Literal","value":"../utils","raw":"'../utils'"}]},{"range":[32987,35992],"loc":{"start":{"line":1154,"column":3},"end":{"line":1267,"column":1}},"type":"FunctionExpression","id":null,"params":[{"range":[32997,33000],"loc":{"start":{"line":1154,"column":13},"end":{"line":1154,"column":16}},"type":"Identifier","name":"EVT"},{"range":[33002,33009],"loc":{"start":{"line":1154,"column":18},"end":{"line":1154,"column":25}},"type":"Identifier","name":"Promise"},{"range":[33011,33016],"loc":{"start":{"line":1154,"column":27},"end":{"line":1154,"column":32}},"type":"Identifier","name":"Utils"}],"defaults":[],"body":{"range":[33018,35992],"loc":{"start":{"line":1154,"column":34},"end":{"line":1267,"column":1}},"type":"BlockStatement","body":[{"range":[33022,33035],"loc":{"start":{"line":1155,"column":2},"end":{"line":1155,"column":15}},"type":"ExpressionStatement","expression":{"range":[33022,33034],"loc":{"start":{"line":1155,"column":2},"end":{"line":1155,"column":14}},"type":"Literal","value":"use strict","raw":"'use strict'"},"trailingComments":[{"type":"Line","value":" Helper method used to build the returned response. It wraps the 'status' and 'headers' in an object in","range":[33039,33144],"loc":{"start":{"line":1157,"column":2},"end":{"line":1157,"column":107}}},{"type":"Line","value":" case the flag `fullResponse` is enabled as a global in `EVT.settings` or in this particular request.","range":[33147,33250],"loc":{"start":{"line":1158,"column":2},"end":{"line":1158,"column":105}}},{"type":"Line","value":" *200 OK* responses without data, return *null*.","range":[33253,33303],"loc":{"start":{"line":1159,"column":2},"end":{"line":1159,"column":52}}}]},{"range":[33306,34014],"loc":{"start":{"line":1160,"column":2},"end":{"line":1188,"column":3}},"type":"FunctionDeclaration","id":{"range":[33315,33329],"loc":{"start":{"line":1160,"column":11},"end":{"line":1160,"column":25}},"type":"Identifier","name":"_buildResponse"},"params":[{"range":[33330,33333],"loc":{"start":{"line":1160,"column":26},"end":{"line":1160,"column":29}},"type":"Identifier","name":"res"},{"range":[33335,33347],"loc":{"start":{"line":1160,"column":31},"end":{"line":1160,"column":43}},"type":"Identifier","name":"fullResponse"}],"defaults":[],"body":{"range":[33349,34014],"loc":{"start":{"line":1160,"column":45},"end":{"line":1188,"column":3}},"type":"BlockStatement","body":[{"range":[33355,33418],"loc":{"start":{"line":1161,"column":4},"end":{"line":1162,"column":36}},"type":"VariableDeclaration","declarations":[{"range":[33359,33380],"loc":{"start":{"line":1161,"column":8},"end":{"line":1161,"column":29}},"type":"VariableDeclarator","id":{"range":[33359,33366],"loc":{"start":{"line":1161,"column":8},"end":{"line":1161,"column":15}},"type":"Identifier","name":"headers"},"init":{"range":[33369,33380],"loc":{"start":{"line":1161,"column":18},"end":{"line":1161,"column":29}},"type":"MemberExpression","computed":false,"object":{"range":[33369,33372],"loc":{"start":{"line":1161,"column":18},"end":{"line":1161,"column":21}},"type":"Identifier","name":"res"},"property":{"range":[33373,33380],"loc":{"start":{"line":1161,"column":22},"end":{"line":1161,"column":29}},"type":"Identifier","name":"headers"}}},{"range":[33390,33417],"loc":{"start":{"line":1162,"column":8},"end":{"line":1162,"column":35}},"type":"VariableDeclarator","id":{"range":[33390,33398],"loc":{"start":{"line":1162,"column":8},"end":{"line":1162,"column":16}},"type":"Identifier","name":"response"},"init":{"range":[33401,33417],"loc":{"start":{"line":1162,"column":19},"end":{"line":1162,"column":35}},"type":"LogicalExpression","operator":"||","left":{"range":[33401,33409],"loc":{"start":{"line":1162,"column":19},"end":{"line":1162,"column":27}},"type":"MemberExpression","computed":false,"object":{"range":[33401,33404],"loc":{"start":{"line":1162,"column":19},"end":{"line":1162,"column":22}},"type":"Identifier","name":"res"},"property":{"range":[33405,33409],"loc":{"start":{"line":1162,"column":23},"end":{"line":1162,"column":27}},"type":"Identifier","name":"body"}},"right":{"range":[33413,33417],"loc":{"start":{"line":1162,"column":31},"end":{"line":1162,"column":35}},"type":"Literal","value":null,"raw":"null"}}}],"kind":"var"},{"range":[33424,33647],"loc":{"start":{"line":1164,"column":4},"end":{"line":1171,"column":5}},"type":"IfStatement","test":{"range":[33428,33436],"loc":{"start":{"line":1164,"column":8},"end":{"line":1164,"column":16}},"type":"Identifier","name":"response"},"consequent":{"range":[33438,33647],"loc":{"start":{"line":1164,"column":18},"end":{"line":1171,"column":5}},"type":"BlockStatement","body":[{"range":[33446,33641],"loc":{"start":{"line":1165,"column":6},"end":{"line":1170,"column":7}},"type":"IfStatement","test":{"range":[33450,33496],"loc":{"start":{"line":1165,"column":10},"end":{"line":1165,"column":56}},"type":"BinaryExpression","operator":"===","left":{"range":[33450,33473],"loc":{"start":{"line":1165,"column":10},"end":{"line":1165,"column":33}},"type":"MemberExpression","computed":true,"object":{"range":[33450,33457],"loc":{"start":{"line":1165,"column":10},"end":{"line":1165,"column":17}},"type":"Identifier","name":"headers"},"property":{"range":[33458,33472],"loc":{"start":{"line":1165,"column":18},"end":{"line":1165,"column":32}},"type":"Literal","value":"content-type","raw":"'content-type'"}},"right":{"range":[33478,33496],"loc":{"start":{"line":1165,"column":38},"end":{"line":1165,"column":56}},"type":"Literal","value":"application/json","raw":"'application/json'"}},"consequent":{"range":[33497,33641],"loc":{"start":{"line":1165,"column":57},"end":{"line":1170,"column":7}},"type":"BlockStatement","body":[{"range":[33563,33633],"loc":{"start":{"line":1167,"column":8},"end":{"line":1169,"column":21}},"type":"TryStatement","block":{"range":[33567,33621],"loc":{"start":{"line":1167,"column":12},"end":{"line":1169,"column":9}},"type":"BlockStatement","body":[{"range":[33579,33611],"loc":{"start":{"line":1168,"column":10},"end":{"line":1168,"column":42}},"type":"ExpressionStatement","expression":{"range":[33579,33610],"loc":{"start":{"line":1168,"column":10},"end":{"line":1168,"column":41}},"type":"AssignmentExpression","operator":"=","left":{"range":[33579,33587],"loc":{"start":{"line":1168,"column":10},"end":{"line":1168,"column":18}},"type":"Identifier","name":"response"},"right":{"range":[33590,33610],"loc":{"start":{"line":1168,"column":21},"end":{"line":1168,"column":41}},"type":"CallExpression","callee":{"range":[33590,33600],"loc":{"start":{"line":1168,"column":21},"end":{"line":1168,"column":31}},"type":"MemberExpression","computed":false,"object":{"range":[33590,33594],"loc":{"start":{"line":1168,"column":21},"end":{"line":1168,"column":25}},"type":"Identifier","name":"JSON"},"property":{"range":[33595,33600],"loc":{"start":{"line":1168,"column":26},"end":{"line":1168,"column":31}},"type":"Identifier","name":"parse"}},"arguments":[{"range":[33601,33609],"loc":{"start":{"line":1168,"column":32},"end":{"line":1168,"column":40}},"type":"Identifier","name":"response"}]}}}]},"guardedHandlers":[],"handlers":[{"range":[33622,33633],"loc":{"start":{"line":1169,"column":10},"end":{"line":1169,"column":21}},"type":"CatchClause","param":{"range":[33628,33629],"loc":{"start":{"line":1169,"column":16},"end":{"line":1169,"column":17}},"type":"Identifier","name":"e"},"body":{"range":[33631,33633],"loc":{"start":{"line":1169,"column":19},"end":{"line":1169,"column":21}},"type":"BlockStatement","body":[]}}],"handler":{"range":[33622,33633],"loc":{"start":{"line":1169,"column":10},"end":{"line":1169,"column":21}},"type":"CatchClause","param":{"range":[33628,33629],"loc":{"start":{"line":1169,"column":16},"end":{"line":1169,"column":17}},"type":"Identifier","name":"e"},"body":{"range":[33631,33633],"loc":{"start":{"line":1169,"column":19},"end":{"line":1169,"column":21}},"type":"BlockStatement","body":[]}},"finalizer":null,"leadingComments":[{"type":"Line","value":" try to parse the response if looks like json","range":[33507,33554],"loc":{"start":{"line":1166,"column":8},"end":{"line":1166,"column":55}}}]}]},"alternate":null}]},"alternate":null},{"range":[33653,33988],"loc":{"start":{"line":1173,"column":4},"end":{"line":1185,"column":5}},"type":"IfStatement","test":{"range":[33657,33669],"loc":{"start":{"line":1173,"column":8},"end":{"line":1173,"column":20}},"type":"Identifier","name":"fullResponse"},"consequent":{"range":[33671,33988],"loc":{"start":{"line":1173,"column":22},"end":{"line":1185,"column":5}},"type":"BlockStatement","body":[{"range":[33679,33781],"loc":{"start":{"line":1174,"column":6},"end":{"line":1178,"column":8}},"type":"ExpressionStatement","expression":{"range":[33679,33780],"loc":{"start":{"line":1174,"column":6},"end":{"line":1178,"column":7}},"type":"AssignmentExpression","operator":"=","left":{"range":[33679,33687],"loc":{"start":{"line":1174,"column":6},"end":{"line":1174,"column":14}},"type":"Identifier","name":"response"},"right":{"range":[33690,33780],"loc":{"start":{"line":1174,"column":17},"end":{"line":1178,"column":7}},"type":"ObjectExpression","properties":[{"range":[33700,33714],"loc":{"start":{"line":1175,"column":8},"end":{"line":1175,"column":22}},"type":"Property","key":{"range":[33700,33704],"loc":{"start":{"line":1175,"column":8},"end":{"line":1175,"column":12}},"type":"Identifier","name":"data"},"computed":false,"value":{"range":[33706,33714],"loc":{"start":{"line":1175,"column":14},"end":{"line":1175,"column":22}},"type":"Identifier","name":"response"},"kind":"init","method":false,"shorthand":false},{"range":[33724,33740],"loc":{"start":{"line":1176,"column":8},"end":{"line":1176,"column":24}},"type":"Property","key":{"range":[33724,33731],"loc":{"start":{"line":1176,"column":8},"end":{"line":1176,"column":15}},"type":"Identifier","name":"headers"},"computed":false,"value":{"range":[33733,33740],"loc":{"start":{"line":1176,"column":17},"end":{"line":1176,"column":24}},"type":"Identifier","name":"headers"},"kind":"init","method":false,"shorthand":false},{"range":[33750,33772],"loc":{"start":{"line":1177,"column":8},"end":{"line":1177,"column":30}},"type":"Property","key":{"range":[33750,33756],"loc":{"start":{"line":1177,"column":8},"end":{"line":1177,"column":14}},"type":"Identifier","name":"status"},"computed":false,"value":{"range":[33758,33772],"loc":{"start":{"line":1177,"column":16},"end":{"line":1177,"column":30}},"type":"MemberExpression","computed":false,"object":{"range":[33758,33761],"loc":{"start":{"line":1177,"column":16},"end":{"line":1177,"column":19}},"type":"Identifier","name":"res"},"property":{"range":[33762,33772],"loc":{"start":{"line":1177,"column":20},"end":{"line":1177,"column":30}},"type":"Identifier","name":"statusCode"}},"kind":"init","method":false,"shorthand":false}]}},"trailingComments":[{"type":"Line","value":" If any errors received, pull them to top level","range":[33789,33838],"loc":{"start":{"line":1180,"column":6},"end":{"line":1180,"column":55}}}]},{"range":[33845,33982],"loc":{"start":{"line":1181,"column":6},"end":{"line":1184,"column":7}},"type":"IfStatement","test":{"range":[33849,33886],"loc":{"start":{"line":1181,"column":10},"end":{"line":1181,"column":47}},"type":"LogicalExpression","operator":"&&","left":{"range":[33849,33862],"loc":{"start":{"line":1181,"column":10},"end":{"line":1181,"column":23}},"type":"MemberExpression","computed":false,"object":{"range":[33849,33857],"loc":{"start":{"line":1181,"column":10},"end":{"line":1181,"column":18}},"type":"Identifier","name":"response"},"property":{"range":[33858,33862],"loc":{"start":{"line":1181,"column":19},"end":{"line":1181,"column":23}},"type":"Identifier","name":"data"}},"right":{"range":[33866,33886],"loc":{"start":{"line":1181,"column":27},"end":{"line":1181,"column":47}},"type":"MemberExpression","computed":false,"object":{"range":[33866,33879],"loc":{"start":{"line":1181,"column":27},"end":{"line":1181,"column":40}},"type":"MemberExpression","computed":false,"object":{"range":[33866,33874],"loc":{"start":{"line":1181,"column":27},"end":{"line":1181,"column":35}},"type":"Identifier","name":"response"},"property":{"range":[33875,33879],"loc":{"start":{"line":1181,"column":36},"end":{"line":1181,"column":40}},"type":"Identifier","name":"data"}},"property":{"range":[33880,33886],"loc":{"start":{"line":1181,"column":41},"end":{"line":1181,"column":47}},"type":"Identifier","name":"errors"}}},"consequent":{"range":[33888,33982],"loc":{"start":{"line":1181,"column":49},"end":{"line":1184,"column":7}},"type":"BlockStatement","body":[{"range":[33898,33937],"loc":{"start":{"line":1182,"column":8},"end":{"line":1182,"column":47}},"type":"ExpressionStatement","expression":{"range":[33898,33936],"loc":{"start":{"line":1182,"column":8},"end":{"line":1182,"column":46}},"type":"AssignmentExpression","operator":"=","left":{"range":[33898,33913],"loc":{"start":{"line":1182,"column":8},"end":{"line":1182,"column":23}},"type":"MemberExpression","computed":false,"object":{"range":[33898,33906],"loc":{"start":{"line":1182,"column":8},"end":{"line":1182,"column":16}},"type":"Identifier","name":"response"},"property":{"range":[33907,33913],"loc":{"start":{"line":1182,"column":17},"end":{"line":1182,"column":23}},"type":"Identifier","name":"errors"}},"right":{"range":[33916,33936],"loc":{"start":{"line":1182,"column":26},"end":{"line":1182,"column":46}},"type":"MemberExpression","computed":false,"object":{"range":[33916,33929],"loc":{"start":{"line":1182,"column":26},"end":{"line":1182,"column":39}},"type":"MemberExpression","computed":false,"object":{"range":[33916,33924],"loc":{"start":{"line":1182,"column":26},"end":{"line":1182,"column":34}},"type":"Identifier","name":"response"},"property":{"range":[33925,33929],"loc":{"start":{"line":1182,"column":35},"end":{"line":1182,"column":39}},"type":"Identifier","name":"data"}},"property":{"range":[33930,33936],"loc":{"start":{"line":1182,"column":40},"end":{"line":1182,"column":46}},"type":"Identifier","name":"errors"}}}},{"range":[33946,33974],"loc":{"start":{"line":1183,"column":8},"end":{"line":1183,"column":36}},"type":"ExpressionStatement","expression":{"range":[33946,33973],"loc":{"start":{"line":1183,"column":8},"end":{"line":1183,"column":35}},"type":"UnaryExpression","operator":"delete","argument":{"range":[33953,33973],"loc":{"start":{"line":1183,"column":15},"end":{"line":1183,"column":35}},"type":"MemberExpression","computed":false,"object":{"range":[33953,33966],"loc":{"start":{"line":1183,"column":15},"end":{"line":1183,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[33953,33961],"loc":{"start":{"line":1183,"column":15},"end":{"line":1183,"column":23}},"type":"Identifier","name":"response"},"property":{"range":[33962,33966],"loc":{"start":{"line":1183,"column":24},"end":{"line":1183,"column":28}},"type":"Identifier","name":"data"}},"property":{"range":[33967,33973],"loc":{"start":{"line":1183,"column":29},"end":{"line":1183,"column":35}},"type":"Identifier","name":"errors"}},"prefix":true}}]},"alternate":null,"leadingComments":[{"type":"Line","value":" If any errors received, pull them to top level","range":[33789,33838],"loc":{"start":{"line":1180,"column":6},"end":{"line":1180,"column":55}}}]}]},"alternate":null},{"range":[33994,34010],"loc":{"start":{"line":1187,"column":4},"end":{"line":1187,"column":20}},"type":"ReturnStatement","argument":{"range":[34001,34009],"loc":{"start":{"line":1187,"column":11},"end":{"line":1187,"column":19}},"type":"Identifier","name":"response"}}]},"generator":false,"expression":false,"leadingComments":[{"type":"Line","value":" Helper method used to build the returned response. It wraps the 'status' and 'headers' in an object in","range":[33039,33144],"loc":{"start":{"line":1157,"column":2},"end":{"line":1157,"column":107}}},{"type":"Line","value":" case the flag `fullResponse` is enabled as a global in `EVT.settings` or in this particular request.","range":[33147,33250],"loc":{"start":{"line":1158,"column":2},"end":{"line":1158,"column":105}}},{"type":"Line","value":" *200 OK* responses without data, return *null*.","range":[33253,33303],"loc":{"start":{"line":1159,"column":2},"end":{"line":1159,"column":52}}}],"trailingComments":[{"type":"Line","value":" Helper method that builds a custom Error object providing some extra","range":[34018,34089],"loc":{"start":{"line":1190,"column":2},"end":{"line":1190,"column":73}}},{"type":"Line","value":" information on a request error.","range":[34092,34126],"loc":{"start":{"line":1191,"column":2},"end":{"line":1191,"column":36}}}]},{"range":[34129,34600],"loc":{"start":{"line":1192,"column":2},"end":{"line":1209,"column":3}},"type":"FunctionDeclaration","id":{"range":[34138,34149],"loc":{"start":{"line":1192,"column":11},"end":{"line":1192,"column":22}},"type":"Identifier","name":"_buildError"},"params":[{"range":[34150,34153],"loc":{"start":{"line":1192,"column":23},"end":{"line":1192,"column":26}},"type":"Identifier","name":"req"},{"range":[34155,34158],"loc":{"start":{"line":1192,"column":28},"end":{"line":1192,"column":31}},"type":"Identifier","name":"url"},{"range":[34160,34166],"loc":{"start":{"line":1192,"column":33},"end":{"line":1192,"column":39}},"type":"Identifier","name":"method"},{"range":[34168,34176],"loc":{"start":{"line":1192,"column":41},"end":{"line":1192,"column":49}},"type":"Identifier","name":"response"}],"defaults":[],"body":{"range":[34178,34600],"loc":{"start":{"line":1192,"column":51},"end":{"line":1209,"column":3}},"type":"BlockStatement","body":[{"range":[34184,34363],"loc":{"start":{"line":1193,"column":4},"end":{"line":1199,"column":6}},"type":"VariableDeclaration","declarations":[{"range":[34188,34362],"loc":{"start":{"line":1193,"column":8},"end":{"line":1199,"column":5}},"type":"VariableDeclarator","id":{"range":[34188,34197],"loc":{"start":{"line":1193,"column":8},"end":{"line":1193,"column":17}},"type":"Identifier","name":"errorData"},"init":{"range":[34200,34362],"loc":{"start":{"line":1193,"column":20},"end":{"line":1199,"column":5}},"type":"ObjectExpression","properties":[{"range":[34208,34230],"loc":{"start":{"line":1194,"column":6},"end":{"line":1194,"column":28}},"type":"Property","key":{"range":[34208,34214],"loc":{"start":{"line":1194,"column":6},"end":{"line":1194,"column":12}},"type":"Identifier","name":"status"},"computed":false,"value":{"range":[34216,34230],"loc":{"start":{"line":1194,"column":14},"end":{"line":1194,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[34216,34219],"loc":{"start":{"line":1194,"column":14},"end":{"line":1194,"column":17}},"type":"Identifier","name":"req"},"property":{"range":[34220,34230],"loc":{"start":{"line":1194,"column":18},"end":{"line":1194,"column":28}},"type":"Identifier","name":"statusCode"}},"kind":"init","method":false,"shorthand":false},{"range":[34238,34253],"loc":{"start":{"line":1195,"column":6},"end":{"line":1195,"column":21}},"type":"Property","key":{"range":[34238,34242],"loc":{"start":{"line":1195,"column":6},"end":{"line":1195,"column":10}},"type":"Identifier","name":"type"},"computed":false,"value":{"range":[34244,34253],"loc":{"start":{"line":1195,"column":12},"end":{"line":1195,"column":21}},"type":"Literal","value":"request","raw":"'request'"},"kind":"init","method":false,"shorthand":false},{"range":[34261,34318],"loc":{"start":{"line":1196,"column":6},"end":{"line":1196,"column":63}},"type":"Property","key":{"range":[34261,34268],"loc":{"start":{"line":1196,"column":6},"end":{"line":1196,"column":13}},"type":"Identifier","name":"message"},"computed":false,"value":{"range":[34270,34318],"loc":{"start":{"line":1196,"column":15},"end":{"line":1196,"column":63}},"type":"Literal","value":"Server responded with an error for the request","raw":"'Server responded with an error for the request'"},"kind":"init","method":false,"shorthand":false},{"range":[34326,34334],"loc":{"start":{"line":1197,"column":6},"end":{"line":1197,"column":14}},"type":"Property","key":{"range":[34326,34329],"loc":{"start":{"line":1197,"column":6},"end":{"line":1197,"column":9}},"type":"Identifier","name":"url"},"computed":false,"value":{"range":[34331,34334],"loc":{"start":{"line":1197,"column":11},"end":{"line":1197,"column":14}},"type":"Identifier","name":"url"},"kind":"init","method":false,"shorthand":false},{"range":[34342,34356],"loc":{"start":{"line":1198,"column":6},"end":{"line":1198,"column":20}},"type":"Property","key":{"range":[34342,34348],"loc":{"start":{"line":1198,"column":6},"end":{"line":1198,"column":12}},"type":"Identifier","name":"method"},"computed":false,"value":{"range":[34350,34356],"loc":{"start":{"line":1198,"column":14},"end":{"line":1198,"column":20}},"type":"Identifier","name":"method"},"kind":"init","method":false,"shorthand":false}]}}],"kind":"var","trailingComments":[{"type":"Line","value":" Evrythng's API return an array of errors in the response. Add them","range":[34369,34438],"loc":{"start":{"line":1201,"column":4},"end":{"line":1201,"column":73}}},{"type":"Line","value":" if available.","range":[34443,34459],"loc":{"start":{"line":1202,"column":4},"end":{"line":1202,"column":20}}}]},{"range":[34464,34573],"loc":{"start":{"line":1203,"column":4},"end":{"line":1206,"column":5}},"type":"IfStatement","test":{"range":[34468,34476],"loc":{"start":{"line":1203,"column":8},"end":{"line":1203,"column":16}},"type":"Identifier","name":"response"},"consequent":{"range":[34478,34573],"loc":{"start":{"line":1203,"column":18},"end":{"line":1206,"column":5}},"type":"BlockStatement","body":[{"range":[34486,34521],"loc":{"start":{"line":1204,"column":6},"end":{"line":1204,"column":41}},"type":"ExpressionStatement","expression":{"range":[34486,34520],"loc":{"start":{"line":1204,"column":6},"end":{"line":1204,"column":40}},"type":"AssignmentExpression","operator":"=","left":{"range":[34486,34502],"loc":{"start":{"line":1204,"column":6},"end":{"line":1204,"column":22}},"type":"MemberExpression","computed":false,"object":{"range":[34486,34495],"loc":{"start":{"line":1204,"column":6},"end":{"line":1204,"column":15}},"type":"Identifier","name":"errorData"},"property":{"range":[34496,34502],"loc":{"start":{"line":1204,"column":16},"end":{"line":1204,"column":22}},"type":"Identifier","name":"errors"}},"right":{"range":[34505,34520],"loc":{"start":{"line":1204,"column":25},"end":{"line":1204,"column":40}},"type":"MemberExpression","computed":false,"object":{"range":[34505,34513],"loc":{"start":{"line":1204,"column":25},"end":{"line":1204,"column":33}},"type":"Identifier","name":"response"},"property":{"range":[34514,34520],"loc":{"start":{"line":1204,"column":34},"end":{"line":1204,"column":40}},"type":"Identifier","name":"errors"}}}},{"range":[34528,34567],"loc":{"start":{"line":1205,"column":6},"end":{"line":1205,"column":45}},"type":"ExpressionStatement","expression":{"range":[34528,34566],"loc":{"start":{"line":1205,"column":6},"end":{"line":1205,"column":44}},"type":"AssignmentExpression","operator":"=","left":{"range":[34528,34546],"loc":{"start":{"line":1205,"column":6},"end":{"line":1205,"column":24}},"type":"MemberExpression","computed":false,"object":{"range":[34528,34537],"loc":{"start":{"line":1205,"column":6},"end":{"line":1205,"column":15}},"type":"Identifier","name":"errorData"},"property":{"range":[34538,34546],"loc":{"start":{"line":1205,"column":16},"end":{"line":1205,"column":24}},"type":"Identifier","name":"moreInfo"}},"right":{"range":[34549,34566],"loc":{"start":{"line":1205,"column":27},"end":{"line":1205,"column":44}},"type":"MemberExpression","computed":false,"object":{"range":[34549,34557],"loc":{"start":{"line":1205,"column":27},"end":{"line":1205,"column":35}},"type":"Identifier","name":"response"},"property":{"range":[34558,34566],"loc":{"start":{"line":1205,"column":36},"end":{"line":1205,"column":44}},"type":"Identifier","name":"moreInfo"}}}}]},"alternate":null,"leadingComments":[{"type":"Line","value":" Evrythng's API return an array of errors in the response. Add them","range":[34369,34438],"loc":{"start":{"line":1201,"column":4},"end":{"line":1201,"column":73}}},{"type":"Line","value":" if available.","range":[34443,34459],"loc":{"start":{"line":1202,"column":4},"end":{"line":1202,"column":20}}}]},{"range":[34579,34596],"loc":{"start":{"line":1208,"column":4},"end":{"line":1208,"column":21}},"type":"ReturnStatement","argument":{"range":[34586,34595],"loc":{"start":{"line":1208,"column":11},"end":{"line":1208,"column":20}},"type":"Identifier","name":"errorData"}}]},"generator":false,"expression":false,"leadingComments":[{"type":"Line","value":" Helper method that builds a custom Error object providing some extra","range":[34018,34089],"loc":{"start":{"line":1190,"column":2},"end":{"line":1190,"column":73}}},{"type":"Line","value":" information on a request error.","range":[34092,34126],"loc":{"start":{"line":1191,"column":2},"end":{"line":1191,"column":36}}}]},{"range":[34605,35975],"loc":{"start":{"line":1212,"column":2},"end":{"line":1265,"column":3}},"type":"FunctionDeclaration","id":{"range":[34614,34618],"loc":{"start":{"line":1212,"column":11},"end":{"line":1212,"column":15}},"type":"Identifier","name":"node"},"params":[{"range":[34619,34626],"loc":{"start":{"line":1212,"column":16},"end":{"line":1212,"column":23}},"type":"Identifier","name":"options"},{"range":[34628,34643],"loc":{"start":{"line":1212,"column":25},"end":{"line":1212,"column":40}},"type":"Identifier","name":"successCallback"},{"range":[34645,34658],"loc":{"start":{"line":1212,"column":42},"end":{"line":1212,"column":55}},"type":"Identifier","name":"errorCallback"}],"defaults":[],"body":{"range":[34659,35975],"loc":{"start":{"line":1212,"column":56},"end":{"line":1265,"column":3}},"type":"BlockStatement","body":[{"range":[34665,34689],"loc":{"start":{"line":1213,"column":4},"end":{"line":1213,"column":28}},"type":"ExpressionStatement","expression":{"range":[34665,34688],"loc":{"start":{"line":1213,"column":4},"end":{"line":1213,"column":27}},"type":"AssignmentExpression","operator":"=","left":{"range":[34665,34672],"loc":{"start":{"line":1213,"column":4},"end":{"line":1213,"column":11}},"type":"Identifier","name":"options"},"right":{"range":[34675,34688],"loc":{"start":{"line":1213,"column":14},"end":{"line":1213,"column":27}},"type":"LogicalExpression","operator":"||","left":{"range":[34675,34682],"loc":{"start":{"line":1213,"column":14},"end":{"line":1213,"column":21}},"type":"Identifier","name":"options"},"right":{"range":[34686,34688],"loc":{"start":{"line":1213,"column":25},"end":{"line":1213,"column":27}},"type":"ObjectExpression","properties":[]}}}},{"range":[34695,34771],"loc":{"start":{"line":1215,"column":4},"end":{"line":1216,"column":41}},"type":"VariableDeclaration","declarations":[{"range":[34699,34728],"loc":{"start":{"line":1215,"column":8},"end":{"line":1215,"column":37}},"type":"VariableDeclarator","id":{"range":[34699,34702],"loc":{"start":{"line":1215,"column":8},"end":{"line":1215,"column":11}},"type":"Identifier","name":"url"},"init":{"range":[34705,34728],"loc":{"start":{"line":1215,"column":14},"end":{"line":1215,"column":37}},"type":"CallExpression","callee":{"range":[34705,34719],"loc":{"start":{"line":1215,"column":14},"end":{"line":1215,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[34705,34710],"loc":{"start":{"line":1215,"column":14},"end":{"line":1215,"column":19}},"type":"Identifier","name":"Utils"},"property":{"range":[34711,34719],"loc":{"start":{"line":1215,"column":20},"end":{"line":1215,"column":28}},"type":"Identifier","name":"buildUrl"}},"arguments":[{"range":[34720,34727],"loc":{"start":{"line":1215,"column":29},"end":{"line":1215,"column":36}},"type":"Identifier","name":"options"}]}},{"range":[34738,34770],"loc":{"start":{"line":1216,"column":8},"end":{"line":1216,"column":40}},"type":"VariableDeclarator","id":{"range":[34738,34744],"loc":{"start":{"line":1216,"column":8},"end":{"line":1216,"column":14}},"type":"Identifier","name":"method"},"init":{"range":[34747,34770],"loc":{"start":{"line":1216,"column":17},"end":{"line":1216,"column":40}},"type":"LogicalExpression","operator":"||","left":{"range":[34747,34761],"loc":{"start":{"line":1216,"column":17},"end":{"line":1216,"column":31}},"type":"MemberExpression","computed":false,"object":{"range":[34747,34754],"loc":{"start":{"line":1216,"column":17},"end":{"line":1216,"column":24}},"type":"Identifier","name":"options"},"property":{"range":[34755,34761],"loc":{"start":{"line":1216,"column":25},"end":{"line":1216,"column":31}},"type":"Identifier","name":"method"}},"right":{"range":[34765,34770],"loc":{"start":{"line":1216,"column":35},"end":{"line":1216,"column":40}},"type":"Literal","value":"get","raw":"'get'"}}}],"kind":"var"},{"range":[34777,34875],"loc":{"start":{"line":1218,"column":4},"end":{"line":1222,"column":6}},"type":"VariableDeclaration","declarations":[{"range":[34781,34874],"loc":{"start":{"line":1218,"column":8},"end":{"line":1222,"column":5}},"type":"VariableDeclarator","id":{"range":[34781,34795],"loc":{"start":{"line":1218,"column":8},"end":{"line":1218,"column":22}},"type":"Identifier","name":"requestOptions"},"init":{"range":[34798,34874],"loc":{"start":{"line":1218,"column":25},"end":{"line":1222,"column":5}},"type":"ObjectExpression","properties":[{"range":[34806,34814],"loc":{"start":{"line":1219,"column":6},"end":{"line":1219,"column":14}},"type":"Property","key":{"range":[34806,34809],"loc":{"start":{"line":1219,"column":6},"end":{"line":1219,"column":9}},"type":"Identifier","name":"url"},"computed":false,"value":{"range":[34811,34814],"loc":{"start":{"line":1219,"column":11},"end":{"line":1219,"column":14}},"type":"Identifier","name":"url"},"kind":"init","method":false,"shorthand":false},{"range":[34822,34836],"loc":{"start":{"line":1220,"column":6},"end":{"line":1220,"column":20}},"type":"Property","key":{"range":[34822,34828],"loc":{"start":{"line":1220,"column":6},"end":{"line":1220,"column":12}},"type":"Identifier","name":"method"},"computed":false,"value":{"range":[34830,34836],"loc":{"start":{"line":1220,"column":14},"end":{"line":1220,"column":20}},"type":"Identifier","name":"method"},"kind":"init","method":false,"shorthand":false},{"range":[34844,34868],"loc":{"start":{"line":1221,"column":6},"end":{"line":1221,"column":30}},"type":"Property","key":{"range":[34844,34851],"loc":{"start":{"line":1221,"column":6},"end":{"line":1221,"column":13}},"type":"Identifier","name":"headers"},"computed":false,"value":{"range":[34853,34868],"loc":{"start":{"line":1221,"column":15},"end":{"line":1221,"column":30}},"type":"MemberExpression","computed":false,"object":{"range":[34853,34860],"loc":{"start":{"line":1221,"column":15},"end":{"line":1221,"column":22}},"type":"Identifier","name":"options"},"property":{"range":[34861,34868],"loc":{"start":{"line":1221,"column":23},"end":{"line":1221,"column":30}},"type":"Identifier","name":"headers"}},"kind":"init","method":false,"shorthand":false}]}}],"kind":"var"},{"range":[34881,34954],"loc":{"start":{"line":1224,"column":4},"end":{"line":1224,"column":77}},"type":"ExpressionStatement","expression":{"range":[34881,34953],"loc":{"start":{"line":1224,"column":4},"end":{"line":1224,"column":76}},"type":"AssignmentExpression","operator":"=","left":{"range":[34881,34900],"loc":{"start":{"line":1224,"column":4},"end":{"line":1224,"column":23}},"type":"MemberExpression","computed":false,"object":{"range":[34881,34895],"loc":{"start":{"line":1224,"column":4},"end":{"line":1224,"column":18}},"type":"Identifier","name":"requestOptions"},"property":{"range":[34896,34900],"loc":{"start":{"line":1224,"column":19},"end":{"line":1224,"column":23}},"type":"Identifier","name":"body"}},"right":{"range":[34903,34953],"loc":{"start":{"line":1224,"column":26},"end":{"line":1224,"column":76}},"type":"ConditionalExpression","test":{"range":[34903,34915],"loc":{"start":{"line":1224,"column":26},"end":{"line":1224,"column":38}},"type":"MemberExpression","computed":false,"object":{"range":[34903,34910],"loc":{"start":{"line":1224,"column":26},"end":{"line":1224,"column":33}},"type":"Identifier","name":"options"},"property":{"range":[34911,34915],"loc":{"start":{"line":1224,"column":34},"end":{"line":1224,"column":38}},"type":"Identifier","name":"data"}},"consequent":{"range":[34918,34946],"loc":{"start":{"line":1224,"column":41},"end":{"line":1224,"column":69}},"type":"CallExpression","callee":{"range":[34918,34932],"loc":{"start":{"line":1224,"column":41},"end":{"line":1224,"column":55}},"type":"MemberExpression","computed":false,"object":{"range":[34918,34922],"loc":{"start":{"line":1224,"column":41},"end":{"line":1224,"column":45}},"type":"Identifier","name":"JSON"},"property":{"range":[34923,34932],"loc":{"start":{"line":1224,"column":46},"end":{"line":1224,"column":55}},"type":"Identifier","name":"stringify"}},"arguments":[{"range":[34933,34945],"loc":{"start":{"line":1224,"column":56},"end":{"line":1224,"column":68}},"type":"MemberExpression","computed":false,"object":{"range":[34933,34940],"loc":{"start":{"line":1224,"column":56},"end":{"line":1224,"column":63}},"type":"Identifier","name":"options"},"property":{"range":[34941,34945],"loc":{"start":{"line":1224,"column":64},"end":{"line":1224,"column":68}},"type":"Identifier","name":"data"}}]},"alternate":{"range":[34949,34953],"loc":{"start":{"line":1224,"column":72},"end":{"line":1224,"column":76}},"type":"Literal","value":null,"raw":"null"}}},"trailingComments":[{"type":"Line","value":" Set timeout.","range":[34960,34975],"loc":{"start":{"line":1226,"column":4},"end":{"line":1226,"column":19}}}]},{"range":[34980,35060],"loc":{"start":{"line":1227,"column":4},"end":{"line":1229,"column":5}},"type":"IfStatement","test":{"range":[34984,35003],"loc":{"start":{"line":1227,"column":8},"end":{"line":1227,"column":27}},"type":"BinaryExpression","operator":">","left":{"range":[34984,34999],"loc":{"start":{"line":1227,"column":8},"end":{"line":1227,"column":23}},"type":"MemberExpression","computed":false,"object":{"range":[34984,34991],"loc":{"start":{"line":1227,"column":8},"end":{"line":1227,"column":15}},"type":"Identifier","name":"options"},"property":{"range":[34992,34999],"loc":{"start":{"line":1227,"column":16},"end":{"line":1227,"column":23}},"type":"Identifier","name":"timeout"}},"right":{"range":[35002,35003],"loc":{"start":{"line":1227,"column":26},"end":{"line":1227,"column":27}},"type":"Literal","value":0,"raw":"0"}},"consequent":{"range":[35005,35060],"loc":{"start":{"line":1227,"column":29},"end":{"line":1229,"column":5}},"type":"BlockStatement","body":[{"range":[35013,35054],"loc":{"start":{"line":1228,"column":6},"end":{"line":1228,"column":47}},"type":"ExpressionStatement","expression":{"range":[35013,35053],"loc":{"start":{"line":1228,"column":6},"end":{"line":1228,"column":46}},"type":"AssignmentExpression","operator":"=","left":{"range":[35013,35035],"loc":{"start":{"line":1228,"column":6},"end":{"line":1228,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[35013,35027],"loc":{"start":{"line":1228,"column":6},"end":{"line":1228,"column":20}},"type":"Identifier","name":"requestOptions"},"property":{"range":[35028,35035],"loc":{"start":{"line":1228,"column":21},"end":{"line":1228,"column":28}},"type":"Identifier","name":"timeout"}},"right":{"range":[35038,35053],"loc":{"start":{"line":1228,"column":31},"end":{"line":1228,"column":46}},"type":"MemberExpression","computed":false,"object":{"range":[35038,35045],"loc":{"start":{"line":1228,"column":31},"end":{"line":1228,"column":38}},"type":"Identifier","name":"options"},"property":{"range":[35046,35053],"loc":{"start":{"line":1228,"column":39},"end":{"line":1228,"column":46}},"type":"Identifier","name":"timeout"}}}}]},"alternate":null,"leadingComments":[{"type":"Line","value":" Set timeout.","range":[34960,34975],"loc":{"start":{"line":1226,"column":4},"end":{"line":1226,"column":19}}}]},{"range":[35066,35970],"loc":{"start":{"line":1231,"column":4},"end":{"line":1263,"column":7}},"type":"ReturnStatement","argument":{"range":[35073,35969],"loc":{"start":{"line":1231,"column":11},"end":{"line":1263,"column":6}},"type":"NewExpression","callee":{"range":[35077,35084],"loc":{"start":{"line":1231,"column":15},"end":{"line":1231,"column":22}},"type":"Identifier","name":"Promise"},"arguments":[{"range":[35085,35968],"loc":{"start":{"line":1231,"column":23},"end":{"line":1263,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[35094,35101],"loc":{"start":{"line":1231,"column":32},"end":{"line":1231,"column":39}},"type":"Identifier","name":"resolve"},{"range":[35103,35109],"loc":{"start":{"line":1231,"column":41},"end":{"line":1231,"column":47}},"type":"Identifier","name":"reject"}],"defaults":[],"body":{"range":[35110,35968],"loc":{"start":{"line":1231,"column":48},"end":{"line":1263,"column":5}},"type":"BlockStatement","body":[{"range":[35119,35962],"loc":{"start":{"line":1233,"column":6},"end":{"line":1262,"column":7}},"type":"TryStatement","block":{"range":[35123,35925],"loc":{"start":{"line":1233,"column":10},"end":{"line":1260,"column":7}},"type":"BlockStatement","body":[{"range":[35133,35917],"loc":{"start":{"line":1234,"column":8},"end":{"line":1259,"column":11}},"type":"ExpressionStatement","expression":{"range":[35133,35916],"loc":{"start":{"line":1234,"column":8},"end":{"line":1259,"column":10}},"type":"CallExpression","callee":{"range":[35133,35140],"loc":{"start":{"line":1234,"column":8},"end":{"line":1234,"column":15}},"type":"Identifier","name":"request"},"arguments":[{"range":[35141,35155],"loc":{"start":{"line":1234,"column":16},"end":{"line":1234,"column":30}},"type":"Identifier","name":"requestOptions"},{"range":[35157,35915],"loc":{"start":{"line":1234,"column":32},"end":{"line":1259,"column":9}},"type":"FunctionExpression","id":null,"params":[{"range":[35167,35172],"loc":{"start":{"line":1234,"column":42},"end":{"line":1234,"column":47}},"type":"Identifier","name":"error"},{"range":[35174,35182],"loc":{"start":{"line":1234,"column":49},"end":{"line":1234,"column":57}},"type":"Identifier","name":"response"}],"defaults":[],"body":{"range":[35184,35915],"loc":{"start":{"line":1234,"column":59},"end":{"line":1259,"column":9}},"type":"BlockStatement","body":[{"range":[35196,35905],"loc":{"start":{"line":1235,"column":10},"end":{"line":1258,"column":11}},"type":"IfStatement","test":{"range":[35200,35205],"loc":{"start":{"line":1235,"column":14},"end":{"line":1235,"column":19}},"type":"Identifier","name":"error"},"consequent":{"range":[35207,35277],"loc":{"start":{"line":1235,"column":21},"end":{"line":1238,"column":11}},"type":"BlockStatement","body":[{"range":[35251,35265],"loc":{"start":{"line":1237,"column":12},"end":{"line":1237,"column":26}},"type":"ExpressionStatement","expression":{"range":[35251,35264],"loc":{"start":{"line":1237,"column":12},"end":{"line":1237,"column":25}},"type":"CallExpression","callee":{"range":[35251,35257],"loc":{"start":{"line":1237,"column":12},"end":{"line":1237,"column":18}},"type":"Identifier","name":"reject"},"arguments":[{"range":[35258,35263],"loc":{"start":{"line":1237,"column":19},"end":{"line":1237,"column":24}},"type":"Identifier","name":"error"}]},"leadingComments":[{"type":"Line","value":" Request failed","range":[35221,35238],"loc":{"start":{"line":1236,"column":12},"end":{"line":1236,"column":29}}}]}]},"alternate":{"range":[35283,35905],"loc":{"start":{"line":1238,"column":17},"end":{"line":1258,"column":11}},"type":"BlockStatement","body":[{"range":[35331,35389],"loc":{"start":{"line":1240,"column":12},"end":{"line":1240,"column":70}},"type":"VariableDeclaration","declarations":[{"range":[35335,35388],"loc":{"start":{"line":1240,"column":16},"end":{"line":1240,"column":69}},"type":"VariableDeclarator","id":{"range":[35335,35339],"loc":{"start":{"line":1240,"column":16},"end":{"line":1240,"column":20}},"type":"Identifier","name":"data"},"init":{"range":[35342,35388],"loc":{"start":{"line":1240,"column":23},"end":{"line":1240,"column":69}},"type":"CallExpression","callee":{"range":[35342,35356],"loc":{"start":{"line":1240,"column":23},"end":{"line":1240,"column":37}},"type":"Identifier","name":"_buildResponse"},"arguments":[{"range":[35357,35365],"loc":{"start":{"line":1240,"column":38},"end":{"line":1240,"column":46}},"type":"Identifier","name":"response"},{"range":[35367,35387],"loc":{"start":{"line":1240,"column":48},"end":{"line":1240,"column":68}},"type":"MemberExpression","computed":false,"object":{"range":[35367,35374],"loc":{"start":{"line":1240,"column":48},"end":{"line":1240,"column":55}},"type":"Identifier","name":"options"},"property":{"range":[35375,35387],"loc":{"start":{"line":1240,"column":56},"end":{"line":1240,"column":68}},"type":"Identifier","name":"fullResponse"}}]}}],"kind":"var","leadingComments":[{"type":"Line","value":" Request successful","range":[35297,35318],"loc":{"start":{"line":1239,"column":12},"end":{"line":1239,"column":33}}}]},{"range":[35403,35893],"loc":{"start":{"line":1242,"column":12},"end":{"line":1257,"column":13}},"type":"IfStatement","test":{"range":[35407,35462],"loc":{"start":{"line":1242,"column":16},"end":{"line":1242,"column":71}},"type":"LogicalExpression","operator":"&&","left":{"range":[35407,35433],"loc":{"start":{"line":1242,"column":16},"end":{"line":1242,"column":42}},"type":"BinaryExpression","operator":">=","left":{"range":[35407,35426],"loc":{"start":{"line":1242,"column":16},"end":{"line":1242,"column":35}},"type":"MemberExpression","computed":false,"object":{"range":[35407,35415],"loc":{"start":{"line":1242,"column":16},"end":{"line":1242,"column":24}},"type":"Identifier","name":"response"},"property":{"range":[35416,35426],"loc":{"start":{"line":1242,"column":25},"end":{"line":1242,"column":35}},"type":"Identifier","name":"statusCode"}},"right":{"range":[35430,35433],"loc":{"start":{"line":1242,"column":39},"end":{"line":1242,"column":42}},"type":"Literal","value":200,"raw":"200"}},"right":{"range":[35437,35462],"loc":{"start":{"line":1242,"column":46},"end":{"line":1242,"column":71}},"type":"BinaryExpression","operator":"<","left":{"range":[35437,35456],"loc":{"start":{"line":1242,"column":46},"end":{"line":1242,"column":65}},"type":"MemberExpression","computed":false,"object":{"range":[35437,35445],"loc":{"start":{"line":1242,"column":46},"end":{"line":1242,"column":54}},"type":"Identifier","name":"response"},"property":{"range":[35446,35456],"loc":{"start":{"line":1242,"column":55},"end":{"line":1242,"column":65}},"type":"Identifier","name":"statusCode"}},"right":{"range":[35459,35462],"loc":{"start":{"line":1242,"column":68},"end":{"line":1242,"column":71}},"type":"Literal","value":300,"raw":"300"}}},"consequent":{"range":[35464,35632],"loc":{"start":{"line":1242,"column":73},"end":{"line":1248,"column":13}},"type":"BlockStatement","body":[{"range":[35512,35589],"loc":{"start":{"line":1244,"column":14},"end":{"line":1246,"column":15}},"type":"IfStatement","test":{"range":[35516,35531],"loc":{"start":{"line":1244,"column":18},"end":{"line":1244,"column":33}},"type":"Identifier","name":"successCallback"},"consequent":{"range":[35533,35589],"loc":{"start":{"line":1244,"column":35},"end":{"line":1246,"column":15}},"type":"BlockStatement","body":[{"range":[35551,35573],"loc":{"start":{"line":1245,"column":16},"end":{"line":1245,"column":38}},"type":"ExpressionStatement","expression":{"range":[35551,35572],"loc":{"start":{"line":1245,"column":16},"end":{"line":1245,"column":37}},"type":"CallExpression","callee":{"range":[35551,35566],"loc":{"start":{"line":1245,"column":16},"end":{"line":1245,"column":31}},"type":"Identifier","name":"successCallback"},"arguments":[{"range":[35567,35571],"loc":{"start":{"line":1245,"column":32},"end":{"line":1245,"column":36}},"type":"Identifier","name":"data"}]}}]},"alternate":null,"leadingComments":[{"type":"Line","value":" Valid response","range":[35480,35497],"loc":{"start":{"line":1243,"column":14},"end":{"line":1243,"column":31}}}]},{"range":[35604,35618],"loc":{"start":{"line":1247,"column":14},"end":{"line":1247,"column":28}},"type":"ExpressionStatement","expression":{"range":[35604,35617],"loc":{"start":{"line":1247,"column":14},"end":{"line":1247,"column":27}},"type":"CallExpression","callee":{"range":[35604,35611],"loc":{"start":{"line":1247,"column":14},"end":{"line":1247,"column":21}},"type":"Identifier","name":"resolve"},"arguments":[{"range":[35612,35616],"loc":{"start":{"line":1247,"column":22},"end":{"line":1247,"column":26}},"type":"Identifier","name":"data"}]}}]},"alternate":{"range":[35638,35893],"loc":{"start":{"line":1248,"column":19},"end":{"line":1257,"column":13}},"type":"BlockStatement","body":[{"range":[35695,35752],"loc":{"start":{"line":1251,"column":14},"end":{"line":1251,"column":71}},"type":"VariableDeclaration","declarations":[{"range":[35699,35751],"loc":{"start":{"line":1251,"column":18},"end":{"line":1251,"column":70}},"type":"VariableDeclarator","id":{"range":[35699,35708],"loc":{"start":{"line":1251,"column":18},"end":{"line":1251,"column":27}},"type":"Identifier","name":"errorData"},"init":{"range":[35711,35751],"loc":{"start":{"line":1251,"column":30},"end":{"line":1251,"column":70}},"type":"CallExpression","callee":{"range":[35711,35722],"loc":{"start":{"line":1251,"column":30},"end":{"line":1251,"column":41}},"type":"Identifier","name":"_buildError"},"arguments":[{"range":[35723,35731],"loc":{"start":{"line":1251,"column":42},"end":{"line":1251,"column":50}},"type":"Identifier","name":"response"},{"range":[35733,35736],"loc":{"start":{"line":1251,"column":52},"end":{"line":1251,"column":55}},"type":"Identifier","name":"url"},{"range":[35738,35744],"loc":{"start":{"line":1251,"column":57},"end":{"line":1251,"column":63}},"type":"Identifier","name":"method"},{"range":[35746,35750],"loc":{"start":{"line":1251,"column":65},"end":{"line":1251,"column":69}},"type":"Identifier","name":"data"}]}}],"kind":"var","leadingComments":[{"type":"Line","value":" API error - forward it","range":[35655,35680],"loc":{"start":{"line":1250,"column":14},"end":{"line":1250,"column":39}}}]},{"range":[35768,35846],"loc":{"start":{"line":1253,"column":14},"end":{"line":1255,"column":15}},"type":"IfStatement","test":{"range":[35772,35785],"loc":{"start":{"line":1253,"column":18},"end":{"line":1253,"column":31}},"type":"Identifier","name":"errorCallback"},"consequent":{"range":[35787,35846],"loc":{"start":{"line":1253,"column":33},"end":{"line":1255,"column":15}},"type":"BlockStatement","body":[{"range":[35805,35830],"loc":{"start":{"line":1254,"column":16},"end":{"line":1254,"column":41}},"type":"ExpressionStatement","expression":{"range":[35805,35829],"loc":{"start":{"line":1254,"column":16},"end":{"line":1254,"column":40}},"type":"CallExpression","callee":{"range":[35805,35818],"loc":{"start":{"line":1254,"column":16},"end":{"line":1254,"column":29}},"type":"Identifier","name":"errorCallback"},"arguments":[{"range":[35819,35828],"loc":{"start":{"line":1254,"column":30},"end":{"line":1254,"column":39}},"type":"Identifier","name":"errorData"}]}}]},"alternate":null},{"range":[35861,35879],"loc":{"start":{"line":1256,"column":14},"end":{"line":1256,"column":32}},"type":"ExpressionStatement","expression":{"range":[35861,35878],"loc":{"start":{"line":1256,"column":14},"end":{"line":1256,"column":31}},"type":"CallExpression","callee":{"range":[35861,35867],"loc":{"start":{"line":1256,"column":14},"end":{"line":1256,"column":20}},"type":"Identifier","name":"reject"},"arguments":[{"range":[35868,35877],"loc":{"start":{"line":1256,"column":21},"end":{"line":1256,"column":30}},"type":"Identifier","name":"errorData"}]}}]}}]}}]},"generator":false,"expression":false}]}}]},"guardedHandlers":[],"handlers":[{"range":[35926,35962],"loc":{"start":{"line":1260,"column":8},"end":{"line":1262,"column":7}},"type":"CatchClause","param":{"range":[35932,35933],"loc":{"start":{"line":1260,"column":14},"end":{"line":1260,"column":15}},"type":"Identifier","name":"e"},"body":{"range":[35934,35962],"loc":{"start":{"line":1260,"column":16},"end":{"line":1262,"column":7}},"type":"BlockStatement","body":[{"range":[35944,35954],"loc":{"start":{"line":1261,"column":8},"end":{"line":1261,"column":18}},"type":"ExpressionStatement","expression":{"range":[35944,35953],"loc":{"start":{"line":1261,"column":8},"end":{"line":1261,"column":17}},"type":"CallExpression","callee":{"range":[35944,35950],"loc":{"start":{"line":1261,"column":8},"end":{"line":1261,"column":14}},"type":"Identifier","name":"reject"},"arguments":[{"range":[35951,35952],"loc":{"start":{"line":1261,"column":15},"end":{"line":1261,"column":16}},"type":"Identifier","name":"e"}]}}]}}],"handler":{"range":[35926,35962],"loc":{"start":{"line":1260,"column":8},"end":{"line":1262,"column":7}},"type":"CatchClause","param":{"range":[35932,35933],"loc":{"start":{"line":1260,"column":14},"end":{"line":1260,"column":15}},"type":"Identifier","name":"e"},"body":{"range":[35934,35962],"loc":{"start":{"line":1260,"column":16},"end":{"line":1262,"column":7}},"type":"BlockStatement","body":[{"range":[35944,35954],"loc":{"start":{"line":1261,"column":8},"end":{"line":1261,"column":18}},"type":"ExpressionStatement","expression":{"range":[35944,35953],"loc":{"start":{"line":1261,"column":8},"end":{"line":1261,"column":17}},"type":"CallExpression","callee":{"range":[35944,35950],"loc":{"start":{"line":1261,"column":8},"end":{"line":1261,"column":14}},"type":"Identifier","name":"reject"},"arguments":[{"range":[35951,35952],"loc":{"start":{"line":1261,"column":15},"end":{"line":1261,"column":16}},"type":"Identifier","name":"e"}]}}]}},"finalizer":null}]},"generator":false,"expression":false}]}}]},"generator":false,"expression":false},{"range":[35978,35990],"loc":{"start":{"line":1266,"column":2},"end":{"line":1266,"column":14}},"type":"ReturnStatement","argument":{"range":[35985,35989],"loc":{"start":{"line":1266,"column":9},"end":{"line":1266,"column":13}},"type":"Identifier","name":"node"}}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" ## REQUEST.JS","range":[32900,32916],"loc":{"start":{"line":1148,"column":0},"end":{"line":1148,"column":16}}}],"trailingComments":[{"type":"Line","value":" ## HTTP.JS","range":[35996,36009],"loc":{"start":{"line":1269,"column":0},"end":{"line":1269,"column":13}}},{"type":"Line","value":" **The request module attaches the Node.js api() method to the EVT module.","range":[36011,36087],"loc":{"start":{"line":1271,"column":0},"end":{"line":1271,"column":76}}},{"type":"Line","value":" It controls the raw request to the API, using the \"request\" node module.**","range":[36088,36165],"loc":{"start":{"line":1272,"column":0},"end":{"line":1272,"column":77}}}]},{"range":[36167,39952],"loc":{"start":{"line":1274,"column":0},"end":{"line":1394,"column":3}},"type":"ExpressionStatement","expression":{"range":[36167,39951],"loc":{"start":{"line":1274,"column":0},"end":{"line":1394,"column":2}},"type":"CallExpression","callee":{"range":[36167,36173],"loc":{"start":{"line":1274,"column":0},"end":{"line":1274,"column":6}},"type":"Identifier","name":"define"},"arguments":[{"range":[36174,36183],"loc":{"start":{"line":1274,"column":7},"end":{"line":1274,"column":16}},"type":"Literal","value":"connect","raw":"'connect'"},{"range":[36184,36241],"loc":{"start":{"line":1274,"column":17},"end":{"line":1279,"column":1}},"type":"ArrayExpression","elements":[{"range":[36188,36194],"loc":{"start":{"line":1275,"column":2},"end":{"line":1275,"column":8}},"type":"Literal","value":"core","raw":"'core'"},{"range":[36198,36215],"loc":{"start":{"line":1276,"column":2},"end":{"line":1276,"column":19}},"type":"Literal","value":"network/request","raw":"'network/request'"},{"range":[36219,36228],"loc":{"start":{"line":1277,"column":2},"end":{"line":1277,"column":11}},"type":"Literal","value":"promise","raw":"'promise'"},{"range":[36232,36239],"loc":{"start":{"line":1278,"column":2},"end":{"line":1278,"column":9}},"type":"Literal","value":"utils","raw":"'utils'"}]},{"range":[36243,39950],"loc":{"start":{"line":1279,"column":3},"end":{"line":1394,"column":1}},"type":"FunctionExpression","id":null,"params":[{"range":[36253,36256],"loc":{"start":{"line":1279,"column":13},"end":{"line":1279,"column":16}},"type":"Identifier","name":"EVT"},{"range":[36258,36262],"loc":{"start":{"line":1279,"column":18},"end":{"line":1279,"column":22}},"type":"Identifier","name":"node"},{"range":[36264,36271],"loc":{"start":{"line":1279,"column":24},"end":{"line":1279,"column":31}},"type":"Identifier","name":"Promise"},{"range":[36273,36278],"loc":{"start":{"line":1279,"column":33},"end":{"line":1279,"column":38}},"type":"Identifier","name":"Utils"}],"defaults":[],"body":{"range":[36280,39950],"loc":{"start":{"line":1279,"column":40},"end":{"line":1394,"column":1}},"type":"BlockStatement","body":[{"range":[36284,36297],"loc":{"start":{"line":1280,"column":2},"end":{"line":1280,"column":15}},"type":"ExpressionStatement","expression":{"range":[36284,36296],"loc":{"start":{"line":1280,"column":2},"end":{"line":1280,"column":14}},"type":"Literal","value":"use strict","raw":"'use strict'"},"trailingComments":[{"type":"Block","value":"TODO refactor. same as ajax.js module","range":[36301,36342],"loc":{"start":{"line":1282,"column":2},"end":{"line":1282,"column":43}}},{"type":"Line","value":" EVT.api() returns a **Promise**. Nevertheless,","range":[36346,36395],"loc":{"start":{"line":1284,"column":2},"end":{"line":1284,"column":51}}},{"type":"Line","value":" it still allows the old-styled callback API as follows:","range":[36398,36456],"loc":{"start":{"line":1285,"column":2},"end":{"line":1285,"column":60}}},{"type":"Line","value":" - _**EVT.api(options)** - options object can contain `success` or `error`","range":[36460,36536],"loc":{"start":{"line":1287,"column":2},"end":{"line":1287,"column":78}}},{"type":"Line","value":" properties to define success and error callbacks_","range":[36539,36591],"loc":{"start":{"line":1288,"column":2},"end":{"line":1288,"column":54}}},{"type":"Line","value":" - _**EVT.api(options, successCb, errorCb)**_","range":[36594,36641],"loc":{"start":{"line":1289,"column":2},"end":{"line":1289,"column":49}}},{"type":"Line","value":" Options available are:","range":[36645,36670],"loc":{"start":{"line":1291,"column":2},"end":{"line":1291,"column":27}}},{"type":"Line","value":" ```","range":[36674,36680],"loc":{"start":{"line":1293,"column":2},"end":{"line":1293,"column":8}}},{"type":"Line","value":" fullResponse - override fullResponse global setting (see module `core`)","range":[36683,36757],"loc":{"start":{"line":1294,"column":2},"end":{"line":1294,"column":76}}},{"type":"Line","value":" apiUrl - override default `EVT.settings.apiUrl`","range":[36760,36810],"loc":{"start":{"line":1295,"column":2},"end":{"line":1295,"column":52}}},{"type":"Line","value":" url - URL of the request, relative to `EVT.settings.apiUrl`","range":[36813,36875],"loc":{"start":{"line":1296,"column":2},"end":{"line":1296,"column":64}}},{"type":"Line","value":" method - HTTP method, default: `GET`","range":[36878,36917],"loc":{"start":{"line":1297,"column":2},"end":{"line":1297,"column":41}}},{"type":"Line","value":" authorization - Authorization header content, should contain API Key","range":[36920,36991],"loc":{"start":{"line":1298,"column":2},"end":{"line":1298,"column":73}}},{"type":"Line","value":" success - success handler function","range":[36994,37031],"loc":{"start":{"line":1299,"column":2},"end":{"line":1299,"column":39}}},{"type":"Line","value":" error - error handler function","range":[37034,37067],"loc":{"start":{"line":1300,"column":2},"end":{"line":1300,"column":35}}},{"type":"Line","value":" interceptors - override interceptors pipeline. If you want to extend, use:","range":[37070,37147],"loc":{"start":{"line":1301,"column":2},"end":{"line":1301,"column":79}}},{"type":"Line","value":"    interceptors: EVT.settings.interceptors.concat([{...}])","range":[37150,37211],"loc":{"start":{"line":1302,"column":2},"end":{"line":1302,"column":63}}},{"type":"Line","value":" ```","range":[37214,37220],"loc":{"start":{"line":1303,"column":2},"end":{"line":1303,"column":8}}}]},{"range":[37223,39870],"loc":{"start":{"line":1304,"column":2},"end":{"line":1387,"column":3}},"type":"FunctionDeclaration","id":{"range":[37232,37236],"loc":{"start":{"line":1304,"column":11},"end":{"line":1304,"column":15}},"type":"Identifier","name":"http"},"params":[{"range":[37237,37244],"loc":{"start":{"line":1304,"column":16},"end":{"line":1304,"column":23}},"type":"Identifier","name":"options"},{"range":[37246,37261],"loc":{"start":{"line":1304,"column":25},"end":{"line":1304,"column":40}},"type":"Identifier","name":"successCallback"},{"range":[37263,37276],"loc":{"start":{"line":1304,"column":42},"end":{"line":1304,"column":55}},"type":"Identifier","name":"errorCallback"}],"defaults":[],"body":{"range":[37278,39870],"loc":{"start":{"line":1304,"column":57},"end":{"line":1387,"column":3}},"type":"BlockStatement","body":[{"range":[37345,37650],"loc":{"start":{"line":1307,"column":4},"end":{"line":1314,"column":16}},"type":"VariableDeclaration","declarations":[{"range":[37349,37649],"loc":{"start":{"line":1307,"column":8},"end":{"line":1314,"column":15}},"type":"VariableDeclarator","id":{"range":[37349,37363],"loc":{"start":{"line":1307,"column":8},"end":{"line":1307,"column":22}},"type":"Identifier","name":"requestOptions"},"init":{"range":[37366,37649],"loc":{"start":{"line":1307,"column":25},"end":{"line":1314,"column":15}},"type":"CallExpression","callee":{"range":[37366,37378],"loc":{"start":{"line":1307,"column":25},"end":{"line":1307,"column":37}},"type":"MemberExpression","computed":false,"object":{"range":[37366,37371],"loc":{"start":{"line":1307,"column":25},"end":{"line":1307,"column":30}},"type":"Identifier","name":"Utils"},"property":{"range":[37372,37378],"loc":{"start":{"line":1307,"column":31},"end":{"line":1307,"column":37}},"type":"Identifier","name":"extend"}},"arguments":[{"range":[37379,37639],"loc":{"start":{"line":1307,"column":38},"end":{"line":1314,"column":5}},"type":"ObjectExpression","properties":[{"range":[37387,37414],"loc":{"start":{"line":1308,"column":6},"end":{"line":1308,"column":33}},"type":"Property","key":{"range":[37387,37393],"loc":{"start":{"line":1308,"column":6},"end":{"line":1308,"column":12}},"type":"Identifier","name":"apiUrl"},"computed":false,"value":{"range":[37395,37414],"loc":{"start":{"line":1308,"column":14},"end":{"line":1308,"column":33}},"type":"MemberExpression","computed":false,"object":{"range":[37395,37407],"loc":{"start":{"line":1308,"column":14},"end":{"line":1308,"column":26}},"type":"MemberExpression","computed":false,"object":{"range":[37395,37398],"loc":{"start":{"line":1308,"column":14},"end":{"line":1308,"column":17}},"type":"Identifier","name":"EVT"},"property":{"range":[37399,37407],"loc":{"start":{"line":1308,"column":18},"end":{"line":1308,"column":26}},"type":"Identifier","name":"settings"}},"property":{"range":[37408,37414],"loc":{"start":{"line":1308,"column":27},"end":{"line":1308,"column":33}},"type":"Identifier","name":"apiUrl"}},"kind":"init","method":false,"shorthand":false},{"range":[37422,37430],"loc":{"start":{"line":1309,"column":6},"end":{"line":1309,"column":14}},"type":"Property","key":{"range":[37422,37425],"loc":{"start":{"line":1309,"column":6},"end":{"line":1309,"column":9}},"type":"Identifier","name":"url"},"computed":false,"value":{"range":[37427,37430],"loc":{"start":{"line":1309,"column":11},"end":{"line":1309,"column":14}},"type":"Literal","value":"/","raw":"'/'"},"kind":"init","method":false,"shorthand":false},{"range":[37438,37477],"loc":{"start":{"line":1310,"column":6},"end":{"line":1310,"column":45}},"type":"Property","key":{"range":[37438,37450],"loc":{"start":{"line":1310,"column":6},"end":{"line":1310,"column":18}},"type":"Identifier","name":"fullResponse"},"computed":false,"value":{"range":[37452,37477],"loc":{"start":{"line":1310,"column":20},"end":{"line":1310,"column":45}},"type":"MemberExpression","computed":false,"object":{"range":[37452,37464],"loc":{"start":{"line":1310,"column":20},"end":{"line":1310,"column":32}},"type":"MemberExpression","computed":false,"object":{"range":[37452,37455],"loc":{"start":{"line":1310,"column":20},"end":{"line":1310,"column":23}},"type":"Identifier","name":"EVT"},"property":{"range":[37456,37464],"loc":{"start":{"line":1310,"column":24},"end":{"line":1310,"column":32}},"type":"Identifier","name":"settings"}},"property":{"range":[37465,37477],"loc":{"start":{"line":1310,"column":33},"end":{"line":1310,"column":45}},"type":"Identifier","name":"fullResponse"}},"kind":"init","method":false,"shorthand":false},{"range":[37485,37549],"loc":{"start":{"line":1311,"column":6},"end":{"line":1311,"column":70}},"type":"Property","key":{"range":[37485,37498],"loc":{"start":{"line":1311,"column":6},"end":{"line":1311,"column":19}},"type":"Identifier","name":"authorization"},"computed":false,"value":{"range":[37500,37549],"loc":{"start":{"line":1311,"column":21},"end":{"line":1311,"column":70}},"type":"LogicalExpression","operator":"||","left":{"range":[37500,37519],"loc":{"start":{"line":1311,"column":21},"end":{"line":1311,"column":40}},"type":"MemberExpression","computed":false,"object":{"range":[37500,37512],"loc":{"start":{"line":1311,"column":21},"end":{"line":1311,"column":33}},"type":"MemberExpression","computed":false,"object":{"range":[37500,37503],"loc":{"start":{"line":1311,"column":21},"end":{"line":1311,"column":24}},"type":"Identifier","name":"EVT"},"property":{"range":[37504,37512],"loc":{"start":{"line":1311,"column":25},"end":{"line":1311,"column":33}},"type":"Identifier","name":"settings"}},"property":{"range":[37513,37519],"loc":{"start":{"line":1311,"column":34},"end":{"line":1311,"column":40}},"type":"Identifier","name":"apiKey"}},"right":{"range":[37523,37549],"loc":{"start":{"line":1311,"column":44},"end":{"line":1311,"column":70}},"type":"MemberExpression","computed":false,"object":{"range":[37523,37535],"loc":{"start":{"line":1311,"column":44},"end":{"line":1311,"column":56}},"type":"MemberExpression","computed":false,"object":{"range":[37523,37526],"loc":{"start":{"line":1311,"column":44},"end":{"line":1311,"column":47}},"type":"Identifier","name":"EVT"},"property":{"range":[37527,37535],"loc":{"start":{"line":1311,"column":48},"end":{"line":1311,"column":56}},"type":"Identifier","name":"settings"}},"property":{"range":[37536,37549],"loc":{"start":{"line":1311,"column":57},"end":{"line":1311,"column":70}},"type":"Identifier","name":"authorization"}}},"kind":"init","method":false,"shorthand":false},{"range":[37557,37586],"loc":{"start":{"line":1312,"column":6},"end":{"line":1312,"column":35}},"type":"Property","key":{"range":[37557,37564],"loc":{"start":{"line":1312,"column":6},"end":{"line":1312,"column":13}},"type":"Identifier","name":"timeout"},"computed":false,"value":{"range":[37566,37586],"loc":{"start":{"line":1312,"column":15},"end":{"line":1312,"column":35}},"type":"MemberExpression","computed":false,"object":{"range":[37566,37578],"loc":{"start":{"line":1312,"column":15},"end":{"line":1312,"column":27}},"type":"MemberExpression","computed":false,"object":{"range":[37566,37569],"loc":{"start":{"line":1312,"column":15},"end":{"line":1312,"column":18}},"type":"Identifier","name":"EVT"},"property":{"range":[37570,37578],"loc":{"start":{"line":1312,"column":19},"end":{"line":1312,"column":27}},"type":"Identifier","name":"settings"}},"property":{"range":[37579,37586],"loc":{"start":{"line":1312,"column":28},"end":{"line":1312,"column":35}},"type":"Identifier","name":"timeout"}},"kind":"init","method":false,"shorthand":false},{"range":[37594,37633],"loc":{"start":{"line":1313,"column":6},"end":{"line":1313,"column":45}},"type":"Property","key":{"range":[37594,37606],"loc":{"start":{"line":1313,"column":6},"end":{"line":1313,"column":18}},"type":"Identifier","name":"interceptors"},"computed":false,"value":{"range":[37608,37633],"loc":{"start":{"line":1313,"column":20},"end":{"line":1313,"column":45}},"type":"MemberExpression","computed":false,"object":{"range":[37608,37620],"loc":{"start":{"line":1313,"column":20},"end":{"line":1313,"column":32}},"type":"MemberExpression","computed":false,"object":{"range":[37608,37611],"loc":{"start":{"line":1313,"column":20},"end":{"line":1313,"column":23}},"type":"Identifier","name":"EVT"},"property":{"range":[37612,37620],"loc":{"start":{"line":1313,"column":24},"end":{"line":1313,"column":32}},"type":"Identifier","name":"settings"}},"property":{"range":[37621,37633],"loc":{"start":{"line":1313,"column":33},"end":{"line":1313,"column":45}},"type":"Identifier","name":"interceptors"}},"kind":"init","method":false,"shorthand":false}]},{"range":[37641,37648],"loc":{"start":{"line":1314,"column":7},"end":{"line":1314,"column":14}},"type":"Identifier","name":"options"}]}}],"kind":"var","leadingComments":[{"type":"Line","value":" Merge options with defaults setup in `EVT.settings`.","range":[37285,37340],"loc":{"start":{"line":1306,"column":4},"end":{"line":1306,"column":59}}}],"trailingComments":[{"type":"Line","value":" Merge nested headers object. Allow users to use both `options.authorization`","range":[37656,37735],"loc":{"start":{"line":1316,"column":4},"end":{"line":1316,"column":83}}},{"type":"Line","value":" and `options.headers.authorization`.","range":[37740,37779],"loc":{"start":{"line":1317,"column":4},"end":{"line":1317,"column":43}}}]},{"range":[37784,37961],"loc":{"start":{"line":1318,"column":4},"end":{"line":1322,"column":24}},"type":"ExpressionStatement","expression":{"range":[37784,37960],"loc":{"start":{"line":1318,"column":4},"end":{"line":1322,"column":23}},"type":"AssignmentExpression","operator":"=","left":{"range":[37784,37806],"loc":{"start":{"line":1318,"column":4},"end":{"line":1318,"column":26}},"type":"MemberExpression","computed":false,"object":{"range":[37784,37798],"loc":{"start":{"line":1318,"column":4},"end":{"line":1318,"column":18}},"type":"Identifier","name":"requestOptions"},"property":{"range":[37799,37806],"loc":{"start":{"line":1318,"column":19},"end":{"line":1318,"column":26}},"type":"Identifier","name":"headers"}},"right":{"range":[37809,37960],"loc":{"start":{"line":1318,"column":29},"end":{"line":1322,"column":23}},"type":"CallExpression","callee":{"range":[37809,37821],"loc":{"start":{"line":1318,"column":29},"end":{"line":1318,"column":41}},"type":"MemberExpression","computed":false,"object":{"range":[37809,37814],"loc":{"start":{"line":1318,"column":29},"end":{"line":1318,"column":34}},"type":"Identifier","name":"Utils"},"property":{"range":[37815,37821],"loc":{"start":{"line":1318,"column":35},"end":{"line":1318,"column":41}},"type":"Identifier","name":"extend"}},"arguments":[{"range":[37822,37942],"loc":{"start":{"line":1318,"column":42},"end":{"line":1322,"column":5}},"type":"ObjectExpression","properties":[{"range":[37830,37873],"loc":{"start":{"line":1319,"column":6},"end":{"line":1319,"column":49}},"type":"Property","key":{"range":[37830,37843],"loc":{"start":{"line":1319,"column":6},"end":{"line":1319,"column":19}},"type":"Identifier","name":"authorization"},"computed":false,"value":{"range":[37845,37873],"loc":{"start":{"line":1319,"column":21},"end":{"line":1319,"column":49}},"type":"MemberExpression","computed":false,"object":{"range":[37845,37859],"loc":{"start":{"line":1319,"column":21},"end":{"line":1319,"column":35}},"type":"Identifier","name":"requestOptions"},"property":{"range":[37860,37873],"loc":{"start":{"line":1319,"column":36},"end":{"line":1319,"column":49}},"type":"Identifier","name":"authorization"}},"kind":"init","method":false,"shorthand":false},{"range":[37881,37894],"loc":{"start":{"line":1320,"column":6},"end":{"line":1320,"column":19}},"type":"Property","key":{"range":[37881,37887],"loc":{"start":{"line":1320,"column":6},"end":{"line":1320,"column":12}},"type":"Identifier","name":"accept"},"computed":false,"value":{"range":[37889,37894],"loc":{"start":{"line":1320,"column":14},"end":{"line":1320,"column":19}},"type":"Literal","value":"*/*","raw":"'*/*'"},"kind":"init","method":false,"shorthand":false},{"range":[37902,37936],"loc":{"start":{"line":1321,"column":6},"end":{"line":1321,"column":40}},"type":"Property","key":{"range":[37902,37916],"loc":{"start":{"line":1321,"column":6},"end":{"line":1321,"column":20}},"type":"Literal","value":"content-type","raw":"'content-type'"},"computed":false,"value":{"range":[37918,37936],"loc":{"start":{"line":1321,"column":22},"end":{"line":1321,"column":40}},"type":"Literal","value":"application/json","raw":"'application/json'"},"kind":"init","method":false,"shorthand":false}]},{"range":[37944,37959],"loc":{"start":{"line":1322,"column":7},"end":{"line":1322,"column":22}},"type":"MemberExpression","computed":false,"object":{"range":[37944,37951],"loc":{"start":{"line":1322,"column":7},"end":{"line":1322,"column":14}},"type":"Identifier","name":"options"},"property":{"range":[37952,37959],"loc":{"start":{"line":1322,"column":15},"end":{"line":1322,"column":22}},"type":"Identifier","name":"headers"}}]}},"leadingComments":[{"type":"Line","value":" Merge nested headers object. Allow users to use both `options.authorization`","range":[37656,37735],"loc":{"start":{"line":1316,"column":4},"end":{"line":1316,"column":83}}},{"type":"Line","value":" and `options.headers.authorization`.","range":[37740,37779],"loc":{"start":{"line":1317,"column":4},"end":{"line":1317,"column":43}}}],"trailingComments":[{"type":"Line","value":" Setup callbacks giving priority to parameters.","range":[37967,38016],"loc":{"start":{"line":1324,"column":4},"end":{"line":1324,"column":53}}}]},{"range":[38021,38073],"loc":{"start":{"line":1325,"column":4},"end":{"line":1325,"column":56}},"type":"VariableDeclaration","declarations":[{"range":[38025,38034],"loc":{"start":{"line":1325,"column":8},"end":{"line":1325,"column":17}},"type":"VariableDeclarator","id":{"range":[38025,38034],"loc":{"start":{"line":1325,"column":8},"end":{"line":1325,"column":17}},"type":"Identifier","name":"successCb"},"init":null},{"range":[38036,38043],"loc":{"start":{"line":1325,"column":19},"end":{"line":1325,"column":26}},"type":"VariableDeclarator","id":{"range":[38036,38043],"loc":{"start":{"line":1325,"column":19},"end":{"line":1325,"column":26}},"type":"Identifier","name":"errorCb"},"init":null},{"range":[38045,38062],"loc":{"start":{"line":1325,"column":28},"end":{"line":1325,"column":45}},"type":"VariableDeclarator","id":{"range":[38045,38054],"loc":{"start":{"line":1325,"column":28},"end":{"line":1325,"column":37}},"type":"Identifier","name":"cancelled"},"init":{"range":[38057,38062],"loc":{"start":{"line":1325,"column":40},"end":{"line":1325,"column":45}},"type":"Literal","value":false,"raw":"false"}},{"range":[38064,38072],"loc":{"start":{"line":1325,"column":47},"end":{"line":1325,"column":55}},"type":"VariableDeclarator","id":{"range":[38064,38072],"loc":{"start":{"line":1325,"column":47},"end":{"line":1325,"column":55}},"type":"Identifier","name":"response"},"init":null}],"kind":"var","leadingComments":[{"type":"Line","value":" Setup callbacks giving priority to parameters.","range":[37967,38016],"loc":{"start":{"line":1324,"column":4},"end":{"line":1324,"column":53}}}]},{"range":[38079,38253],"loc":{"start":{"line":1327,"column":4},"end":{"line":1331,"column":5}},"type":"IfStatement","test":{"range":[38082,38115],"loc":{"start":{"line":1327,"column":7},"end":{"line":1327,"column":40}},"type":"CallExpression","callee":{"range":[38082,38098],"loc":{"start":{"line":1327,"column":7},"end":{"line":1327,"column":23}},"type":"MemberExpression","computed":false,"object":{"range":[38082,38087],"loc":{"start":{"line":1327,"column":7},"end":{"line":1327,"column":12}},"type":"Identifier","name":"Utils"},"property":{"range":[38088,38098],"loc":{"start":{"line":1327,"column":13},"end":{"line":1327,"column":23}},"type":"Identifier","name":"isFunction"}},"arguments":[{"range":[38099,38114],"loc":{"start":{"line":1327,"column":24},"end":{"line":1327,"column":39}},"type":"Identifier","name":"successCallback"}]},"consequent":{"range":[38116,38158],"loc":{"start":{"line":1327,"column":41},"end":{"line":1329,"column":5}},"type":"BlockStatement","body":[{"range":[38124,38152],"loc":{"start":{"line":1328,"column":6},"end":{"line":1328,"column":34}},"type":"ExpressionStatement","expression":{"range":[38124,38151],"loc":{"start":{"line":1328,"column":6},"end":{"line":1328,"column":33}},"type":"AssignmentExpression","operator":"=","left":{"range":[38124,38133],"loc":{"start":{"line":1328,"column":6},"end":{"line":1328,"column":15}},"type":"Identifier","name":"successCb"},"right":{"range":[38136,38151],"loc":{"start":{"line":1328,"column":18},"end":{"line":1328,"column":33}},"type":"Identifier","name":"successCallback"}}}]},"alternate":{"range":[38163,38253],"loc":{"start":{"line":1329,"column":10},"end":{"line":1331,"column":5}},"type":"IfStatement","test":{"range":[38166,38210],"loc":{"start":{"line":1329,"column":13},"end":{"line":1329,"column":57}},"type":"LogicalExpression","operator":"&&","left":{"range":[38166,38173],"loc":{"start":{"line":1329,"column":13},"end":{"line":1329,"column":20}},"type":"Identifier","name":"options"},"right":{"range":[38177,38210],"loc":{"start":{"line":1329,"column":24},"end":{"line":1329,"column":57}},"type":"CallExpression","callee":{"range":[38177,38193],"loc":{"start":{"line":1329,"column":24},"end":{"line":1329,"column":40}},"type":"MemberExpression","computed":false,"object":{"range":[38177,38182],"loc":{"start":{"line":1329,"column":24},"end":{"line":1329,"column":29}},"type":"Identifier","name":"Utils"},"property":{"range":[38183,38193],"loc":{"start":{"line":1329,"column":30},"end":{"line":1329,"column":40}},"type":"Identifier","name":"isFunction"}},"arguments":[{"range":[38194,38209],"loc":{"start":{"line":1329,"column":41},"end":{"line":1329,"column":56}},"type":"MemberExpression","computed":false,"object":{"range":[38194,38201],"loc":{"start":{"line":1329,"column":41},"end":{"line":1329,"column":48}},"type":"Identifier","name":"options"},"property":{"range":[38202,38209],"loc":{"start":{"line":1329,"column":49},"end":{"line":1329,"column":56}},"type":"Identifier","name":"success"}}]}},"consequent":{"range":[38211,38253],"loc":{"start":{"line":1329,"column":58},"end":{"line":1331,"column":5}},"type":"BlockStatement","body":[{"range":[38219,38247],"loc":{"start":{"line":1330,"column":6},"end":{"line":1330,"column":34}},"type":"ExpressionStatement","expression":{"range":[38219,38246],"loc":{"start":{"line":1330,"column":6},"end":{"line":1330,"column":33}},"type":"AssignmentExpression","operator":"=","left":{"range":[38219,38228],"loc":{"start":{"line":1330,"column":6},"end":{"line":1330,"column":15}},"type":"Identifier","name":"successCb"},"right":{"range":[38231,38246],"loc":{"start":{"line":1330,"column":18},"end":{"line":1330,"column":33}},"type":"MemberExpression","computed":false,"object":{"range":[38231,38238],"loc":{"start":{"line":1330,"column":18},"end":{"line":1330,"column":25}},"type":"Identifier","name":"options"},"property":{"range":[38239,38246],"loc":{"start":{"line":1330,"column":26},"end":{"line":1330,"column":33}},"type":"Identifier","name":"success"}}}}]},"alternate":null}},{"range":[38259,38421],"loc":{"start":{"line":1333,"column":4},"end":{"line":1337,"column":5}},"type":"IfStatement","test":{"range":[38262,38293],"loc":{"start":{"line":1333,"column":7},"end":{"line":1333,"column":38}},"type":"CallExpression","callee":{"range":[38262,38278],"loc":{"start":{"line":1333,"column":7},"end":{"line":1333,"column":23}},"type":"MemberExpression","computed":false,"object":{"range":[38262,38267],"loc":{"start":{"line":1333,"column":7},"end":{"line":1333,"column":12}},"type":"Identifier","name":"Utils"},"property":{"range":[38268,38278],"loc":{"start":{"line":1333,"column":13},"end":{"line":1333,"column":23}},"type":"Identifier","name":"isFunction"}},"arguments":[{"range":[38279,38292],"loc":{"start":{"line":1333,"column":24},"end":{"line":1333,"column":37}},"type":"Identifier","name":"errorCallback"}]},"consequent":{"range":[38294,38332],"loc":{"start":{"line":1333,"column":39},"end":{"line":1335,"column":5}},"type":"BlockStatement","body":[{"range":[38302,38326],"loc":{"start":{"line":1334,"column":6},"end":{"line":1334,"column":30}},"type":"ExpressionStatement","expression":{"range":[38302,38325],"loc":{"start":{"line":1334,"column":6},"end":{"line":1334,"column":29}},"type":"AssignmentExpression","operator":"=","left":{"range":[38302,38309],"loc":{"start":{"line":1334,"column":6},"end":{"line":1334,"column":13}},"type":"Identifier","name":"errorCb"},"right":{"range":[38312,38325],"loc":{"start":{"line":1334,"column":16},"end":{"line":1334,"column":29}},"type":"Identifier","name":"errorCallback"}}}]},"alternate":{"range":[38337,38421],"loc":{"start":{"line":1335,"column":10},"end":{"line":1337,"column":5}},"type":"IfStatement","test":{"range":[38340,38382],"loc":{"start":{"line":1335,"column":13},"end":{"line":1335,"column":55}},"type":"LogicalExpression","operator":"&&","left":{"range":[38340,38347],"loc":{"start":{"line":1335,"column":13},"end":{"line":1335,"column":20}},"type":"Identifier","name":"options"},"right":{"range":[38351,38382],"loc":{"start":{"line":1335,"column":24},"end":{"line":1335,"column":55}},"type":"CallExpression","callee":{"range":[38351,38367],"loc":{"start":{"line":1335,"column":24},"end":{"line":1335,"column":40}},"type":"MemberExpression","computed":false,"object":{"range":[38351,38356],"loc":{"start":{"line":1335,"column":24},"end":{"line":1335,"column":29}},"type":"Identifier","name":"Utils"},"property":{"range":[38357,38367],"loc":{"start":{"line":1335,"column":30},"end":{"line":1335,"column":40}},"type":"Identifier","name":"isFunction"}},"arguments":[{"range":[38368,38381],"loc":{"start":{"line":1335,"column":41},"end":{"line":1335,"column":54}},"type":"MemberExpression","computed":false,"object":{"range":[38368,38375],"loc":{"start":{"line":1335,"column":41},"end":{"line":1335,"column":48}},"type":"Identifier","name":"options"},"property":{"range":[38376,38381],"loc":{"start":{"line":1335,"column":49},"end":{"line":1335,"column":54}},"type":"Identifier","name":"error"}}]}},"consequent":{"range":[38383,38421],"loc":{"start":{"line":1335,"column":56},"end":{"line":1337,"column":5}},"type":"BlockStatement","body":[{"range":[38391,38415],"loc":{"start":{"line":1336,"column":6},"end":{"line":1336,"column":30}},"type":"ExpressionStatement","expression":{"range":[38391,38414],"loc":{"start":{"line":1336,"column":6},"end":{"line":1336,"column":29}},"type":"AssignmentExpression","operator":"=","left":{"range":[38391,38398],"loc":{"start":{"line":1336,"column":6},"end":{"line":1336,"column":13}},"type":"Identifier","name":"errorCb"},"right":{"range":[38401,38414],"loc":{"start":{"line":1336,"column":16},"end":{"line":1336,"column":29}},"type":"MemberExpression","computed":false,"object":{"range":[38401,38408],"loc":{"start":{"line":1336,"column":16},"end":{"line":1336,"column":23}},"type":"Identifier","name":"options"},"property":{"range":[38409,38414],"loc":{"start":{"line":1336,"column":24},"end":{"line":1336,"column":29}},"type":"Identifier","name":"error"}}}}]},"alternate":null},"trailingComments":[{"type":"Line","value":" Cancel request, simply adds the flag to be processed afterwards.","range":[38427,38494],"loc":{"start":{"line":1339,"column":4},"end":{"line":1339,"column":71}}}]},{"range":[38499,38548],"loc":{"start":{"line":1340,"column":4},"end":{"line":1342,"column":5}},"type":"FunctionDeclaration","id":{"range":[38508,38514],"loc":{"start":{"line":1340,"column":13},"end":{"line":1340,"column":19}},"type":"Identifier","name":"cancel"},"params":[],"defaults":[],"body":{"range":[38517,38548],"loc":{"start":{"line":1340,"column":22},"end":{"line":1342,"column":5}},"type":"BlockStatement","body":[{"range":[38525,38542],"loc":{"start":{"line":1341,"column":6},"end":{"line":1341,"column":23}},"type":"ExpressionStatement","expression":{"range":[38525,38541],"loc":{"start":{"line":1341,"column":6},"end":{"line":1341,"column":22}},"type":"AssignmentExpression","operator":"=","left":{"range":[38525,38534],"loc":{"start":{"line":1341,"column":6},"end":{"line":1341,"column":15}},"type":"Identifier","name":"cancelled"},"right":{"range":[38537,38541],"loc":{"start":{"line":1341,"column":18},"end":{"line":1341,"column":22}},"type":"Literal","value":true,"raw":"true"}}}]},"generator":false,"expression":false,"leadingComments":[{"type":"Line","value":" Cancel request, simply adds the flag to be processed afterwards.","range":[38427,38494],"loc":{"start":{"line":1339,"column":4},"end":{"line":1339,"column":71}}}],"trailingComments":[{"type":"Line","value":" Apply request interceptors","range":[38554,38583],"loc":{"start":{"line":1344,"column":4},"end":{"line":1344,"column":33}}}]},{"range":[38588,39069],"loc":{"start":{"line":1345,"column":4},"end":{"line":1357,"column":5}},"type":"IfStatement","test":{"range":[38592,38634],"loc":{"start":{"line":1345,"column":8},"end":{"line":1345,"column":50}},"type":"CallExpression","callee":{"range":[38592,38605],"loc":{"start":{"line":1345,"column":8},"end":{"line":1345,"column":21}},"type":"MemberExpression","computed":false,"object":{"range":[38592,38597],"loc":{"start":{"line":1345,"column":8},"end":{"line":1345,"column":13}},"type":"Identifier","name":"Utils"},"property":{"range":[38598,38605],"loc":{"start":{"line":1345,"column":14},"end":{"line":1345,"column":21}},"type":"Identifier","name":"isArray"}},"arguments":[{"range":[38606,38633],"loc":{"start":{"line":1345,"column":22},"end":{"line":1345,"column":49}},"type":"MemberExpression","computed":false,"object":{"range":[38606,38620],"loc":{"start":{"line":1345,"column":22},"end":{"line":1345,"column":36}},"type":"Identifier","name":"requestOptions"},"property":{"range":[38621,38633],"loc":{"start":{"line":1345,"column":37},"end":{"line":1345,"column":49}},"type":"Identifier","name":"interceptors"}}]},"consequent":{"range":[38636,39069],"loc":{"start":{"line":1345,"column":52},"end":{"line":1357,"column":5}},"type":"BlockStatement","body":[{"range":[38644,39063],"loc":{"start":{"line":1346,"column":6},"end":{"line":1356,"column":9}},"type":"ExpressionStatement","expression":{"range":[38644,39062],"loc":{"start":{"line":1346,"column":6},"end":{"line":1356,"column":8}},"type":"CallExpression","callee":{"range":[38644,38679],"loc":{"start":{"line":1346,"column":6},"end":{"line":1346,"column":41}},"type":"MemberExpression","computed":false,"object":{"range":[38644,38671],"loc":{"start":{"line":1346,"column":6},"end":{"line":1346,"column":33}},"type":"MemberExpression","computed":false,"object":{"range":[38644,38658],"loc":{"start":{"line":1346,"column":6},"end":{"line":1346,"column":20}},"type":"Identifier","name":"requestOptions"},"property":{"range":[38659,38671],"loc":{"start":{"line":1346,"column":21},"end":{"line":1346,"column":33}},"type":"Identifier","name":"interceptors"}},"property":{"range":[38672,38679],"loc":{"start":{"line":1346,"column":34},"end":{"line":1346,"column":41}},"type":"Identifier","name":"forEach"}},"arguments":[{"range":[38680,39061],"loc":{"start":{"line":1346,"column":42},"end":{"line":1356,"column":7}},"type":"FunctionExpression","id":null,"params":[{"range":[38690,38701],"loc":{"start":{"line":1346,"column":52},"end":{"line":1346,"column":63}},"type":"Identifier","name":"interceptor"}],"defaults":[],"body":{"range":[38703,39061],"loc":{"start":{"line":1346,"column":65},"end":{"line":1356,"column":7}},"type":"BlockStatement","body":[{"range":[38713,39053],"loc":{"start":{"line":1347,"column":8},"end":{"line":1355,"column":9}},"type":"IfStatement","test":{"range":[38717,38791],"loc":{"start":{"line":1347,"column":12},"end":{"line":1347,"column":86}},"type":"LogicalExpression","operator":"&&","left":{"range":[38717,38777],"loc":{"start":{"line":1347,"column":12},"end":{"line":1347,"column":72}},"type":"LogicalExpression","operator":"&&","left":{"range":[38717,38736],"loc":{"start":{"line":1347,"column":12},"end":{"line":1347,"column":31}},"type":"MemberExpression","computed":false,"object":{"range":[38717,38728],"loc":{"start":{"line":1347,"column":12},"end":{"line":1347,"column":23}},"type":"Identifier","name":"interceptor"},"property":{"range":[38729,38736],"loc":{"start":{"line":1347,"column":24},"end":{"line":1347,"column":31}},"type":"Identifier","name":"request"}},"right":{"range":[38740,38777],"loc":{"start":{"line":1347,"column":35},"end":{"line":1347,"column":72}},"type":"CallExpression","callee":{"range":[38740,38756],"loc":{"start":{"line":1347,"column":35},"end":{"line":1347,"column":51}},"type":"MemberExpression","computed":false,"object":{"range":[38740,38745],"loc":{"start":{"line":1347,"column":35},"end":{"line":1347,"column":40}},"type":"Identifier","name":"Utils"},"property":{"range":[38746,38756],"loc":{"start":{"line":1347,"column":41},"end":{"line":1347,"column":51}},"type":"Identifier","name":"isFunction"}},"arguments":[{"range":[38757,38776],"loc":{"start":{"line":1347,"column":52},"end":{"line":1347,"column":71}},"type":"MemberExpression","computed":false,"object":{"range":[38757,38768],"loc":{"start":{"line":1347,"column":52},"end":{"line":1347,"column":63}},"type":"Identifier","name":"interceptor"},"property":{"range":[38769,38776],"loc":{"start":{"line":1347,"column":64},"end":{"line":1347,"column":71}},"type":"Identifier","name":"request"}}]}},"right":{"range":[38781,38791],"loc":{"start":{"line":1347,"column":76},"end":{"line":1347,"column":86}},"type":"UnaryExpression","operator":"!","argument":{"range":[38782,38791],"loc":{"start":{"line":1347,"column":77},"end":{"line":1347,"column":86}},"type":"Identifier","name":"cancelled"},"prefix":true}},"consequent":{"range":[38793,39053],"loc":{"start":{"line":1347,"column":88},"end":{"line":1355,"column":9}},"type":"BlockStatement","body":[{"range":[38843,38911],"loc":{"start":{"line":1350,"column":10},"end":{"line":1350,"column":78}},"type":"VariableDeclaration","declarations":[{"range":[38847,38910],"loc":{"start":{"line":1350,"column":14},"end":{"line":1350,"column":77}},"type":"VariableDeclarator","id":{"range":[38847,38864],"loc":{"start":{"line":1350,"column":14},"end":{"line":1350,"column":31}},"type":"Identifier","name":"newRequestOptions"},"init":{"range":[38867,38910],"loc":{"start":{"line":1350,"column":34},"end":{"line":1350,"column":77}},"type":"CallExpression","callee":{"range":[38867,38886],"loc":{"start":{"line":1350,"column":34},"end":{"line":1350,"column":53}},"type":"MemberExpression","computed":false,"object":{"range":[38867,38878],"loc":{"start":{"line":1350,"column":34},"end":{"line":1350,"column":45}},"type":"Identifier","name":"interceptor"},"property":{"range":[38879,38886],"loc":{"start":{"line":1350,"column":46},"end":{"line":1350,"column":53}},"type":"Identifier","name":"request"}},"arguments":[{"range":[38887,38901],"loc":{"start":{"line":1350,"column":54},"end":{"line":1350,"column":68}},"type":"Identifier","name":"requestOptions"},{"range":[38903,38909],"loc":{"start":{"line":1350,"column":70},"end":{"line":1350,"column":76}},"type":"Identifier","name":"cancel"}]}}],"kind":"var","leadingComments":[{"type":"Line","value":" Chain data manipulators","range":[38806,38832],"loc":{"start":{"line":1349,"column":10},"end":{"line":1349,"column":36}}}],"trailingComments":[{"type":"Line","value":" If interceptor does not return options, use old ones","range":[38923,38978],"loc":{"start":{"line":1352,"column":10},"end":{"line":1352,"column":65}}}]},{"range":[38989,39042],"loc":{"start":{"line":1353,"column":10},"end":{"line":1353,"column":63}},"type":"ExpressionStatement","expression":{"range":[38989,39041],"loc":{"start":{"line":1353,"column":10},"end":{"line":1353,"column":62}},"type":"AssignmentExpression","operator":"=","left":{"range":[38989,39003],"loc":{"start":{"line":1353,"column":10},"end":{"line":1353,"column":24}},"type":"Identifier","name":"requestOptions"},"right":{"range":[39006,39041],"loc":{"start":{"line":1353,"column":27},"end":{"line":1353,"column":62}},"type":"LogicalExpression","operator":"||","left":{"range":[39006,39023],"loc":{"start":{"line":1353,"column":27},"end":{"line":1353,"column":44}},"type":"Identifier","name":"newRequestOptions"},"right":{"range":[39027,39041],"loc":{"start":{"line":1353,"column":48},"end":{"line":1353,"column":62}},"type":"Identifier","name":"requestOptions"}}},"leadingComments":[{"type":"Line","value":" If interceptor does not return options, use old ones","range":[38923,38978],"loc":{"start":{"line":1352,"column":10},"end":{"line":1352,"column":65}}}]}]},"alternate":null}]},"generator":false,"expression":false}]}}]},"alternate":null,"leadingComments":[{"type":"Line","value":" Apply request interceptors","range":[38554,38583],"loc":{"start":{"line":1344,"column":4},"end":{"line":1344,"column":33}}}],"trailingComments":[{"type":"Line","value":" Reject request if it has been cancelled by request interceptors.","range":[39075,39142],"loc":{"start":{"line":1359,"column":4},"end":{"line":1359,"column":71}}}]},{"range":[39147,39295],"loc":{"start":{"line":1360,"column":4},"end":{"line":1365,"column":5}},"type":"IfStatement","test":{"range":[39150,39159],"loc":{"start":{"line":1360,"column":7},"end":{"line":1360,"column":16}},"type":"Identifier","name":"cancelled"},"consequent":{"range":[39160,39295],"loc":{"start":{"line":1360,"column":17},"end":{"line":1365,"column":5}},"type":"BlockStatement","body":[{"range":[39168,39289],"loc":{"start":{"line":1361,"column":6},"end":{"line":1364,"column":9}},"type":"ReturnStatement","argument":{"range":[39175,39288],"loc":{"start":{"line":1361,"column":13},"end":{"line":1364,"column":8}},"type":"CallExpression","callee":{"range":[39175,39189],"loc":{"start":{"line":1361,"column":13},"end":{"line":1361,"column":27}},"type":"MemberExpression","computed":false,"object":{"range":[39175,39182],"loc":{"start":{"line":1361,"column":13},"end":{"line":1361,"column":20}},"type":"Identifier","name":"Promise"},"property":{"range":[39183,39189],"loc":{"start":{"line":1361,"column":21},"end":{"line":1361,"column":27}},"type":"Identifier","name":"reject"}},"arguments":[{"range":[39190,39287],"loc":{"start":{"line":1361,"column":28},"end":{"line":1364,"column":7}},"type":"ObjectExpression","properties":[{"range":[39200,39254],"loc":{"start":{"line":1362,"column":8},"end":{"line":1362,"column":62}},"type":"Property","key":{"range":[39200,39206],"loc":{"start":{"line":1362,"column":8},"end":{"line":1362,"column":14}},"type":"Identifier","name":"errors"},"computed":false,"value":{"range":[39208,39254],"loc":{"start":{"line":1362,"column":16},"end":{"line":1362,"column":62}},"type":"ArrayExpression","elements":[{"range":[39209,39253],"loc":{"start":{"line":1362,"column":17},"end":{"line":1362,"column":61}},"type":"Literal","value":"Request cancelled on request interceptors.","raw":"'Request cancelled on request interceptors.'"}]},"kind":"init","method":false,"shorthand":false},{"range":[39264,39279],"loc":{"start":{"line":1363,"column":8},"end":{"line":1363,"column":23}},"type":"Property","key":{"range":[39264,39273],"loc":{"start":{"line":1363,"column":8},"end":{"line":1363,"column":17}},"type":"Identifier","name":"cancelled"},"computed":false,"value":{"range":[39275,39279],"loc":{"start":{"line":1363,"column":19},"end":{"line":1363,"column":23}},"type":"Literal","value":true,"raw":"true"},"kind":"init","method":false,"shorthand":false}]}]}}]},"alternate":null,"leadingComments":[{"type":"Line","value":" Reject request if it has been cancelled by request interceptors.","range":[39075,39142],"loc":{"start":{"line":1359,"column":4},"end":{"line":1359,"column":71}}}],"trailingComments":[{"type":"Line","value":" Returns a promise","range":[39301,39321],"loc":{"start":{"line":1367,"column":4},"end":{"line":1367,"column":24}}}]},{"range":[39326,39495],"loc":{"start":{"line":1368,"column":4},"end":{"line":1372,"column":5}},"type":"IfStatement","test":{"range":[39330,39359],"loc":{"start":{"line":1368,"column":8},"end":{"line":1368,"column":37}},"type":"BinaryExpression","operator":"===","left":{"range":[39330,39344],"loc":{"start":{"line":1368,"column":8},"end":{"line":1368,"column":22}},"type":"UnaryExpression","operator":"typeof","argument":{"range":[39337,39344],"loc":{"start":{"line":1368,"column":15},"end":{"line":1368,"column":22}},"type":"Identifier","name":"request"},"prefix":true},"right":{"range":[39349,39359],"loc":{"start":{"line":1368,"column":27},"end":{"line":1368,"column":37}},"type":"Literal","value":"function","raw":"'function'"}},"consequent":{"range":[39360,39426],"loc":{"start":{"line":1368,"column":38},"end":{"line":1370,"column":5}},"type":"BlockStatement","body":[{"range":[39368,39420],"loc":{"start":{"line":1369,"column":6},"end":{"line":1369,"column":58}},"type":"ExpressionStatement","expression":{"range":[39368,39419],"loc":{"start":{"line":1369,"column":6},"end":{"line":1369,"column":57}},"type":"AssignmentExpression","operator":"=","left":{"range":[39368,39376],"loc":{"start":{"line":1369,"column":6},"end":{"line":1369,"column":14}},"type":"Identifier","name":"response"},"right":{"range":[39379,39419],"loc":{"start":{"line":1369,"column":17},"end":{"line":1369,"column":57}},"type":"CallExpression","callee":{"range":[39379,39383],"loc":{"start":{"line":1369,"column":17},"end":{"line":1369,"column":21}},"type":"Identifier","name":"node"},"arguments":[{"range":[39384,39398],"loc":{"start":{"line":1369,"column":22},"end":{"line":1369,"column":36}},"type":"Identifier","name":"requestOptions"},{"range":[39400,39409],"loc":{"start":{"line":1369,"column":38},"end":{"line":1369,"column":47}},"type":"Identifier","name":"successCb"},{"range":[39411,39418],"loc":{"start":{"line":1369,"column":49},"end":{"line":1369,"column":56}},"type":"Identifier","name":"errorCb"}]}}}]},"alternate":{"range":[39432,39495],"loc":{"start":{"line":1370,"column":11},"end":{"line":1372,"column":5}},"type":"BlockStatement","body":[{"range":[39440,39489],"loc":{"start":{"line":1371,"column":6},"end":{"line":1371,"column":55}},"type":"ThrowStatement","argument":{"range":[39446,39488],"loc":{"start":{"line":1371,"column":12},"end":{"line":1371,"column":54}},"type":"NewExpression","callee":{"range":[39450,39455],"loc":{"start":{"line":1371,"column":16},"end":{"line":1371,"column":21}},"type":"Identifier","name":"Error"},"arguments":[{"range":[39456,39487],"loc":{"start":{"line":1371,"column":22},"end":{"line":1371,"column":53}},"type":"Literal","value":"Request module not available.","raw":"'Request module not available.'"}]}}]},"leadingComments":[{"type":"Line","value":" Returns a promise","range":[39301,39321],"loc":{"start":{"line":1367,"column":4},"end":{"line":1367,"column":24}}}],"trailingComments":[{"type":"Line","value":" Apply response interceptors","range":[39501,39531],"loc":{"start":{"line":1374,"column":4},"end":{"line":1374,"column":34}}}]},{"range":[39536,39844],"loc":{"start":{"line":1375,"column":4},"end":{"line":1384,"column":5}},"type":"IfStatement","test":{"range":[39540,39582],"loc":{"start":{"line":1375,"column":8},"end":{"line":1375,"column":50}},"type":"CallExpression","callee":{"range":[39540,39553],"loc":{"start":{"line":1375,"column":8},"end":{"line":1375,"column":21}},"type":"MemberExpression","computed":false,"object":{"range":[39540,39545],"loc":{"start":{"line":1375,"column":8},"end":{"line":1375,"column":13}},"type":"Identifier","name":"Utils"},"property":{"range":[39546,39553],"loc":{"start":{"line":1375,"column":14},"end":{"line":1375,"column":21}},"type":"Identifier","name":"isArray"}},"arguments":[{"range":[39554,39581],"loc":{"start":{"line":1375,"column":22},"end":{"line":1375,"column":49}},"type":"MemberExpression","computed":false,"object":{"range":[39554,39568],"loc":{"start":{"line":1375,"column":22},"end":{"line":1375,"column":36}},"type":"Identifier","name":"requestOptions"},"property":{"range":[39569,39581],"loc":{"start":{"line":1375,"column":37},"end":{"line":1375,"column":49}},"type":"Identifier","name":"interceptors"}}]},"consequent":{"range":[39584,39844],"loc":{"start":{"line":1375,"column":52},"end":{"line":1384,"column":5}},"type":"BlockStatement","body":[{"range":[39592,39838],"loc":{"start":{"line":1376,"column":6},"end":{"line":1383,"column":9}},"type":"ExpressionStatement","expression":{"range":[39592,39837],"loc":{"start":{"line":1376,"column":6},"end":{"line":1383,"column":8}},"type":"CallExpression","callee":{"range":[39592,39627],"loc":{"start":{"line":1376,"column":6},"end":{"line":1376,"column":41}},"type":"MemberExpression","computed":false,"object":{"range":[39592,39619],"loc":{"start":{"line":1376,"column":6},"end":{"line":1376,"column":33}},"type":"MemberExpression","computed":false,"object":{"range":[39592,39606],"loc":{"start":{"line":1376,"column":6},"end":{"line":1376,"column":20}},"type":"Identifier","name":"requestOptions"},"property":{"range":[39607,39619],"loc":{"start":{"line":1376,"column":21},"end":{"line":1376,"column":33}},"type":"Identifier","name":"interceptors"}},"property":{"range":[39620,39627],"loc":{"start":{"line":1376,"column":34},"end":{"line":1376,"column":41}},"type":"Identifier","name":"forEach"}},"arguments":[{"range":[39628,39836],"loc":{"start":{"line":1376,"column":42},"end":{"line":1383,"column":7}},"type":"FunctionExpression","id":null,"params":[{"range":[39638,39649],"loc":{"start":{"line":1376,"column":52},"end":{"line":1376,"column":63}},"type":"Identifier","name":"interceptor"}],"defaults":[],"body":{"range":[39651,39836],"loc":{"start":{"line":1376,"column":65},"end":{"line":1383,"column":7}},"type":"BlockStatement","body":[{"range":[39661,39828],"loc":{"start":{"line":1377,"column":8},"end":{"line":1382,"column":9}},"type":"IfStatement","test":{"range":[39665,39727],"loc":{"start":{"line":1377,"column":12},"end":{"line":1377,"column":74}},"type":"LogicalExpression","operator":"&&","left":{"range":[39665,39685],"loc":{"start":{"line":1377,"column":12},"end":{"line":1377,"column":32}},"type":"MemberExpression","computed":false,"object":{"range":[39665,39676],"loc":{"start":{"line":1377,"column":12},"end":{"line":1377,"column":23}},"type":"Identifier","name":"interceptor"},"property":{"range":[39677,39685],"loc":{"start":{"line":1377,"column":24},"end":{"line":1377,"column":32}},"type":"Identifier","name":"response"}},"right":{"range":[39689,39727],"loc":{"start":{"line":1377,"column":36},"end":{"line":1377,"column":74}},"type":"CallExpression","callee":{"range":[39689,39705],"loc":{"start":{"line":1377,"column":36},"end":{"line":1377,"column":52}},"type":"MemberExpression","computed":false,"object":{"range":[39689,39694],"loc":{"start":{"line":1377,"column":36},"end":{"line":1377,"column":41}},"type":"Identifier","name":"Utils"},"property":{"range":[39695,39705],"loc":{"start":{"line":1377,"column":42},"end":{"line":1377,"column":52}},"type":"Identifier","name":"isFunction"}},"arguments":[{"range":[39706,39726],"loc":{"start":{"line":1377,"column":53},"end":{"line":1377,"column":73}},"type":"MemberExpression","computed":false,"object":{"range":[39706,39717],"loc":{"start":{"line":1377,"column":53},"end":{"line":1377,"column":64}},"type":"Identifier","name":"interceptor"},"property":{"range":[39718,39726],"loc":{"start":{"line":1377,"column":65},"end":{"line":1377,"column":73}},"type":"Identifier","name":"response"}}]}},"consequent":{"range":[39729,39828],"loc":{"start":{"line":1377,"column":76},"end":{"line":1382,"column":9}},"type":"BlockStatement","body":[{"range":[39770,39817],"loc":{"start":{"line":1380,"column":10},"end":{"line":1380,"column":57}},"type":"ExpressionStatement","expression":{"range":[39770,39816],"loc":{"start":{"line":1380,"column":10},"end":{"line":1380,"column":56}},"type":"AssignmentExpression","operator":"=","left":{"range":[39770,39778],"loc":{"start":{"line":1380,"column":10},"end":{"line":1380,"column":18}},"type":"Identifier","name":"response"},"right":{"range":[39781,39816],"loc":{"start":{"line":1380,"column":21},"end":{"line":1380,"column":56}},"type":"CallExpression","callee":{"range":[39781,39794],"loc":{"start":{"line":1380,"column":21},"end":{"line":1380,"column":34}},"type":"MemberExpression","computed":false,"object":{"range":[39781,39789],"loc":{"start":{"line":1380,"column":21},"end":{"line":1380,"column":29}},"type":"Identifier","name":"response"},"property":{"range":[39790,39794],"loc":{"start":{"line":1380,"column":30},"end":{"line":1380,"column":34}},"type":"Identifier","name":"then"}},"arguments":[{"range":[39795,39815],"loc":{"start":{"line":1380,"column":35},"end":{"line":1380,"column":55}},"type":"MemberExpression","computed":false,"object":{"range":[39795,39806],"loc":{"start":{"line":1380,"column":35},"end":{"line":1380,"column":46}},"type":"Identifier","name":"interceptor"},"property":{"range":[39807,39815],"loc":{"start":{"line":1380,"column":47},"end":{"line":1380,"column":55}},"type":"Identifier","name":"response"}}]}},"leadingComments":[{"type":"Line","value":" Chain promises","range":[39742,39759],"loc":{"start":{"line":1379,"column":10},"end":{"line":1379,"column":27}}}]}]},"alternate":null}]},"generator":false,"expression":false}]}}]},"alternate":null,"leadingComments":[{"type":"Line","value":" Apply response interceptors","range":[39501,39531],"loc":{"start":{"line":1374,"column":4},"end":{"line":1374,"column":34}}}]},{"range":[39850,39866],"loc":{"start":{"line":1386,"column":4},"end":{"line":1386,"column":20}},"type":"ReturnStatement","argument":{"range":[39857,39865],"loc":{"start":{"line":1386,"column":11},"end":{"line":1386,"column":19}},"type":"Identifier","name":"response"}}]},"generator":false,"expression":false,"leadingComments":[{"type":"Block","value":"TODO refactor. same as ajax.js module","range":[36301,36342],"loc":{"start":{"line":1282,"column":2},"end":{"line":1282,"column":43}}},{"type":"Line","value":" EVT.api() returns a **Promise**. Nevertheless,","range":[36346,36395],"loc":{"start":{"line":1284,"column":2},"end":{"line":1284,"column":51}}},{"type":"Line","value":" it still allows the old-styled callback API as follows:","range":[36398,36456],"loc":{"start":{"line":1285,"column":2},"end":{"line":1285,"column":60}}},{"type":"Line","value":" - _**EVT.api(options)** - options object can contain `success` or `error`","range":[36460,36536],"loc":{"start":{"line":1287,"column":2},"end":{"line":1287,"column":78}}},{"type":"Line","value":" properties to define success and error callbacks_","range":[36539,36591],"loc":{"start":{"line":1288,"column":2},"end":{"line":1288,"column":54}}},{"type":"Line","value":" - _**EVT.api(options, successCb, errorCb)**_","range":[36594,36641],"loc":{"start":{"line":1289,"column":2},"end":{"line":1289,"column":49}}},{"type":"Line","value":" Options available are:","range":[36645,36670],"loc":{"start":{"line":1291,"column":2},"end":{"line":1291,"column":27}}},{"type":"Line","value":" ```","range":[36674,36680],"loc":{"start":{"line":1293,"column":2},"end":{"line":1293,"column":8}}},{"type":"Line","value":" fullResponse - override fullResponse global setting (see module `core`)","range":[36683,36757],"loc":{"start":{"line":1294,"column":2},"end":{"line":1294,"column":76}}},{"type":"Line","value":" apiUrl - override default `EVT.settings.apiUrl`","range":[36760,36810],"loc":{"start":{"line":1295,"column":2},"end":{"line":1295,"column":52}}},{"type":"Line","value":" url - URL of the request, relative to `EVT.settings.apiUrl`","range":[36813,36875],"loc":{"start":{"line":1296,"column":2},"end":{"line":1296,"column":64}}},{"type":"Line","value":" method - HTTP method, default: `GET`","range":[36878,36917],"loc":{"start":{"line":1297,"column":2},"end":{"line":1297,"column":41}}},{"type":"Line","value":" authorization - Authorization header content, should contain API Key","range":[36920,36991],"loc":{"start":{"line":1298,"column":2},"end":{"line":1298,"column":73}}},{"type":"Line","value":" success - success handler function","range":[36994,37031],"loc":{"start":{"line":1299,"column":2},"end":{"line":1299,"column":39}}},{"type":"Line","value":" error - error handler function","range":[37034,37067],"loc":{"start":{"line":1300,"column":2},"end":{"line":1300,"column":35}}},{"type":"Line","value":" interceptors - override interceptors pipeline. If you want to extend, use:","range":[37070,37147],"loc":{"start":{"line":1301,"column":2},"end":{"line":1301,"column":79}}},{"type":"Line","value":"    interceptors: EVT.settings.interceptors.concat([{...}])","range":[37150,37211],"loc":{"start":{"line":1302,"column":2},"end":{"line":1302,"column":63}}},{"type":"Line","value":" ```","range":[37214,37220],"loc":{"start":{"line":1303,"column":2},"end":{"line":1303,"column":8}}}],"trailingComments":[{"type":"Line","value":" Attach ajax method to the EVT module.","range":[39874,39914],"loc":{"start":{"line":1389,"column":2},"end":{"line":1389,"column":42}}}]},{"range":[39917,39932],"loc":{"start":{"line":1390,"column":2},"end":{"line":1390,"column":17}},"type":"ExpressionStatement","expression":{"range":[39917,39931],"loc":{"start":{"line":1390,"column":2},"end":{"line":1390,"column":16}},"type":"AssignmentExpression","operator":"=","left":{"range":[39917,39924],"loc":{"start":{"line":1390,"column":2},"end":{"line":1390,"column":9}},"type":"MemberExpression","computed":false,"object":{"range":[39917,39920],"loc":{"start":{"line":1390,"column":2},"end":{"line":1390,"column":5}},"type":"Identifier","name":"EVT"},"property":{"range":[39921,39924],"loc":{"start":{"line":1390,"column":6},"end":{"line":1390,"column":9}},"type":"Identifier","name":"api"}},"right":{"range":[39927,39931],"loc":{"start":{"line":1390,"column":12},"end":{"line":1390,"column":16}},"type":"Identifier","name":"http"}},"leadingComments":[{"type":"Line","value":" Attach ajax method to the EVT module.","range":[39874,39914],"loc":{"start":{"line":1389,"column":2},"end":{"line":1389,"column":42}}}]},{"range":[39936,39947],"loc":{"start":{"line":1392,"column":2},"end":{"line":1392,"column":13}},"type":"ReturnStatement","argument":{"range":[39943,39946],"loc":{"start":{"line":1392,"column":9},"end":{"line":1392,"column":12}},"type":"Identifier","name":"EVT"}}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" ## HTTP.JS","range":[35996,36009],"loc":{"start":{"line":1269,"column":0},"end":{"line":1269,"column":13}}},{"type":"Line","value":" **The request module attaches the Node.js api() method to the EVT module.","range":[36011,36087],"loc":{"start":{"line":1271,"column":0},"end":{"line":1271,"column":76}}},{"type":"Line","value":" It controls the raw request to the API, using the \"request\" node module.**","range":[36088,36165],"loc":{"start":{"line":1272,"column":0},"end":{"line":1272,"column":77}}}],"trailingComments":[{"type":"Line","value":" ## RESOURCE.JS","range":[39954,39971],"loc":{"start":{"line":1396,"column":0},"end":{"line":1396,"column":17}}},{"type":"Line","value":" **The private Resource module setups up the base resource CRUD methods.","range":[39973,40047],"loc":{"start":{"line":1398,"column":0},"end":{"line":1398,"column":74}}},{"type":"Line","value":" All requests made on a resource are scoped, meaning they will send the","range":[40048,40121],"loc":{"start":{"line":1399,"column":0},"end":{"line":1399,"column":73}}},{"type":"Line","value":" resouce's owner scope's API Key.**","range":[40122,40159],"loc":{"start":{"line":1400,"column":0},"end":{"line":1400,"column":37}}},{"type":"Line","value":" **Another important feature is that if the resource has a class/entity, which","range":[40161,40241],"loc":{"start":{"line":1402,"column":0},"end":{"line":1402,"column":80}}},{"type":"Line","value":" it allows to serialize and deserialize requests and responses. Also, with the","range":[40242,40322],"loc":{"start":{"line":1403,"column":0},"end":{"line":1403,"column":80}}},{"type":"Line","value":" `fetchCascade` option enabled, an entity knows how to automatically fetch nested","range":[40323,40406],"loc":{"start":{"line":1404,"column":0},"end":{"line":1404,"column":83}}},{"type":"Line","value":" entities.**","range":[40407,40421],"loc":{"start":{"line":1405,"column":0},"end":{"line":1405,"column":14}}},{"type":"Line","value":" *For example, the result of a .read() can be a Thng entity, that has specific","range":[40423,40503],"loc":{"start":{"line":1407,"column":0},"end":{"line":1407,"column":80}}},{"type":"Line","value":" methods to update itself, get the corresponding product or manage properties.*","range":[40504,40585],"loc":{"start":{"line":1408,"column":0},"end":{"line":1408,"column":81}}}]},{"range":[40587,53151],"loc":{"start":{"line":1410,"column":0},"end":{"line":1796,"column":3}},"type":"ExpressionStatement","expression":{"range":[40587,53150],"loc":{"start":{"line":1410,"column":0},"end":{"line":1796,"column":2}},"type":"CallExpression","callee":{"range":[40587,40593],"loc":{"start":{"line":1410,"column":0},"end":{"line":1410,"column":6}},"type":"Identifier","name":"define"},"arguments":[{"range":[40594,40604],"loc":{"start":{"line":1410,"column":7},"end":{"line":1410,"column":17}},"type":"Literal","value":"resource","raw":"'resource'"},{"range":[40605,40683],"loc":{"start":{"line":1410,"column":18},"end":{"line":1417,"column":1}},"type":"ArrayExpression","elements":[{"range":[40609,40615],"loc":{"start":{"line":1411,"column":2},"end":{"line":1411,"column":8}},"type":"Literal","value":"core","raw":"'core'"},{"range":[40619,40628],"loc":{"start":{"line":1412,"column":2},"end":{"line":1412,"column":11}},"type":"Literal","value":"promise","raw":"'promise'"},{"range":[40632,40645],"loc":{"start":{"line":1413,"column":2},"end":{"line":1413,"column":15}},"type":"Literal","value":"scope/scope","raw":"'scope/scope'"},{"range":[40649,40656],"loc":{"start":{"line":1414,"column":2},"end":{"line":1414,"column":9}},"type":"Literal","value":"utils","raw":"'utils'"},{"range":[40660,40668],"loc":{"start":{"line":1415,"column":2},"end":{"line":1415,"column":10}},"type":"Literal","value":"logger","raw":"'logger'"},{"range":[40672,40681],"loc":{"start":{"line":1416,"column":2},"end":{"line":1416,"column":11}},"type":"Literal","value":"connect","raw":"'connect'"}]},{"range":[40685,53149],"loc":{"start":{"line":1417,"column":3},"end":{"line":1796,"column":1}},"type":"FunctionExpression","id":null,"params":[{"range":[40695,40698],"loc":{"start":{"line":1417,"column":13},"end":{"line":1417,"column":16}},"type":"Identifier","name":"EVT"},{"range":[40700,40707],"loc":{"start":{"line":1417,"column":18},"end":{"line":1417,"column":25}},"type":"Identifier","name":"Promise"},{"range":[40709,40714],"loc":{"start":{"line":1417,"column":27},"end":{"line":1417,"column":32}},"type":"Identifier","name":"Scope"},{"range":[40716,40721],"loc":{"start":{"line":1417,"column":34},"end":{"line":1417,"column":39}},"type":"Identifier","name":"Utils"},{"range":[40723,40729],"loc":{"start":{"line":1417,"column":41},"end":{"line":1417,"column":47}},"type":"Identifier","name":"Logger"}],"defaults":[],"body":{"range":[40731,53149],"loc":{"start":{"line":1417,"column":49},"end":{"line":1796,"column":1}},"type":"BlockStatement","body":[{"range":[40735,40748],"loc":{"start":{"line":1418,"column":2},"end":{"line":1418,"column":15}},"type":"ExpressionStatement","expression":{"range":[40735,40747],"loc":{"start":{"line":1418,"column":2},"end":{"line":1418,"column":14}},"type":"Literal","value":"use strict","raw":"'use strict'"},"trailingComments":[{"type":"Line","value":" Resource constructor. As this is a private module, all resource constructors","range":[40752,40831],"loc":{"start":{"line":1420,"column":2},"end":{"line":1420,"column":81}}},{"type":"Line","value":" are called within scopes. It accepts:","range":[40834,40874],"loc":{"start":{"line":1421,"column":2},"end":{"line":1421,"column":42}}},{"type":"Line","value":" - _**scope**: scope that owns this resource (`EVT.App`, `EVT.User`)_","range":[40878,40949],"loc":{"start":{"line":1423,"column":2},"end":{"line":1423,"column":73}}},{"type":"Line","value":" - _**path**: relative path to `EVT.settings.apiUrl` of this resource.","range":[40952,41024],"loc":{"start":{"line":1424,"column":2},"end":{"line":1424,"column":74}}},{"type":"Line","value":" It can represent a list or a single object (e.g. '/thngs', '/thngs/1')_","range":[41027,41101],"loc":{"start":{"line":1425,"column":2},"end":{"line":1425,"column":76}}},{"type":"Line","value":" - _**classFn**: class of the current resource, used to serialize/deserialize","range":[41104,41183],"loc":{"start":{"line":1426,"column":2},"end":{"line":1426,"column":81}}},{"type":"Line","value":" requests/responses. If the response does not need special treatment and the","range":[41186,41264],"loc":{"start":{"line":1427,"column":2},"end":{"line":1427,"column":80}}},{"type":"Line","value":" JSON representation is enough, the classFn can be omitted._","range":[41267,41329],"loc":{"start":{"line":1428,"column":2},"end":{"line":1428,"column":64}}}]},{"range":[41332,42498],"loc":{"start":{"line":1429,"column":2},"end":{"line":1466,"column":4}},"type":"VariableDeclaration","declarations":[{"range":[41336,42497],"loc":{"start":{"line":1429,"column":6},"end":{"line":1466,"column":3}},"type":"VariableDeclarator","id":{"range":[41336,41344],"loc":{"start":{"line":1429,"column":6},"end":{"line":1429,"column":14}},"type":"Identifier","name":"Resource"},"init":{"range":[41347,42497],"loc":{"start":{"line":1429,"column":17},"end":{"line":1466,"column":3}},"type":"FunctionExpression","id":null,"params":[{"range":[41357,41362],"loc":{"start":{"line":1429,"column":27},"end":{"line":1429,"column":32}},"type":"Identifier","name":"scope"},{"range":[41364,41368],"loc":{"start":{"line":1429,"column":34},"end":{"line":1429,"column":38}},"type":"Identifier","name":"path"},{"range":[41370,41377],"loc":{"start":{"line":1429,"column":40},"end":{"line":1429,"column":47}},"type":"Identifier","name":"classFn"}],"defaults":[],"body":{"range":[41379,42497],"loc":{"start":{"line":1429,"column":49},"end":{"line":1466,"column":3}},"type":"BlockStatement","body":[{"range":[41439,41600],"loc":{"start":{"line":1432,"column":4},"end":{"line":1436,"column":5}},"type":"IfStatement","test":{"range":[41443,41474],"loc":{"start":{"line":1432,"column":8},"end":{"line":1432,"column":39}},"type":"LogicalExpression","operator":"&&","left":{"range":[41443,41448],"loc":{"start":{"line":1432,"column":8},"end":{"line":1432,"column":13}},"type":"Identifier","name":"scope"},"right":{"range":[41452,41474],"loc":{"start":{"line":1432,"column":17},"end":{"line":1432,"column":39}},"type":"BinaryExpression","operator":"instanceof","left":{"range":[41452,41457],"loc":{"start":{"line":1432,"column":17},"end":{"line":1432,"column":22}},"type":"Identifier","name":"scope"},"right":{"range":[41469,41474],"loc":{"start":{"line":1432,"column":34},"end":{"line":1432,"column":39}},"type":"Identifier","name":"Scope"}}},"consequent":{"range":[41476,41509],"loc":{"start":{"line":1432,"column":41},"end":{"line":1434,"column":5}},"type":"BlockStatement","body":[{"range":[41484,41503],"loc":{"start":{"line":1433,"column":6},"end":{"line":1433,"column":25}},"type":"ExpressionStatement","expression":{"range":[41484,41502],"loc":{"start":{"line":1433,"column":6},"end":{"line":1433,"column":24}},"type":"AssignmentExpression","operator":"=","left":{"range":[41484,41494],"loc":{"start":{"line":1433,"column":6},"end":{"line":1433,"column":16}},"type":"MemberExpression","computed":false,"object":{"range":[41484,41488],"loc":{"start":{"line":1433,"column":6},"end":{"line":1433,"column":10}},"type":"ThisExpression"},"property":{"range":[41489,41494],"loc":{"start":{"line":1433,"column":11},"end":{"line":1433,"column":16}},"type":"Identifier","name":"scope"}},"right":{"range":[41497,41502],"loc":{"start":{"line":1433,"column":19},"end":{"line":1433,"column":24}},"type":"Identifier","name":"scope"}}}]},"alternate":{"range":[41515,41600],"loc":{"start":{"line":1434,"column":11},"end":{"line":1436,"column":5}},"type":"BlockStatement","body":[{"range":[41523,41594],"loc":{"start":{"line":1435,"column":6},"end":{"line":1435,"column":77}},"type":"ThrowStatement","argument":{"range":[41529,41593],"loc":{"start":{"line":1435,"column":12},"end":{"line":1435,"column":76}},"type":"NewExpression","callee":{"range":[41533,41542],"loc":{"start":{"line":1435,"column":16},"end":{"line":1435,"column":25}},"type":"Identifier","name":"TypeError"},"arguments":[{"range":[41543,41592],"loc":{"start":{"line":1435,"column":26},"end":{"line":1435,"column":75}},"type":"Literal","value":"Scope should inherit from Scope (e.g. EVT.App).","raw":"'Scope should inherit from Scope (e.g. EVT.App).'"}]}}]},"leadingComments":[{"type":"Line","value":" Setup scope for each of the subsequent calls.","range":[41386,41434],"loc":{"start":{"line":1431,"column":4},"end":{"line":1431,"column":52}}}],"trailingComments":[{"type":"Line","value":" Setup path and allow to omit leading '/'.","range":[41606,41650],"loc":{"start":{"line":1438,"column":4},"end":{"line":1438,"column":48}}}]},{"range":[41655,41854],"loc":{"start":{"line":1439,"column":4},"end":{"line":1448,"column":5}},"type":"IfStatement","test":{"range":[41659,41679],"loc":{"start":{"line":1439,"column":8},"end":{"line":1439,"column":28}},"type":"CallExpression","callee":{"range":[41659,41673],"loc":{"start":{"line":1439,"column":8},"end":{"line":1439,"column":22}},"type":"MemberExpression","computed":false,"object":{"range":[41659,41664],"loc":{"start":{"line":1439,"column":8},"end":{"line":1439,"column":13}},"type":"Identifier","name":"Utils"},"property":{"range":[41665,41673],"loc":{"start":{"line":1439,"column":14},"end":{"line":1439,"column":22}},"type":"Identifier","name":"isString"}},"arguments":[{"range":[41674,41678],"loc":{"start":{"line":1439,"column":23},"end":{"line":1439,"column":27}},"type":"Identifier","name":"path"}]},"consequent":{"range":[41681,41777],"loc":{"start":{"line":1439,"column":30},"end":{"line":1446,"column":5}},"type":"BlockStatement","body":[{"range":[41690,41746],"loc":{"start":{"line":1441,"column":6},"end":{"line":1443,"column":7}},"type":"IfStatement","test":{"range":[41694,41708],"loc":{"start":{"line":1441,"column":10},"end":{"line":1441,"column":24}},"type":"BinaryExpression","operator":"!=","left":{"range":[41694,41701],"loc":{"start":{"line":1441,"column":10},"end":{"line":1441,"column":17}},"type":"MemberExpression","computed":true,"object":{"range":[41694,41698],"loc":{"start":{"line":1441,"column":10},"end":{"line":1441,"column":14}},"type":"Identifier","name":"path"},"property":{"range":[41699,41700],"loc":{"start":{"line":1441,"column":15},"end":{"line":1441,"column":16}},"type":"Literal","value":0,"raw":"0"}},"right":{"range":[41705,41708],"loc":{"start":{"line":1441,"column":21},"end":{"line":1441,"column":24}},"type":"Literal","value":"/","raw":"'/'"}},"consequent":{"range":[41710,41746],"loc":{"start":{"line":1441,"column":26},"end":{"line":1443,"column":7}},"type":"BlockStatement","body":[{"range":[41720,41738],"loc":{"start":{"line":1442,"column":8},"end":{"line":1442,"column":26}},"type":"ExpressionStatement","expression":{"range":[41720,41737],"loc":{"start":{"line":1442,"column":8},"end":{"line":1442,"column":25}},"type":"AssignmentExpression","operator":"=","left":{"range":[41720,41724],"loc":{"start":{"line":1442,"column":8},"end":{"line":1442,"column":12}},"type":"Identifier","name":"path"},"right":{"range":[41727,41737],"loc":{"start":{"line":1442,"column":15},"end":{"line":1442,"column":25}},"type":"BinaryExpression","operator":"+","left":{"range":[41727,41730],"loc":{"start":{"line":1442,"column":15},"end":{"line":1442,"column":18}},"type":"Literal","value":"/","raw":"'/'"},"right":{"range":[41733,41737],"loc":{"start":{"line":1442,"column":21},"end":{"line":1442,"column":25}},"type":"Identifier","name":"path"}}}}]},"alternate":null},{"range":[41753,41770],"loc":{"start":{"line":1444,"column":6},"end":{"line":1444,"column":23}},"type":"ExpressionStatement","expression":{"range":[41753,41769],"loc":{"start":{"line":1444,"column":6},"end":{"line":1444,"column":22}},"type":"AssignmentExpression","operator":"=","left":{"range":[41753,41762],"loc":{"start":{"line":1444,"column":6},"end":{"line":1444,"column":15}},"type":"MemberExpression","computed":false,"object":{"range":[41753,41757],"loc":{"start":{"line":1444,"column":6},"end":{"line":1444,"column":10}},"type":"ThisExpression"},"property":{"range":[41758,41762],"loc":{"start":{"line":1444,"column":11},"end":{"line":1444,"column":15}},"type":"Identifier","name":"path"}},"right":{"range":[41765,41769],"loc":{"start":{"line":1444,"column":18},"end":{"line":1444,"column":22}},"type":"Identifier","name":"path"}}}]},"alternate":{"range":[41783,41854],"loc":{"start":{"line":1446,"column":11},"end":{"line":1448,"column":5}},"type":"BlockStatement","body":[{"range":[41791,41848],"loc":{"start":{"line":1447,"column":6},"end":{"line":1447,"column":63}},"type":"ThrowStatement","argument":{"range":[41797,41847],"loc":{"start":{"line":1447,"column":12},"end":{"line":1447,"column":62}},"type":"NewExpression","callee":{"range":[41801,41810],"loc":{"start":{"line":1447,"column":16},"end":{"line":1447,"column":25}},"type":"Identifier","name":"TypeError"},"arguments":[{"range":[41811,41846],"loc":{"start":{"line":1447,"column":26},"end":{"line":1447,"column":61}},"type":"Literal","value":"Resource must have a String path.","raw":"'Resource must have a String path.'"}]}}]},"leadingComments":[{"type":"Line","value":" Setup path and allow to omit leading '/'.","range":[41606,41650],"loc":{"start":{"line":1438,"column":4},"end":{"line":1438,"column":48}}}],"trailingComments":[{"type":"Line","value":" Setup class for serializing and deserializing results. It must implement","range":[41860,41935],"loc":{"start":{"line":1450,"column":4},"end":{"line":1450,"column":79}}},{"type":"Line","value":" a *toJSON()* method. This method is in the Entity prototype. Since all of our","range":[41940,42020],"loc":{"start":{"line":1451,"column":4},"end":{"line":1451,"column":84}}},{"type":"Line","value":" entities inherit from Entity, by default all of them will have this.","range":[42025,42096],"loc":{"start":{"line":1452,"column":4},"end":{"line":1452,"column":75}}}]},{"range":[42101,42492],"loc":{"start":{"line":1453,"column":4},"end":{"line":1464,"column":5}},"type":"IfStatement","test":{"range":[42105,42130],"loc":{"start":{"line":1453,"column":8},"end":{"line":1453,"column":33}},"type":"CallExpression","callee":{"range":[42105,42121],"loc":{"start":{"line":1453,"column":8},"end":{"line":1453,"column":24}},"type":"MemberExpression","computed":false,"object":{"range":[42105,42110],"loc":{"start":{"line":1453,"column":8},"end":{"line":1453,"column":13}},"type":"Identifier","name":"Utils"},"property":{"range":[42111,42121],"loc":{"start":{"line":1453,"column":14},"end":{"line":1453,"column":24}},"type":"Identifier","name":"isFunction"}},"arguments":[{"range":[42122,42129],"loc":{"start":{"line":1453,"column":25},"end":{"line":1453,"column":32}},"type":"Identifier","name":"classFn"}]},"consequent":{"range":[42132,42341],"loc":{"start":{"line":1453,"column":35},"end":{"line":1461,"column":5}},"type":"BlockStatement","body":[{"range":[42141,42334],"loc":{"start":{"line":1455,"column":6},"end":{"line":1459,"column":7}},"type":"IfStatement","test":{"range":[42145,42187],"loc":{"start":{"line":1455,"column":10},"end":{"line":1455,"column":52}},"type":"CallExpression","callee":{"range":[42145,42161],"loc":{"start":{"line":1455,"column":10},"end":{"line":1455,"column":26}},"type":"MemberExpression","computed":false,"object":{"range":[42145,42150],"loc":{"start":{"line":1455,"column":10},"end":{"line":1455,"column":15}},"type":"Identifier","name":"Utils"},"property":{"range":[42151,42161],"loc":{"start":{"line":1455,"column":16},"end":{"line":1455,"column":26}},"type":"Identifier","name":"isFunction"}},"arguments":[{"range":[42162,42186],"loc":{"start":{"line":1455,"column":27},"end":{"line":1455,"column":51}},"type":"MemberExpression","computed":false,"object":{"range":[42162,42179],"loc":{"start":{"line":1455,"column":27},"end":{"line":1455,"column":44}},"type":"MemberExpression","computed":false,"object":{"range":[42162,42169],"loc":{"start":{"line":1455,"column":27},"end":{"line":1455,"column":34}},"type":"Identifier","name":"classFn"},"property":{"range":[42170,42179],"loc":{"start":{"line":1455,"column":35},"end":{"line":1455,"column":44}},"type":"Identifier","name":"prototype"}},"property":{"range":[42180,42186],"loc":{"start":{"line":1455,"column":45},"end":{"line":1455,"column":51}},"type":"Identifier","name":"toJSON"}}]},"consequent":{"range":[42189,42231],"loc":{"start":{"line":1455,"column":54},"end":{"line":1457,"column":7}},"type":"BlockStatement","body":[{"range":[42199,42223],"loc":{"start":{"line":1456,"column":8},"end":{"line":1456,"column":32}},"type":"ExpressionStatement","expression":{"range":[42199,42222],"loc":{"start":{"line":1456,"column":8},"end":{"line":1456,"column":31}},"type":"AssignmentExpression","operator":"=","left":{"range":[42199,42212],"loc":{"start":{"line":1456,"column":8},"end":{"line":1456,"column":21}},"type":"MemberExpression","computed":true,"object":{"range":[42199,42203],"loc":{"start":{"line":1456,"column":8},"end":{"line":1456,"column":12}},"type":"ThisExpression"},"property":{"range":[42204,42211],"loc":{"start":{"line":1456,"column":13},"end":{"line":1456,"column":20}},"type":"Literal","value":"class","raw":"'class'"}},"right":{"range":[42215,42222],"loc":{"start":{"line":1456,"column":24},"end":{"line":1456,"column":31}},"type":"Identifier","name":"classFn"}}}]},"alternate":{"range":[42237,42334],"loc":{"start":{"line":1457,"column":13},"end":{"line":1459,"column":7}},"type":"BlockStatement","body":[{"range":[42247,42326],"loc":{"start":{"line":1458,"column":8},"end":{"line":1458,"column":87}},"type":"ExpressionStatement","expression":{"range":[42247,42325],"loc":{"start":{"line":1458,"column":8},"end":{"line":1458,"column":86}},"type":"CallExpression","callee":{"range":[42247,42259],"loc":{"start":{"line":1458,"column":8},"end":{"line":1458,"column":20}},"type":"MemberExpression","computed":false,"object":{"range":[42247,42253],"loc":{"start":{"line":1458,"column":8},"end":{"line":1458,"column":14}},"type":"Identifier","name":"Logger"},"property":{"range":[42254,42259],"loc":{"start":{"line":1458,"column":15},"end":{"line":1458,"column":20}},"type":"Identifier","name":"error"}},"arguments":[{"range":[42260,42324],"loc":{"start":{"line":1458,"column":21},"end":{"line":1458,"column":85}},"type":"BinaryExpression","operator":"+","left":{"range":[42260,42289],"loc":{"start":{"line":1458,"column":21},"end":{"line":1458,"column":50}},"type":"BinaryExpression","operator":"+","left":{"range":[42260,42282],"loc":{"start":{"line":1458,"column":21},"end":{"line":1458,"column":43}},"type":"Literal","value":"Class for resource \"","raw":"'Class for resource \"'"},"right":{"range":[42285,42289],"loc":{"start":{"line":1458,"column":46},"end":{"line":1458,"column":50}},"type":"Identifier","name":"path"}},"right":{"range":[42292,42324],"loc":{"start":{"line":1458,"column":53},"end":{"line":1458,"column":85}},"type":"Literal","value":"\" does not implement toJSON().","raw":"'\" does not implement toJSON().'"}}]}}]}}]},"alternate":{"range":[42347,42492],"loc":{"start":{"line":1461,"column":11},"end":{"line":1464,"column":5}},"type":"BlockStatement","body":[{"range":[42355,42486],"loc":{"start":{"line":1462,"column":6},"end":{"line":1463,"column":50}},"type":"ExpressionStatement","expression":{"range":[42355,42485],"loc":{"start":{"line":1462,"column":6},"end":{"line":1463,"column":49}},"type":"CallExpression","callee":{"range":[42355,42366],"loc":{"start":{"line":1462,"column":6},"end":{"line":1462,"column":17}},"type":"MemberExpression","computed":false,"object":{"range":[42355,42361],"loc":{"start":{"line":1462,"column":6},"end":{"line":1462,"column":12}},"type":"Identifier","name":"Logger"},"property":{"range":[42362,42366],"loc":{"start":{"line":1462,"column":13},"end":{"line":1462,"column":17}},"type":"Identifier","name":"info"}},"arguments":[{"range":[42367,42484],"loc":{"start":{"line":1462,"column":18},"end":{"line":1463,"column":48}},"type":"BinaryExpression","operator":"+","left":{"range":[42367,42433],"loc":{"start":{"line":1462,"column":18},"end":{"line":1462,"column":84}},"type":"BinaryExpression","operator":"+","left":{"range":[42367,42396],"loc":{"start":{"line":1462,"column":18},"end":{"line":1462,"column":47}},"type":"BinaryExpression","operator":"+","left":{"range":[42367,42389],"loc":{"start":{"line":1462,"column":18},"end":{"line":1462,"column":40}},"type":"Literal","value":"Class for resource \"","raw":"'Class for resource \"'"},"right":{"range":[42392,42396],"loc":{"start":{"line":1462,"column":43},"end":{"line":1462,"column":47}},"type":"Identifier","name":"path"}},"right":{"range":[42399,42433],"loc":{"start":{"line":1462,"column":50},"end":{"line":1462,"column":84}},"type":"Literal","value":"\" undefined. It will not return ","raw":"'\" undefined. It will not return '"}},"right":{"range":[42444,42484],"loc":{"start":{"line":1463,"column":8},"end":{"line":1463,"column":48}},"type":"Literal","value":"proper Entities nor cascaded Entities.","raw":"'proper Entities nor cascaded Entities.'"}}]}}]},"leadingComments":[{"type":"Line","value":" Setup class for serializing and deserializing results. It must implement","range":[41860,41935],"loc":{"start":{"line":1450,"column":4},"end":{"line":1450,"column":79}}},{"type":"Line","value":" a *toJSON()* method. This method is in the Entity prototype. Since all of our","range":[41940,42020],"loc":{"start":{"line":1451,"column":4},"end":{"line":1451,"column":84}}},{"type":"Line","value":" entities inherit from Entity, by default all of them will have this.","range":[42025,42096],"loc":{"start":{"line":1452,"column":4},"end":{"line":1452,"column":75}}}]}]},"generator":false,"expression":false}}],"kind":"var","leadingComments":[{"type":"Line","value":" Resource constructor. As this is a private module, all resource constructors","range":[40752,40831],"loc":{"start":{"line":1420,"column":2},"end":{"line":1420,"column":81}}},{"type":"Line","value":" are called within scopes. It accepts:","range":[40834,40874],"loc":{"start":{"line":1421,"column":2},"end":{"line":1421,"column":42}}},{"type":"Line","value":" - _**scope**: scope that owns this resource (`EVT.App`, `EVT.User`)_","range":[40878,40949],"loc":{"start":{"line":1423,"column":2},"end":{"line":1423,"column":73}}},{"type":"Line","value":" - _**path**: relative path to `EVT.settings.apiUrl` of this resource.","range":[40952,41024],"loc":{"start":{"line":1424,"column":2},"end":{"line":1424,"column":74}}},{"type":"Line","value":" It can represent a list or a single object (e.g. '/thngs', '/thngs/1')_","range":[41027,41101],"loc":{"start":{"line":1425,"column":2},"end":{"line":1425,"column":76}}},{"type":"Line","value":" - _**classFn**: class of the current resource, used to serialize/deserialize","range":[41104,41183],"loc":{"start":{"line":1426,"column":2},"end":{"line":1426,"column":81}}},{"type":"Line","value":" requests/responses. If the response does not need special treatment and the","range":[41186,41264],"loc":{"start":{"line":1427,"column":2},"end":{"line":1427,"column":80}}},{"type":"Line","value":" JSON representation is enough, the classFn can be omitted._","range":[41267,41329],"loc":{"start":{"line":1428,"column":2},"end":{"line":1428,"column":64}}}],"trailingComments":[{"type":"Line","value":" Helper method to prepare and handle a request giving the parameters passed to","range":[42503,42583],"loc":{"start":{"line":1469,"column":2},"end":{"line":1469,"column":82}}},{"type":"Line","value":" any of the resource methods. Allow to have callbacks as separate parameters or","range":[42586,42667],"loc":{"start":{"line":1470,"column":2},"end":{"line":1470,"column":83}}},{"type":"Line","value":" included in the options object, providing exactly the same interface as `EVT.api()`.","range":[42670,42757],"loc":{"start":{"line":1471,"column":2},"end":{"line":1471,"column":89}}}]},{"range":[42760,44368],"loc":{"start":{"line":1472,"column":2},"end":{"line":1513,"column":3}},"type":"FunctionDeclaration","id":{"range":[42769,42777],"loc":{"start":{"line":1472,"column":11},"end":{"line":1472,"column":19}},"type":"Identifier","name":"_request"},"params":[{"range":[42778,42792],"loc":{"start":{"line":1472,"column":20},"end":{"line":1472,"column":34}},"type":"Identifier","name":"requestOptions"},{"range":[42794,42805],"loc":{"start":{"line":1472,"column":36},"end":{"line":1472,"column":47}},"type":"Identifier","name":"userOptions"},{"range":[42807,42822],"loc":{"start":{"line":1472,"column":49},"end":{"line":1472,"column":64}},"type":"Identifier","name":"successCallback"},{"range":[42824,42837],"loc":{"start":{"line":1472,"column":66},"end":{"line":1472,"column":79}},"type":"Identifier","name":"errorCallback"}],"defaults":[],"body":{"range":[42839,44368],"loc":{"start":{"line":1472,"column":81},"end":{"line":1513,"column":3}},"type":"BlockStatement","body":[{"range":[42845,42923],"loc":{"start":{"line":1473,"column":4},"end":{"line":1475,"column":14}},"type":"VariableDeclaration","declarations":[{"range":[42849,42876],"loc":{"start":{"line":1473,"column":8},"end":{"line":1473,"column":35}},"type":"VariableDeclarator","id":{"range":[42849,42858],"loc":{"start":{"line":1473,"column":8},"end":{"line":1473,"column":17}},"type":"Identifier","name":"successCb"},"init":{"range":[42861,42876],"loc":{"start":{"line":1473,"column":20},"end":{"line":1473,"column":35}},"type":"Identifier","name":"successCallback"}},{"range":[42884,42907],"loc":{"start":{"line":1474,"column":6},"end":{"line":1474,"column":29}},"type":"VariableDeclarator","id":{"range":[42884,42891],"loc":{"start":{"line":1474,"column":6},"end":{"line":1474,"column":13}},"type":"Identifier","name":"errorCb"},"init":{"range":[42894,42907],"loc":{"start":{"line":1474,"column":16},"end":{"line":1474,"column":29}},"type":"Identifier","name":"errorCallback"}},{"range":[42915,42922],"loc":{"start":{"line":1475,"column":6},"end":{"line":1475,"column":13}},"type":"VariableDeclarator","id":{"range":[42915,42922],"loc":{"start":{"line":1475,"column":6},"end":{"line":1475,"column":13}},"type":"Identifier","name":"request"},"init":null}],"kind":"var","trailingComments":[{"type":"Line","value":" This verification allows not to pass any options, and have callbacks in","range":[42929,43003],"loc":{"start":{"line":1477,"column":4},"end":{"line":1477,"column":78}}},{"type":"Line","value":" its place. It also allows passing *null* if there is no success callback.","range":[43008,43084],"loc":{"start":{"line":1478,"column":4},"end":{"line":1478,"column":80}}}]},{"range":[43089,43512],"loc":{"start":{"line":1479,"column":4},"end":{"line":1491,"column":5}},"type":"IfStatement","test":{"range":[43093,43146],"loc":{"start":{"line":1479,"column":8},"end":{"line":1479,"column":61}},"type":"LogicalExpression","operator":"||","left":{"range":[43093,43122],"loc":{"start":{"line":1479,"column":8},"end":{"line":1479,"column":37}},"type":"CallExpression","callee":{"range":[43093,43109],"loc":{"start":{"line":1479,"column":8},"end":{"line":1479,"column":24}},"type":"MemberExpression","computed":false,"object":{"range":[43093,43098],"loc":{"start":{"line":1479,"column":8},"end":{"line":1479,"column":13}},"type":"Identifier","name":"Utils"},"property":{"range":[43099,43109],"loc":{"start":{"line":1479,"column":14},"end":{"line":1479,"column":24}},"type":"Identifier","name":"isFunction"}},"arguments":[{"range":[43110,43121],"loc":{"start":{"line":1479,"column":25},"end":{"line":1479,"column":36}},"type":"Identifier","name":"userOptions"}]},"right":{"range":[43126,43146],"loc":{"start":{"line":1479,"column":41},"end":{"line":1479,"column":61}},"type":"BinaryExpression","operator":"===","left":{"range":[43126,43137],"loc":{"start":{"line":1479,"column":41},"end":{"line":1479,"column":52}},"type":"Identifier","name":"userOptions"},"right":{"range":[43142,43146],"loc":{"start":{"line":1479,"column":57},"end":{"line":1479,"column":61}},"type":"Literal","value":null,"raw":"null"}}},"consequent":{"range":[43148,43221],"loc":{"start":{"line":1479,"column":63},"end":{"line":1484,"column":5}},"type":"BlockStatement","body":[{"range":[43157,43181],"loc":{"start":{"line":1481,"column":6},"end":{"line":1481,"column":30}},"type":"ExpressionStatement","expression":{"range":[43157,43180],"loc":{"start":{"line":1481,"column":6},"end":{"line":1481,"column":29}},"type":"AssignmentExpression","operator":"=","left":{"range":[43157,43166],"loc":{"start":{"line":1481,"column":6},"end":{"line":1481,"column":15}},"type":"Identifier","name":"successCb"},"right":{"range":[43169,43180],"loc":{"start":{"line":1481,"column":18},"end":{"line":1481,"column":29}},"type":"Identifier","name":"userOptions"}}},{"range":[43188,43214],"loc":{"start":{"line":1482,"column":6},"end":{"line":1482,"column":32}},"type":"ExpressionStatement","expression":{"range":[43188,43213],"loc":{"start":{"line":1482,"column":6},"end":{"line":1482,"column":31}},"type":"AssignmentExpression","operator":"=","left":{"range":[43188,43195],"loc":{"start":{"line":1482,"column":6},"end":{"line":1482,"column":13}},"type":"Identifier","name":"errorCb"},"right":{"range":[43198,43213],"loc":{"start":{"line":1482,"column":16},"end":{"line":1482,"column":31}},"type":"Identifier","name":"successCallback"}}}]},"alternate":{"range":[43227,43512],"loc":{"start":{"line":1484,"column":11},"end":{"line":1491,"column":5}},"type":"IfStatement","test":{"range":[43231,43258],"loc":{"start":{"line":1484,"column":15},"end":{"line":1484,"column":42}},"type":"CallExpression","callee":{"range":[43231,43245],"loc":{"start":{"line":1484,"column":15},"end":{"line":1484,"column":29}},"type":"MemberExpression","computed":false,"object":{"range":[43231,43236],"loc":{"start":{"line":1484,"column":15},"end":{"line":1484,"column":20}},"type":"Identifier","name":"Utils"},"property":{"range":[43237,43245],"loc":{"start":{"line":1484,"column":21},"end":{"line":1484,"column":29}},"type":"Identifier","name":"isObject"}},"arguments":[{"range":[43246,43257],"loc":{"start":{"line":1484,"column":30},"end":{"line":1484,"column":41}},"type":"Identifier","name":"userOptions"}]},"consequent":{"range":[43260,43512],"loc":{"start":{"line":1484,"column":44},"end":{"line":1491,"column":5}},"type":"BlockStatement","body":[{"range":[43446,43505],"loc":{"start":{"line":1489,"column":6},"end":{"line":1489,"column":65}},"type":"ExpressionStatement","expression":{"range":[43446,43504],"loc":{"start":{"line":1489,"column":6},"end":{"line":1489,"column":64}},"type":"AssignmentExpression","operator":"=","left":{"range":[43446,43460],"loc":{"start":{"line":1489,"column":6},"end":{"line":1489,"column":20}},"type":"Identifier","name":"requestOptions"},"right":{"range":[43463,43504],"loc":{"start":{"line":1489,"column":23},"end":{"line":1489,"column":64}},"type":"CallExpression","callee":{"range":[43463,43475],"loc":{"start":{"line":1489,"column":23},"end":{"line":1489,"column":35}},"type":"MemberExpression","computed":false,"object":{"range":[43463,43468],"loc":{"start":{"line":1489,"column":23},"end":{"line":1489,"column":28}},"type":"Identifier","name":"Utils"},"property":{"range":[43469,43475],"loc":{"start":{"line":1489,"column":29},"end":{"line":1489,"column":35}},"type":"Identifier","name":"extend"}},"arguments":[{"range":[43476,43490],"loc":{"start":{"line":1489,"column":36},"end":{"line":1489,"column":50}},"type":"Identifier","name":"requestOptions"},{"range":[43492,43503],"loc":{"start":{"line":1489,"column":52},"end":{"line":1489,"column":63}},"type":"Identifier","name":"userOptions"}]}},"leadingComments":[{"type":"Line","value":" If options is an object, merge it with the request options. Callbacks","range":[43269,43341],"loc":{"start":{"line":1486,"column":6},"end":{"line":1486,"column":78}}},{"type":"Line","value":" can be included in this object or as separate parameters (same as","range":[43348,43416],"loc":{"start":{"line":1487,"column":6},"end":{"line":1487,"column":74}}},{"type":"Line","value":" `EVT.api()`).","range":[43423,43439],"loc":{"start":{"line":1488,"column":6},"end":{"line":1488,"column":22}}}]}]},"alternate":null},"leadingComments":[{"type":"Line","value":" This verification allows not to pass any options, and have callbacks in","range":[42929,43003],"loc":{"start":{"line":1477,"column":4},"end":{"line":1477,"column":78}}},{"type":"Line","value":" its place. It also allows passing *null* if there is no success callback.","range":[43008,43084],"loc":{"start":{"line":1478,"column":4},"end":{"line":1478,"column":80}}}],"trailingComments":[{"type":"Line","value":" Use current scope's API key to perform the request.","range":[43518,43572],"loc":{"start":{"line":1493,"column":4},"end":{"line":1493,"column":58}}}]},{"range":[43577,43626],"loc":{"start":{"line":1494,"column":4},"end":{"line":1494,"column":53}},"type":"ExpressionStatement","expression":{"range":[43577,43625],"loc":{"start":{"line":1494,"column":4},"end":{"line":1494,"column":52}},"type":"AssignmentExpression","operator":"=","left":{"range":[43577,43605],"loc":{"start":{"line":1494,"column":4},"end":{"line":1494,"column":32}},"type":"MemberExpression","computed":false,"object":{"range":[43577,43591],"loc":{"start":{"line":1494,"column":4},"end":{"line":1494,"column":18}},"type":"Identifier","name":"requestOptions"},"property":{"range":[43592,43605],"loc":{"start":{"line":1494,"column":19},"end":{"line":1494,"column":32}},"type":"Identifier","name":"authorization"}},"right":{"range":[43608,43625],"loc":{"start":{"line":1494,"column":35},"end":{"line":1494,"column":52}},"type":"MemberExpression","computed":false,"object":{"range":[43608,43618],"loc":{"start":{"line":1494,"column":35},"end":{"line":1494,"column":45}},"type":"MemberExpression","computed":false,"object":{"range":[43608,43612],"loc":{"start":{"line":1494,"column":35},"end":{"line":1494,"column":39}},"type":"ThisExpression"},"property":{"range":[43613,43618],"loc":{"start":{"line":1494,"column":40},"end":{"line":1494,"column":45}},"type":"Identifier","name":"scope"}},"property":{"range":[43619,43625],"loc":{"start":{"line":1494,"column":46},"end":{"line":1494,"column":52}},"type":"Identifier","name":"apiKey"}}},"leadingComments":[{"type":"Line","value":" Use current scope's API key to perform the request.","range":[43518,43572],"loc":{"start":{"line":1493,"column":4},"end":{"line":1493,"column":58}}}],"trailingComments":[{"type":"Line","value":" If parentScope is set to operator scope, use the operator API key.","range":[43632,43701],"loc":{"start":{"line":1496,"column":4},"end":{"line":1496,"column":73}}}]},{"range":[43706,44145],"loc":{"start":{"line":1497,"column":4},"end":{"line":1506,"column":5}},"type":"IfStatement","test":{"range":[43710,43772],"loc":{"start":{"line":1497,"column":8},"end":{"line":1497,"column":70}},"type":"LogicalExpression","operator":"&&","left":{"range":[43710,43722],"loc":{"start":{"line":1497,"column":8},"end":{"line":1497,"column":20}},"type":"MemberExpression","computed":false,"object":{"range":[43710,43713],"loc":{"start":{"line":1497,"column":8},"end":{"line":1497,"column":11}},"type":"Identifier","name":"EVT"},"property":{"range":[43714,43722],"loc":{"start":{"line":1497,"column":12},"end":{"line":1497,"column":20}},"type":"Identifier","name":"Operator"}},"right":{"range":[43726,43772],"loc":{"start":{"line":1497,"column":24},"end":{"line":1497,"column":70}},"type":"BinaryExpression","operator":"instanceof","left":{"range":[43726,43748],"loc":{"start":{"line":1497,"column":24},"end":{"line":1497,"column":46}},"type":"MemberExpression","computed":false,"object":{"range":[43726,43736],"loc":{"start":{"line":1497,"column":24},"end":{"line":1497,"column":34}},"type":"MemberExpression","computed":false,"object":{"range":[43726,43730],"loc":{"start":{"line":1497,"column":24},"end":{"line":1497,"column":28}},"type":"ThisExpression"},"property":{"range":[43731,43736],"loc":{"start":{"line":1497,"column":29},"end":{"line":1497,"column":34}},"type":"Identifier","name":"scope"}},"property":{"range":[43737,43748],"loc":{"start":{"line":1497,"column":35},"end":{"line":1497,"column":46}},"type":"Identifier","name":"parentScope"}},"right":{"range":[43760,43772],"loc":{"start":{"line":1497,"column":58},"end":{"line":1497,"column":70}},"type":"MemberExpression","computed":false,"object":{"range":[43760,43763],"loc":{"start":{"line":1497,"column":58},"end":{"line":1497,"column":61}},"type":"Identifier","name":"EVT"},"property":{"range":[43764,43772],"loc":{"start":{"line":1497,"column":62},"end":{"line":1497,"column":70}},"type":"Identifier","name":"Operator"}}}},"consequent":{"range":[43774,44145],"loc":{"start":{"line":1497,"column":72},"end":{"line":1506,"column":5}},"type":"BlockStatement","body":[{"range":[43782,43843],"loc":{"start":{"line":1498,"column":6},"end":{"line":1498,"column":67}},"type":"ExpressionStatement","expression":{"range":[43782,43842],"loc":{"start":{"line":1498,"column":6},"end":{"line":1498,"column":66}},"type":"AssignmentExpression","operator":"=","left":{"range":[43782,43810],"loc":{"start":{"line":1498,"column":6},"end":{"line":1498,"column":34}},"type":"MemberExpression","computed":false,"object":{"range":[43782,43796],"loc":{"start":{"line":1498,"column":6},"end":{"line":1498,"column":20}},"type":"Identifier","name":"requestOptions"},"property":{"range":[43797,43810],"loc":{"start":{"line":1498,"column":21},"end":{"line":1498,"column":34}},"type":"Identifier","name":"authorization"}},"right":{"range":[43813,43842],"loc":{"start":{"line":1498,"column":37},"end":{"line":1498,"column":66}},"type":"MemberExpression","computed":false,"object":{"range":[43813,43835],"loc":{"start":{"line":1498,"column":37},"end":{"line":1498,"column":59}},"type":"MemberExpression","computed":false,"object":{"range":[43813,43823],"loc":{"start":{"line":1498,"column":37},"end":{"line":1498,"column":47}},"type":"MemberExpression","computed":false,"object":{"range":[43813,43817],"loc":{"start":{"line":1498,"column":37},"end":{"line":1498,"column":41}},"type":"ThisExpression"},"property":{"range":[43818,43823],"loc":{"start":{"line":1498,"column":42},"end":{"line":1498,"column":47}},"type":"Identifier","name":"scope"}},"property":{"range":[43824,43835],"loc":{"start":{"line":1498,"column":48},"end":{"line":1498,"column":59}},"type":"Identifier","name":"parentScope"}},"property":{"range":[43836,43842],"loc":{"start":{"line":1498,"column":60},"end":{"line":1498,"column":66}},"type":"Identifier","name":"apiKey"}}},"trailingComments":[{"type":"Line","value":" If we're working in application scope as an operator,","range":[43851,43907],"loc":{"start":{"line":1500,"column":6},"end":{"line":1500,"column":62}}},{"type":"Line","value":" we need to send the application id as a parameter.","range":[43914,43967],"loc":{"start":{"line":1501,"column":6},"end":{"line":1501,"column":59}}}]},{"range":[43974,44139],"loc":{"start":{"line":1502,"column":6},"end":{"line":1505,"column":7}},"type":"IfStatement","test":{"range":[43978,44007],"loc":{"start":{"line":1502,"column":10},"end":{"line":1502,"column":39}},"type":"BinaryExpression","operator":"instanceof","left":{"range":[43978,43988],"loc":{"start":{"line":1502,"column":10},"end":{"line":1502,"column":20}},"type":"MemberExpression","computed":false,"object":{"range":[43978,43982],"loc":{"start":{"line":1502,"column":10},"end":{"line":1502,"column":14}},"type":"ThisExpression"},"property":{"range":[43983,43988],"loc":{"start":{"line":1502,"column":15},"end":{"line":1502,"column":20}},"type":"Identifier","name":"scope"}},"right":{"range":[44000,44007],"loc":{"start":{"line":1502,"column":32},"end":{"line":1502,"column":39}},"type":"MemberExpression","computed":false,"object":{"range":[44000,44003],"loc":{"start":{"line":1502,"column":32},"end":{"line":1502,"column":35}},"type":"Identifier","name":"EVT"},"property":{"range":[44004,44007],"loc":{"start":{"line":1502,"column":36},"end":{"line":1502,"column":39}},"type":"Identifier","name":"App"}}},"consequent":{"range":[44009,44139],"loc":{"start":{"line":1502,"column":41},"end":{"line":1505,"column":7}},"type":"BlockStatement","body":[{"range":[44019,44071],"loc":{"start":{"line":1503,"column":8},"end":{"line":1503,"column":60}},"type":"ExpressionStatement","expression":{"range":[44019,44070],"loc":{"start":{"line":1503,"column":8},"end":{"line":1503,"column":59}},"type":"AssignmentExpression","operator":"=","left":{"range":[44019,44040],"loc":{"start":{"line":1503,"column":8},"end":{"line":1503,"column":29}},"type":"MemberExpression","computed":false,"object":{"range":[44019,44033],"loc":{"start":{"line":1503,"column":8},"end":{"line":1503,"column":22}},"type":"Identifier","name":"requestOptions"},"property":{"range":[44034,44040],"loc":{"start":{"line":1503,"column":23},"end":{"line":1503,"column":29}},"type":"Identifier","name":"params"}},"right":{"range":[44043,44070],"loc":{"start":{"line":1503,"column":32},"end":{"line":1503,"column":59}},"type":"LogicalExpression","operator":"||","left":{"range":[44043,44064],"loc":{"start":{"line":1503,"column":32},"end":{"line":1503,"column":53}},"type":"MemberExpression","computed":false,"object":{"range":[44043,44057],"loc":{"start":{"line":1503,"column":32},"end":{"line":1503,"column":46}},"type":"Identifier","name":"requestOptions"},"property":{"range":[44058,44064],"loc":{"start":{"line":1503,"column":47},"end":{"line":1503,"column":53}},"type":"Identifier","name":"params"}},"right":{"range":[44068,44070],"loc":{"start":{"line":1503,"column":57},"end":{"line":1503,"column":59}},"type":"ObjectExpression","properties":[]}}}},{"range":[44080,44131],"loc":{"start":{"line":1504,"column":8},"end":{"line":1504,"column":59}},"type":"ExpressionStatement","expression":{"range":[44080,44130],"loc":{"start":{"line":1504,"column":8},"end":{"line":1504,"column":58}},"type":"AssignmentExpression","operator":"=","left":{"range":[44080,44109],"loc":{"start":{"line":1504,"column":8},"end":{"line":1504,"column":37}},"type":"MemberExpression","computed":false,"object":{"range":[44080,44101],"loc":{"start":{"line":1504,"column":8},"end":{"line":1504,"column":29}},"type":"MemberExpression","computed":false,"object":{"range":[44080,44094],"loc":{"start":{"line":1504,"column":8},"end":{"line":1504,"column":22}},"type":"Identifier","name":"requestOptions"},"property":{"range":[44095,44101],"loc":{"start":{"line":1504,"column":23},"end":{"line":1504,"column":29}},"type":"Identifier","name":"params"}},"property":{"range":[44102,44109],"loc":{"start":{"line":1504,"column":30},"end":{"line":1504,"column":37}},"type":"Identifier","name":"project"}},"right":{"range":[44112,44130],"loc":{"start":{"line":1504,"column":40},"end":{"line":1504,"column":58}},"type":"MemberExpression","computed":false,"object":{"range":[44112,44122],"loc":{"start":{"line":1504,"column":40},"end":{"line":1504,"column":50}},"type":"MemberExpression","computed":false,"object":{"range":[44112,44116],"loc":{"start":{"line":1504,"column":40},"end":{"line":1504,"column":44}},"type":"ThisExpression"},"property":{"range":[44117,44122],"loc":{"start":{"line":1504,"column":45},"end":{"line":1504,"column":50}},"type":"Identifier","name":"scope"}},"property":{"range":[44123,44130],"loc":{"start":{"line":1504,"column":51},"end":{"line":1504,"column":58}},"type":"Identifier","name":"project"}}}}]},"alternate":null,"leadingComments":[{"type":"Line","value":" If we're working in application scope as an operator,","range":[43851,43907],"loc":{"start":{"line":1500,"column":6},"end":{"line":1500,"column":62}}},{"type":"Line","value":" we need to send the application id as a parameter.","range":[43914,43967],"loc":{"start":{"line":1501,"column":6},"end":{"line":1501,"column":59}}}]}]},"alternate":null,"leadingComments":[{"type":"Line","value":" If parentScope is set to operator scope, use the operator API key.","range":[43632,43701],"loc":{"start":{"line":1496,"column":4},"end":{"line":1496,"column":73}}}],"trailingComments":[{"type":"Line","value":" Actually make the request and handle its response, by forwarding to","range":[44151,44221],"loc":{"start":{"line":1508,"column":4},"end":{"line":1508,"column":74}}},{"type":"Line","value":" the raw `EVT.api()` method.","range":[44226,44256],"loc":{"start":{"line":1509,"column":4},"end":{"line":1509,"column":34}}}]},{"range":[44261,44315],"loc":{"start":{"line":1510,"column":4},"end":{"line":1510,"column":58}},"type":"ExpressionStatement","expression":{"range":[44261,44314],"loc":{"start":{"line":1510,"column":4},"end":{"line":1510,"column":57}},"type":"AssignmentExpression","operator":"=","left":{"range":[44261,44268],"loc":{"start":{"line":1510,"column":4},"end":{"line":1510,"column":11}},"type":"Identifier","name":"request"},"right":{"range":[44271,44314],"loc":{"start":{"line":1510,"column":14},"end":{"line":1510,"column":57}},"type":"CallExpression","callee":{"range":[44271,44278],"loc":{"start":{"line":1510,"column":14},"end":{"line":1510,"column":21}},"type":"MemberExpression","computed":false,"object":{"range":[44271,44274],"loc":{"start":{"line":1510,"column":14},"end":{"line":1510,"column":17}},"type":"Identifier","name":"EVT"},"property":{"range":[44275,44278],"loc":{"start":{"line":1510,"column":18},"end":{"line":1510,"column":21}},"type":"Identifier","name":"api"}},"arguments":[{"range":[44279,44293],"loc":{"start":{"line":1510,"column":22},"end":{"line":1510,"column":36}},"type":"Identifier","name":"requestOptions"},{"range":[44295,44304],"loc":{"start":{"line":1510,"column":38},"end":{"line":1510,"column":47}},"type":"Identifier","name":"successCb"},{"range":[44306,44313],"loc":{"start":{"line":1510,"column":49},"end":{"line":1510,"column":56}},"type":"Identifier","name":"errorCb"}]}},"leadingComments":[{"type":"Line","value":" Actually make the request and handle its response, by forwarding to","range":[44151,44221],"loc":{"start":{"line":1508,"column":4},"end":{"line":1508,"column":74}}},{"type":"Line","value":" the raw `EVT.api()` method.","range":[44226,44256],"loc":{"start":{"line":1509,"column":4},"end":{"line":1509,"column":34}}}]},{"range":[44321,44364],"loc":{"start":{"line":1512,"column":4},"end":{"line":1512,"column":47}},"type":"ReturnStatement","argument":{"range":[44328,44363],"loc":{"start":{"line":1512,"column":11},"end":{"line":1512,"column":46}},"type":"CallExpression","callee":{"range":[44328,44348],"loc":{"start":{"line":1512,"column":11},"end":{"line":1512,"column":31}},"type":"MemberExpression","computed":false,"object":{"range":[44328,44343],"loc":{"start":{"line":1512,"column":11},"end":{"line":1512,"column":26}},"type":"Identifier","name":"_handleResponse"},"property":{"range":[44344,44348],"loc":{"start":{"line":1512,"column":27},"end":{"line":1512,"column":31}},"type":"Identifier","name":"call"}},"arguments":[{"range":[44349,44353],"loc":{"start":{"line":1512,"column":32},"end":{"line":1512,"column":36}},"type":"ThisExpression"},{"range":[44355,44362],"loc":{"start":{"line":1512,"column":38},"end":{"line":1512,"column":45}},"type":"Identifier","name":"request"}]}}]},"generator":false,"expression":false,"leadingComments":[{"type":"Line","value":" Helper method to prepare and handle a request giving the parameters passed to","range":[42503,42583],"loc":{"start":{"line":1469,"column":2},"end":{"line":1469,"column":82}}},{"type":"Line","value":" any of the resource methods. Allow to have callbacks as separate parameters or","range":[42586,42667],"loc":{"start":{"line":1470,"column":2},"end":{"line":1470,"column":83}}},{"type":"Line","value":" included in the options object, providing exactly the same interface as `EVT.api()`.","range":[42670,42757],"loc":{"start":{"line":1471,"column":2},"end":{"line":1471,"column":89}}}],"trailingComments":[{"type":"Line","value":" Handle asynchronous requests based on the custom or default options.","range":[44372,44443],"loc":{"start":{"line":1515,"column":2},"end":{"line":1515,"column":73}}}]},{"range":[44446,44914],"loc":{"start":{"line":1516,"column":2},"end":{"line":1529,"column":3}},"type":"FunctionDeclaration","id":{"range":[44455,44470],"loc":{"start":{"line":1516,"column":11},"end":{"line":1516,"column":26}},"type":"Identifier","name":"_handleResponse"},"params":[{"range":[44471,44478],"loc":{"start":{"line":1516,"column":27},"end":{"line":1516,"column":34}},"type":"Identifier","name":"request"}],"defaults":[],"body":{"range":[44480,44914],"loc":{"start":{"line":1516,"column":36},"end":{"line":1529,"column":3}},"type":"BlockStatement","body":[{"range":[44486,44503],"loc":{"start":{"line":1517,"column":4},"end":{"line":1517,"column":21}},"type":"VariableDeclaration","declarations":[{"range":[44490,44502],"loc":{"start":{"line":1517,"column":8},"end":{"line":1517,"column":20}},"type":"VariableDeclarator","id":{"range":[44490,44495],"loc":{"start":{"line":1517,"column":8},"end":{"line":1517,"column":13}},"type":"Identifier","name":"$this"},"init":{"range":[44498,44502],"loc":{"start":{"line":1517,"column":16},"end":{"line":1517,"column":20}},"type":"ThisExpression"}}],"kind":"var","trailingComments":[{"type":"Line","value":" Before returning the response, parse it.","range":[44509,44552],"loc":{"start":{"line":1519,"column":4},"end":{"line":1519,"column":47}}},{"type":"Line","value":" This success handler is called inside the Promise, so we need to","range":[44557,44624],"loc":{"start":{"line":1520,"column":4},"end":{"line":1520,"column":71}}},{"type":"Line","value":" keep the current context.","range":[44629,44657],"loc":{"start":{"line":1521,"column":4},"end":{"line":1521,"column":32}}},{"type":"Line","value":" Also, By not providing an error interceptor, we will let the error","range":[44663,44732],"loc":{"start":{"line":1523,"column":4},"end":{"line":1523,"column":73}}},{"type":"Line","value":" propagate from `EVT.api()` to the `resource.read()` promise error","range":[44737,44805],"loc":{"start":{"line":1524,"column":4},"end":{"line":1524,"column":72}}},{"type":"Line","value":" handler","range":[44810,44820],"loc":{"start":{"line":1525,"column":4},"end":{"line":1525,"column":14}}}]},{"range":[44825,44910],"loc":{"start":{"line":1526,"column":4},"end":{"line":1528,"column":7}},"type":"ReturnStatement","argument":{"range":[44832,44909],"loc":{"start":{"line":1526,"column":11},"end":{"line":1528,"column":6}},"type":"CallExpression","callee":{"range":[44832,44844],"loc":{"start":{"line":1526,"column":11},"end":{"line":1526,"column":23}},"type":"MemberExpression","computed":false,"object":{"range":[44832,44839],"loc":{"start":{"line":1526,"column":11},"end":{"line":1526,"column":18}},"type":"Identifier","name":"request"},"property":{"range":[44840,44844],"loc":{"start":{"line":1526,"column":19},"end":{"line":1526,"column":23}},"type":"Identifier","name":"then"}},"arguments":[{"range":[44845,44908],"loc":{"start":{"line":1526,"column":24},"end":{"line":1528,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[44855,44863],"loc":{"start":{"line":1526,"column":34},"end":{"line":1526,"column":42}},"type":"Identifier","name":"response"}],"defaults":[],"body":{"range":[44865,44908],"loc":{"start":{"line":1526,"column":44},"end":{"line":1528,"column":5}},"type":"BlockStatement","body":[{"range":[44873,44902],"loc":{"start":{"line":1527,"column":6},"end":{"line":1527,"column":35}},"type":"ReturnStatement","argument":{"range":[44880,44901],"loc":{"start":{"line":1527,"column":13},"end":{"line":1527,"column":34}},"type":"CallExpression","callee":{"range":[44880,44891],"loc":{"start":{"line":1527,"column":13},"end":{"line":1527,"column":24}},"type":"MemberExpression","computed":false,"object":{"range":[44880,44885],"loc":{"start":{"line":1527,"column":13},"end":{"line":1527,"column":18}},"type":"Identifier","name":"$this"},"property":{"range":[44886,44891],"loc":{"start":{"line":1527,"column":19},"end":{"line":1527,"column":24}},"type":"Identifier","name":"parse"}},"arguments":[{"range":[44892,44900],"loc":{"start":{"line":1527,"column":25},"end":{"line":1527,"column":33}},"type":"Identifier","name":"response"}]}}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" Before returning the response, parse it.","range":[44509,44552],"loc":{"start":{"line":1519,"column":4},"end":{"line":1519,"column":47}}},{"type":"Line","value":" This success handler is called inside the Promise, so we need to","range":[44557,44624],"loc":{"start":{"line":1520,"column":4},"end":{"line":1520,"column":71}}},{"type":"Line","value":" keep the current context.","range":[44629,44657],"loc":{"start":{"line":1521,"column":4},"end":{"line":1521,"column":32}}},{"type":"Line","value":" Also, By not providing an error interceptor, we will let the error","range":[44663,44732],"loc":{"start":{"line":1523,"column":4},"end":{"line":1523,"column":73}}},{"type":"Line","value":" propagate from `EVT.api()` to the `resource.read()` promise error","range":[44737,44805],"loc":{"start":{"line":1524,"column":4},"end":{"line":1524,"column":72}}},{"type":"Line","value":" handler","range":[44810,44820],"loc":{"start":{"line":1525,"column":4},"end":{"line":1525,"column":14}}}]}]},"generator":false,"expression":false,"leadingComments":[{"type":"Line","value":" Handle asynchronous requests based on the custom or default options.","range":[44372,44443],"loc":{"start":{"line":1515,"column":2},"end":{"line":1515,"column":73}}}],"trailingComments":[{"type":"Line","value":" ### Resource API","range":[44919,44938],"loc":{"start":{"line":1532,"column":2},"end":{"line":1532,"column":21}}},{"type":"Line","value":" Any resource create in a scope will inherit these methods. However, it","range":[44942,45015],"loc":{"start":{"line":1534,"column":2},"end":{"line":1534,"column":75}}},{"type":"Line","value":" is possible to add custom methods to a resource in a custom Entity","range":[45018,45087],"loc":{"start":{"line":1535,"column":2},"end":{"line":1535,"column":71}}},{"type":"Line","value":" *resourceConstructor* (e.g. refer to the [`entity/user` doc](entity/user.html),","range":[45090,45172],"loc":{"start":{"line":1536,"column":2},"end":{"line":1536,"column":84}}},{"type":"Line","value":" where a *.validate()* method is added to every User resource).","range":[45175,45240],"loc":{"start":{"line":1537,"column":2},"end":{"line":1537,"column":67}}},{"type":"Line","value":" **Remember that all CRUD methods forward to `EVT.api()` which returns a Promise.**","range":[45244,45329],"loc":{"start":{"line":1539,"column":2},"end":{"line":1539,"column":87}}},{"type":"Line","value":" #### Parse","range":[45333,45346],"loc":{"start":{"line":1541,"column":2},"end":{"line":1541,"column":15}}},{"type":"Line","value":" Parse a given response into an instance of this resource's","range":[45350,45411],"loc":{"start":{"line":1543,"column":2},"end":{"line":1543,"column":63}}},{"type":"Line","value":" class/entity, if possible. An entity always keeps a reference to its","range":[45414,45485],"loc":{"start":{"line":1544,"column":2},"end":{"line":1544,"column":73}}},{"type":"Line","value":" mother resource, in order to alias methods (e.g. the *entity.update()*","range":[45488,45561],"loc":{"start":{"line":1545,"column":2},"end":{"line":1545,"column":75}}},{"type":"Line","value":" method calls the mother *resource.update(entity.toJSON())* ).","range":[45564,45628],"loc":{"start":{"line":1546,"column":2},"end":{"line":1546,"column":66}}},{"type":"Line","value":" We expect the response to be one of these:","range":[45631,45676],"loc":{"start":{"line":1547,"column":2},"end":{"line":1547,"column":47}}},{"type":"Line","value":" * an object containing results (array of or single object) in \"data\",","range":[45679,45751],"loc":{"start":{"line":1548,"column":2},"end":{"line":1548,"column":74}}},{"type":"Line","value":" * an array of results","range":[45754,45778],"loc":{"start":{"line":1549,"column":2},"end":{"line":1549,"column":26}}},{"type":"Line","value":" * a single result object","range":[45781,45808],"loc":{"start":{"line":1550,"column":2},"end":{"line":1550,"column":29}}}]},{"range":[45811,47578],"loc":{"start":{"line":1551,"column":2},"end":{"line":1604,"column":4}},"type":"ExpressionStatement","expression":{"range":[45811,47577],"loc":{"start":{"line":1551,"column":2},"end":{"line":1604,"column":3}},"type":"AssignmentExpression","operator":"=","left":{"range":[45811,45835],"loc":{"start":{"line":1551,"column":2},"end":{"line":1551,"column":26}},"type":"MemberExpression","computed":false,"object":{"range":[45811,45829],"loc":{"start":{"line":1551,"column":2},"end":{"line":1551,"column":20}},"type":"MemberExpression","computed":false,"object":{"range":[45811,45819],"loc":{"start":{"line":1551,"column":2},"end":{"line":1551,"column":10}},"type":"Identifier","name":"Resource"},"property":{"range":[45820,45829],"loc":{"start":{"line":1551,"column":11},"end":{"line":1551,"column":20}},"type":"Identifier","name":"prototype"}},"property":{"range":[45830,45835],"loc":{"start":{"line":1551,"column":21},"end":{"line":1551,"column":26}},"type":"Identifier","name":"parse"}},"right":{"range":[45838,47577],"loc":{"start":{"line":1551,"column":29},"end":{"line":1604,"column":3}},"type":"FunctionExpression","id":null,"params":[{"range":[45848,45856],"loc":{"start":{"line":1551,"column":39},"end":{"line":1551,"column":47}},"type":"Identifier","name":"response"}],"defaults":[],"body":{"range":[45858,47577],"loc":{"start":{"line":1551,"column":49},"end":{"line":1604,"column":3}},"type":"BlockStatement","body":[{"range":[45864,45890],"loc":{"start":{"line":1552,"column":4},"end":{"line":1552,"column":30}},"type":"VariableDeclaration","declarations":[{"range":[45868,45889],"loc":{"start":{"line":1552,"column":8},"end":{"line":1552,"column":29}},"type":"VariableDeclarator","id":{"range":[45868,45882],"loc":{"start":{"line":1552,"column":8},"end":{"line":1552,"column":22}},"type":"Identifier","name":"parsedResponse"},"init":{"range":[45885,45889],"loc":{"start":{"line":1552,"column":25},"end":{"line":1552,"column":29}},"type":"Literal","value":null,"raw":"null"}}],"kind":"var"},{"range":[45896,47546],"loc":{"start":{"line":1554,"column":4},"end":{"line":1602,"column":5}},"type":"IfStatement","test":{"range":[45900,45925],"loc":{"start":{"line":1554,"column":8},"end":{"line":1554,"column":33}},"type":"LogicalExpression","operator":"&&","left":{"range":[45900,45913],"loc":{"start":{"line":1554,"column":8},"end":{"line":1554,"column":21}},"type":"MemberExpression","computed":true,"object":{"range":[45900,45904],"loc":{"start":{"line":1554,"column":8},"end":{"line":1554,"column":12}},"type":"ThisExpression"},"property":{"range":[45905,45912],"loc":{"start":{"line":1554,"column":13},"end":{"line":1554,"column":20}},"type":"Literal","value":"class","raw":"'class'"}},"right":{"range":[45917,45925],"loc":{"start":{"line":1554,"column":25},"end":{"line":1554,"column":33}},"type":"Identifier","name":"response"}},"consequent":{"range":[45927,47415],"loc":{"start":{"line":1554,"column":35},"end":{"line":1599,"column":5}},"type":"BlockStatement","body":[{"range":[45936,45956],"loc":{"start":{"line":1556,"column":6},"end":{"line":1556,"column":26}},"type":"VariableDeclaration","declarations":[{"range":[45940,45955],"loc":{"start":{"line":1556,"column":10},"end":{"line":1556,"column":25}},"type":"VariableDeclarator","id":{"range":[45940,45948],"loc":{"start":{"line":1556,"column":10},"end":{"line":1556,"column":18}},"type":"Identifier","name":"resource"},"init":{"range":[45951,45955],"loc":{"start":{"line":1556,"column":21},"end":{"line":1556,"column":25}},"type":"ThisExpression"}}],"kind":"var"},{"range":[45964,47408],"loc":{"start":{"line":1558,"column":6},"end":{"line":1597,"column":7}},"type":"IfStatement","test":{"range":[45968,45991],"loc":{"start":{"line":1558,"column":10},"end":{"line":1558,"column":33}},"type":"CallExpression","callee":{"range":[45968,45981],"loc":{"start":{"line":1558,"column":10},"end":{"line":1558,"column":23}},"type":"MemberExpression","computed":false,"object":{"range":[45968,45973],"loc":{"start":{"line":1558,"column":10},"end":{"line":1558,"column":15}},"type":"Identifier","name":"Utils"},"property":{"range":[45974,45981],"loc":{"start":{"line":1558,"column":16},"end":{"line":1558,"column":23}},"type":"Identifier","name":"isArray"}},"arguments":[{"range":[45982,45990],"loc":{"start":{"line":1558,"column":24},"end":{"line":1558,"column":32}},"type":"Identifier","name":"response"}]},"consequent":{"range":[45993,46562],"loc":{"start":{"line":1558,"column":35},"end":{"line":1578,"column":7}},"type":"BlockStatement","body":[{"range":[46076,46096],"loc":{"start":{"line":1561,"column":8},"end":{"line":1561,"column":28}},"type":"ExpressionStatement","expression":{"range":[46076,46095],"loc":{"start":{"line":1561,"column":8},"end":{"line":1561,"column":27}},"type":"AssignmentExpression","operator":"=","left":{"range":[46076,46090],"loc":{"start":{"line":1561,"column":8},"end":{"line":1561,"column":22}},"type":"Identifier","name":"parsedResponse"},"right":{"range":[46093,46095],"loc":{"start":{"line":1561,"column":25},"end":{"line":1561,"column":27}},"type":"ArrayExpression","elements":[]}},"leadingComments":[{"type":"Line","value":" Response is array of results, parse to an array of entities.","range":[46004,46067],"loc":{"start":{"line":1560,"column":8},"end":{"line":1560,"column":71}}}]},{"range":[46105,46142],"loc":{"start":{"line":1562,"column":8},"end":{"line":1562,"column":45}},"type":"VariableDeclaration","declarations":[{"range":[46109,46141],"loc":{"start":{"line":1562,"column":12},"end":{"line":1562,"column":44}},"type":"VariableDeclarator","id":{"range":[46109,46125],"loc":{"start":{"line":1562,"column":12},"end":{"line":1562,"column":28}},"type":"Identifier","name":"baseResourcePath"},"init":{"range":[46128,46141],"loc":{"start":{"line":1562,"column":31},"end":{"line":1562,"column":44}},"type":"MemberExpression","computed":false,"object":{"range":[46128,46136],"loc":{"start":{"line":1562,"column":31},"end":{"line":1562,"column":39}},"type":"Identifier","name":"resource"},"property":{"range":[46137,46141],"loc":{"start":{"line":1562,"column":40},"end":{"line":1562,"column":44}},"type":"Identifier","name":"path"}}}],"kind":"var"},{"range":[46152,46553],"loc":{"start":{"line":1564,"column":8},"end":{"line":1576,"column":11}},"type":"ExpressionStatement","expression":{"range":[46152,46552],"loc":{"start":{"line":1564,"column":8},"end":{"line":1576,"column":10}},"type":"CallExpression","callee":{"range":[46152,46168],"loc":{"start":{"line":1564,"column":8},"end":{"line":1564,"column":24}},"type":"MemberExpression","computed":false,"object":{"range":[46152,46160],"loc":{"start":{"line":1564,"column":8},"end":{"line":1564,"column":16}},"type":"Identifier","name":"response"},"property":{"range":[46161,46168],"loc":{"start":{"line":1564,"column":17},"end":{"line":1564,"column":24}},"type":"Identifier","name":"forEach"}},"arguments":[{"range":[46169,46551],"loc":{"start":{"line":1564,"column":25},"end":{"line":1576,"column":9}},"type":"FunctionExpression","id":null,"params":[{"range":[46179,46182],"loc":{"start":{"line":1564,"column":35},"end":{"line":1564,"column":38}},"type":"Identifier","name":"obj"}],"defaults":[],"body":{"range":[46184,46551],"loc":{"start":{"line":1564,"column":40},"end":{"line":1576,"column":9}},"type":"BlockStatement","body":[{"range":[46196,46541],"loc":{"start":{"line":1565,"column":10},"end":{"line":1575,"column":11}},"type":"IfStatement","test":{"range":[46200,46219],"loc":{"start":{"line":1565,"column":14},"end":{"line":1565,"column":33}},"type":"CallExpression","callee":{"range":[46200,46214],"loc":{"start":{"line":1565,"column":14},"end":{"line":1565,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[46200,46205],"loc":{"start":{"line":1565,"column":14},"end":{"line":1565,"column":19}},"type":"Identifier","name":"Utils"},"property":{"range":[46206,46214],"loc":{"start":{"line":1565,"column":20},"end":{"line":1565,"column":28}},"type":"Identifier","name":"isObject"}},"arguments":[{"range":[46215,46218],"loc":{"start":{"line":1565,"column":29},"end":{"line":1565,"column":32}},"type":"Identifier","name":"obj"}]},"consequent":{"range":[46221,46484],"loc":{"start":{"line":1565,"column":35},"end":{"line":1573,"column":11}},"type":"BlockStatement","body":[{"range":[46235,46254],"loc":{"start":{"line":1566,"column":12},"end":{"line":1566,"column":31}},"type":"VariableDeclaration","declarations":[{"range":[46239,46253],"loc":{"start":{"line":1566,"column":16},"end":{"line":1566,"column":30}},"type":"VariableDeclarator","id":{"range":[46239,46244],"loc":{"start":{"line":1566,"column":16},"end":{"line":1566,"column":21}},"type":"Identifier","name":"objId"},"init":{"range":[46247,46253],"loc":{"start":{"line":1566,"column":24},"end":{"line":1566,"column":30}},"type":"MemberExpression","computed":false,"object":{"range":[46247,46250],"loc":{"start":{"line":1566,"column":24},"end":{"line":1566,"column":27}},"type":"Identifier","name":"obj"},"property":{"range":[46251,46253],"loc":{"start":{"line":1566,"column":28},"end":{"line":1566,"column":30}},"type":"Identifier","name":"id"}}}],"kind":"var"},{"range":[46268,46400],"loc":{"start":{"line":1568,"column":12},"end":{"line":1570,"column":13}},"type":"IfStatement","test":{"range":[46272,46277],"loc":{"start":{"line":1568,"column":16},"end":{"line":1568,"column":21}},"type":"Identifier","name":"objId"},"consequent":{"range":[46279,46400],"loc":{"start":{"line":1568,"column":23},"end":{"line":1570,"column":13}},"type":"BlockStatement","body":[{"range":[46295,46386],"loc":{"start":{"line":1569,"column":14},"end":{"line":1569,"column":105}},"type":"ExpressionStatement","expression":{"range":[46295,46385],"loc":{"start":{"line":1569,"column":14},"end":{"line":1569,"column":104}},"type":"AssignmentExpression","operator":"=","left":{"range":[46295,46303],"loc":{"start":{"line":1569,"column":14},"end":{"line":1569,"column":22}},"type":"Identifier","name":"resource"},"right":{"range":[46306,46385],"loc":{"start":{"line":1569,"column":25},"end":{"line":1569,"column":104}},"type":"NewExpression","callee":{"range":[46310,46318],"loc":{"start":{"line":1569,"column":29},"end":{"line":1569,"column":37}},"type":"Identifier","name":"Resource"},"arguments":[{"range":[46319,46333],"loc":{"start":{"line":1569,"column":38},"end":{"line":1569,"column":52}},"type":"MemberExpression","computed":false,"object":{"range":[46319,46327],"loc":{"start":{"line":1569,"column":38},"end":{"line":1569,"column":46}},"type":"Identifier","name":"resource"},"property":{"range":[46328,46333],"loc":{"start":{"line":1569,"column":47},"end":{"line":1569,"column":52}},"type":"Identifier","name":"scope"}},{"range":[46335,46365],"loc":{"start":{"line":1569,"column":54},"end":{"line":1569,"column":84}},"type":"BinaryExpression","operator":"+","left":{"range":[46335,46357],"loc":{"start":{"line":1569,"column":54},"end":{"line":1569,"column":76}},"type":"BinaryExpression","operator":"+","left":{"range":[46335,46351],"loc":{"start":{"line":1569,"column":54},"end":{"line":1569,"column":70}},"type":"Identifier","name":"baseResourcePath"},"right":{"range":[46354,46357],"loc":{"start":{"line":1569,"column":73},"end":{"line":1569,"column":76}},"type":"Literal","value":"/","raw":"'/'"}},"right":{"range":[46360,46365],"loc":{"start":{"line":1569,"column":79},"end":{"line":1569,"column":84}},"type":"Identifier","name":"objId"}},{"range":[46367,46384],"loc":{"start":{"line":1569,"column":86},"end":{"line":1569,"column":103}},"type":"MemberExpression","computed":true,"object":{"range":[46367,46375],"loc":{"start":{"line":1569,"column":86},"end":{"line":1569,"column":94}},"type":"Identifier","name":"resource"},"property":{"range":[46376,46383],"loc":{"start":{"line":1569,"column":95},"end":{"line":1569,"column":102}},"type":"Literal","value":"class","raw":"'class'"}}]}}}]},"alternate":null},{"range":[46414,46472],"loc":{"start":{"line":1572,"column":12},"end":{"line":1572,"column":70}},"type":"ExpressionStatement","expression":{"range":[46414,46471],"loc":{"start":{"line":1572,"column":12},"end":{"line":1572,"column":69}},"type":"CallExpression","callee":{"range":[46414,46433],"loc":{"start":{"line":1572,"column":12},"end":{"line":1572,"column":31}},"type":"MemberExpression","computed":false,"object":{"range":[46414,46428],"loc":{"start":{"line":1572,"column":12},"end":{"line":1572,"column":26}},"type":"Identifier","name":"parsedResponse"},"property":{"range":[46429,46433],"loc":{"start":{"line":1572,"column":27},"end":{"line":1572,"column":31}},"type":"Identifier","name":"push"}},"arguments":[{"range":[46434,46470],"loc":{"start":{"line":1572,"column":32},"end":{"line":1572,"column":68}},"type":"NewExpression","callee":{"range":[46438,46455],"loc":{"start":{"line":1572,"column":36},"end":{"line":1572,"column":53}},"type":"MemberExpression","computed":true,"object":{"range":[46438,46446],"loc":{"start":{"line":1572,"column":36},"end":{"line":1572,"column":44}},"type":"Identifier","name":"resource"},"property":{"range":[46447,46454],"loc":{"start":{"line":1572,"column":45},"end":{"line":1572,"column":52}},"type":"Literal","value":"class","raw":"'class'"}},"arguments":[{"range":[46456,46459],"loc":{"start":{"line":1572,"column":54},"end":{"line":1572,"column":57}},"type":"Identifier","name":"obj"},{"range":[46461,46469],"loc":{"start":{"line":1572,"column":59},"end":{"line":1572,"column":67}},"type":"Identifier","name":"resource"}]}]}}]},"alternate":{"range":[46490,46541],"loc":{"start":{"line":1573,"column":17},"end":{"line":1575,"column":11}},"type":"BlockStatement","body":[{"range":[46504,46529],"loc":{"start":{"line":1574,"column":12},"end":{"line":1574,"column":37}},"type":"ExpressionStatement","expression":{"range":[46504,46528],"loc":{"start":{"line":1574,"column":12},"end":{"line":1574,"column":36}},"type":"CallExpression","callee":{"range":[46504,46523],"loc":{"start":{"line":1574,"column":12},"end":{"line":1574,"column":31}},"type":"MemberExpression","computed":false,"object":{"range":[46504,46518],"loc":{"start":{"line":1574,"column":12},"end":{"line":1574,"column":26}},"type":"Identifier","name":"parsedResponse"},"property":{"range":[46519,46523],"loc":{"start":{"line":1574,"column":27},"end":{"line":1574,"column":31}},"type":"Identifier","name":"push"}},"arguments":[{"range":[46524,46527],"loc":{"start":{"line":1574,"column":32},"end":{"line":1574,"column":35}},"type":"Identifier","name":"obj"}]}}]}}]},"generator":false,"expression":false}]}}]},"alternate":{"range":[46568,47408],"loc":{"start":{"line":1578,"column":13},"end":{"line":1597,"column":7}},"type":"IfStatement","test":{"range":[46572,46596],"loc":{"start":{"line":1578,"column":17},"end":{"line":1578,"column":41}},"type":"CallExpression","callee":{"range":[46572,46586],"loc":{"start":{"line":1578,"column":17},"end":{"line":1578,"column":31}},"type":"MemberExpression","computed":false,"object":{"range":[46572,46577],"loc":{"start":{"line":1578,"column":17},"end":{"line":1578,"column":22}},"type":"Identifier","name":"Utils"},"property":{"range":[46578,46586],"loc":{"start":{"line":1578,"column":23},"end":{"line":1578,"column":31}},"type":"Identifier","name":"isObject"}},"arguments":[{"range":[46587,46595],"loc":{"start":{"line":1578,"column":32},"end":{"line":1578,"column":40}},"type":"Identifier","name":"response"}]},"consequent":{"range":[46598,47297],"loc":{"start":{"line":1578,"column":43},"end":{"line":1594,"column":7}},"type":"BlockStatement","body":[{"range":[46608,47289],"loc":{"start":{"line":1579,"column":8},"end":{"line":1593,"column":9}},"type":"IfStatement","test":{"range":[46612,46643],"loc":{"start":{"line":1579,"column":12},"end":{"line":1579,"column":43}},"type":"CallExpression","callee":{"range":[46612,46635],"loc":{"start":{"line":1579,"column":12},"end":{"line":1579,"column":35}},"type":"MemberExpression","computed":false,"object":{"range":[46612,46620],"loc":{"start":{"line":1579,"column":12},"end":{"line":1579,"column":20}},"type":"Identifier","name":"response"},"property":{"range":[46621,46635],"loc":{"start":{"line":1579,"column":21},"end":{"line":1579,"column":35}},"type":"Identifier","name":"hasOwnProperty"}},"arguments":[{"range":[46636,46642],"loc":{"start":{"line":1579,"column":36},"end":{"line":1579,"column":42}},"type":"Literal","value":"data","raw":"'data'"}]},"consequent":{"range":[46645,47144],"loc":{"start":{"line":1579,"column":45},"end":{"line":1590,"column":9}},"type":"BlockStatement","body":[{"range":[46745,46771],"loc":{"start":{"line":1582,"column":10},"end":{"line":1582,"column":36}},"type":"ExpressionStatement","expression":{"range":[46745,46770],"loc":{"start":{"line":1582,"column":10},"end":{"line":1582,"column":35}},"type":"AssignmentExpression","operator":"=","left":{"range":[46745,46759],"loc":{"start":{"line":1582,"column":10},"end":{"line":1582,"column":24}},"type":"Identifier","name":"parsedResponse"},"right":{"range":[46762,46770],"loc":{"start":{"line":1582,"column":27},"end":{"line":1582,"column":35}},"type":"Identifier","name":"response"}},"leadingComments":[{"type":"Line","value":" Full response - it is an object and includes \"data\", parse just the data.","range":[46657,46733],"loc":{"start":{"line":1580,"column":10},"end":{"line":1580,"column":86}}}]},{"range":[46782,46840],"loc":{"start":{"line":1583,"column":10},"end":{"line":1583,"column":68}},"type":"ExpressionStatement","expression":{"range":[46782,46839],"loc":{"start":{"line":1583,"column":10},"end":{"line":1583,"column":67}},"type":"AssignmentExpression","operator":"=","left":{"range":[46782,46801],"loc":{"start":{"line":1583,"column":10},"end":{"line":1583,"column":29}},"type":"MemberExpression","computed":false,"object":{"range":[46782,46796],"loc":{"start":{"line":1583,"column":10},"end":{"line":1583,"column":24}},"type":"Identifier","name":"parsedResponse"},"property":{"range":[46797,46801],"loc":{"start":{"line":1583,"column":25},"end":{"line":1583,"column":29}},"type":"Identifier","name":"data"}},"right":{"range":[46804,46839],"loc":{"start":{"line":1583,"column":32},"end":{"line":1583,"column":67}},"type":"CallExpression","callee":{"range":[46804,46818],"loc":{"start":{"line":1583,"column":32},"end":{"line":1583,"column":46}},"type":"MemberExpression","computed":false,"object":{"range":[46804,46812],"loc":{"start":{"line":1583,"column":32},"end":{"line":1583,"column":40}},"type":"Identifier","name":"resource"},"property":{"range":[46813,46818],"loc":{"start":{"line":1583,"column":41},"end":{"line":1583,"column":46}},"type":"Identifier","name":"parse"}},"arguments":[{"range":[46819,46838],"loc":{"start":{"line":1583,"column":47},"end":{"line":1583,"column":66}},"type":"MemberExpression","computed":false,"object":{"range":[46819,46833],"loc":{"start":{"line":1583,"column":47},"end":{"line":1583,"column":61}},"type":"Identifier","name":"parsedResponse"},"property":{"range":[46834,46838],"loc":{"start":{"line":1583,"column":62},"end":{"line":1583,"column":66}},"type":"Identifier","name":"data"}}]}},"trailingComments":[{"type":"Line","value":" If response contains results count header, add a shortcut to it","range":[46852,46918],"loc":{"start":{"line":1585,"column":10},"end":{"line":1585,"column":76}}}]},{"range":[46929,47133],"loc":{"start":{"line":1586,"column":10},"end":{"line":1588,"column":11}},"type":"IfStatement","test":{"range":[46933,47031],"loc":{"start":{"line":1586,"column":14},"end":{"line":1586,"column":112}},"type":"LogicalExpression","operator":"&&","left":{"range":[46933,46971],"loc":{"start":{"line":1586,"column":14},"end":{"line":1586,"column":52}},"type":"CallExpression","callee":{"range":[46933,46947],"loc":{"start":{"line":1586,"column":14},"end":{"line":1586,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[46933,46938],"loc":{"start":{"line":1586,"column":14},"end":{"line":1586,"column":19}},"type":"Identifier","name":"Utils"},"property":{"range":[46939,46947],"loc":{"start":{"line":1586,"column":20},"end":{"line":1586,"column":28}},"type":"Identifier","name":"isObject"}},"arguments":[{"range":[46948,46970],"loc":{"start":{"line":1586,"column":29},"end":{"line":1586,"column":51}},"type":"MemberExpression","computed":false,"object":{"range":[46948,46962],"loc":{"start":{"line":1586,"column":29},"end":{"line":1586,"column":43}},"type":"Identifier","name":"parsedResponse"},"property":{"range":[46963,46970],"loc":{"start":{"line":1586,"column":44},"end":{"line":1586,"column":51}},"type":"Identifier","name":"headers"}}]},"right":{"range":[46975,47031],"loc":{"start":{"line":1586,"column":56},"end":{"line":1586,"column":112}},"type":"CallExpression","callee":{"range":[46975,46989],"loc":{"start":{"line":1586,"column":56},"end":{"line":1586,"column":70}},"type":"MemberExpression","computed":false,"object":{"range":[46975,46980],"loc":{"start":{"line":1586,"column":56},"end":{"line":1586,"column":61}},"type":"Identifier","name":"Utils"},"property":{"range":[46981,46989],"loc":{"start":{"line":1586,"column":62},"end":{"line":1586,"column":70}},"type":"Identifier","name":"isString"}},"arguments":[{"range":[46990,47030],"loc":{"start":{"line":1586,"column":71},"end":{"line":1586,"column":111}},"type":"MemberExpression","computed":true,"object":{"range":[46990,47012],"loc":{"start":{"line":1586,"column":71},"end":{"line":1586,"column":93}},"type":"MemberExpression","computed":false,"object":{"range":[46990,47004],"loc":{"start":{"line":1586,"column":71},"end":{"line":1586,"column":85}},"type":"Identifier","name":"parsedResponse"},"property":{"range":[47005,47012],"loc":{"start":{"line":1586,"column":86},"end":{"line":1586,"column":93}},"type":"Identifier","name":"headers"}},"property":{"range":[47013,47029],"loc":{"start":{"line":1586,"column":94},"end":{"line":1586,"column":110}},"type":"Literal","value":"x-result-count","raw":"'x-result-count'"}}]}},"consequent":{"range":[47033,47133],"loc":{"start":{"line":1586,"column":114},"end":{"line":1588,"column":11}},"type":"BlockStatement","body":[{"range":[47047,47121],"loc":{"start":{"line":1587,"column":12},"end":{"line":1587,"column":86}},"type":"ExpressionStatement","expression":{"range":[47047,47120],"loc":{"start":{"line":1587,"column":12},"end":{"line":1587,"column":85}},"type":"AssignmentExpression","operator":"=","left":{"range":[47047,47067],"loc":{"start":{"line":1587,"column":12},"end":{"line":1587,"column":32}},"type":"MemberExpression","computed":false,"object":{"range":[47047,47061],"loc":{"start":{"line":1587,"column":12},"end":{"line":1587,"column":26}},"type":"Identifier","name":"parsedResponse"},"property":{"range":[47062,47067],"loc":{"start":{"line":1587,"column":27},"end":{"line":1587,"column":32}},"type":"Identifier","name":"count"}},"right":{"range":[47070,47120],"loc":{"start":{"line":1587,"column":35},"end":{"line":1587,"column":85}},"type":"CallExpression","callee":{"range":[47070,47078],"loc":{"start":{"line":1587,"column":35},"end":{"line":1587,"column":43}},"type":"Identifier","name":"parseInt"},"arguments":[{"range":[47079,47119],"loc":{"start":{"line":1587,"column":44},"end":{"line":1587,"column":84}},"type":"MemberExpression","computed":true,"object":{"range":[47079,47101],"loc":{"start":{"line":1587,"column":44},"end":{"line":1587,"column":66}},"type":"MemberExpression","computed":false,"object":{"range":[47079,47093],"loc":{"start":{"line":1587,"column":44},"end":{"line":1587,"column":58}},"type":"Identifier","name":"parsedResponse"},"property":{"range":[47094,47101],"loc":{"start":{"line":1587,"column":59},"end":{"line":1587,"column":66}},"type":"Identifier","name":"headers"}},"property":{"range":[47102,47118],"loc":{"start":{"line":1587,"column":67},"end":{"line":1587,"column":83}},"type":"Literal","value":"x-result-count","raw":"'x-result-count'"}}]}}}]},"alternate":null,"leadingComments":[{"type":"Line","value":" If response contains results count header, add a shortcut to it","range":[46852,46918],"loc":{"start":{"line":1585,"column":10},"end":{"line":1585,"column":76}}}]}]},"alternate":{"range":[47150,47289],"loc":{"start":{"line":1590,"column":15},"end":{"line":1593,"column":9}},"type":"BlockStatement","body":[{"range":[47228,47279],"loc":{"start":{"line":1592,"column":10},"end":{"line":1592,"column":61}},"type":"ExpressionStatement","expression":{"range":[47228,47278],"loc":{"start":{"line":1592,"column":10},"end":{"line":1592,"column":60}},"type":"AssignmentExpression","operator":"=","left":{"range":[47228,47242],"loc":{"start":{"line":1592,"column":10},"end":{"line":1592,"column":24}},"type":"Identifier","name":"parsedResponse"},"right":{"range":[47245,47278],"loc":{"start":{"line":1592,"column":27},"end":{"line":1592,"column":60}},"type":"NewExpression","callee":{"range":[47249,47262],"loc":{"start":{"line":1592,"column":31},"end":{"line":1592,"column":44}},"type":"MemberExpression","computed":true,"object":{"range":[47249,47253],"loc":{"start":{"line":1592,"column":31},"end":{"line":1592,"column":35}},"type":"ThisExpression"},"property":{"range":[47254,47261],"loc":{"start":{"line":1592,"column":36},"end":{"line":1592,"column":43}},"type":"Literal","value":"class","raw":"'class'"}},"arguments":[{"range":[47263,47271],"loc":{"start":{"line":1592,"column":45},"end":{"line":1592,"column":53}},"type":"Identifier","name":"response"},{"range":[47273,47277],"loc":{"start":{"line":1592,"column":55},"end":{"line":1592,"column":59}},"type":"ThisExpression"}]}},"leadingComments":[{"type":"Line","value":" Response is a single result, parse to single entity.","range":[47162,47217],"loc":{"start":{"line":1591,"column":10},"end":{"line":1591,"column":65}}}]}]}}]},"alternate":{"range":[47303,47408],"loc":{"start":{"line":1594,"column":13},"end":{"line":1597,"column":7}},"type":"BlockStatement","body":[{"range":[47374,47400],"loc":{"start":{"line":1596,"column":8},"end":{"line":1596,"column":34}},"type":"ExpressionStatement","expression":{"range":[47374,47399],"loc":{"start":{"line":1596,"column":8},"end":{"line":1596,"column":33}},"type":"AssignmentExpression","operator":"=","left":{"range":[47374,47388],"loc":{"start":{"line":1596,"column":8},"end":{"line":1596,"column":22}},"type":"Identifier","name":"parsedResponse"},"right":{"range":[47391,47399],"loc":{"start":{"line":1596,"column":25},"end":{"line":1596,"column":33}},"type":"Identifier","name":"response"}},"leadingComments":[{"type":"Line","value":" Response is most likely a string, just forward it","range":[47313,47365],"loc":{"start":{"line":1595,"column":8},"end":{"line":1595,"column":60}}}]}]}}}]},"alternate":{"range":[47421,47546],"loc":{"start":{"line":1599,"column":11},"end":{"line":1602,"column":5}},"type":"BlockStatement","body":[{"range":[47514,47540],"loc":{"start":{"line":1601,"column":6},"end":{"line":1601,"column":32}},"type":"ExpressionStatement","expression":{"range":[47514,47539],"loc":{"start":{"line":1601,"column":6},"end":{"line":1601,"column":31}},"type":"AssignmentExpression","operator":"=","left":{"range":[47514,47528],"loc":{"start":{"line":1601,"column":6},"end":{"line":1601,"column":20}},"type":"Identifier","name":"parsedResponse"},"right":{"range":[47531,47539],"loc":{"start":{"line":1601,"column":23},"end":{"line":1601,"column":31}},"type":"Identifier","name":"response"}},"leadingComments":[{"type":"Line","value":" We don't have enough information to parse the response, so just forward it.","range":[47429,47507],"loc":{"start":{"line":1600,"column":6},"end":{"line":1600,"column":84}}}]}]}},{"range":[47551,47573],"loc":{"start":{"line":1603,"column":4},"end":{"line":1603,"column":26}},"type":"ReturnStatement","argument":{"range":[47558,47572],"loc":{"start":{"line":1603,"column":11},"end":{"line":1603,"column":25}},"type":"Identifier","name":"parsedResponse"}}]},"generator":false,"expression":false}},"leadingComments":[{"type":"Line","value":" ### Resource API","range":[44919,44938],"loc":{"start":{"line":1532,"column":2},"end":{"line":1532,"column":21}}},{"type":"Line","value":" Any resource create in a scope will inherit these methods. However, it","range":[44942,45015],"loc":{"start":{"line":1534,"column":2},"end":{"line":1534,"column":75}}},{"type":"Line","value":" is possible to add custom methods to a resource in a custom Entity","range":[45018,45087],"loc":{"start":{"line":1535,"column":2},"end":{"line":1535,"column":71}}},{"type":"Line","value":" *resourceConstructor* (e.g. refer to the [`entity/user` doc](entity/user.html),","range":[45090,45172],"loc":{"start":{"line":1536,"column":2},"end":{"line":1536,"column":84}}},{"type":"Line","value":" where a *.validate()* method is added to every User resource).","range":[45175,45240],"loc":{"start":{"line":1537,"column":2},"end":{"line":1537,"column":67}}},{"type":"Line","value":" **Remember that all CRUD methods forward to `EVT.api()` which returns a Promise.**","range":[45244,45329],"loc":{"start":{"line":1539,"column":2},"end":{"line":1539,"column":87}}},{"type":"Line","value":" #### Parse","range":[45333,45346],"loc":{"start":{"line":1541,"column":2},"end":{"line":1541,"column":15}}},{"type":"Line","value":" Parse a given response into an instance of this resource's","range":[45350,45411],"loc":{"start":{"line":1543,"column":2},"end":{"line":1543,"column":63}}},{"type":"Line","value":" class/entity, if possible. An entity always keeps a reference to its","range":[45414,45485],"loc":{"start":{"line":1544,"column":2},"end":{"line":1544,"column":73}}},{"type":"Line","value":" mother resource, in order to alias methods (e.g. the *entity.update()*","range":[45488,45561],"loc":{"start":{"line":1545,"column":2},"end":{"line":1545,"column":75}}},{"type":"Line","value":" method calls the mother *resource.update(entity.toJSON())* ).","range":[45564,45628],"loc":{"start":{"line":1546,"column":2},"end":{"line":1546,"column":66}}},{"type":"Line","value":" We expect the response to be one of these:","range":[45631,45676],"loc":{"start":{"line":1547,"column":2},"end":{"line":1547,"column":47}}},{"type":"Line","value":" * an object containing results (array of or single object) in \"data\",","range":[45679,45751],"loc":{"start":{"line":1548,"column":2},"end":{"line":1548,"column":74}}},{"type":"Line","value":" * an array of results","range":[45754,45778],"loc":{"start":{"line":1549,"column":2},"end":{"line":1549,"column":26}}},{"type":"Line","value":" * a single result object","range":[45781,45808],"loc":{"start":{"line":1550,"column":2},"end":{"line":1550,"column":29}}}],"trailingComments":[{"type":"Line","value":" #### Jsonify","range":[47583,47598],"loc":{"start":{"line":1607,"column":2},"end":{"line":1607,"column":17}}},{"type":"Line","value":" The opposite of parse. It takes an entity and returns only the JSON","range":[47602,47672],"loc":{"start":{"line":1609,"column":2},"end":{"line":1609,"column":72}}},{"type":"Line","value":" part of it, used to make the calls to the REST API. If the passed object","range":[47675,47750],"loc":{"start":{"line":1610,"column":2},"end":{"line":1610,"column":77}}},{"type":"Line","value":" is a plain object, do nothing.","range":[47753,47786],"loc":{"start":{"line":1611,"column":2},"end":{"line":1611,"column":35}}}]},{"range":[47789,48002],"loc":{"start":{"line":1612,"column":2},"end":{"line":1620,"column":4}},"type":"ExpressionStatement","expression":{"range":[47789,48001],"loc":{"start":{"line":1612,"column":2},"end":{"line":1620,"column":3}},"type":"AssignmentExpression","operator":"=","left":{"range":[47789,47815],"loc":{"start":{"line":1612,"column":2},"end":{"line":1612,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[47789,47807],"loc":{"start":{"line":1612,"column":2},"end":{"line":1612,"column":20}},"type":"MemberExpression","computed":false,"object":{"range":[47789,47797],"loc":{"start":{"line":1612,"column":2},"end":{"line":1612,"column":10}},"type":"Identifier","name":"Resource"},"property":{"range":[47798,47807],"loc":{"start":{"line":1612,"column":11},"end":{"line":1612,"column":20}},"type":"Identifier","name":"prototype"}},"property":{"range":[47808,47815],"loc":{"start":{"line":1612,"column":21},"end":{"line":1612,"column":28}},"type":"Identifier","name":"jsonify"}},"right":{"range":[47818,48001],"loc":{"start":{"line":1612,"column":31},"end":{"line":1620,"column":3}},"type":"FunctionExpression","id":null,"params":[{"range":[47828,47839],"loc":{"start":{"line":1612,"column":41},"end":{"line":1612,"column":52}},"type":"Identifier","name":"classObject"}],"defaults":[],"body":{"range":[47841,48001],"loc":{"start":{"line":1612,"column":54},"end":{"line":1620,"column":3}},"type":"BlockStatement","body":[{"range":[47848,47996],"loc":{"start":{"line":1614,"column":4},"end":{"line":1618,"column":5}},"type":"IfStatement","test":{"range":[47852,47907],"loc":{"start":{"line":1614,"column":8},"end":{"line":1614,"column":63}},"type":"LogicalExpression","operator":"&&","left":{"range":[47852,47865],"loc":{"start":{"line":1614,"column":8},"end":{"line":1614,"column":21}},"type":"MemberExpression","computed":true,"object":{"range":[47852,47856],"loc":{"start":{"line":1614,"column":8},"end":{"line":1614,"column":12}},"type":"ThisExpression"},"property":{"range":[47857,47864],"loc":{"start":{"line":1614,"column":13},"end":{"line":1614,"column":20}},"type":"Literal","value":"class","raw":"'class'"}},"right":{"range":[47870,47906],"loc":{"start":{"line":1614,"column":26},"end":{"line":1614,"column":62}},"type":"BinaryExpression","operator":"instanceof","left":{"range":[47870,47881],"loc":{"start":{"line":1614,"column":26},"end":{"line":1614,"column":37}},"type":"Identifier","name":"classObject"},"right":{"range":[47893,47906],"loc":{"start":{"line":1614,"column":49},"end":{"line":1614,"column":62}},"type":"MemberExpression","computed":true,"object":{"range":[47893,47897],"loc":{"start":{"line":1614,"column":49},"end":{"line":1614,"column":53}},"type":"ThisExpression"},"property":{"range":[47898,47905],"loc":{"start":{"line":1614,"column":54},"end":{"line":1614,"column":61}},"type":"Literal","value":"class","raw":"'class'"}}}},"consequent":{"range":[47909,47951],"loc":{"start":{"line":1614,"column":65},"end":{"line":1616,"column":5}},"type":"BlockStatement","body":[{"range":[47917,47945],"loc":{"start":{"line":1615,"column":6},"end":{"line":1615,"column":34}},"type":"ReturnStatement","argument":{"range":[47924,47944],"loc":{"start":{"line":1615,"column":13},"end":{"line":1615,"column":33}},"type":"CallExpression","callee":{"range":[47924,47942],"loc":{"start":{"line":1615,"column":13},"end":{"line":1615,"column":31}},"type":"MemberExpression","computed":false,"object":{"range":[47924,47935],"loc":{"start":{"line":1615,"column":13},"end":{"line":1615,"column":24}},"type":"Identifier","name":"classObject"},"property":{"range":[47936,47942],"loc":{"start":{"line":1615,"column":25},"end":{"line":1615,"column":31}},"type":"Identifier","name":"toJSON"}},"arguments":[]}}]},"alternate":{"range":[47957,47996],"loc":{"start":{"line":1616,"column":11},"end":{"line":1618,"column":5}},"type":"BlockStatement","body":[{"range":[47965,47990],"loc":{"start":{"line":1617,"column":6},"end":{"line":1617,"column":31}},"type":"ReturnStatement","argument":{"range":[47972,47989],"loc":{"start":{"line":1617,"column":13},"end":{"line":1617,"column":30}},"type":"LogicalExpression","operator":"||","left":{"range":[47972,47983],"loc":{"start":{"line":1617,"column":13},"end":{"line":1617,"column":24}},"type":"Identifier","name":"classObject"},"right":{"range":[47987,47989],"loc":{"start":{"line":1617,"column":28},"end":{"line":1617,"column":30}},"type":"ObjectExpression","properties":[]}}}]}}]},"generator":false,"expression":false}},"leadingComments":[{"type":"Line","value":" #### Jsonify","range":[47583,47598],"loc":{"start":{"line":1607,"column":2},"end":{"line":1607,"column":17}}},{"type":"Line","value":" The opposite of parse. It takes an entity and returns only the JSON","range":[47602,47672],"loc":{"start":{"line":1609,"column":2},"end":{"line":1609,"column":72}}},{"type":"Line","value":" part of it, used to make the calls to the REST API. If the passed object","range":[47675,47750],"loc":{"start":{"line":1610,"column":2},"end":{"line":1610,"column":77}}},{"type":"Line","value":" is a plain object, do nothing.","range":[47753,47786],"loc":{"start":{"line":1611,"column":2},"end":{"line":1611,"column":35}}}],"trailingComments":[{"type":"Line","value":" #### Create","range":[48007,48021],"loc":{"start":{"line":1623,"column":2},"end":{"line":1623,"column":16}}},{"type":"Line","value":" Create sends a `POST` request to the REST API with the provided object data.","range":[48025,48104],"loc":{"start":{"line":1625,"column":2},"end":{"line":1625,"column":81}}},{"type":"Line","value":" It always returns an entity or JSON object on success. It accepts the","range":[48107,48179],"loc":{"start":{"line":1626,"column":2},"end":{"line":1626,"column":74}}},{"type":"Line","value":" following parameters:","range":[48182,48206],"loc":{"start":{"line":1627,"column":2},"end":{"line":1627,"column":26}}},{"type":"Line","value":" - _**create(data)**: just send data (entity or plain JSON), no options,","range":[48210,48284],"loc":{"start":{"line":1629,"column":2},"end":{"line":1629,"column":76}}},{"type":"Line","value":" no callbacks_","range":[48287,48303],"loc":{"start":{"line":1630,"column":2},"end":{"line":1630,"column":18}}},{"type":"Line","value":" - _**create(data, options)**: no callbacks or they are included in options_","range":[48306,48384],"loc":{"start":{"line":1631,"column":2},"end":{"line":1631,"column":80}}},{"type":"Line","value":" - _**create(data, options, successCb, errorCb)**: all explicit params_","range":[48387,48460],"loc":{"start":{"line":1632,"column":2},"end":{"line":1632,"column":75}}},{"type":"Line","value":" - _**create(data, successCb, errorCb)**: no options, just callbacks_","range":[48463,48534],"loc":{"start":{"line":1633,"column":2},"end":{"line":1633,"column":73}}}]},{"range":[48537,48943],"loc":{"start":{"line":1634,"column":2},"end":{"line":1647,"column":4}},"type":"ExpressionStatement","expression":{"range":[48537,48942],"loc":{"start":{"line":1634,"column":2},"end":{"line":1647,"column":3}},"type":"AssignmentExpression","operator":"=","left":{"range":[48537,48562],"loc":{"start":{"line":1634,"column":2},"end":{"line":1634,"column":27}},"type":"MemberExpression","computed":false,"object":{"range":[48537,48555],"loc":{"start":{"line":1634,"column":2},"end":{"line":1634,"column":20}},"type":"MemberExpression","computed":false,"object":{"range":[48537,48545],"loc":{"start":{"line":1634,"column":2},"end":{"line":1634,"column":10}},"type":"Identifier","name":"Resource"},"property":{"range":[48546,48555],"loc":{"start":{"line":1634,"column":11},"end":{"line":1634,"column":20}},"type":"Identifier","name":"prototype"}},"property":{"range":[48556,48562],"loc":{"start":{"line":1634,"column":21},"end":{"line":1634,"column":27}},"type":"Identifier","name":"create"}},"right":{"range":[48565,48942],"loc":{"start":{"line":1634,"column":30},"end":{"line":1647,"column":3}},"type":"FunctionExpression","id":null,"params":[{"range":[48575,48579],"loc":{"start":{"line":1634,"column":40},"end":{"line":1634,"column":44}},"type":"Identifier","name":"data"},{"range":[48581,48588],"loc":{"start":{"line":1634,"column":46},"end":{"line":1634,"column":53}},"type":"Identifier","name":"options"},{"range":[48590,48605],"loc":{"start":{"line":1634,"column":55},"end":{"line":1634,"column":70}},"type":"Identifier","name":"successCallback"},{"range":[48607,48620],"loc":{"start":{"line":1634,"column":72},"end":{"line":1634,"column":85}},"type":"Identifier","name":"errorCallback"}],"defaults":[],"body":{"range":[48622,48942],"loc":{"start":{"line":1634,"column":87},"end":{"line":1647,"column":3}},"type":"BlockStatement","body":[{"range":[48628,48737],"loc":{"start":{"line":1635,"column":4},"end":{"line":1637,"column":5}},"type":"IfStatement","test":{"range":[48632,48663],"loc":{"start":{"line":1635,"column":8},"end":{"line":1635,"column":39}},"type":"LogicalExpression","operator":"||","left":{"range":[48632,48637],"loc":{"start":{"line":1635,"column":8},"end":{"line":1635,"column":13}},"type":"UnaryExpression","operator":"!","argument":{"range":[48633,48637],"loc":{"start":{"line":1635,"column":9},"end":{"line":1635,"column":13}},"type":"Identifier","name":"data"},"prefix":true},"right":{"range":[48641,48663],"loc":{"start":{"line":1635,"column":17},"end":{"line":1635,"column":39}},"type":"CallExpression","callee":{"range":[48641,48657],"loc":{"start":{"line":1635,"column":17},"end":{"line":1635,"column":33}},"type":"MemberExpression","computed":false,"object":{"range":[48641,48646],"loc":{"start":{"line":1635,"column":17},"end":{"line":1635,"column":22}},"type":"Identifier","name":"Utils"},"property":{"range":[48647,48657],"loc":{"start":{"line":1635,"column":23},"end":{"line":1635,"column":33}},"type":"Identifier","name":"isFunction"}},"arguments":[{"range":[48658,48662],"loc":{"start":{"line":1635,"column":34},"end":{"line":1635,"column":38}},"type":"Identifier","name":"data"}]}},"consequent":{"range":[48665,48737],"loc":{"start":{"line":1635,"column":41},"end":{"line":1637,"column":5}},"type":"BlockStatement","body":[{"range":[48673,48731],"loc":{"start":{"line":1636,"column":6},"end":{"line":1636,"column":64}},"type":"ThrowStatement","argument":{"range":[48679,48730],"loc":{"start":{"line":1636,"column":12},"end":{"line":1636,"column":63}},"type":"NewExpression","callee":{"range":[48683,48692],"loc":{"start":{"line":1636,"column":16},"end":{"line":1636,"column":25}},"type":"Identifier","name":"TypeError"},"arguments":[{"range":[48693,48729],"loc":{"start":{"line":1636,"column":26},"end":{"line":1636,"column":62}},"type":"Literal","value":"Create method should have payload.","raw":"'Create method should have payload.'"}]}}]},"alternate":null},{"range":[48743,48847],"loc":{"start":{"line":1639,"column":4},"end":{"line":1643,"column":6}},"type":"VariableDeclaration","declarations":[{"range":[48747,48846],"loc":{"start":{"line":1639,"column":8},"end":{"line":1643,"column":5}},"type":"VariableDeclarator","id":{"range":[48747,48761],"loc":{"start":{"line":1639,"column":8},"end":{"line":1639,"column":22}},"type":"Identifier","name":"requestOptions"},"init":{"range":[48764,48846],"loc":{"start":{"line":1639,"column":25},"end":{"line":1643,"column":5}},"type":"ObjectExpression","properties":[{"range":[48772,48786],"loc":{"start":{"line":1640,"column":6},"end":{"line":1640,"column":20}},"type":"Property","key":{"range":[48772,48775],"loc":{"start":{"line":1640,"column":6},"end":{"line":1640,"column":9}},"type":"Identifier","name":"url"},"computed":false,"value":{"range":[48777,48786],"loc":{"start":{"line":1640,"column":11},"end":{"line":1640,"column":20}},"type":"MemberExpression","computed":false,"object":{"range":[48777,48781],"loc":{"start":{"line":1640,"column":11},"end":{"line":1640,"column":15}},"type":"ThisExpression"},"property":{"range":[48782,48786],"loc":{"start":{"line":1640,"column":16},"end":{"line":1640,"column":20}},"type":"Identifier","name":"path"}},"kind":"init","method":false,"shorthand":false},{"range":[48794,48808],"loc":{"start":{"line":1641,"column":6},"end":{"line":1641,"column":20}},"type":"Property","key":{"range":[48794,48800],"loc":{"start":{"line":1641,"column":6},"end":{"line":1641,"column":12}},"type":"Identifier","name":"method"},"computed":false,"value":{"range":[48802,48808],"loc":{"start":{"line":1641,"column":14},"end":{"line":1641,"column":20}},"type":"Literal","value":"post","raw":"'post'"},"kind":"init","method":false,"shorthand":false},{"range":[48816,48840],"loc":{"start":{"line":1642,"column":6},"end":{"line":1642,"column":30}},"type":"Property","key":{"range":[48816,48820],"loc":{"start":{"line":1642,"column":6},"end":{"line":1642,"column":10}},"type":"Identifier","name":"data"},"computed":false,"value":{"range":[48822,48840],"loc":{"start":{"line":1642,"column":12},"end":{"line":1642,"column":30}},"type":"CallExpression","callee":{"range":[48822,48834],"loc":{"start":{"line":1642,"column":12},"end":{"line":1642,"column":24}},"type":"MemberExpression","computed":false,"object":{"range":[48822,48826],"loc":{"start":{"line":1642,"column":12},"end":{"line":1642,"column":16}},"type":"ThisExpression"},"property":{"range":[48827,48834],"loc":{"start":{"line":1642,"column":17},"end":{"line":1642,"column":24}},"type":"Identifier","name":"jsonify"}},"arguments":[{"range":[48835,48839],"loc":{"start":{"line":1642,"column":25},"end":{"line":1642,"column":29}},"type":"Identifier","name":"data"}]},"kind":"init","method":false,"shorthand":false}]}}],"kind":"var"},{"range":[48853,48937],"loc":{"start":{"line":1645,"column":4},"end":{"line":1645,"column":88}},"type":"ReturnStatement","argument":{"range":[48860,48936],"loc":{"start":{"line":1645,"column":11},"end":{"line":1645,"column":87}},"type":"CallExpression","callee":{"range":[48860,48873],"loc":{"start":{"line":1645,"column":11},"end":{"line":1645,"column":24}},"type":"MemberExpression","computed":false,"object":{"range":[48860,48868],"loc":{"start":{"line":1645,"column":11},"end":{"line":1645,"column":19}},"type":"Identifier","name":"_request"},"property":{"range":[48869,48873],"loc":{"start":{"line":1645,"column":20},"end":{"line":1645,"column":24}},"type":"Identifier","name":"call"}},"arguments":[{"range":[48874,48878],"loc":{"start":{"line":1645,"column":25},"end":{"line":1645,"column":29}},"type":"ThisExpression"},{"range":[48880,48894],"loc":{"start":{"line":1645,"column":31},"end":{"line":1645,"column":45}},"type":"Identifier","name":"requestOptions"},{"range":[48896,48903],"loc":{"start":{"line":1645,"column":47},"end":{"line":1645,"column":54}},"type":"Identifier","name":"options"},{"range":[48905,48920],"loc":{"start":{"line":1645,"column":56},"end":{"line":1645,"column":71}},"type":"Identifier","name":"successCallback"},{"range":[48922,48935],"loc":{"start":{"line":1645,"column":73},"end":{"line":1645,"column":86}},"type":"Identifier","name":"errorCallback"}]}}]},"generator":false,"expression":false}},"leadingComments":[{"type":"Line","value":" #### Create","range":[48007,48021],"loc":{"start":{"line":1623,"column":2},"end":{"line":1623,"column":16}}},{"type":"Line","value":" Create sends a `POST` request to the REST API with the provided object data.","range":[48025,48104],"loc":{"start":{"line":1625,"column":2},"end":{"line":1625,"column":81}}},{"type":"Line","value":" It always returns an entity or JSON object on success. It accepts the","range":[48107,48179],"loc":{"start":{"line":1626,"column":2},"end":{"line":1626,"column":74}}},{"type":"Line","value":" following parameters:","range":[48182,48206],"loc":{"start":{"line":1627,"column":2},"end":{"line":1627,"column":26}}},{"type":"Line","value":" - _**create(data)**: just send data (entity or plain JSON), no options,","range":[48210,48284],"loc":{"start":{"line":1629,"column":2},"end":{"line":1629,"column":76}}},{"type":"Line","value":" no callbacks_","range":[48287,48303],"loc":{"start":{"line":1630,"column":2},"end":{"line":1630,"column":18}}},{"type":"Line","value":" - _**create(data, options)**: no callbacks or they are included in options_","range":[48306,48384],"loc":{"start":{"line":1631,"column":2},"end":{"line":1631,"column":80}}},{"type":"Line","value":" - _**create(data, options, successCb, errorCb)**: all explicit params_","range":[48387,48460],"loc":{"start":{"line":1632,"column":2},"end":{"line":1632,"column":75}}},{"type":"Line","value":" - _**create(data, successCb, errorCb)**: no options, just callbacks_","range":[48463,48534],"loc":{"start":{"line":1633,"column":2},"end":{"line":1633,"column":73}}}],"trailingComments":[{"type":"Line","value":" #### Read","range":[48948,48960],"loc":{"start":{"line":1650,"column":2},"end":{"line":1650,"column":14}}},{"type":"Line","value":" Read sends a `GET` request to the REST API. It always returns an entity","range":[48964,49038],"loc":{"start":{"line":1652,"column":2},"end":{"line":1652,"column":76}}},{"type":"Line","value":" or JSON object on success. It accepts the following parameters:","range":[49041,49107],"loc":{"start":{"line":1653,"column":2},"end":{"line":1653,"column":68}}},{"type":"Line","value":" - _**read()**: no options, no callbacks_","range":[49111,49154],"loc":{"start":{"line":1655,"column":2},"end":{"line":1655,"column":45}}},{"type":"Line","value":" - _**read(options)**: no callbacks or they are included in options_","range":[49157,49227],"loc":{"start":{"line":1656,"column":2},"end":{"line":1656,"column":72}}},{"type":"Line","value":" - _**read(options, successCb, errorCb)**: all explicit params_","range":[49230,49295],"loc":{"start":{"line":1657,"column":2},"end":{"line":1657,"column":67}}},{"type":"Line","value":" - _**read(successCb, errorCb)**: no options, just callbacks_","range":[49298,49361],"loc":{"start":{"line":1658,"column":2},"end":{"line":1658,"column":65}}}]},{"range":[49364,49594],"loc":{"start":{"line":1659,"column":2},"end":{"line":1667,"column":4}},"type":"ExpressionStatement","expression":{"range":[49364,49593],"loc":{"start":{"line":1659,"column":2},"end":{"line":1667,"column":3}},"type":"AssignmentExpression","operator":"=","left":{"range":[49364,49387],"loc":{"start":{"line":1659,"column":2},"end":{"line":1659,"column":25}},"type":"MemberExpression","computed":false,"object":{"range":[49364,49382],"loc":{"start":{"line":1659,"column":2},"end":{"line":1659,"column":20}},"type":"MemberExpression","computed":false,"object":{"range":[49364,49372],"loc":{"start":{"line":1659,"column":2},"end":{"line":1659,"column":10}},"type":"Identifier","name":"Resource"},"property":{"range":[49373,49382],"loc":{"start":{"line":1659,"column":11},"end":{"line":1659,"column":20}},"type":"Identifier","name":"prototype"}},"property":{"range":[49383,49387],"loc":{"start":{"line":1659,"column":21},"end":{"line":1659,"column":25}},"type":"Identifier","name":"read"}},"right":{"range":[49390,49593],"loc":{"start":{"line":1659,"column":28},"end":{"line":1667,"column":3}},"type":"FunctionExpression","id":null,"params":[{"range":[49400,49407],"loc":{"start":{"line":1659,"column":38},"end":{"line":1659,"column":45}},"type":"Identifier","name":"options"},{"range":[49409,49424],"loc":{"start":{"line":1659,"column":47},"end":{"line":1659,"column":62}},"type":"Identifier","name":"successCallback"},{"range":[49426,49439],"loc":{"start":{"line":1659,"column":64},"end":{"line":1659,"column":77}},"type":"Identifier","name":"errorCallback"}],"defaults":[],"body":{"range":[49441,49593],"loc":{"start":{"line":1659,"column":79},"end":{"line":1667,"column":3}},"type":"BlockStatement","body":[{"range":[49448,49498],"loc":{"start":{"line":1661,"column":4},"end":{"line":1663,"column":6}},"type":"VariableDeclaration","declarations":[{"range":[49452,49497],"loc":{"start":{"line":1661,"column":8},"end":{"line":1663,"column":5}},"type":"VariableDeclarator","id":{"range":[49452,49466],"loc":{"start":{"line":1661,"column":8},"end":{"line":1661,"column":22}},"type":"Identifier","name":"requestOptions"},"init":{"range":[49469,49497],"loc":{"start":{"line":1661,"column":25},"end":{"line":1663,"column":5}},"type":"ObjectExpression","properties":[{"range":[49477,49491],"loc":{"start":{"line":1662,"column":6},"end":{"line":1662,"column":20}},"type":"Property","key":{"range":[49477,49480],"loc":{"start":{"line":1662,"column":6},"end":{"line":1662,"column":9}},"type":"Identifier","name":"url"},"computed":false,"value":{"range":[49482,49491],"loc":{"start":{"line":1662,"column":11},"end":{"line":1662,"column":20}},"type":"MemberExpression","computed":false,"object":{"range":[49482,49486],"loc":{"start":{"line":1662,"column":11},"end":{"line":1662,"column":15}},"type":"ThisExpression"},"property":{"range":[49487,49491],"loc":{"start":{"line":1662,"column":16},"end":{"line":1662,"column":20}},"type":"Identifier","name":"path"}},"kind":"init","method":false,"shorthand":false}]}}],"kind":"var"},{"range":[49504,49588],"loc":{"start":{"line":1665,"column":4},"end":{"line":1665,"column":88}},"type":"ReturnStatement","argument":{"range":[49511,49587],"loc":{"start":{"line":1665,"column":11},"end":{"line":1665,"column":87}},"type":"CallExpression","callee":{"range":[49511,49524],"loc":{"start":{"line":1665,"column":11},"end":{"line":1665,"column":24}},"type":"MemberExpression","computed":false,"object":{"range":[49511,49519],"loc":{"start":{"line":1665,"column":11},"end":{"line":1665,"column":19}},"type":"Identifier","name":"_request"},"property":{"range":[49520,49524],"loc":{"start":{"line":1665,"column":20},"end":{"line":1665,"column":24}},"type":"Identifier","name":"call"}},"arguments":[{"range":[49525,49529],"loc":{"start":{"line":1665,"column":25},"end":{"line":1665,"column":29}},"type":"ThisExpression"},{"range":[49531,49545],"loc":{"start":{"line":1665,"column":31},"end":{"line":1665,"column":45}},"type":"Identifier","name":"requestOptions"},{"range":[49547,49554],"loc":{"start":{"line":1665,"column":47},"end":{"line":1665,"column":54}},"type":"Identifier","name":"options"},{"range":[49556,49571],"loc":{"start":{"line":1665,"column":56},"end":{"line":1665,"column":71}},"type":"Identifier","name":"successCallback"},{"range":[49573,49586],"loc":{"start":{"line":1665,"column":73},"end":{"line":1665,"column":86}},"type":"Identifier","name":"errorCallback"}]}}]},"generator":false,"expression":false}},"leadingComments":[{"type":"Line","value":" #### Read","range":[48948,48960],"loc":{"start":{"line":1650,"column":2},"end":{"line":1650,"column":14}}},{"type":"Line","value":" Read sends a `GET` request to the REST API. It always returns an entity","range":[48964,49038],"loc":{"start":{"line":1652,"column":2},"end":{"line":1652,"column":76}}},{"type":"Line","value":" or JSON object on success. It accepts the following parameters:","range":[49041,49107],"loc":{"start":{"line":1653,"column":2},"end":{"line":1653,"column":68}}},{"type":"Line","value":" - _**read()**: no options, no callbacks_","range":[49111,49154],"loc":{"start":{"line":1655,"column":2},"end":{"line":1655,"column":45}}},{"type":"Line","value":" - _**read(options)**: no callbacks or they are included in options_","range":[49157,49227],"loc":{"start":{"line":1656,"column":2},"end":{"line":1656,"column":72}}},{"type":"Line","value":" - _**read(options, successCb, errorCb)**: all explicit params_","range":[49230,49295],"loc":{"start":{"line":1657,"column":2},"end":{"line":1657,"column":67}}},{"type":"Line","value":" - _**read(successCb, errorCb)**: no options, just callbacks_","range":[49298,49361],"loc":{"start":{"line":1658,"column":2},"end":{"line":1658,"column":65}}}],"trailingComments":[{"type":"Line","value":" #### Count","range":[49598,49611],"loc":{"start":{"line":1669,"column":2},"end":{"line":1669,"column":15}}},{"type":"Line","value":" Count sends a `GET` request to the REST API. It simply returns total number of results","range":[49615,49704],"loc":{"start":{"line":1671,"column":2},"end":{"line":1671,"column":91}}},{"type":"Line","value":" this query would return.","range":[49707,49734],"loc":{"start":{"line":1672,"column":2},"end":{"line":1672,"column":29}}},{"type":"Line","value":" It accepts the following parameters:","range":[49737,49776],"loc":{"start":{"line":1673,"column":2},"end":{"line":1673,"column":41}}},{"type":"Line","value":" - _**count()**: no options, no callbacks_","range":[49780,49824],"loc":{"start":{"line":1675,"column":2},"end":{"line":1675,"column":46}}},{"type":"Line","value":" - _**count(options)**: no callbacks or they are included in options_","range":[49827,49898],"loc":{"start":{"line":1676,"column":2},"end":{"line":1676,"column":73}}},{"type":"Line","value":" - _**count(options, successCb, errorCb)**: all explicit params_","range":[49901,49967],"loc":{"start":{"line":1677,"column":2},"end":{"line":1677,"column":68}}},{"type":"Line","value":" - _**count(successCb, errorCb)**: no options, just callbacks_","range":[49970,50034],"loc":{"start":{"line":1678,"column":2},"end":{"line":1678,"column":66}}}]},{"range":[50037,50648],"loc":{"start":{"line":1679,"column":2},"end":{"line":1700,"column":4}},"type":"ExpressionStatement","expression":{"range":[50037,50647],"loc":{"start":{"line":1679,"column":2},"end":{"line":1700,"column":3}},"type":"AssignmentExpression","operator":"=","left":{"range":[50037,50061],"loc":{"start":{"line":1679,"column":2},"end":{"line":1679,"column":26}},"type":"MemberExpression","computed":false,"object":{"range":[50037,50055],"loc":{"start":{"line":1679,"column":2},"end":{"line":1679,"column":20}},"type":"MemberExpression","computed":false,"object":{"range":[50037,50045],"loc":{"start":{"line":1679,"column":2},"end":{"line":1679,"column":10}},"type":"Identifier","name":"Resource"},"property":{"range":[50046,50055],"loc":{"start":{"line":1679,"column":11},"end":{"line":1679,"column":20}},"type":"Identifier","name":"prototype"}},"property":{"range":[50056,50061],"loc":{"start":{"line":1679,"column":21},"end":{"line":1679,"column":26}},"type":"Identifier","name":"count"}},"right":{"range":[50064,50647],"loc":{"start":{"line":1679,"column":29},"end":{"line":1700,"column":3}},"type":"FunctionExpression","id":null,"params":[{"range":[50074,50081],"loc":{"start":{"line":1679,"column":39},"end":{"line":1679,"column":46}},"type":"Identifier","name":"options"},{"range":[50083,50098],"loc":{"start":{"line":1679,"column":48},"end":{"line":1679,"column":63}},"type":"Identifier","name":"successCallback"},{"range":[50100,50113],"loc":{"start":{"line":1679,"column":65},"end":{"line":1679,"column":78}},"type":"Identifier","name":"errorCallback"}],"defaults":[],"body":{"range":[50115,50647],"loc":{"start":{"line":1679,"column":80},"end":{"line":1700,"column":3}},"type":"BlockStatement","body":[{"range":[50122,50259],"loc":{"start":{"line":1681,"column":4},"end":{"line":1688,"column":6}},"type":"VariableDeclaration","declarations":[{"range":[50126,50258],"loc":{"start":{"line":1681,"column":8},"end":{"line":1688,"column":5}},"type":"VariableDeclarator","id":{"range":[50126,50140],"loc":{"start":{"line":1681,"column":8},"end":{"line":1681,"column":22}},"type":"Identifier","name":"requestOptions"},"init":{"range":[50143,50258],"loc":{"start":{"line":1681,"column":25},"end":{"line":1688,"column":5}},"type":"ObjectExpression","properties":[{"range":[50151,50165],"loc":{"start":{"line":1682,"column":6},"end":{"line":1682,"column":20}},"type":"Property","key":{"range":[50151,50154],"loc":{"start":{"line":1682,"column":6},"end":{"line":1682,"column":9}},"type":"Identifier","name":"url"},"computed":false,"value":{"range":[50156,50165],"loc":{"start":{"line":1682,"column":11},"end":{"line":1682,"column":20}},"type":"MemberExpression","computed":false,"object":{"range":[50156,50160],"loc":{"start":{"line":1682,"column":11},"end":{"line":1682,"column":15}},"type":"ThisExpression"},"property":{"range":[50161,50165],"loc":{"start":{"line":1682,"column":16},"end":{"line":1682,"column":20}},"type":"Identifier","name":"path"}},"kind":"init","method":false,"shorthand":false},{"range":[50173,50191],"loc":{"start":{"line":1683,"column":6},"end":{"line":1683,"column":24}},"type":"Property","key":{"range":[50173,50185],"loc":{"start":{"line":1683,"column":6},"end":{"line":1683,"column":18}},"type":"Identifier","name":"fullResponse"},"computed":false,"value":{"range":[50187,50191],"loc":{"start":{"line":1683,"column":20},"end":{"line":1683,"column":24}},"type":"Literal","value":true,"raw":"true"},"kind":"init","method":false,"shorthand":false},{"range":[50199,50252],"loc":{"start":{"line":1684,"column":6},"end":{"line":1687,"column":7}},"type":"Property","key":{"range":[50199,50205],"loc":{"start":{"line":1684,"column":6},"end":{"line":1684,"column":12}},"type":"Identifier","name":"params"},"computed":false,"value":{"range":[50207,50252],"loc":{"start":{"line":1684,"column":14},"end":{"line":1687,"column":7}},"type":"ObjectExpression","properties":[{"range":[50217,50227],"loc":{"start":{"line":1685,"column":8},"end":{"line":1685,"column":18}},"type":"Property","key":{"range":[50217,50224],"loc":{"start":{"line":1685,"column":8},"end":{"line":1685,"column":15}},"type":"Identifier","name":"perPage"},"computed":false,"value":{"range":[50226,50227],"loc":{"start":{"line":1685,"column":17},"end":{"line":1685,"column":18}},"type":"Literal","value":1,"raw":"1"},"kind":"init","method":false,"shorthand":false},{"range":[50237,50244],"loc":{"start":{"line":1686,"column":8},"end":{"line":1686,"column":15}},"type":"Property","key":{"range":[50237,50241],"loc":{"start":{"line":1686,"column":8},"end":{"line":1686,"column":12}},"type":"Identifier","name":"page"},"computed":false,"value":{"range":[50243,50244],"loc":{"start":{"line":1686,"column":14},"end":{"line":1686,"column":15}},"type":"Literal","value":1,"raw":"1"},"kind":"init","method":false,"shorthand":false}]},"kind":"init","method":false,"shorthand":false}]}}],"kind":"var"},{"range":[50265,50643],"loc":{"start":{"line":1690,"column":4},"end":{"line":1699,"column":9}},"type":"ReturnStatement","argument":{"range":[50272,50642],"loc":{"start":{"line":1690,"column":11},"end":{"line":1699,"column":8}},"type":"CallExpression","callee":{"range":[50272,50360],"loc":{"start":{"line":1690,"column":11},"end":{"line":1691,"column":11}},"type":"MemberExpression","computed":false,"object":{"range":[50272,50348],"loc":{"start":{"line":1690,"column":11},"end":{"line":1690,"column":87}},"type":"CallExpression","callee":{"range":[50272,50285],"loc":{"start":{"line":1690,"column":11},"end":{"line":1690,"column":24}},"type":"MemberExpression","computed":false,"object":{"range":[50272,50280],"loc":{"start":{"line":1690,"column":11},"end":{"line":1690,"column":19}},"type":"Identifier","name":"_request"},"property":{"range":[50281,50285],"loc":{"start":{"line":1690,"column":20},"end":{"line":1690,"column":24}},"type":"Identifier","name":"call"}},"arguments":[{"range":[50286,50290],"loc":{"start":{"line":1690,"column":25},"end":{"line":1690,"column":29}},"type":"ThisExpression"},{"range":[50292,50306],"loc":{"start":{"line":1690,"column":31},"end":{"line":1690,"column":45}},"type":"Identifier","name":"requestOptions"},{"range":[50308,50315],"loc":{"start":{"line":1690,"column":47},"end":{"line":1690,"column":54}},"type":"Identifier","name":"options"},{"range":[50317,50332],"loc":{"start":{"line":1690,"column":56},"end":{"line":1690,"column":71}},"type":"Identifier","name":"successCallback"},{"range":[50334,50347],"loc":{"start":{"line":1690,"column":73},"end":{"line":1690,"column":86}},"type":"Identifier","name":"errorCallback"}]},"property":{"range":[50356,50360],"loc":{"start":{"line":1691,"column":7},"end":{"line":1691,"column":11}},"type":"Identifier","name":"then"}},"arguments":[{"range":[50361,50641],"loc":{"start":{"line":1691,"column":12},"end":{"line":1699,"column":7}},"type":"FunctionExpression","id":null,"params":[{"range":[50371,50379],"loc":{"start":{"line":1691,"column":22},"end":{"line":1691,"column":30}},"type":"Identifier","name":"response"}],"defaults":[],"body":{"range":[50381,50641],"loc":{"start":{"line":1691,"column":32},"end":{"line":1699,"column":7}},"type":"BlockStatement","body":[{"range":[50391,50633],"loc":{"start":{"line":1692,"column":8},"end":{"line":1698,"column":11}},"type":"ReturnStatement","argument":{"range":[50398,50632],"loc":{"start":{"line":1692,"column":15},"end":{"line":1698,"column":10}},"type":"NewExpression","callee":{"range":[50402,50409],"loc":{"start":{"line":1692,"column":19},"end":{"line":1692,"column":26}},"type":"Identifier","name":"Promise"},"arguments":[{"range":[50410,50631],"loc":{"start":{"line":1692,"column":27},"end":{"line":1698,"column":9}},"type":"FunctionExpression","id":null,"params":[{"range":[50420,50427],"loc":{"start":{"line":1692,"column":37},"end":{"line":1692,"column":44}},"type":"Identifier","name":"resolve"},{"range":[50429,50435],"loc":{"start":{"line":1692,"column":46},"end":{"line":1692,"column":52}},"type":"Identifier","name":"reject"}],"defaults":[],"body":{"range":[50437,50631],"loc":{"start":{"line":1692,"column":54},"end":{"line":1698,"column":9}},"type":"BlockStatement","body":[{"range":[50449,50621],"loc":{"start":{"line":1693,"column":10},"end":{"line":1697,"column":11}},"type":"IfStatement","test":{"range":[50453,50481],"loc":{"start":{"line":1693,"column":14},"end":{"line":1693,"column":42}},"type":"BinaryExpression","operator":"!==","left":{"range":[50453,50467],"loc":{"start":{"line":1693,"column":14},"end":{"line":1693,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[50453,50461],"loc":{"start":{"line":1693,"column":14},"end":{"line":1693,"column":22}},"type":"Identifier","name":"response"},"property":{"range":[50462,50467],"loc":{"start":{"line":1693,"column":23},"end":{"line":1693,"column":28}},"type":"Identifier","name":"count"}},"right":{"range":[50472,50481],"loc":{"start":{"line":1693,"column":33},"end":{"line":1693,"column":42}},"type":"Identifier","name":"undefined"}},"consequent":{"range":[50483,50533],"loc":{"start":{"line":1693,"column":44},"end":{"line":1695,"column":11}},"type":"BlockStatement","body":[{"range":[50497,50521],"loc":{"start":{"line":1694,"column":12},"end":{"line":1694,"column":36}},"type":"ExpressionStatement","expression":{"range":[50497,50520],"loc":{"start":{"line":1694,"column":12},"end":{"line":1694,"column":35}},"type":"CallExpression","callee":{"range":[50497,50504],"loc":{"start":{"line":1694,"column":12},"end":{"line":1694,"column":19}},"type":"Identifier","name":"resolve"},"arguments":[{"range":[50505,50519],"loc":{"start":{"line":1694,"column":20},"end":{"line":1694,"column":34}},"type":"MemberExpression","computed":false,"object":{"range":[50505,50513],"loc":{"start":{"line":1694,"column":20},"end":{"line":1694,"column":28}},"type":"Identifier","name":"response"},"property":{"range":[50514,50519],"loc":{"start":{"line":1694,"column":29},"end":{"line":1694,"column":34}},"type":"Identifier","name":"count"}}]}}]},"alternate":{"range":[50539,50621],"loc":{"start":{"line":1695,"column":17},"end":{"line":1697,"column":11}},"type":"BlockStatement","body":[{"range":[50553,50609],"loc":{"start":{"line":1696,"column":12},"end":{"line":1696,"column":68}},"type":"ExpressionStatement","expression":{"range":[50553,50608],"loc":{"start":{"line":1696,"column":12},"end":{"line":1696,"column":67}},"type":"CallExpression","callee":{"range":[50553,50559],"loc":{"start":{"line":1696,"column":12},"end":{"line":1696,"column":18}},"type":"Identifier","name":"reject"},"arguments":[{"range":[50560,50607],"loc":{"start":{"line":1696,"column":19},"end":{"line":1696,"column":66}},"type":"NewExpression","callee":{"range":[50564,50573],"loc":{"start":{"line":1696,"column":23},"end":{"line":1696,"column":32}},"type":"Identifier","name":"TypeError"},"arguments":[{"range":[50574,50606],"loc":{"start":{"line":1696,"column":33},"end":{"line":1696,"column":65}},"type":"Literal","value":"Resource must be a collection.","raw":"'Resource must be a collection.'"}]}]}}]}}]},"generator":false,"expression":false}]}}]},"generator":false,"expression":false}]}}]},"generator":false,"expression":false}},"leadingComments":[{"type":"Line","value":" #### Count","range":[49598,49611],"loc":{"start":{"line":1669,"column":2},"end":{"line":1669,"column":15}}},{"type":"Line","value":" Count sends a `GET` request to the REST API. It simply returns total number of results","range":[49615,49704],"loc":{"start":{"line":1671,"column":2},"end":{"line":1671,"column":91}}},{"type":"Line","value":" this query would return.","range":[49707,49734],"loc":{"start":{"line":1672,"column":2},"end":{"line":1672,"column":29}}},{"type":"Line","value":" It accepts the following parameters:","range":[49737,49776],"loc":{"start":{"line":1673,"column":2},"end":{"line":1673,"column":41}}},{"type":"Line","value":" - _**count()**: no options, no callbacks_","range":[49780,49824],"loc":{"start":{"line":1675,"column":2},"end":{"line":1675,"column":46}}},{"type":"Line","value":" - _**count(options)**: no callbacks or they are included in options_","range":[49827,49898],"loc":{"start":{"line":1676,"column":2},"end":{"line":1676,"column":73}}},{"type":"Line","value":" - _**count(options, successCb, errorCb)**: all explicit params_","range":[49901,49967],"loc":{"start":{"line":1677,"column":2},"end":{"line":1677,"column":68}}},{"type":"Line","value":" - _**count(successCb, errorCb)**: no options, just callbacks_","range":[49970,50034],"loc":{"start":{"line":1678,"column":2},"end":{"line":1678,"column":66}}}],"trailingComments":[{"type":"Line","value":" #### Update","range":[50653,50667],"loc":{"start":{"line":1703,"column":2},"end":{"line":1703,"column":16}}},{"type":"Line","value":" Update sends a `PUT` request to the REST API. It always returns an entity","range":[50671,50747],"loc":{"start":{"line":1705,"column":2},"end":{"line":1705,"column":78}}},{"type":"Line","value":" or JSON object on success.","range":[50750,50779],"loc":{"start":{"line":1706,"column":2},"end":{"line":1706,"column":31}}},{"type":"Line","value":" **The interface is the same as _.create()_**","range":[50783,50830],"loc":{"start":{"line":1708,"column":2},"end":{"line":1708,"column":49}}}]},{"range":[50833,51124],"loc":{"start":{"line":1709,"column":2},"end":{"line":1719,"column":4}},"type":"ExpressionStatement","expression":{"range":[50833,51123],"loc":{"start":{"line":1709,"column":2},"end":{"line":1719,"column":3}},"type":"AssignmentExpression","operator":"=","left":{"range":[50833,50858],"loc":{"start":{"line":1709,"column":2},"end":{"line":1709,"column":27}},"type":"MemberExpression","computed":false,"object":{"range":[50833,50851],"loc":{"start":{"line":1709,"column":2},"end":{"line":1709,"column":20}},"type":"MemberExpression","computed":false,"object":{"range":[50833,50841],"loc":{"start":{"line":1709,"column":2},"end":{"line":1709,"column":10}},"type":"Identifier","name":"Resource"},"property":{"range":[50842,50851],"loc":{"start":{"line":1709,"column":11},"end":{"line":1709,"column":20}},"type":"Identifier","name":"prototype"}},"property":{"range":[50852,50858],"loc":{"start":{"line":1709,"column":21},"end":{"line":1709,"column":27}},"type":"Identifier","name":"update"}},"right":{"range":[50861,51123],"loc":{"start":{"line":1709,"column":30},"end":{"line":1719,"column":3}},"type":"FunctionExpression","id":null,"params":[{"range":[50871,50875],"loc":{"start":{"line":1709,"column":40},"end":{"line":1709,"column":44}},"type":"Identifier","name":"data"},{"range":[50877,50884],"loc":{"start":{"line":1709,"column":46},"end":{"line":1709,"column":53}},"type":"Identifier","name":"options"},{"range":[50886,50901],"loc":{"start":{"line":1709,"column":55},"end":{"line":1709,"column":70}},"type":"Identifier","name":"successCallback"},{"range":[50903,50916],"loc":{"start":{"line":1709,"column":72},"end":{"line":1709,"column":85}},"type":"Identifier","name":"errorCallback"}],"defaults":[],"body":{"range":[50918,51123],"loc":{"start":{"line":1709,"column":87},"end":{"line":1719,"column":3}},"type":"BlockStatement","body":[{"range":[50925,51028],"loc":{"start":{"line":1711,"column":4},"end":{"line":1715,"column":6}},"type":"VariableDeclaration","declarations":[{"range":[50929,51027],"loc":{"start":{"line":1711,"column":8},"end":{"line":1715,"column":5}},"type":"VariableDeclarator","id":{"range":[50929,50943],"loc":{"start":{"line":1711,"column":8},"end":{"line":1711,"column":22}},"type":"Identifier","name":"requestOptions"},"init":{"range":[50946,51027],"loc":{"start":{"line":1711,"column":25},"end":{"line":1715,"column":5}},"type":"ObjectExpression","properties":[{"range":[50954,50968],"loc":{"start":{"line":1712,"column":6},"end":{"line":1712,"column":20}},"type":"Property","key":{"range":[50954,50957],"loc":{"start":{"line":1712,"column":6},"end":{"line":1712,"column":9}},"type":"Identifier","name":"url"},"computed":false,"value":{"range":[50959,50968],"loc":{"start":{"line":1712,"column":11},"end":{"line":1712,"column":20}},"type":"MemberExpression","computed":false,"object":{"range":[50959,50963],"loc":{"start":{"line":1712,"column":11},"end":{"line":1712,"column":15}},"type":"ThisExpression"},"property":{"range":[50964,50968],"loc":{"start":{"line":1712,"column":16},"end":{"line":1712,"column":20}},"type":"Identifier","name":"path"}},"kind":"init","method":false,"shorthand":false},{"range":[50976,50989],"loc":{"start":{"line":1713,"column":6},"end":{"line":1713,"column":19}},"type":"Property","key":{"range":[50976,50982],"loc":{"start":{"line":1713,"column":6},"end":{"line":1713,"column":12}},"type":"Identifier","name":"method"},"computed":false,"value":{"range":[50984,50989],"loc":{"start":{"line":1713,"column":14},"end":{"line":1713,"column":19}},"type":"Literal","value":"put","raw":"'put'"},"kind":"init","method":false,"shorthand":false},{"range":[50997,51021],"loc":{"start":{"line":1714,"column":6},"end":{"line":1714,"column":30}},"type":"Property","key":{"range":[50997,51001],"loc":{"start":{"line":1714,"column":6},"end":{"line":1714,"column":10}},"type":"Identifier","name":"data"},"computed":false,"value":{"range":[51003,51021],"loc":{"start":{"line":1714,"column":12},"end":{"line":1714,"column":30}},"type":"CallExpression","callee":{"range":[51003,51015],"loc":{"start":{"line":1714,"column":12},"end":{"line":1714,"column":24}},"type":"MemberExpression","computed":false,"object":{"range":[51003,51007],"loc":{"start":{"line":1714,"column":12},"end":{"line":1714,"column":16}},"type":"ThisExpression"},"property":{"range":[51008,51015],"loc":{"start":{"line":1714,"column":17},"end":{"line":1714,"column":24}},"type":"Identifier","name":"jsonify"}},"arguments":[{"range":[51016,51020],"loc":{"start":{"line":1714,"column":25},"end":{"line":1714,"column":29}},"type":"Identifier","name":"data"}]},"kind":"init","method":false,"shorthand":false}]}}],"kind":"var"},{"range":[51034,51118],"loc":{"start":{"line":1717,"column":4},"end":{"line":1717,"column":88}},"type":"ReturnStatement","argument":{"range":[51041,51117],"loc":{"start":{"line":1717,"column":11},"end":{"line":1717,"column":87}},"type":"CallExpression","callee":{"range":[51041,51054],"loc":{"start":{"line":1717,"column":11},"end":{"line":1717,"column":24}},"type":"MemberExpression","computed":false,"object":{"range":[51041,51049],"loc":{"start":{"line":1717,"column":11},"end":{"line":1717,"column":19}},"type":"Identifier","name":"_request"},"property":{"range":[51050,51054],"loc":{"start":{"line":1717,"column":20},"end":{"line":1717,"column":24}},"type":"Identifier","name":"call"}},"arguments":[{"range":[51055,51059],"loc":{"start":{"line":1717,"column":25},"end":{"line":1717,"column":29}},"type":"ThisExpression"},{"range":[51061,51075],"loc":{"start":{"line":1717,"column":31},"end":{"line":1717,"column":45}},"type":"Identifier","name":"requestOptions"},{"range":[51077,51084],"loc":{"start":{"line":1717,"column":47},"end":{"line":1717,"column":54}},"type":"Identifier","name":"options"},{"range":[51086,51101],"loc":{"start":{"line":1717,"column":56},"end":{"line":1717,"column":71}},"type":"Identifier","name":"successCallback"},{"range":[51103,51116],"loc":{"start":{"line":1717,"column":73},"end":{"line":1717,"column":86}},"type":"Identifier","name":"errorCallback"}]}}]},"generator":false,"expression":false}},"leadingComments":[{"type":"Line","value":" #### Update","range":[50653,50667],"loc":{"start":{"line":1703,"column":2},"end":{"line":1703,"column":16}}},{"type":"Line","value":" Update sends a `PUT` request to the REST API. It always returns an entity","range":[50671,50747],"loc":{"start":{"line":1705,"column":2},"end":{"line":1705,"column":78}}},{"type":"Line","value":" or JSON object on success.","range":[50750,50779],"loc":{"start":{"line":1706,"column":2},"end":{"line":1706,"column":31}}},{"type":"Line","value":" **The interface is the same as _.create()_**","range":[50783,50830],"loc":{"start":{"line":1708,"column":2},"end":{"line":1708,"column":49}}}],"trailingComments":[{"type":"Line","value":" #### Delete","range":[51129,51143],"loc":{"start":{"line":1722,"column":2},"end":{"line":1722,"column":16}}},{"type":"Line","value":" Delete sends a `DELETE` request to the REST API. It always returns an *null*","range":[51147,51226],"loc":{"start":{"line":1724,"column":2},"end":{"line":1724,"column":81}}},{"type":"Line","value":" response on success.","range":[51229,51252],"loc":{"start":{"line":1725,"column":2},"end":{"line":1725,"column":25}}},{"type":"Line","value":" **The interface is the same as _.read()_**","range":[51256,51301],"loc":{"start":{"line":1727,"column":2},"end":{"line":1727,"column":47}}}]},{"range":[51304,51563],"loc":{"start":{"line":1728,"column":2},"end":{"line":1737,"column":4}},"type":"ExpressionStatement","expression":{"range":[51304,51562],"loc":{"start":{"line":1728,"column":2},"end":{"line":1737,"column":3}},"type":"AssignmentExpression","operator":"=","left":{"range":[51304,51332],"loc":{"start":{"line":1728,"column":2},"end":{"line":1728,"column":30}},"type":"MemberExpression","computed":true,"object":{"range":[51304,51322],"loc":{"start":{"line":1728,"column":2},"end":{"line":1728,"column":20}},"type":"MemberExpression","computed":false,"object":{"range":[51304,51312],"loc":{"start":{"line":1728,"column":2},"end":{"line":1728,"column":10}},"type":"Identifier","name":"Resource"},"property":{"range":[51313,51322],"loc":{"start":{"line":1728,"column":11},"end":{"line":1728,"column":20}},"type":"Identifier","name":"prototype"}},"property":{"range":[51323,51331],"loc":{"start":{"line":1728,"column":21},"end":{"line":1728,"column":29}},"type":"Literal","value":"delete","raw":"'delete'"}},"right":{"range":[51335,51562],"loc":{"start":{"line":1728,"column":33},"end":{"line":1737,"column":3}},"type":"FunctionExpression","id":null,"params":[{"range":[51345,51352],"loc":{"start":{"line":1728,"column":43},"end":{"line":1728,"column":50}},"type":"Identifier","name":"options"},{"range":[51354,51369],"loc":{"start":{"line":1728,"column":52},"end":{"line":1728,"column":67}},"type":"Identifier","name":"successCallback"},{"range":[51371,51384],"loc":{"start":{"line":1728,"column":69},"end":{"line":1728,"column":82}},"type":"Identifier","name":"errorCallback"}],"defaults":[],"body":{"range":[51386,51562],"loc":{"start":{"line":1728,"column":84},"end":{"line":1737,"column":3}},"type":"BlockStatement","body":[{"range":[51393,51467],"loc":{"start":{"line":1730,"column":4},"end":{"line":1733,"column":6}},"type":"VariableDeclaration","declarations":[{"range":[51397,51466],"loc":{"start":{"line":1730,"column":8},"end":{"line":1733,"column":5}},"type":"VariableDeclarator","id":{"range":[51397,51411],"loc":{"start":{"line":1730,"column":8},"end":{"line":1730,"column":22}},"type":"Identifier","name":"requestOptions"},"init":{"range":[51414,51466],"loc":{"start":{"line":1730,"column":25},"end":{"line":1733,"column":5}},"type":"ObjectExpression","properties":[{"range":[51422,51436],"loc":{"start":{"line":1731,"column":6},"end":{"line":1731,"column":20}},"type":"Property","key":{"range":[51422,51425],"loc":{"start":{"line":1731,"column":6},"end":{"line":1731,"column":9}},"type":"Identifier","name":"url"},"computed":false,"value":{"range":[51427,51436],"loc":{"start":{"line":1731,"column":11},"end":{"line":1731,"column":20}},"type":"MemberExpression","computed":false,"object":{"range":[51427,51431],"loc":{"start":{"line":1731,"column":11},"end":{"line":1731,"column":15}},"type":"ThisExpression"},"property":{"range":[51432,51436],"loc":{"start":{"line":1731,"column":16},"end":{"line":1731,"column":20}},"type":"Identifier","name":"path"}},"kind":"init","method":false,"shorthand":false},{"range":[51444,51460],"loc":{"start":{"line":1732,"column":6},"end":{"line":1732,"column":22}},"type":"Property","key":{"range":[51444,51450],"loc":{"start":{"line":1732,"column":6},"end":{"line":1732,"column":12}},"type":"Identifier","name":"method"},"computed":false,"value":{"range":[51452,51460],"loc":{"start":{"line":1732,"column":14},"end":{"line":1732,"column":22}},"type":"Literal","value":"delete","raw":"'delete'"},"kind":"init","method":false,"shorthand":false}]}}],"kind":"var"},{"range":[51473,51557],"loc":{"start":{"line":1735,"column":4},"end":{"line":1735,"column":88}},"type":"ReturnStatement","argument":{"range":[51480,51556],"loc":{"start":{"line":1735,"column":11},"end":{"line":1735,"column":87}},"type":"CallExpression","callee":{"range":[51480,51493],"loc":{"start":{"line":1735,"column":11},"end":{"line":1735,"column":24}},"type":"MemberExpression","computed":false,"object":{"range":[51480,51488],"loc":{"start":{"line":1735,"column":11},"end":{"line":1735,"column":19}},"type":"Identifier","name":"_request"},"property":{"range":[51489,51493],"loc":{"start":{"line":1735,"column":20},"end":{"line":1735,"column":24}},"type":"Identifier","name":"call"}},"arguments":[{"range":[51494,51498],"loc":{"start":{"line":1735,"column":25},"end":{"line":1735,"column":29}},"type":"ThisExpression"},{"range":[51500,51514],"loc":{"start":{"line":1735,"column":31},"end":{"line":1735,"column":45}},"type":"Identifier","name":"requestOptions"},{"range":[51516,51523],"loc":{"start":{"line":1735,"column":47},"end":{"line":1735,"column":54}},"type":"Identifier","name":"options"},{"range":[51525,51540],"loc":{"start":{"line":1735,"column":56},"end":{"line":1735,"column":71}},"type":"Identifier","name":"successCallback"},{"range":[51542,51555],"loc":{"start":{"line":1735,"column":73},"end":{"line":1735,"column":86}},"type":"Identifier","name":"errorCallback"}]}}]},"generator":false,"expression":false}},"leadingComments":[{"type":"Line","value":" #### Delete","range":[51129,51143],"loc":{"start":{"line":1722,"column":2},"end":{"line":1722,"column":16}}},{"type":"Line","value":" Delete sends a `DELETE` request to the REST API. It always returns an *null*","range":[51147,51226],"loc":{"start":{"line":1724,"column":2},"end":{"line":1724,"column":81}}},{"type":"Line","value":" response on success.","range":[51229,51252],"loc":{"start":{"line":1725,"column":2},"end":{"line":1725,"column":25}}},{"type":"Line","value":" **The interface is the same as _.read()_**","range":[51256,51301],"loc":{"start":{"line":1727,"column":2},"end":{"line":1727,"column":47}}}],"trailingComments":[{"type":"Line","value":" Given we don't have subclasses of Resource, this static factory method","range":[51568,51641],"loc":{"start":{"line":1740,"column":2},"end":{"line":1740,"column":75}}},{"type":"Line","value":" allows to generate a resource constructor given a path and class.","range":[51644,51712],"loc":{"start":{"line":1741,"column":2},"end":{"line":1741,"column":70}}},{"type":"Line","value":" By default all resource constructors receive a string ID for single","range":[51716,51786],"loc":{"start":{"line":1743,"column":2},"end":{"line":1743,"column":72}}},{"type":"Line","value":" entity resources.","range":[51789,51809],"loc":{"start":{"line":1744,"column":2},"end":{"line":1744,"column":22}}}]},{"range":[51812,53125],"loc":{"start":{"line":1745,"column":2},"end":{"line":1791,"column":4}},"type":"ExpressionStatement","expression":{"range":[51812,53124],"loc":{"start":{"line":1745,"column":2},"end":{"line":1791,"column":3}},"type":"AssignmentExpression","operator":"=","left":{"range":[51812,51839],"loc":{"start":{"line":1745,"column":2},"end":{"line":1745,"column":29}},"type":"MemberExpression","computed":false,"object":{"range":[51812,51820],"loc":{"start":{"line":1745,"column":2},"end":{"line":1745,"column":10}},"type":"Identifier","name":"Resource"},"property":{"range":[51821,51839],"loc":{"start":{"line":1745,"column":11},"end":{"line":1745,"column":29}},"type":"Identifier","name":"constructorFactory"}},"right":{"range":[51842,53124],"loc":{"start":{"line":1745,"column":32},"end":{"line":1791,"column":3}},"type":"FunctionExpression","id":null,"params":[{"range":[51852,51856],"loc":{"start":{"line":1745,"column":42},"end":{"line":1745,"column":46}},"type":"Identifier","name":"path"},{"range":[51858,51864],"loc":{"start":{"line":1745,"column":48},"end":{"line":1745,"column":54}},"type":"Identifier","name":"Entity"},{"range":[51866,51881],"loc":{"start":{"line":1745,"column":56},"end":{"line":1745,"column":71}},"type":"Identifier","name":"nestedResources"}],"defaults":[],"body":{"range":[51883,53124],"loc":{"start":{"line":1745,"column":73},"end":{"line":1791,"column":3}},"type":"BlockStatement","body":[{"range":[51889,53120],"loc":{"start":{"line":1746,"column":4},"end":{"line":1790,"column":6}},"type":"ReturnStatement","argument":{"range":[51896,53119],"loc":{"start":{"line":1746,"column":11},"end":{"line":1790,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[51906,51908],"loc":{"start":{"line":1746,"column":21},"end":{"line":1746,"column":23}},"type":"Identifier","name":"id"}],"defaults":[],"body":{"range":[51910,53119],"loc":{"start":{"line":1746,"column":25},"end":{"line":1790,"column":5}},"type":"BlockStatement","body":[{"range":[51918,51944],"loc":{"start":{"line":1747,"column":6},"end":{"line":1747,"column":32}},"type":"VariableDeclaration","declarations":[{"range":[51922,51943],"loc":{"start":{"line":1747,"column":10},"end":{"line":1747,"column":31}},"type":"VariableDeclarator","id":{"range":[51922,51930],"loc":{"start":{"line":1747,"column":10},"end":{"line":1747,"column":18}},"type":"Identifier","name":"fullPath"},"init":{"range":[51933,51943],"loc":{"start":{"line":1747,"column":21},"end":{"line":1747,"column":31}},"type":"LogicalExpression","operator":"||","left":{"range":[51933,51937],"loc":{"start":{"line":1747,"column":21},"end":{"line":1747,"column":25}},"type":"Identifier","name":"path"},"right":{"range":[51941,51943],"loc":{"start":{"line":1747,"column":29},"end":{"line":1747,"column":31}},"type":"Literal","value":"","raw":"\"\""}}}],"kind":"var"},{"range":[51952,52137],"loc":{"start":{"line":1749,"column":6},"end":{"line":1755,"column":7}},"type":"IfStatement","test":{"range":[51956,51958],"loc":{"start":{"line":1749,"column":10},"end":{"line":1749,"column":12}},"type":"Identifier","name":"id"},"consequent":{"range":[51960,52137],"loc":{"start":{"line":1749,"column":14},"end":{"line":1755,"column":7}},"type":"BlockStatement","body":[{"range":[51970,52129],"loc":{"start":{"line":1750,"column":8},"end":{"line":1754,"column":9}},"type":"IfStatement","test":{"range":[51974,51992],"loc":{"start":{"line":1750,"column":12},"end":{"line":1750,"column":30}},"type":"CallExpression","callee":{"range":[51974,51988],"loc":{"start":{"line":1750,"column":12},"end":{"line":1750,"column":26}},"type":"MemberExpression","computed":false,"object":{"range":[51974,51979],"loc":{"start":{"line":1750,"column":12},"end":{"line":1750,"column":17}},"type":"Identifier","name":"Utils"},"property":{"range":[51980,51988],"loc":{"start":{"line":1750,"column":18},"end":{"line":1750,"column":26}},"type":"Identifier","name":"isString"}},"arguments":[{"range":[51989,51991],"loc":{"start":{"line":1750,"column":27},"end":{"line":1750,"column":29}},"type":"Identifier","name":"id"}]},"consequent":{"range":[51994,52057],"loc":{"start":{"line":1750,"column":32},"end":{"line":1752,"column":9}},"type":"BlockStatement","body":[{"range":[52006,52047],"loc":{"start":{"line":1751,"column":10},"end":{"line":1751,"column":51}},"type":"ExpressionStatement","expression":{"range":[52006,52046],"loc":{"start":{"line":1751,"column":10},"end":{"line":1751,"column":50}},"type":"AssignmentExpression","operator":"+=","left":{"range":[52006,52014],"loc":{"start":{"line":1751,"column":10},"end":{"line":1751,"column":18}},"type":"Identifier","name":"fullPath"},"right":{"range":[52018,52046],"loc":{"start":{"line":1751,"column":22},"end":{"line":1751,"column":50}},"type":"BinaryExpression","operator":"+","left":{"range":[52018,52021],"loc":{"start":{"line":1751,"column":22},"end":{"line":1751,"column":25}},"type":"Literal","value":"/","raw":"'/'"},"right":{"range":[52024,52046],"loc":{"start":{"line":1751,"column":28},"end":{"line":1751,"column":50}},"type":"CallExpression","callee":{"range":[52024,52042],"loc":{"start":{"line":1751,"column":28},"end":{"line":1751,"column":46}},"type":"Identifier","name":"encodeURIComponent"},"arguments":[{"range":[52043,52045],"loc":{"start":{"line":1751,"column":47},"end":{"line":1751,"column":49}},"type":"Identifier","name":"id"}]}}}}]},"alternate":{"range":[52063,52129],"loc":{"start":{"line":1752,"column":15},"end":{"line":1754,"column":9}},"type":"BlockStatement","body":[{"range":[52075,52119],"loc":{"start":{"line":1753,"column":10},"end":{"line":1753,"column":54}},"type":"ThrowStatement","argument":{"range":[52081,52118],"loc":{"start":{"line":1753,"column":16},"end":{"line":1753,"column":53}},"type":"NewExpression","callee":{"range":[52085,52094],"loc":{"start":{"line":1753,"column":20},"end":{"line":1753,"column":29}},"type":"Identifier","name":"TypeError"},"arguments":[{"range":[52095,52117],"loc":{"start":{"line":1753,"column":30},"end":{"line":1753,"column":52}},"type":"Literal","value":"ID must be a string.","raw":"'ID must be a string.'"}]}}]}}]},"alternate":null},{"range":[52145,52197],"loc":{"start":{"line":1757,"column":6},"end":{"line":1757,"column":58}},"type":"VariableDeclaration","declarations":[{"range":[52149,52196],"loc":{"start":{"line":1757,"column":10},"end":{"line":1757,"column":57}},"type":"VariableDeclarator","id":{"range":[52149,52157],"loc":{"start":{"line":1757,"column":10},"end":{"line":1757,"column":18}},"type":"Identifier","name":"resource"},"init":{"range":[52160,52196],"loc":{"start":{"line":1757,"column":21},"end":{"line":1757,"column":57}},"type":"NewExpression","callee":{"range":[52164,52172],"loc":{"start":{"line":1757,"column":25},"end":{"line":1757,"column":33}},"type":"Identifier","name":"Resource"},"arguments":[{"range":[52173,52177],"loc":{"start":{"line":1757,"column":34},"end":{"line":1757,"column":38}},"type":"ThisExpression"},{"range":[52179,52187],"loc":{"start":{"line":1757,"column":40},"end":{"line":1757,"column":48}},"type":"Identifier","name":"fullPath"},{"range":[52189,52195],"loc":{"start":{"line":1757,"column":50},"end":{"line":1757,"column":56}},"type":"Identifier","name":"Entity"}]}}],"kind":"var"},{"range":[52205,53088],"loc":{"start":{"line":1759,"column":6},"end":{"line":1786,"column":7}},"type":"IfStatement","test":{"range":[52209,52224],"loc":{"start":{"line":1759,"column":10},"end":{"line":1759,"column":25}},"type":"Identifier","name":"nestedResources"},"consequent":{"range":[52226,53088],"loc":{"start":{"line":1759,"column":27},"end":{"line":1786,"column":7}},"type":"BlockStatement","body":[{"range":[52526,52573],"loc":{"start":{"line":1770,"column":8},"end":{"line":1770,"column":55}},"type":"VariableDeclaration","declarations":[{"range":[52530,52572],"loc":{"start":{"line":1770,"column":12},"end":{"line":1770,"column":54}},"type":"VariableDeclarator","id":{"range":[52530,52539],"loc":{"start":{"line":1770,"column":12},"end":{"line":1770,"column":21}},"type":"Identifier","name":"rawEntity"},"init":{"range":[52542,52572],"loc":{"start":{"line":1770,"column":24},"end":{"line":1770,"column":54}},"type":"NewExpression","callee":{"range":[52546,52552],"loc":{"start":{"line":1770,"column":28},"end":{"line":1770,"column":34}},"type":"Identifier","name":"Entity"},"arguments":[{"range":[52553,52561],"loc":{"start":{"line":1770,"column":35},"end":{"line":1770,"column":43}},"type":"ObjectExpression","properties":[{"range":[52554,52560],"loc":{"start":{"line":1770,"column":36},"end":{"line":1770,"column":42}},"type":"Property","key":{"range":[52554,52556],"loc":{"start":{"line":1770,"column":36},"end":{"line":1770,"column":38}},"type":"Identifier","name":"id"},"computed":false,"value":{"range":[52558,52560],"loc":{"start":{"line":1770,"column":40},"end":{"line":1770,"column":42}},"type":"Identifier","name":"id"},"kind":"init","method":false,"shorthand":false}]},{"range":[52563,52571],"loc":{"start":{"line":1770,"column":45},"end":{"line":1770,"column":53}},"type":"Identifier","name":"resource"}]}}],"kind":"var","leadingComments":[{"type":"Line","value":" Allow nested resources in single call.","range":[52237,52278],"loc":{"start":{"line":1761,"column":8},"end":{"line":1761,"column":49}}},{"type":"Line","value":" E.g. users can access to a thng's nested data directly with:","range":[52287,52350],"loc":{"start":{"line":1762,"column":8},"end":{"line":1762,"column":71}}},{"type":"Line","value":"```","range":[52360,52365],"loc":{"start":{"line":1764,"column":8},"end":{"line":1764,"column":13}}},{"type":"Line","value":"  user.thng().property().read(...);","range":[52374,52411],"loc":{"start":{"line":1765,"column":8},"end":{"line":1765,"column":45}}},{"type":"Line","value":"  user.thng().action().read(...);","range":[52420,52455],"loc":{"start":{"line":1766,"column":8},"end":{"line":1766,"column":43}}},{"type":"Line","value":"```","range":[52464,52469],"loc":{"start":{"line":1767,"column":8},"end":{"line":1767,"column":13}}},{"type":"Line","value":" instead of fetching the Thng first.","range":[52479,52517],"loc":{"start":{"line":1769,"column":8},"end":{"line":1769,"column":46}}}]},{"range":[52583,53080],"loc":{"start":{"line":1772,"column":8},"end":{"line":1785,"column":9}},"type":"IfStatement","test":{"range":[52587,52617],"loc":{"start":{"line":1772,"column":12},"end":{"line":1772,"column":42}},"type":"CallExpression","callee":{"range":[52587,52600],"loc":{"start":{"line":1772,"column":12},"end":{"line":1772,"column":25}},"type":"MemberExpression","computed":false,"object":{"range":[52587,52592],"loc":{"start":{"line":1772,"column":12},"end":{"line":1772,"column":17}},"type":"Identifier","name":"Utils"},"property":{"range":[52593,52600],"loc":{"start":{"line":1772,"column":18},"end":{"line":1772,"column":25}},"type":"Identifier","name":"isArray"}},"arguments":[{"range":[52601,52616],"loc":{"start":{"line":1772,"column":26},"end":{"line":1772,"column":41}},"type":"Identifier","name":"nestedResources"}]},"consequent":{"range":[52619,52992],"loc":{"start":{"line":1772,"column":44},"end":{"line":1783,"column":9}},"type":"BlockStatement","body":[{"range":[52631,52982],"loc":{"start":{"line":1773,"column":10},"end":{"line":1782,"column":13}},"type":"ExpressionStatement","expression":{"range":[52631,52981],"loc":{"start":{"line":1773,"column":10},"end":{"line":1782,"column":12}},"type":"CallExpression","callee":{"range":[52631,52654],"loc":{"start":{"line":1773,"column":10},"end":{"line":1773,"column":33}},"type":"MemberExpression","computed":false,"object":{"range":[52631,52646],"loc":{"start":{"line":1773,"column":10},"end":{"line":1773,"column":25}},"type":"Identifier","name":"nestedResources"},"property":{"range":[52647,52654],"loc":{"start":{"line":1773,"column":26},"end":{"line":1773,"column":33}},"type":"Identifier","name":"forEach"}},"arguments":[{"range":[52655,52980],"loc":{"start":{"line":1773,"column":34},"end":{"line":1782,"column":11}},"type":"FunctionExpression","id":null,"params":[{"range":[52665,52679],"loc":{"start":{"line":1773,"column":44},"end":{"line":1773,"column":58}},"type":"Identifier","name":"nestedResource"}],"defaults":[],"body":{"range":[52681,52980],"loc":{"start":{"line":1773,"column":60},"end":{"line":1782,"column":11}},"type":"BlockStatement","body":[{"range":[52771,52967],"loc":{"start":{"line":1776,"column":12},"end":{"line":1780,"column":13}},"type":"IfStatement","test":{"range":[52775,52800],"loc":{"start":{"line":1776,"column":16},"end":{"line":1776,"column":41}},"type":"MemberExpression","computed":true,"object":{"range":[52775,52784],"loc":{"start":{"line":1776,"column":16},"end":{"line":1776,"column":25}},"type":"Identifier","name":"rawEntity"},"property":{"range":[52785,52799],"loc":{"start":{"line":1776,"column":26},"end":{"line":1776,"column":40}},"type":"Identifier","name":"nestedResource"}},"consequent":{"range":[52802,52967],"loc":{"start":{"line":1776,"column":43},"end":{"line":1780,"column":13}},"type":"BlockStatement","body":[{"range":[52818,52953],"loc":{"start":{"line":1777,"column":14},"end":{"line":1779,"column":16}},"type":"ExpressionStatement","expression":{"range":[52818,52952],"loc":{"start":{"line":1777,"column":14},"end":{"line":1779,"column":15}},"type":"AssignmentExpression","operator":"=","left":{"range":[52818,52842],"loc":{"start":{"line":1777,"column":14},"end":{"line":1777,"column":38}},"type":"MemberExpression","computed":true,"object":{"range":[52818,52826],"loc":{"start":{"line":1777,"column":14},"end":{"line":1777,"column":22}},"type":"Identifier","name":"resource"},"property":{"range":[52827,52841],"loc":{"start":{"line":1777,"column":23},"end":{"line":1777,"column":37}},"type":"Identifier","name":"nestedResource"}},"right":{"range":[52845,52952],"loc":{"start":{"line":1777,"column":41},"end":{"line":1779,"column":15}},"type":"FunctionExpression","id":null,"params":[],"defaults":[],"body":{"range":[52857,52952],"loc":{"start":{"line":1777,"column":53},"end":{"line":1779,"column":15}},"type":"BlockStatement","body":[{"range":[52875,52936],"loc":{"start":{"line":1778,"column":16},"end":{"line":1778,"column":77}},"type":"ReturnStatement","argument":{"range":[52882,52935],"loc":{"start":{"line":1778,"column":23},"end":{"line":1778,"column":76}},"type":"CallExpression","callee":{"range":[52882,52913],"loc":{"start":{"line":1778,"column":23},"end":{"line":1778,"column":54}},"type":"MemberExpression","computed":false,"object":{"range":[52882,52907],"loc":{"start":{"line":1778,"column":23},"end":{"line":1778,"column":48}},"type":"MemberExpression","computed":true,"object":{"range":[52882,52891],"loc":{"start":{"line":1778,"column":23},"end":{"line":1778,"column":32}},"type":"Identifier","name":"rawEntity"},"property":{"range":[52892,52906],"loc":{"start":{"line":1778,"column":33},"end":{"line":1778,"column":47}},"type":"Identifier","name":"nestedResource"}},"property":{"range":[52908,52913],"loc":{"start":{"line":1778,"column":49},"end":{"line":1778,"column":54}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[52914,52923],"loc":{"start":{"line":1778,"column":55},"end":{"line":1778,"column":64}},"type":"Identifier","name":"rawEntity"},{"range":[52925,52934],"loc":{"start":{"line":1778,"column":66},"end":{"line":1778,"column":75}},"type":"Identifier","name":"arguments"}]}}]},"generator":false,"expression":false}}}]},"alternate":null,"leadingComments":[{"type":"Line","value":" If the entity has it, then attach to this resource as well.","range":[52696,52758],"loc":{"start":{"line":1775,"column":12},"end":{"line":1775,"column":74}}}]}]},"generator":false,"expression":false}]}}]},"alternate":{"range":[52998,53080],"loc":{"start":{"line":1783,"column":15},"end":{"line":1785,"column":9}},"type":"BlockStatement","body":[{"range":[53010,53070],"loc":{"start":{"line":1784,"column":10},"end":{"line":1784,"column":70}},"type":"ThrowStatement","argument":{"range":[53016,53069],"loc":{"start":{"line":1784,"column":16},"end":{"line":1784,"column":69}},"type":"NewExpression","callee":{"range":[53020,53029],"loc":{"start":{"line":1784,"column":20},"end":{"line":1784,"column":29}},"type":"Identifier","name":"TypeError"},"arguments":[{"range":[53030,53068],"loc":{"start":{"line":1784,"column":30},"end":{"line":1784,"column":68}},"type":"Literal","value":"Nested resources should be an array.","raw":"'Nested resources should be an array.'"}]}}]}}]},"alternate":null},{"range":[53096,53112],"loc":{"start":{"line":1788,"column":6},"end":{"line":1788,"column":22}},"type":"ReturnStatement","argument":{"range":[53103,53111],"loc":{"start":{"line":1788,"column":13},"end":{"line":1788,"column":21}},"type":"Identifier","name":"resource"}}]},"generator":false,"expression":false}}]},"generator":false,"expression":false}},"leadingComments":[{"type":"Line","value":" Given we don't have subclasses of Resource, this static factory method","range":[51568,51641],"loc":{"start":{"line":1740,"column":2},"end":{"line":1740,"column":75}}},{"type":"Line","value":" allows to generate a resource constructor given a path and class.","range":[51644,51712],"loc":{"start":{"line":1741,"column":2},"end":{"line":1741,"column":70}}},{"type":"Line","value":" By default all resource constructors receive a string ID for single","range":[51716,51786],"loc":{"start":{"line":1743,"column":2},"end":{"line":1743,"column":72}}},{"type":"Line","value":" entity resources.","range":[51789,51809],"loc":{"start":{"line":1744,"column":2},"end":{"line":1744,"column":22}}}]},{"range":[53130,53146],"loc":{"start":{"line":1794,"column":2},"end":{"line":1794,"column":18}},"type":"ReturnStatement","argument":{"range":[53137,53145],"loc":{"start":{"line":1794,"column":9},"end":{"line":1794,"column":17}},"type":"Identifier","name":"Resource"}}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" ## RESOURCE.JS","range":[39954,39971],"loc":{"start":{"line":1396,"column":0},"end":{"line":1396,"column":17}}},{"type":"Line","value":" **The private Resource module setups up the base resource CRUD methods.","range":[39973,40047],"loc":{"start":{"line":1398,"column":0},"end":{"line":1398,"column":74}}},{"type":"Line","value":" All requests made on a resource are scoped, meaning they will send the","range":[40048,40121],"loc":{"start":{"line":1399,"column":0},"end":{"line":1399,"column":73}}},{"type":"Line","value":" resouce's owner scope's API Key.**","range":[40122,40159],"loc":{"start":{"line":1400,"column":0},"end":{"line":1400,"column":37}}},{"type":"Line","value":" **Another important feature is that if the resource has a class/entity, which","range":[40161,40241],"loc":{"start":{"line":1402,"column":0},"end":{"line":1402,"column":80}}},{"type":"Line","value":" it allows to serialize and deserialize requests and responses. Also, with the","range":[40242,40322],"loc":{"start":{"line":1403,"column":0},"end":{"line":1403,"column":80}}},{"type":"Line","value":" `fetchCascade` option enabled, an entity knows how to automatically fetch nested","range":[40323,40406],"loc":{"start":{"line":1404,"column":0},"end":{"line":1404,"column":83}}},{"type":"Line","value":" entities.**","range":[40407,40421],"loc":{"start":{"line":1405,"column":0},"end":{"line":1405,"column":14}}},{"type":"Line","value":" *For example, the result of a .read() can be a Thng entity, that has specific","range":[40423,40503],"loc":{"start":{"line":1407,"column":0},"end":{"line":1407,"column":80}}},{"type":"Line","value":" methods to update itself, get the corresponding product or manage properties.*","range":[40504,40585],"loc":{"start":{"line":1408,"column":0},"end":{"line":1408,"column":81}}}],"trailingComments":[{"type":"Line","value":" ## ENTITY.JS","range":[53153,53168],"loc":{"start":{"line":1798,"column":0},"end":{"line":1798,"column":15}}},{"type":"Line","value":" **Entity is a private super class that implements base common methods for","range":[53170,53246],"loc":{"start":{"line":1800,"column":0},"end":{"line":1800,"column":76}}},{"type":"Line","value":" all Evrythng objects. It establishes the way objects are converted","range":[53247,53316],"loc":{"start":{"line":1801,"column":0},"end":{"line":1801,"column":69}}},{"type":"Line","value":" to JSON, and provide an *update()* and *delete()* method for all entities.**","range":[53317,53396],"loc":{"start":{"line":1802,"column":0},"end":{"line":1802,"column":79}}}]},{"range":[53398,56519],"loc":{"start":{"line":1804,"column":0},"end":{"line":1910,"column":3}},"type":"ExpressionStatement","expression":{"range":[53398,56518],"loc":{"start":{"line":1804,"column":0},"end":{"line":1910,"column":2}},"type":"CallExpression","callee":{"range":[53398,53404],"loc":{"start":{"line":1804,"column":0},"end":{"line":1804,"column":6}},"type":"Identifier","name":"define"},"arguments":[{"range":[53405,53420],"loc":{"start":{"line":1804,"column":7},"end":{"line":1804,"column":22}},"type":"Literal","value":"entity/entity","raw":"'entity/entity'"},{"range":[53421,53448],"loc":{"start":{"line":1804,"column":23},"end":{"line":1807,"column":1}},"type":"ArrayExpression","elements":[{"range":[53425,53435],"loc":{"start":{"line":1805,"column":2},"end":{"line":1805,"column":12}},"type":"Literal","value":"resource","raw":"'resource'"},{"range":[53439,53446],"loc":{"start":{"line":1806,"column":2},"end":{"line":1806,"column":9}},"type":"Literal","value":"utils","raw":"'utils'"}]},{"range":[53450,56517],"loc":{"start":{"line":1807,"column":3},"end":{"line":1910,"column":1}},"type":"FunctionExpression","id":null,"params":[{"range":[53460,53468],"loc":{"start":{"line":1807,"column":13},"end":{"line":1807,"column":21}},"type":"Identifier","name":"Resource"},{"range":[53470,53475],"loc":{"start":{"line":1807,"column":23},"end":{"line":1807,"column":28}},"type":"Identifier","name":"Utils"}],"defaults":[],"body":{"range":[53477,56517],"loc":{"start":{"line":1807,"column":30},"end":{"line":1910,"column":1}},"type":"BlockStatement","body":[{"range":[53481,53494],"loc":{"start":{"line":1808,"column":2},"end":{"line":1808,"column":15}},"type":"ExpressionStatement","expression":{"range":[53481,53493],"loc":{"start":{"line":1808,"column":2},"end":{"line":1808,"column":14}},"type":"Literal","value":"use strict","raw":"'use strict'"},"trailingComments":[{"type":"Line","value":" The entity constructor, and therefore all the standard inheritances,","range":[53498,53569],"loc":{"start":{"line":1810,"column":2},"end":{"line":1810,"column":73}}},{"type":"Line","value":" accepts:","range":[53572,53583],"loc":{"start":{"line":1811,"column":2},"end":{"line":1811,"column":13}}},{"type":"Line","value":" - _**new Entity()**: create an empty entity_","range":[53587,53634],"loc":{"start":{"line":1813,"column":2},"end":{"line":1813,"column":49}}},{"type":"Line","value":" - _**new Entity(obj)**: entity with merged obj properties_","range":[53637,53698],"loc":{"start":{"line":1814,"column":2},"end":{"line":1814,"column":63}}},{"type":"Line","value":" - _**new Entity(resource)**: empty entity bound to a Resource_","range":[53701,53766],"loc":{"start":{"line":1815,"column":2},"end":{"line":1815,"column":67}}},{"type":"Line","value":" - _**new Entity(obj, resource)**: fully build entity bound to a Resource_","range":[53769,53845],"loc":{"start":{"line":1816,"column":2},"end":{"line":1816,"column":78}}},{"type":"Line","value":" *Nevertheless, an Entity without Resource cannot request any","range":[53849,53912],"loc":{"start":{"line":1818,"column":2},"end":{"line":1818,"column":65}}},{"type":"Line","value":" update or delete. It can however be passed to resources as","range":[53915,53976],"loc":{"start":{"line":1819,"column":2},"end":{"line":1819,"column":63}}},{"type":"Line","value":" 'payload' instead of JSON.*","range":[53979,54009],"loc":{"start":{"line":1820,"column":2},"end":{"line":1820,"column":32}}},{"type":"Line","value":" ```js","range":[54013,54021],"loc":{"start":{"line":1822,"column":2},"end":{"line":1822,"column":10}}},{"type":"Line","value":"  var prod = new EVT.Entity.Product({ foo: 'bar' };","range":[54024,54077],"loc":{"start":{"line":1823,"column":2},"end":{"line":1823,"column":55}}},{"type":"Line","value":"  // prod.update() // throws error","range":[54080,54116],"loc":{"start":{"line":1824,"column":2},"end":{"line":1824,"column":38}}},{"type":"Line","value":"  app.product().create(prod); // create product","range":[54119,54168],"loc":{"start":{"line":1825,"column":2},"end":{"line":1825,"column":51}}},{"type":"Line","value":" ```","range":[54171,54177],"loc":{"start":{"line":1826,"column":2},"end":{"line":1826,"column":8}}}]},{"range":[54181,54443],"loc":{"start":{"line":1828,"column":2},"end":{"line":1840,"column":4}},"type":"VariableDeclaration","declarations":[{"range":[54185,54442],"loc":{"start":{"line":1828,"column":6},"end":{"line":1840,"column":3}},"type":"VariableDeclarator","id":{"range":[54185,54191],"loc":{"start":{"line":1828,"column":6},"end":{"line":1828,"column":12}},"type":"Identifier","name":"Entity"},"init":{"range":[54194,54442],"loc":{"start":{"line":1828,"column":15},"end":{"line":1840,"column":3}},"type":"FunctionExpression","id":null,"params":[{"range":[54204,54211],"loc":{"start":{"line":1828,"column":25},"end":{"line":1828,"column":32}},"type":"Identifier","name":"objData"},{"range":[54213,54221],"loc":{"start":{"line":1828,"column":34},"end":{"line":1828,"column":42}},"type":"Identifier","name":"resource"}],"defaults":[],"body":{"range":[54223,54442],"loc":{"start":{"line":1828,"column":44},"end":{"line":1840,"column":3}},"type":"BlockStatement","body":[{"range":[54230,54438],"loc":{"start":{"line":1830,"column":4},"end":{"line":1839,"column":5}},"type":"IfStatement","test":{"range":[54233,54256],"loc":{"start":{"line":1830,"column":7},"end":{"line":1830,"column":30}},"type":"CallExpression","callee":{"range":[54233,54247],"loc":{"start":{"line":1830,"column":7},"end":{"line":1830,"column":21}},"type":"MemberExpression","computed":false,"object":{"range":[54233,54238],"loc":{"start":{"line":1830,"column":7},"end":{"line":1830,"column":12}},"type":"Identifier","name":"Utils"},"property":{"range":[54239,54247],"loc":{"start":{"line":1830,"column":13},"end":{"line":1830,"column":21}},"type":"Identifier","name":"isObject"}},"arguments":[{"range":[54248,54255],"loc":{"start":{"line":1830,"column":22},"end":{"line":1830,"column":29}},"type":"Identifier","name":"objData"}]},"consequent":{"range":[54257,54438],"loc":{"start":{"line":1830,"column":31},"end":{"line":1839,"column":5}},"type":"BlockStatement","body":[{"range":[54266,54431],"loc":{"start":{"line":1832,"column":6},"end":{"line":1837,"column":7}},"type":"IfStatement","test":{"range":[54269,54296],"loc":{"start":{"line":1832,"column":9},"end":{"line":1832,"column":36}},"type":"BinaryExpression","operator":"instanceof","left":{"range":[54269,54276],"loc":{"start":{"line":1832,"column":9},"end":{"line":1832,"column":16}},"type":"Identifier","name":"objData"},"right":{"range":[54288,54296],"loc":{"start":{"line":1832,"column":28},"end":{"line":1832,"column":36}},"type":"Identifier","name":"Resource"}},"consequent":{"range":[54297,54339],"loc":{"start":{"line":1832,"column":37},"end":{"line":1834,"column":7}},"type":"BlockStatement","body":[{"range":[54307,54331],"loc":{"start":{"line":1833,"column":8},"end":{"line":1833,"column":32}},"type":"ExpressionStatement","expression":{"range":[54307,54330],"loc":{"start":{"line":1833,"column":8},"end":{"line":1833,"column":31}},"type":"AssignmentExpression","operator":"=","left":{"range":[54307,54320],"loc":{"start":{"line":1833,"column":8},"end":{"line":1833,"column":21}},"type":"MemberExpression","computed":false,"object":{"range":[54307,54311],"loc":{"start":{"line":1833,"column":8},"end":{"line":1833,"column":12}},"type":"ThisExpression"},"property":{"range":[54312,54320],"loc":{"start":{"line":1833,"column":13},"end":{"line":1833,"column":21}},"type":"Identifier","name":"resource"}},"right":{"range":[54323,54330],"loc":{"start":{"line":1833,"column":24},"end":{"line":1833,"column":31}},"type":"Identifier","name":"objData"}}}]},"alternate":{"range":[54345,54431],"loc":{"start":{"line":1834,"column":13},"end":{"line":1837,"column":7}},"type":"BlockStatement","body":[{"range":[54355,54380],"loc":{"start":{"line":1835,"column":8},"end":{"line":1835,"column":33}},"type":"ExpressionStatement","expression":{"range":[54355,54379],"loc":{"start":{"line":1835,"column":8},"end":{"line":1835,"column":32}},"type":"AssignmentExpression","operator":"=","left":{"range":[54355,54368],"loc":{"start":{"line":1835,"column":8},"end":{"line":1835,"column":21}},"type":"MemberExpression","computed":false,"object":{"range":[54355,54359],"loc":{"start":{"line":1835,"column":8},"end":{"line":1835,"column":12}},"type":"ThisExpression"},"property":{"range":[54360,54368],"loc":{"start":{"line":1835,"column":13},"end":{"line":1835,"column":21}},"type":"Identifier","name":"resource"}},"right":{"range":[54371,54379],"loc":{"start":{"line":1835,"column":24},"end":{"line":1835,"column":32}},"type":"Identifier","name":"resource"}}},{"range":[54389,54423],"loc":{"start":{"line":1836,"column":8},"end":{"line":1836,"column":42}},"type":"ExpressionStatement","expression":{"range":[54389,54422],"loc":{"start":{"line":1836,"column":8},"end":{"line":1836,"column":41}},"type":"CallExpression","callee":{"range":[54389,54401],"loc":{"start":{"line":1836,"column":8},"end":{"line":1836,"column":20}},"type":"MemberExpression","computed":false,"object":{"range":[54389,54394],"loc":{"start":{"line":1836,"column":8},"end":{"line":1836,"column":13}},"type":"Identifier","name":"Utils"},"property":{"range":[54395,54401],"loc":{"start":{"line":1836,"column":14},"end":{"line":1836,"column":20}},"type":"Identifier","name":"extend"}},"arguments":[{"range":[54402,54406],"loc":{"start":{"line":1836,"column":21},"end":{"line":1836,"column":25}},"type":"ThisExpression"},{"range":[54408,54415],"loc":{"start":{"line":1836,"column":27},"end":{"line":1836,"column":34}},"type":"Identifier","name":"objData"},{"range":[54417,54421],"loc":{"start":{"line":1836,"column":36},"end":{"line":1836,"column":40}},"type":"Literal","value":true,"raw":"true"}]}}]}}]},"alternate":null}]},"generator":false,"expression":false}}],"kind":"var","leadingComments":[{"type":"Line","value":" The entity constructor, and therefore all the standard inheritances,","range":[53498,53569],"loc":{"start":{"line":1810,"column":2},"end":{"line":1810,"column":73}}},{"type":"Line","value":" accepts:","range":[53572,53583],"loc":{"start":{"line":1811,"column":2},"end":{"line":1811,"column":13}}},{"type":"Line","value":" - _**new Entity()**: create an empty entity_","range":[53587,53634],"loc":{"start":{"line":1813,"column":2},"end":{"line":1813,"column":49}}},{"type":"Line","value":" - _**new Entity(obj)**: entity with merged obj properties_","range":[53637,53698],"loc":{"start":{"line":1814,"column":2},"end":{"line":1814,"column":63}}},{"type":"Line","value":" - _**new Entity(resource)**: empty entity bound to a Resource_","range":[53701,53766],"loc":{"start":{"line":1815,"column":2},"end":{"line":1815,"column":67}}},{"type":"Line","value":" - _**new Entity(obj, resource)**: fully build entity bound to a Resource_","range":[53769,53845],"loc":{"start":{"line":1816,"column":2},"end":{"line":1816,"column":78}}},{"type":"Line","value":" *Nevertheless, an Entity without Resource cannot request any","range":[53849,53912],"loc":{"start":{"line":1818,"column":2},"end":{"line":1818,"column":65}}},{"type":"Line","value":" update or delete. It can however be passed to resources as","range":[53915,53976],"loc":{"start":{"line":1819,"column":2},"end":{"line":1819,"column":63}}},{"type":"Line","value":" 'payload' instead of JSON.*","range":[53979,54009],"loc":{"start":{"line":1820,"column":2},"end":{"line":1820,"column":32}}},{"type":"Line","value":" ```js","range":[54013,54021],"loc":{"start":{"line":1822,"column":2},"end":{"line":1822,"column":10}}},{"type":"Line","value":"  var prod = new EVT.Entity.Product({ foo: 'bar' };","range":[54024,54077],"loc":{"start":{"line":1823,"column":2},"end":{"line":1823,"column":55}}},{"type":"Line","value":"  // prod.update() // throws error","range":[54080,54116],"loc":{"start":{"line":1824,"column":2},"end":{"line":1824,"column":38}}},{"type":"Line","value":"  app.product().create(prod); // create product","range":[54119,54168],"loc":{"start":{"line":1825,"column":2},"end":{"line":1825,"column":51}}},{"type":"Line","value":" ```","range":[54171,54177],"loc":{"start":{"line":1826,"column":2},"end":{"line":1826,"column":8}}}],"trailingComments":[{"type":"Line","value":" Return the JSON object that is stored in engine. All non-function properties","range":[54447,54526],"loc":{"start":{"line":1842,"column":2},"end":{"line":1842,"column":81}}},{"type":"Line","value":" except *resource* are properties of the object.","range":[54529,54579],"loc":{"start":{"line":1843,"column":2},"end":{"line":1843,"column":52}}}]},{"range":[54582,54883],"loc":{"start":{"line":1844,"column":2},"end":{"line":1856,"column":4}},"type":"ExpressionStatement","expression":{"range":[54582,54882],"loc":{"start":{"line":1844,"column":2},"end":{"line":1856,"column":3}},"type":"AssignmentExpression","operator":"=","left":{"range":[54582,54605],"loc":{"start":{"line":1844,"column":2},"end":{"line":1844,"column":25}},"type":"MemberExpression","computed":false,"object":{"range":[54582,54598],"loc":{"start":{"line":1844,"column":2},"end":{"line":1844,"column":18}},"type":"MemberExpression","computed":false,"object":{"range":[54582,54588],"loc":{"start":{"line":1844,"column":2},"end":{"line":1844,"column":8}},"type":"Identifier","name":"Entity"},"property":{"range":[54589,54598],"loc":{"start":{"line":1844,"column":9},"end":{"line":1844,"column":18}},"type":"Identifier","name":"prototype"}},"property":{"range":[54599,54605],"loc":{"start":{"line":1844,"column":19},"end":{"line":1844,"column":25}},"type":"Identifier","name":"toJSON"}},"right":{"range":[54608,54882],"loc":{"start":{"line":1844,"column":28},"end":{"line":1856,"column":3}},"type":"FunctionExpression","id":null,"params":[],"defaults":[],"body":{"range":[54620,54882],"loc":{"start":{"line":1844,"column":40},"end":{"line":1856,"column":3}},"type":"BlockStatement","body":[{"range":[54626,54640],"loc":{"start":{"line":1845,"column":4},"end":{"line":1845,"column":18}},"type":"VariableDeclaration","declarations":[{"range":[54630,54639],"loc":{"start":{"line":1845,"column":8},"end":{"line":1845,"column":17}},"type":"VariableDeclarator","id":{"range":[54630,54634],"loc":{"start":{"line":1845,"column":8},"end":{"line":1845,"column":12}},"type":"Identifier","name":"json"},"init":{"range":[54637,54639],"loc":{"start":{"line":1845,"column":15},"end":{"line":1845,"column":17}},"type":"ObjectExpression","properties":[]}}],"kind":"var"},{"range":[54646,54860],"loc":{"start":{"line":1847,"column":4},"end":{"line":1853,"column":5}},"type":"ForInStatement","left":{"range":[54650,54658],"loc":{"start":{"line":1847,"column":8},"end":{"line":1847,"column":16}},"type":"VariableDeclaration","declarations":[{"range":[54654,54658],"loc":{"start":{"line":1847,"column":12},"end":{"line":1847,"column":16}},"type":"VariableDeclarator","id":{"range":[54654,54658],"loc":{"start":{"line":1847,"column":12},"end":{"line":1847,"column":16}},"type":"Identifier","name":"prop"},"init":null}],"kind":"var"},"right":{"range":[54662,54666],"loc":{"start":{"line":1847,"column":20},"end":{"line":1847,"column":24}},"type":"ThisExpression"},"body":{"range":[54667,54860],"loc":{"start":{"line":1847,"column":25},"end":{"line":1853,"column":5}},"type":"BlockStatement","body":[{"range":[54675,54854],"loc":{"start":{"line":1848,"column":6},"end":{"line":1852,"column":7}},"type":"IfStatement","test":{"range":[54678,54703],"loc":{"start":{"line":1848,"column":9},"end":{"line":1848,"column":34}},"type":"CallExpression","callee":{"range":[54678,54697],"loc":{"start":{"line":1848,"column":9},"end":{"line":1848,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[54678,54682],"loc":{"start":{"line":1848,"column":9},"end":{"line":1848,"column":13}},"type":"ThisExpression"},"property":{"range":[54683,54697],"loc":{"start":{"line":1848,"column":14},"end":{"line":1848,"column":28}},"type":"Identifier","name":"hasOwnProperty"}},"arguments":[{"range":[54698,54702],"loc":{"start":{"line":1848,"column":29},"end":{"line":1848,"column":33}},"type":"Identifier","name":"prop"}]},"consequent":{"range":[54704,54854],"loc":{"start":{"line":1848,"column":35},"end":{"line":1852,"column":7}},"type":"BlockStatement","body":[{"range":[54714,54846],"loc":{"start":{"line":1849,"column":8},"end":{"line":1851,"column":9}},"type":"IfStatement","test":{"range":[54717,54799],"loc":{"start":{"line":1849,"column":11},"end":{"line":1849,"column":93}},"type":"LogicalExpression","operator":"&&","left":{"range":[54717,54777],"loc":{"start":{"line":1849,"column":11},"end":{"line":1849,"column":71}},"type":"LogicalExpression","operator":"&&","left":{"range":[54717,54744],"loc":{"start":{"line":1849,"column":11},"end":{"line":1849,"column":38}},"type":"CallExpression","callee":{"range":[54717,54732],"loc":{"start":{"line":1849,"column":11},"end":{"line":1849,"column":26}},"type":"MemberExpression","computed":false,"object":{"range":[54717,54722],"loc":{"start":{"line":1849,"column":11},"end":{"line":1849,"column":16}},"type":"Identifier","name":"Utils"},"property":{"range":[54723,54732],"loc":{"start":{"line":1849,"column":17},"end":{"line":1849,"column":26}},"type":"Identifier","name":"isDefined"}},"arguments":[{"range":[54733,54743],"loc":{"start":{"line":1849,"column":27},"end":{"line":1849,"column":37}},"type":"MemberExpression","computed":true,"object":{"range":[54733,54737],"loc":{"start":{"line":1849,"column":27},"end":{"line":1849,"column":31}},"type":"ThisExpression"},"property":{"range":[54738,54742],"loc":{"start":{"line":1849,"column":32},"end":{"line":1849,"column":36}},"type":"Identifier","name":"prop"}}]},"right":{"range":[54748,54777],"loc":{"start":{"line":1849,"column":42},"end":{"line":1849,"column":71}},"type":"UnaryExpression","operator":"!","argument":{"range":[54749,54777],"loc":{"start":{"line":1849,"column":43},"end":{"line":1849,"column":71}},"type":"CallExpression","callee":{"range":[54749,54765],"loc":{"start":{"line":1849,"column":43},"end":{"line":1849,"column":59}},"type":"MemberExpression","computed":false,"object":{"range":[54749,54754],"loc":{"start":{"line":1849,"column":43},"end":{"line":1849,"column":48}},"type":"Identifier","name":"Utils"},"property":{"range":[54755,54765],"loc":{"start":{"line":1849,"column":49},"end":{"line":1849,"column":59}},"type":"Identifier","name":"isFunction"}},"arguments":[{"range":[54766,54776],"loc":{"start":{"line":1849,"column":60},"end":{"line":1849,"column":70}},"type":"MemberExpression","computed":true,"object":{"range":[54766,54770],"loc":{"start":{"line":1849,"column":60},"end":{"line":1849,"column":64}},"type":"ThisExpression"},"property":{"range":[54771,54775],"loc":{"start":{"line":1849,"column":65},"end":{"line":1849,"column":69}},"type":"Identifier","name":"prop"}}]},"prefix":true}},"right":{"range":[54781,54799],"loc":{"start":{"line":1849,"column":75},"end":{"line":1849,"column":93}},"type":"BinaryExpression","operator":"!=","left":{"range":[54781,54785],"loc":{"start":{"line":1849,"column":75},"end":{"line":1849,"column":79}},"type":"Identifier","name":"prop"},"right":{"range":[54789,54799],"loc":{"start":{"line":1849,"column":83},"end":{"line":1849,"column":93}},"type":"Literal","value":"resource","raw":"'resource'"}}},"consequent":{"range":[54800,54846],"loc":{"start":{"line":1849,"column":94},"end":{"line":1851,"column":9}},"type":"BlockStatement","body":[{"range":[54812,54836],"loc":{"start":{"line":1850,"column":10},"end":{"line":1850,"column":34}},"type":"ExpressionStatement","expression":{"range":[54812,54835],"loc":{"start":{"line":1850,"column":10},"end":{"line":1850,"column":33}},"type":"AssignmentExpression","operator":"=","left":{"range":[54812,54822],"loc":{"start":{"line":1850,"column":10},"end":{"line":1850,"column":20}},"type":"MemberExpression","computed":true,"object":{"range":[54812,54816],"loc":{"start":{"line":1850,"column":10},"end":{"line":1850,"column":14}},"type":"Identifier","name":"json"},"property":{"range":[54817,54821],"loc":{"start":{"line":1850,"column":15},"end":{"line":1850,"column":19}},"type":"Identifier","name":"prop"}},"right":{"range":[54825,54835],"loc":{"start":{"line":1850,"column":23},"end":{"line":1850,"column":33}},"type":"MemberExpression","computed":true,"object":{"range":[54825,54829],"loc":{"start":{"line":1850,"column":23},"end":{"line":1850,"column":27}},"type":"ThisExpression"},"property":{"range":[54830,54834],"loc":{"start":{"line":1850,"column":28},"end":{"line":1850,"column":32}},"type":"Identifier","name":"prop"}}}}]},"alternate":null}]},"alternate":null}]},"each":false},{"range":[54866,54878],"loc":{"start":{"line":1855,"column":4},"end":{"line":1855,"column":16}},"type":"ReturnStatement","argument":{"range":[54873,54877],"loc":{"start":{"line":1855,"column":11},"end":{"line":1855,"column":15}},"type":"Identifier","name":"json"}}]},"generator":false,"expression":false}},"leadingComments":[{"type":"Line","value":" Return the JSON object that is stored in engine. All non-function properties","range":[54447,54526],"loc":{"start":{"line":1842,"column":2},"end":{"line":1842,"column":81}}},{"type":"Line","value":" except *resource* are properties of the object.","range":[54529,54579],"loc":{"start":{"line":1843,"column":2},"end":{"line":1843,"column":52}}}],"trailingComments":[{"type":"Line","value":" Every entity can update itself via its resource reference. It does so by","range":[54887,54962],"loc":{"start":{"line":1858,"column":2},"end":{"line":1858,"column":77}}},{"type":"Line","value":" passing its JSON representation to the *resource.update()*.","range":[54965,55027],"loc":{"start":{"line":1859,"column":2},"end":{"line":1859,"column":64}}},{"type":"Line","value":" An entity update, as every request, returns a Promise. Although it also","range":[55031,55105],"loc":{"start":{"line":1861,"column":2},"end":{"line":1861,"column":76}}},{"type":"Line","value":" allows callbacks as:","range":[55108,55131],"loc":{"start":{"line":1862,"column":2},"end":{"line":1862,"column":25}}},{"type":"Line","value":" - _**update()**: simple update itself with modified properties_","range":[55135,55201],"loc":{"start":{"line":1864,"column":2},"end":{"line":1864,"column":68}}},{"type":"Line","value":" - _**update(obj)**: update itself with new properties_","range":[55204,55261],"loc":{"start":{"line":1865,"column":2},"end":{"line":1865,"column":59}}},{"type":"Line","value":" - _**update(obj, successCb, errorCb)**: previous, with callbacks_","range":[55264,55332],"loc":{"start":{"line":1866,"column":2},"end":{"line":1866,"column":70}}},{"type":"Line","value":" - _**update(successCb, errorCb)**: update itself and use callbacks_","range":[55335,55405],"loc":{"start":{"line":1867,"column":2},"end":{"line":1867,"column":72}}}]},{"range":[55408,56123],"loc":{"start":{"line":1868,"column":2},"end":{"line":1892,"column":4}},"type":"ExpressionStatement","expression":{"range":[55408,56122],"loc":{"start":{"line":1868,"column":2},"end":{"line":1892,"column":3}},"type":"AssignmentExpression","operator":"=","left":{"range":[55408,55431],"loc":{"start":{"line":1868,"column":2},"end":{"line":1868,"column":25}},"type":"MemberExpression","computed":false,"object":{"range":[55408,55424],"loc":{"start":{"line":1868,"column":2},"end":{"line":1868,"column":18}},"type":"MemberExpression","computed":false,"object":{"range":[55408,55414],"loc":{"start":{"line":1868,"column":2},"end":{"line":1868,"column":8}},"type":"Identifier","name":"Entity"},"property":{"range":[55415,55424],"loc":{"start":{"line":1868,"column":9},"end":{"line":1868,"column":18}},"type":"Identifier","name":"prototype"}},"property":{"range":[55425,55431],"loc":{"start":{"line":1868,"column":19},"end":{"line":1868,"column":25}},"type":"Identifier","name":"update"}},"right":{"range":[55434,56122],"loc":{"start":{"line":1868,"column":28},"end":{"line":1892,"column":3}},"type":"FunctionExpression","id":null,"params":[{"range":[55444,55447],"loc":{"start":{"line":1868,"column":38},"end":{"line":1868,"column":41}},"type":"Identifier","name":"obj"}],"defaults":[],"body":{"range":[55449,56122],"loc":{"start":{"line":1868,"column":43},"end":{"line":1892,"column":3}},"type":"BlockStatement","body":[{"range":[55455,56118],"loc":{"start":{"line":1869,"column":4},"end":{"line":1891,"column":5}},"type":"IfStatement","test":{"range":[55458,55471],"loc":{"start":{"line":1869,"column":7},"end":{"line":1869,"column":20}},"type":"MemberExpression","computed":false,"object":{"range":[55458,55462],"loc":{"start":{"line":1869,"column":7},"end":{"line":1869,"column":11}},"type":"ThisExpression"},"property":{"range":[55463,55471],"loc":{"start":{"line":1869,"column":12},"end":{"line":1869,"column":20}},"type":"Identifier","name":"resource"}},"consequent":{"range":[55472,56051],"loc":{"start":{"line":1869,"column":21},"end":{"line":1889,"column":5}},"type":"BlockStatement","body":[{"range":[55481,55516],"loc":{"start":{"line":1871,"column":6},"end":{"line":1871,"column":41}},"type":"VariableDeclaration","declarations":[{"range":[55485,55501],"loc":{"start":{"line":1871,"column":10},"end":{"line":1871,"column":26}},"type":"VariableDeclarator","id":{"range":[55485,55489],"loc":{"start":{"line":1871,"column":10},"end":{"line":1871,"column":14}},"type":"Identifier","name":"args"},"init":{"range":[55492,55501],"loc":{"start":{"line":1871,"column":17},"end":{"line":1871,"column":26}},"type":"Identifier","name":"arguments"}},{"range":[55503,55515],"loc":{"start":{"line":1871,"column":28},"end":{"line":1871,"column":40}},"type":"VariableDeclarator","id":{"range":[55503,55508],"loc":{"start":{"line":1871,"column":28},"end":{"line":1871,"column":33}},"type":"Identifier","name":"$this"},"init":{"range":[55511,55515],"loc":{"start":{"line":1871,"column":36},"end":{"line":1871,"column":40}},"type":"ThisExpression"}}],"kind":"var","trailingComments":[{"type":"Line","value":" No object is passed, shift arguments. Add its JSON representation","range":[55524,55592],"loc":{"start":{"line":1873,"column":6},"end":{"line":1873,"column":74}}},{"type":"Line","value":" as the first argument.","range":[55599,55624],"loc":{"start":{"line":1874,"column":6},"end":{"line":1874,"column":31}}}]},{"range":[55631,55784],"loc":{"start":{"line":1875,"column":6},"end":{"line":1878,"column":7}},"type":"IfStatement","test":{"range":[55634,55679],"loc":{"start":{"line":1875,"column":9},"end":{"line":1875,"column":54}},"type":"LogicalExpression","operator":"||","left":{"range":[55634,55654],"loc":{"start":{"line":1875,"column":9},"end":{"line":1875,"column":29}},"type":"LogicalExpression","operator":"||","left":{"range":[55634,55646],"loc":{"start":{"line":1875,"column":9},"end":{"line":1875,"column":21}},"type":"BinaryExpression","operator":"===","left":{"range":[55634,55637],"loc":{"start":{"line":1875,"column":9},"end":{"line":1875,"column":12}},"type":"Identifier","name":"obj"},"right":{"range":[55642,55646],"loc":{"start":{"line":1875,"column":17},"end":{"line":1875,"column":21}},"type":"Literal","value":null,"raw":"null"}},"right":{"range":[55650,55654],"loc":{"start":{"line":1875,"column":25},"end":{"line":1875,"column":29}},"type":"UnaryExpression","operator":"!","argument":{"range":[55651,55654],"loc":{"start":{"line":1875,"column":26},"end":{"line":1875,"column":29}},"type":"Identifier","name":"obj"},"prefix":true}},"right":{"range":[55658,55679],"loc":{"start":{"line":1875,"column":33},"end":{"line":1875,"column":54}},"type":"CallExpression","callee":{"range":[55658,55674],"loc":{"start":{"line":1875,"column":33},"end":{"line":1875,"column":49}},"type":"MemberExpression","computed":false,"object":{"range":[55658,55663],"loc":{"start":{"line":1875,"column":33},"end":{"line":1875,"column":38}},"type":"Identifier","name":"Utils"},"property":{"range":[55664,55674],"loc":{"start":{"line":1875,"column":39},"end":{"line":1875,"column":49}},"type":"Identifier","name":"isFunction"}},"arguments":[{"range":[55675,55678],"loc":{"start":{"line":1875,"column":50},"end":{"line":1875,"column":53}},"type":"Identifier","name":"obj"}]}},"consequent":{"range":[55681,55784],"loc":{"start":{"line":1875,"column":56},"end":{"line":1878,"column":7}},"type":"BlockStatement","body":[{"range":[55691,55739],"loc":{"start":{"line":1876,"column":8},"end":{"line":1876,"column":56}},"type":"ExpressionStatement","expression":{"range":[55691,55738],"loc":{"start":{"line":1876,"column":8},"end":{"line":1876,"column":55}},"type":"AssignmentExpression","operator":"=","left":{"range":[55691,55695],"loc":{"start":{"line":1876,"column":8},"end":{"line":1876,"column":12}},"type":"Identifier","name":"args"},"right":{"range":[55698,55738],"loc":{"start":{"line":1876,"column":15},"end":{"line":1876,"column":55}},"type":"CallExpression","callee":{"range":[55698,55724],"loc":{"start":{"line":1876,"column":15},"end":{"line":1876,"column":41}},"type":"MemberExpression","computed":false,"object":{"range":[55698,55719],"loc":{"start":{"line":1876,"column":15},"end":{"line":1876,"column":36}},"type":"MemberExpression","computed":false,"object":{"range":[55698,55713],"loc":{"start":{"line":1876,"column":15},"end":{"line":1876,"column":30}},"type":"MemberExpression","computed":false,"object":{"range":[55698,55703],"loc":{"start":{"line":1876,"column":15},"end":{"line":1876,"column":20}},"type":"Identifier","name":"Array"},"property":{"range":[55704,55713],"loc":{"start":{"line":1876,"column":21},"end":{"line":1876,"column":30}},"type":"Identifier","name":"prototype"}},"property":{"range":[55714,55719],"loc":{"start":{"line":1876,"column":31},"end":{"line":1876,"column":36}},"type":"Identifier","name":"slice"}},"property":{"range":[55720,55724],"loc":{"start":{"line":1876,"column":37},"end":{"line":1876,"column":41}},"type":"Identifier","name":"call"}},"arguments":[{"range":[55725,55734],"loc":{"start":{"line":1876,"column":42},"end":{"line":1876,"column":51}},"type":"Identifier","name":"arguments"},{"range":[55736,55737],"loc":{"start":{"line":1876,"column":53},"end":{"line":1876,"column":54}},"type":"Literal","value":0,"raw":"0"}]}}},{"range":[55748,55776],"loc":{"start":{"line":1877,"column":8},"end":{"line":1877,"column":36}},"type":"ExpressionStatement","expression":{"range":[55748,55775],"loc":{"start":{"line":1877,"column":8},"end":{"line":1877,"column":35}},"type":"CallExpression","callee":{"range":[55748,55760],"loc":{"start":{"line":1877,"column":8},"end":{"line":1877,"column":20}},"type":"MemberExpression","computed":false,"object":{"range":[55748,55752],"loc":{"start":{"line":1877,"column":8},"end":{"line":1877,"column":12}},"type":"Identifier","name":"args"},"property":{"range":[55753,55760],"loc":{"start":{"line":1877,"column":13},"end":{"line":1877,"column":20}},"type":"Identifier","name":"unshift"}},"arguments":[{"range":[55761,55774],"loc":{"start":{"line":1877,"column":21},"end":{"line":1877,"column":34}},"type":"CallExpression","callee":{"range":[55761,55772],"loc":{"start":{"line":1877,"column":21},"end":{"line":1877,"column":32}},"type":"MemberExpression","computed":false,"object":{"range":[55761,55765],"loc":{"start":{"line":1877,"column":21},"end":{"line":1877,"column":25}},"type":"ThisExpression"},"property":{"range":[55766,55772],"loc":{"start":{"line":1877,"column":26},"end":{"line":1877,"column":32}},"type":"Identifier","name":"toJSON"}},"arguments":[]}]}}]},"alternate":null,"leadingComments":[{"type":"Line","value":" No object is passed, shift arguments. Add its JSON representation","range":[55524,55592],"loc":{"start":{"line":1873,"column":6},"end":{"line":1873,"column":74}}},{"type":"Line","value":" as the first argument.","range":[55599,55624],"loc":{"start":{"line":1874,"column":6},"end":{"line":1874,"column":31}}}]},{"range":[55792,56044],"loc":{"start":{"line":1880,"column":6},"end":{"line":1887,"column":11}},"type":"ReturnStatement","argument":{"range":[55799,56043],"loc":{"start":{"line":1880,"column":13},"end":{"line":1887,"column":10}},"type":"CallExpression","callee":{"range":[55799,55860],"loc":{"start":{"line":1880,"column":13},"end":{"line":1881,"column":13}},"type":"MemberExpression","computed":false,"object":{"range":[55799,55846],"loc":{"start":{"line":1880,"column":13},"end":{"line":1880,"column":60}},"type":"CallExpression","callee":{"range":[55799,55825],"loc":{"start":{"line":1880,"column":13},"end":{"line":1880,"column":39}},"type":"MemberExpression","computed":false,"object":{"range":[55799,55819],"loc":{"start":{"line":1880,"column":13},"end":{"line":1880,"column":33}},"type":"MemberExpression","computed":false,"object":{"range":[55799,55812],"loc":{"start":{"line":1880,"column":13},"end":{"line":1880,"column":26}},"type":"MemberExpression","computed":false,"object":{"range":[55799,55803],"loc":{"start":{"line":1880,"column":13},"end":{"line":1880,"column":17}},"type":"ThisExpression"},"property":{"range":[55804,55812],"loc":{"start":{"line":1880,"column":18},"end":{"line":1880,"column":26}},"type":"Identifier","name":"resource"}},"property":{"range":[55813,55819],"loc":{"start":{"line":1880,"column":27},"end":{"line":1880,"column":33}},"type":"Identifier","name":"update"}},"property":{"range":[55820,55825],"loc":{"start":{"line":1880,"column":34},"end":{"line":1880,"column":39}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[55826,55839],"loc":{"start":{"line":1880,"column":40},"end":{"line":1880,"column":53}},"type":"MemberExpression","computed":false,"object":{"range":[55826,55830],"loc":{"start":{"line":1880,"column":40},"end":{"line":1880,"column":44}},"type":"ThisExpression"},"property":{"range":[55831,55839],"loc":{"start":{"line":1880,"column":45},"end":{"line":1880,"column":53}},"type":"Identifier","name":"resource"}},{"range":[55841,55845],"loc":{"start":{"line":1880,"column":55},"end":{"line":1880,"column":59}},"type":"Identifier","name":"args"}]},"property":{"range":[55856,55860],"loc":{"start":{"line":1881,"column":9},"end":{"line":1881,"column":13}},"type":"Identifier","name":"then"}},"arguments":[{"range":[55861,56042],"loc":{"start":{"line":1881,"column":14},"end":{"line":1887,"column":9}},"type":"FunctionExpression","id":null,"params":[{"range":[55871,55878],"loc":{"start":{"line":1881,"column":24},"end":{"line":1881,"column":31}},"type":"Identifier","name":"updated"}],"defaults":[],"body":{"range":[55880,56042],"loc":{"start":{"line":1881,"column":33},"end":{"line":1887,"column":9}},"type":"BlockStatement","body":[{"range":[55970,56005],"loc":{"start":{"line":1884,"column":10},"end":{"line":1884,"column":45}},"type":"ExpressionStatement","expression":{"range":[55970,56004],"loc":{"start":{"line":1884,"column":10},"end":{"line":1884,"column":44}},"type":"CallExpression","callee":{"range":[55970,55982],"loc":{"start":{"line":1884,"column":10},"end":{"line":1884,"column":22}},"type":"MemberExpression","computed":false,"object":{"range":[55970,55975],"loc":{"start":{"line":1884,"column":10},"end":{"line":1884,"column":15}},"type":"Identifier","name":"Utils"},"property":{"range":[55976,55982],"loc":{"start":{"line":1884,"column":16},"end":{"line":1884,"column":22}},"type":"Identifier","name":"extend"}},"arguments":[{"range":[55983,55988],"loc":{"start":{"line":1884,"column":23},"end":{"line":1884,"column":28}},"type":"Identifier","name":"$this"},{"range":[55990,55997],"loc":{"start":{"line":1884,"column":30},"end":{"line":1884,"column":37}},"type":"Identifier","name":"updated"},{"range":[55999,56003],"loc":{"start":{"line":1884,"column":39},"end":{"line":1884,"column":43}},"type":"Literal","value":true,"raw":"true"}]},"leadingComments":[{"type":"Line","value":" Update itself with the result and return raw response from API.","range":[55893,55959],"loc":{"start":{"line":1883,"column":10},"end":{"line":1883,"column":76}}}]},{"range":[56016,56031],"loc":{"start":{"line":1885,"column":10},"end":{"line":1885,"column":25}},"type":"ReturnStatement","argument":{"range":[56023,56030],"loc":{"start":{"line":1885,"column":17},"end":{"line":1885,"column":24}},"type":"Identifier","name":"updated"}}]},"generator":false,"expression":false}]}}]},"alternate":{"range":[56057,56118],"loc":{"start":{"line":1889,"column":11},"end":{"line":1891,"column":5}},"type":"BlockStatement","body":[{"range":[56065,56112],"loc":{"start":{"line":1890,"column":6},"end":{"line":1890,"column":53}},"type":"ThrowStatement","argument":{"range":[56071,56111],"loc":{"start":{"line":1890,"column":12},"end":{"line":1890,"column":52}},"type":"NewExpression","callee":{"range":[56075,56080],"loc":{"start":{"line":1890,"column":16},"end":{"line":1890,"column":21}},"type":"Identifier","name":"Error"},"arguments":[{"range":[56081,56110],"loc":{"start":{"line":1890,"column":22},"end":{"line":1890,"column":51}},"type":"Literal","value":"This entity has no resource","raw":"'This entity has no resource'"}]}}]}}]},"generator":false,"expression":false}},"leadingComments":[{"type":"Line","value":" Every entity can update itself via its resource reference. It does so by","range":[54887,54962],"loc":{"start":{"line":1858,"column":2},"end":{"line":1858,"column":77}}},{"type":"Line","value":" passing its JSON representation to the *resource.update()*.","range":[54965,55027],"loc":{"start":{"line":1859,"column":2},"end":{"line":1859,"column":64}}},{"type":"Line","value":" An entity update, as every request, returns a Promise. Although it also","range":[55031,55105],"loc":{"start":{"line":1861,"column":2},"end":{"line":1861,"column":76}}},{"type":"Line","value":" allows callbacks as:","range":[55108,55131],"loc":{"start":{"line":1862,"column":2},"end":{"line":1862,"column":25}}},{"type":"Line","value":" - _**update()**: simple update itself with modified properties_","range":[55135,55201],"loc":{"start":{"line":1864,"column":2},"end":{"line":1864,"column":68}}},{"type":"Line","value":" - _**update(obj)**: update itself with new properties_","range":[55204,55261],"loc":{"start":{"line":1865,"column":2},"end":{"line":1865,"column":59}}},{"type":"Line","value":" - _**update(obj, successCb, errorCb)**: previous, with callbacks_","range":[55264,55332],"loc":{"start":{"line":1866,"column":2},"end":{"line":1866,"column":70}}},{"type":"Line","value":" - _**update(successCb, errorCb)**: update itself and use callbacks_","range":[55335,55405],"loc":{"start":{"line":1867,"column":2},"end":{"line":1867,"column":72}}}],"trailingComments":[{"type":"Line","value":" Delete method also accepts callbacks as:","range":[56128,56171],"loc":{"start":{"line":1895,"column":2},"end":{"line":1895,"column":45}}},{"type":"Line","value":" - _**delete()**: handle with promise_","range":[56175,56215],"loc":{"start":{"line":1897,"column":2},"end":{"line":1897,"column":42}}},{"type":"Line","value":" - _**delete(successCb, errorCb)**: handle with callbacks_","range":[56218,56278],"loc":{"start":{"line":1898,"column":2},"end":{"line":1898,"column":62}}}]},{"range":[56281,56495],"loc":{"start":{"line":1899,"column":2},"end":{"line":1905,"column":4}},"type":"ExpressionStatement","expression":{"range":[56281,56494],"loc":{"start":{"line":1899,"column":2},"end":{"line":1905,"column":3}},"type":"AssignmentExpression","operator":"=","left":{"range":[56281,56307],"loc":{"start":{"line":1899,"column":2},"end":{"line":1899,"column":28}},"type":"MemberExpression","computed":true,"object":{"range":[56281,56297],"loc":{"start":{"line":1899,"column":2},"end":{"line":1899,"column":18}},"type":"MemberExpression","computed":false,"object":{"range":[56281,56287],"loc":{"start":{"line":1899,"column":2},"end":{"line":1899,"column":8}},"type":"Identifier","name":"Entity"},"property":{"range":[56288,56297],"loc":{"start":{"line":1899,"column":9},"end":{"line":1899,"column":18}},"type":"Identifier","name":"prototype"}},"property":{"range":[56298,56306],"loc":{"start":{"line":1899,"column":19},"end":{"line":1899,"column":27}},"type":"Literal","value":"delete","raw":"'delete'"}},"right":{"range":[56310,56494],"loc":{"start":{"line":1899,"column":31},"end":{"line":1905,"column":3}},"type":"FunctionExpression","id":null,"params":[],"defaults":[],"body":{"range":[56322,56494],"loc":{"start":{"line":1899,"column":43},"end":{"line":1905,"column":3}},"type":"BlockStatement","body":[{"range":[56328,56490],"loc":{"start":{"line":1900,"column":4},"end":{"line":1904,"column":5}},"type":"IfStatement","test":{"range":[56331,56344],"loc":{"start":{"line":1900,"column":7},"end":{"line":1900,"column":20}},"type":"MemberExpression","computed":false,"object":{"range":[56331,56335],"loc":{"start":{"line":1900,"column":7},"end":{"line":1900,"column":11}},"type":"ThisExpression"},"property":{"range":[56336,56344],"loc":{"start":{"line":1900,"column":12},"end":{"line":1900,"column":20}},"type":"Identifier","name":"resource"}},"consequent":{"range":[56346,56423],"loc":{"start":{"line":1900,"column":22},"end":{"line":1902,"column":5}},"type":"BlockStatement","body":[{"range":[56354,56417],"loc":{"start":{"line":1901,"column":6},"end":{"line":1901,"column":69}},"type":"ReturnStatement","argument":{"range":[56361,56416],"loc":{"start":{"line":1901,"column":13},"end":{"line":1901,"column":68}},"type":"CallExpression","callee":{"range":[56361,56390],"loc":{"start":{"line":1901,"column":13},"end":{"line":1901,"column":42}},"type":"MemberExpression","computed":false,"object":{"range":[56361,56384],"loc":{"start":{"line":1901,"column":13},"end":{"line":1901,"column":36}},"type":"MemberExpression","computed":true,"object":{"range":[56361,56374],"loc":{"start":{"line":1901,"column":13},"end":{"line":1901,"column":26}},"type":"MemberExpression","computed":false,"object":{"range":[56361,56365],"loc":{"start":{"line":1901,"column":13},"end":{"line":1901,"column":17}},"type":"ThisExpression"},"property":{"range":[56366,56374],"loc":{"start":{"line":1901,"column":18},"end":{"line":1901,"column":26}},"type":"Identifier","name":"resource"}},"property":{"range":[56375,56383],"loc":{"start":{"line":1901,"column":27},"end":{"line":1901,"column":35}},"type":"Literal","value":"delete","raw":"'delete'"}},"property":{"range":[56385,56390],"loc":{"start":{"line":1901,"column":37},"end":{"line":1901,"column":42}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[56391,56404],"loc":{"start":{"line":1901,"column":43},"end":{"line":1901,"column":56}},"type":"MemberExpression","computed":false,"object":{"range":[56391,56395],"loc":{"start":{"line":1901,"column":43},"end":{"line":1901,"column":47}},"type":"ThisExpression"},"property":{"range":[56396,56404],"loc":{"start":{"line":1901,"column":48},"end":{"line":1901,"column":56}},"type":"Identifier","name":"resource"}},{"range":[56406,56415],"loc":{"start":{"line":1901,"column":58},"end":{"line":1901,"column":67}},"type":"Identifier","name":"arguments"}]}}]},"alternate":{"range":[56429,56490],"loc":{"start":{"line":1902,"column":11},"end":{"line":1904,"column":5}},"type":"BlockStatement","body":[{"range":[56437,56484],"loc":{"start":{"line":1903,"column":6},"end":{"line":1903,"column":53}},"type":"ThrowStatement","argument":{"range":[56443,56483],"loc":{"start":{"line":1903,"column":12},"end":{"line":1903,"column":52}},"type":"NewExpression","callee":{"range":[56447,56452],"loc":{"start":{"line":1903,"column":16},"end":{"line":1903,"column":21}},"type":"Identifier","name":"Error"},"arguments":[{"range":[56453,56482],"loc":{"start":{"line":1903,"column":22},"end":{"line":1903,"column":51}},"type":"Literal","value":"This entity has no resource","raw":"'This entity has no resource'"}]}}]}}]},"generator":false,"expression":false}},"leadingComments":[{"type":"Line","value":" Delete method also accepts callbacks as:","range":[56128,56171],"loc":{"start":{"line":1895,"column":2},"end":{"line":1895,"column":45}}},{"type":"Line","value":" - _**delete()**: handle with promise_","range":[56175,56215],"loc":{"start":{"line":1897,"column":2},"end":{"line":1897,"column":42}}},{"type":"Line","value":" - _**delete(successCb, errorCb)**: handle with callbacks_","range":[56218,56278],"loc":{"start":{"line":1898,"column":2},"end":{"line":1898,"column":62}}}]},{"range":[56500,56514],"loc":{"start":{"line":1908,"column":2},"end":{"line":1908,"column":16}},"type":"ReturnStatement","argument":{"range":[56507,56513],"loc":{"start":{"line":1908,"column":9},"end":{"line":1908,"column":15}},"type":"Identifier","name":"Entity"}}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" ## ENTITY.JS","range":[53153,53168],"loc":{"start":{"line":1798,"column":0},"end":{"line":1798,"column":15}}},{"type":"Line","value":" **Entity is a private super class that implements base common methods for","range":[53170,53246],"loc":{"start":{"line":1800,"column":0},"end":{"line":1800,"column":76}}},{"type":"Line","value":" all Evrythng objects. It establishes the way objects are converted","range":[53247,53316],"loc":{"start":{"line":1801,"column":0},"end":{"line":1801,"column":69}}},{"type":"Line","value":" to JSON, and provide an *update()* and *delete()* method for all entities.**","range":[53317,53396],"loc":{"start":{"line":1802,"column":0},"end":{"line":1802,"column":79}}}],"trailingComments":[{"type":"Line","value":" ## PROPERTY.JS","range":[56521,56538],"loc":{"start":{"line":1912,"column":0},"end":{"line":1912,"column":17}}},{"type":"Line","value":" **Property is a common Entity for Thngs and Products. It is always a","range":[56540,56611],"loc":{"start":{"line":1914,"column":0},"end":{"line":1914,"column":71}}},{"type":"Line","value":" nested resource and allows some simplified parameters, easing the","range":[56612,56680],"loc":{"start":{"line":1915,"column":0},"end":{"line":1915,"column":68}}},{"type":"Line","value":" update of properties and making it more fluent/literal.**","range":[56681,56741],"loc":{"start":{"line":1916,"column":0},"end":{"line":1916,"column":60}}}]},{"range":[56743,59275],"loc":{"start":{"line":1918,"column":0},"end":{"line":2031,"column":3}},"type":"ExpressionStatement","expression":{"range":[56743,59274],"loc":{"start":{"line":1918,"column":0},"end":{"line":2031,"column":2}},"type":"CallExpression","callee":{"range":[56743,56749],"loc":{"start":{"line":1918,"column":0},"end":{"line":1918,"column":6}},"type":"Identifier","name":"define"},"arguments":[{"range":[56750,56767],"loc":{"start":{"line":1918,"column":7},"end":{"line":1918,"column":24}},"type":"Literal","value":"entity/property","raw":"'entity/property'"},{"range":[56768,56819],"loc":{"start":{"line":1918,"column":25},"end":{"line":1923,"column":1}},"type":"ArrayExpression","elements":[{"range":[56772,56778],"loc":{"start":{"line":1919,"column":2},"end":{"line":1919,"column":8}},"type":"Literal","value":"core","raw":"'core'"},{"range":[56782,56792],"loc":{"start":{"line":1920,"column":2},"end":{"line":1920,"column":12}},"type":"Literal","value":"./entity","raw":"'./entity'"},{"range":[56796,56806],"loc":{"start":{"line":1921,"column":2},"end":{"line":1921,"column":12}},"type":"Literal","value":"resource","raw":"'resource'"},{"range":[56810,56817],"loc":{"start":{"line":1922,"column":2},"end":{"line":1922,"column":9}},"type":"Literal","value":"utils","raw":"'utils'"}]},{"range":[56821,59273],"loc":{"start":{"line":1923,"column":3},"end":{"line":2031,"column":1}},"type":"FunctionExpression","id":null,"params":[{"range":[56831,56834],"loc":{"start":{"line":1923,"column":13},"end":{"line":1923,"column":16}},"type":"Identifier","name":"EVT"},{"range":[56836,56842],"loc":{"start":{"line":1923,"column":18},"end":{"line":1923,"column":24}},"type":"Identifier","name":"Entity"},{"range":[56844,56852],"loc":{"start":{"line":1923,"column":26},"end":{"line":1923,"column":34}},"type":"Identifier","name":"Resource"},{"range":[56854,56859],"loc":{"start":{"line":1923,"column":36},"end":{"line":1923,"column":41}},"type":"Identifier","name":"Utils"}],"defaults":[],"body":{"range":[56861,59273],"loc":{"start":{"line":1923,"column":43},"end":{"line":2031,"column":1}},"type":"BlockStatement","body":[{"range":[56865,56878],"loc":{"start":{"line":1924,"column":2},"end":{"line":1924,"column":15}},"type":"ExpressionStatement","expression":{"range":[56865,56877],"loc":{"start":{"line":1924,"column":2},"end":{"line":1924,"column":14}},"type":"Literal","value":"use strict","raw":"'use strict'"},"trailingComments":[{"type":"Line","value":" Setup Property inheritance from Entity.","range":[56882,56924],"loc":{"start":{"line":1926,"column":2},"end":{"line":1926,"column":44}}}]},{"range":[56927,56995],"loc":{"start":{"line":1927,"column":2},"end":{"line":1929,"column":4}},"type":"VariableDeclaration","declarations":[{"range":[56931,56994],"loc":{"start":{"line":1927,"column":6},"end":{"line":1929,"column":3}},"type":"VariableDeclarator","id":{"range":[56931,56939],"loc":{"start":{"line":1927,"column":6},"end":{"line":1927,"column":14}},"type":"Identifier","name":"Property"},"init":{"range":[56942,56994],"loc":{"start":{"line":1927,"column":17},"end":{"line":1929,"column":3}},"type":"FunctionExpression","id":null,"params":[],"defaults":[],"body":{"range":[56954,56994],"loc":{"start":{"line":1927,"column":29},"end":{"line":1929,"column":3}},"type":"BlockStatement","body":[{"range":[56960,56990],"loc":{"start":{"line":1928,"column":4},"end":{"line":1928,"column":34}},"type":"ExpressionStatement","expression":{"range":[56960,56989],"loc":{"start":{"line":1928,"column":4},"end":{"line":1928,"column":33}},"type":"CallExpression","callee":{"range":[56960,56972],"loc":{"start":{"line":1928,"column":4},"end":{"line":1928,"column":16}},"type":"MemberExpression","computed":false,"object":{"range":[56960,56966],"loc":{"start":{"line":1928,"column":4},"end":{"line":1928,"column":10}},"type":"Identifier","name":"Entity"},"property":{"range":[56967,56972],"loc":{"start":{"line":1928,"column":11},"end":{"line":1928,"column":16}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[56973,56977],"loc":{"start":{"line":1928,"column":17},"end":{"line":1928,"column":21}},"type":"ThisExpression"},{"range":[56979,56988],"loc":{"start":{"line":1928,"column":23},"end":{"line":1928,"column":32}},"type":"Identifier","name":"arguments"}]}}]},"generator":false,"expression":false}}],"kind":"var","leadingComments":[{"type":"Line","value":" Setup Property inheritance from Entity.","range":[56882,56924],"loc":{"start":{"line":1926,"column":2},"end":{"line":1926,"column":44}}}]},{"range":[56999,57052],"loc":{"start":{"line":1931,"column":2},"end":{"line":1931,"column":55}},"type":"ExpressionStatement","expression":{"range":[56999,57051],"loc":{"start":{"line":1931,"column":2},"end":{"line":1931,"column":54}},"type":"AssignmentExpression","operator":"=","left":{"range":[56999,57017],"loc":{"start":{"line":1931,"column":2},"end":{"line":1931,"column":20}},"type":"MemberExpression","computed":false,"object":{"range":[56999,57007],"loc":{"start":{"line":1931,"column":2},"end":{"line":1931,"column":10}},"type":"Identifier","name":"Property"},"property":{"range":[57008,57017],"loc":{"start":{"line":1931,"column":11},"end":{"line":1931,"column":20}},"type":"Identifier","name":"prototype"}},"right":{"range":[57020,57051],"loc":{"start":{"line":1931,"column":23},"end":{"line":1931,"column":54}},"type":"CallExpression","callee":{"range":[57020,57033],"loc":{"start":{"line":1931,"column":23},"end":{"line":1931,"column":36}},"type":"MemberExpression","computed":false,"object":{"range":[57020,57026],"loc":{"start":{"line":1931,"column":23},"end":{"line":1931,"column":29}},"type":"Identifier","name":"Object"},"property":{"range":[57027,57033],"loc":{"start":{"line":1931,"column":30},"end":{"line":1931,"column":36}},"type":"Identifier","name":"create"}},"arguments":[{"range":[57034,57050],"loc":{"start":{"line":1931,"column":37},"end":{"line":1931,"column":53}},"type":"MemberExpression","computed":false,"object":{"range":[57034,57040],"loc":{"start":{"line":1931,"column":37},"end":{"line":1931,"column":43}},"type":"Identifier","name":"Entity"},"property":{"range":[57041,57050],"loc":{"start":{"line":1931,"column":44},"end":{"line":1931,"column":53}},"type":"Identifier","name":"prototype"}}]}}},{"range":[57055,57097],"loc":{"start":{"line":1932,"column":2},"end":{"line":1932,"column":44}},"type":"ExpressionStatement","expression":{"range":[57055,57096],"loc":{"start":{"line":1932,"column":2},"end":{"line":1932,"column":43}},"type":"AssignmentExpression","operator":"=","left":{"range":[57055,57085],"loc":{"start":{"line":1932,"column":2},"end":{"line":1932,"column":32}},"type":"MemberExpression","computed":false,"object":{"range":[57055,57073],"loc":{"start":{"line":1932,"column":2},"end":{"line":1932,"column":20}},"type":"MemberExpression","computed":false,"object":{"range":[57055,57063],"loc":{"start":{"line":1932,"column":2},"end":{"line":1932,"column":10}},"type":"Identifier","name":"Property"},"property":{"range":[57064,57073],"loc":{"start":{"line":1932,"column":11},"end":{"line":1932,"column":20}},"type":"Identifier","name":"prototype"}},"property":{"range":[57074,57085],"loc":{"start":{"line":1932,"column":21},"end":{"line":1932,"column":32}},"type":"Identifier","name":"constructor"}},"right":{"range":[57088,57096],"loc":{"start":{"line":1932,"column":35},"end":{"line":1932,"column":43}},"type":"Identifier","name":"Property"}},"trailingComments":[{"type":"Line","value":" The property update normalization of arguments allows to","range":[57102,57161],"loc":{"start":{"line":1935,"column":2},"end":{"line":1935,"column":61}}},{"type":"Line","value":" make easier and more intuitive calls, such as:","range":[57164,57213],"loc":{"start":{"line":1936,"column":2},"end":{"line":1936,"column":51}}},{"type":"Line","value":" - Single property update:","range":[57217,57245],"loc":{"start":{"line":1938,"column":2},"end":{"line":1938,"column":30}}},{"type":"Line","value":" ```","range":[57249,57255],"loc":{"start":{"line":1940,"column":2},"end":{"line":1940,"column":8}}},{"type":"Line","value":"  thng.property('status').update('off');","range":[57258,57300],"loc":{"start":{"line":1941,"column":2},"end":{"line":1941,"column":44}}},{"type":"Line","value":"  thng.property('status').update({","range":[57303,57339],"loc":{"start":{"line":1942,"column":2},"end":{"line":1942,"column":38}}},{"type":"Line","value":"    value: 'off'","range":[57342,57360],"loc":{"start":{"line":1943,"column":2},"end":{"line":1943,"column":20}}},{"type":"Line","value":"  });","range":[57363,57370],"loc":{"start":{"line":1944,"column":2},"end":{"line":1944,"column":9}}},{"type":"Line","value":" ```","range":[57373,57379],"loc":{"start":{"line":1945,"column":2},"end":{"line":1945,"column":8}}},{"type":"Line","value":" - Multi property update:","range":[57383,57410],"loc":{"start":{"line":1947,"column":2},"end":{"line":1947,"column":29}}},{"type":"Line","value":" ```","range":[57414,57420],"loc":{"start":{"line":1949,"column":2},"end":{"line":1949,"column":8}}},{"type":"Line","value":"  thng.property().update({","range":[57423,57451],"loc":{"start":{"line":1950,"column":2},"end":{"line":1950,"column":30}}},{"type":"Line","value":"    status: 'off',","range":[57454,57474],"loc":{"start":{"line":1951,"column":2},"end":{"line":1951,"column":22}}},{"type":"Line","value":"    level: '80'","range":[57477,57494],"loc":{"start":{"line":1952,"column":2},"end":{"line":1952,"column":19}}},{"type":"Line","value":"  });","range":[57497,57504],"loc":{"start":{"line":1953,"column":2},"end":{"line":1953,"column":9}}},{"type":"Line","value":" ```","range":[57507,57513],"loc":{"start":{"line":1954,"column":2},"end":{"line":1954,"column":8}}}]},{"range":[57516,58225],"loc":{"start":{"line":1955,"column":2},"end":{"line":1987,"column":3}},"type":"FunctionDeclaration","id":{"range":[57525,57544],"loc":{"start":{"line":1955,"column":11},"end":{"line":1955,"column":30}},"type":"Identifier","name":"_normalizeArguments"},"params":[{"range":[57545,57549],"loc":{"start":{"line":1955,"column":31},"end":{"line":1955,"column":35}},"type":"Identifier","name":"args"}],"defaults":[],"body":{"range":[57551,58225],"loc":{"start":{"line":1955,"column":37},"end":{"line":1987,"column":3}},"type":"BlockStatement","body":[{"range":[57557,57576],"loc":{"start":{"line":1956,"column":4},"end":{"line":1956,"column":23}},"type":"VariableDeclaration","declarations":[{"range":[57561,57575],"loc":{"start":{"line":1956,"column":8},"end":{"line":1956,"column":22}},"type":"VariableDeclarator","id":{"range":[57561,57565],"loc":{"start":{"line":1956,"column":8},"end":{"line":1956,"column":12}},"type":"Identifier","name":"data"},"init":{"range":[57568,57575],"loc":{"start":{"line":1956,"column":15},"end":{"line":1956,"column":22}},"type":"MemberExpression","computed":true,"object":{"range":[57568,57572],"loc":{"start":{"line":1956,"column":15},"end":{"line":1956,"column":19}},"type":"Identifier","name":"args"},"property":{"range":[57573,57574],"loc":{"start":{"line":1956,"column":20},"end":{"line":1956,"column":21}},"type":"Literal","value":0,"raw":"0"}}}],"kind":"var"},{"range":[57582,58203],"loc":{"start":{"line":1958,"column":4},"end":{"line":1984,"column":5}},"type":"IfStatement","test":{"range":[57585,57662],"loc":{"start":{"line":1958,"column":7},"end":{"line":1958,"column":84}},"type":"LogicalExpression","operator":"||","left":{"range":[57585,57633],"loc":{"start":{"line":1958,"column":7},"end":{"line":1958,"column":55}},"type":"LogicalExpression","operator":"||","left":{"range":[57585,57605],"loc":{"start":{"line":1958,"column":7},"end":{"line":1958,"column":27}},"type":"CallExpression","callee":{"range":[57585,57599],"loc":{"start":{"line":1958,"column":7},"end":{"line":1958,"column":21}},"type":"MemberExpression","computed":false,"object":{"range":[57585,57590],"loc":{"start":{"line":1958,"column":7},"end":{"line":1958,"column":12}},"type":"Identifier","name":"Utils"},"property":{"range":[57591,57599],"loc":{"start":{"line":1958,"column":13},"end":{"line":1958,"column":21}},"type":"Identifier","name":"isString"}},"arguments":[{"range":[57600,57604],"loc":{"start":{"line":1958,"column":22},"end":{"line":1958,"column":26}},"type":"Identifier","name":"data"}]},"right":{"range":[57609,57633],"loc":{"start":{"line":1958,"column":31},"end":{"line":1958,"column":55}},"type":"BinaryExpression","operator":"===","left":{"range":[57609,57620],"loc":{"start":{"line":1958,"column":31},"end":{"line":1958,"column":42}},"type":"UnaryExpression","operator":"typeof","argument":{"range":[57616,57620],"loc":{"start":{"line":1958,"column":38},"end":{"line":1958,"column":42}},"type":"Identifier","name":"data"},"prefix":true},"right":{"range":[57625,57633],"loc":{"start":{"line":1958,"column":47},"end":{"line":1958,"column":55}},"type":"Literal","value":"number","raw":"'number'"}}},"right":{"range":[57637,57662],"loc":{"start":{"line":1958,"column":59},"end":{"line":1958,"column":84}},"type":"BinaryExpression","operator":"===","left":{"range":[57637,57648],"loc":{"start":{"line":1958,"column":59},"end":{"line":1958,"column":70}},"type":"UnaryExpression","operator":"typeof","argument":{"range":[57644,57648],"loc":{"start":{"line":1958,"column":66},"end":{"line":1958,"column":70}},"type":"Identifier","name":"data"},"prefix":true},"right":{"range":[57653,57662],"loc":{"start":{"line":1958,"column":75},"end":{"line":1958,"column":84}},"type":"Literal","value":"boolean","raw":"'boolean'"}}},"consequent":{"range":[57663,57767],"loc":{"start":{"line":1958,"column":85},"end":{"line":1965,"column":5}},"type":"BlockStatement","body":[{"range":[57718,57760],"loc":{"start":{"line":1961,"column":6},"end":{"line":1963,"column":9}},"type":"ExpressionStatement","expression":{"range":[57718,57759],"loc":{"start":{"line":1961,"column":6},"end":{"line":1963,"column":8}},"type":"AssignmentExpression","operator":"=","left":{"range":[57718,57725],"loc":{"start":{"line":1961,"column":6},"end":{"line":1961,"column":13}},"type":"MemberExpression","computed":true,"object":{"range":[57718,57722],"loc":{"start":{"line":1961,"column":6},"end":{"line":1961,"column":10}},"type":"Identifier","name":"args"},"property":{"range":[57723,57724],"loc":{"start":{"line":1961,"column":11},"end":{"line":1961,"column":12}},"type":"Literal","value":0,"raw":"0"}},"right":{"range":[57728,57759],"loc":{"start":{"line":1961,"column":16},"end":{"line":1963,"column":8}},"type":"ArrayExpression","elements":[{"range":[57729,57758],"loc":{"start":{"line":1961,"column":17},"end":{"line":1963,"column":7}},"type":"ObjectExpression","properties":[{"range":[57739,57750],"loc":{"start":{"line":1962,"column":8},"end":{"line":1962,"column":19}},"type":"Property","key":{"range":[57739,57744],"loc":{"start":{"line":1962,"column":8},"end":{"line":1962,"column":13}},"type":"Identifier","name":"value"},"computed":false,"value":{"range":[57746,57750],"loc":{"start":{"line":1962,"column":15},"end":{"line":1962,"column":19}},"type":"Identifier","name":"data"},"kind":"init","method":false,"shorthand":false}]}]}},"leadingComments":[{"type":"Line","value":" Update single property using string.","range":[57672,57711],"loc":{"start":{"line":1960,"column":6},"end":{"line":1960,"column":45}}}]}]},"alternate":{"range":[57772,58203],"loc":{"start":{"line":1965,"column":10},"end":{"line":1984,"column":5}},"type":"IfStatement","test":{"range":[57775,57795],"loc":{"start":{"line":1965,"column":13},"end":{"line":1965,"column":33}},"type":"CallExpression","callee":{"range":[57775,57789],"loc":{"start":{"line":1965,"column":13},"end":{"line":1965,"column":27}},"type":"MemberExpression","computed":false,"object":{"range":[57775,57780],"loc":{"start":{"line":1965,"column":13},"end":{"line":1965,"column":18}},"type":"Identifier","name":"Utils"},"property":{"range":[57781,57789],"loc":{"start":{"line":1965,"column":19},"end":{"line":1965,"column":27}},"type":"Identifier","name":"isObject"}},"arguments":[{"range":[57790,57794],"loc":{"start":{"line":1965,"column":28},"end":{"line":1965,"column":32}},"type":"Identifier","name":"data"}]},"consequent":{"range":[57797,58203],"loc":{"start":{"line":1965,"column":35},"end":{"line":1984,"column":5}},"type":"BlockStatement","body":[{"range":[57806,58197],"loc":{"start":{"line":1967,"column":6},"end":{"line":1983,"column":7}},"type":"IfStatement","test":{"range":[57810,57837],"loc":{"start":{"line":1967,"column":10},"end":{"line":1967,"column":37}},"type":"CallExpression","callee":{"range":[57810,57825],"loc":{"start":{"line":1967,"column":10},"end":{"line":1967,"column":25}},"type":"MemberExpression","computed":false,"object":{"range":[57810,57815],"loc":{"start":{"line":1967,"column":10},"end":{"line":1967,"column":15}},"type":"Identifier","name":"Utils"},"property":{"range":[57816,57825],"loc":{"start":{"line":1967,"column":16},"end":{"line":1967,"column":25}},"type":"Identifier","name":"isDefined"}},"arguments":[{"range":[57826,57836],"loc":{"start":{"line":1967,"column":26},"end":{"line":1967,"column":36}},"type":"MemberExpression","computed":false,"object":{"range":[57826,57830],"loc":{"start":{"line":1967,"column":26},"end":{"line":1967,"column":30}},"type":"Identifier","name":"data"},"property":{"range":[57831,57836],"loc":{"start":{"line":1967,"column":31},"end":{"line":1967,"column":36}},"type":"Identifier","name":"value"}}]},"consequent":{"range":[57839,57933],"loc":{"start":{"line":1967,"column":39},"end":{"line":1972,"column":7}},"type":"BlockStatement","body":[{"range":[57907,57924],"loc":{"start":{"line":1970,"column":8},"end":{"line":1970,"column":25}},"type":"ExpressionStatement","expression":{"range":[57907,57923],"loc":{"start":{"line":1970,"column":8},"end":{"line":1970,"column":24}},"type":"AssignmentExpression","operator":"=","left":{"range":[57907,57914],"loc":{"start":{"line":1970,"column":8},"end":{"line":1970,"column":15}},"type":"MemberExpression","computed":true,"object":{"range":[57907,57911],"loc":{"start":{"line":1970,"column":8},"end":{"line":1970,"column":12}},"type":"Identifier","name":"args"},"property":{"range":[57912,57913],"loc":{"start":{"line":1970,"column":13},"end":{"line":1970,"column":14}},"type":"Literal","value":0,"raw":"0"}},"right":{"range":[57917,57923],"loc":{"start":{"line":1970,"column":18},"end":{"line":1970,"column":24}},"type":"ArrayExpression","elements":[{"range":[57918,57922],"loc":{"start":{"line":1970,"column":19},"end":{"line":1970,"column":23}},"type":"Identifier","name":"data"}]}},"leadingComments":[{"type":"Line","value":" Update single property using object notation.","range":[57850,57898],"loc":{"start":{"line":1969,"column":8},"end":{"line":1969,"column":56}}}]}]},"alternate":{"range":[57939,58197],"loc":{"start":{"line":1972,"column":13},"end":{"line":1983,"column":7}},"type":"BlockStatement","body":[{"range":[58044,58057],"loc":{"start":{"line":1976,"column":8},"end":{"line":1976,"column":21}},"type":"ExpressionStatement","expression":{"range":[58044,58056],"loc":{"start":{"line":1976,"column":8},"end":{"line":1976,"column":20}},"type":"AssignmentExpression","operator":"=","left":{"range":[58044,58051],"loc":{"start":{"line":1976,"column":8},"end":{"line":1976,"column":15}},"type":"MemberExpression","computed":true,"object":{"range":[58044,58048],"loc":{"start":{"line":1976,"column":8},"end":{"line":1976,"column":12}},"type":"Identifier","name":"args"},"property":{"range":[58049,58050],"loc":{"start":{"line":1976,"column":13},"end":{"line":1976,"column":14}},"type":"Literal","value":0,"raw":"0"}},"right":{"range":[58054,58056],"loc":{"start":{"line":1976,"column":18},"end":{"line":1976,"column":20}},"type":"ArrayExpression","elements":[]}},"leadingComments":[{"type":"Line","value":" Update multiple properties, creating an object for","range":[57950,58003],"loc":{"start":{"line":1974,"column":8},"end":{"line":1974,"column":61}}},{"type":"Line","value":" each key-value pair.","range":[58012,58035],"loc":{"start":{"line":1975,"column":8},"end":{"line":1975,"column":31}}}]},{"range":[58066,58189],"loc":{"start":{"line":1977,"column":8},"end":{"line":1982,"column":9}},"type":"ForInStatement","left":{"range":[58071,58078],"loc":{"start":{"line":1977,"column":13},"end":{"line":1977,"column":20}},"type":"VariableDeclaration","declarations":[{"range":[58075,58078],"loc":{"start":{"line":1977,"column":17},"end":{"line":1977,"column":20}},"type":"VariableDeclarator","id":{"range":[58075,58078],"loc":{"start":{"line":1977,"column":17},"end":{"line":1977,"column":20}},"type":"Identifier","name":"key"},"init":null}],"kind":"var"},"right":{"range":[58082,58086],"loc":{"start":{"line":1977,"column":24},"end":{"line":1977,"column":28}},"type":"Identifier","name":"data"},"body":{"range":[58088,58189],"loc":{"start":{"line":1977,"column":30},"end":{"line":1982,"column":9}},"type":"BlockStatement","body":[{"range":[58100,58179],"loc":{"start":{"line":1978,"column":10},"end":{"line":1981,"column":13}},"type":"ExpressionStatement","expression":{"range":[58100,58178],"loc":{"start":{"line":1978,"column":10},"end":{"line":1981,"column":12}},"type":"CallExpression","callee":{"range":[58100,58112],"loc":{"start":{"line":1978,"column":10},"end":{"line":1978,"column":22}},"type":"MemberExpression","computed":false,"object":{"range":[58100,58107],"loc":{"start":{"line":1978,"column":10},"end":{"line":1978,"column":17}},"type":"MemberExpression","computed":true,"object":{"range":[58100,58104],"loc":{"start":{"line":1978,"column":10},"end":{"line":1978,"column":14}},"type":"Identifier","name":"args"},"property":{"range":[58105,58106],"loc":{"start":{"line":1978,"column":15},"end":{"line":1978,"column":16}},"type":"Literal","value":0,"raw":"0"}},"property":{"range":[58108,58112],"loc":{"start":{"line":1978,"column":18},"end":{"line":1978,"column":22}},"type":"Identifier","name":"push"}},"arguments":[{"range":[58113,58177],"loc":{"start":{"line":1978,"column":23},"end":{"line":1981,"column":11}},"type":"ObjectExpression","properties":[{"range":[58127,58135],"loc":{"start":{"line":1979,"column":12},"end":{"line":1979,"column":20}},"type":"Property","key":{"range":[58127,58130],"loc":{"start":{"line":1979,"column":12},"end":{"line":1979,"column":15}},"type":"Identifier","name":"key"},"computed":false,"value":{"range":[58132,58135],"loc":{"start":{"line":1979,"column":17},"end":{"line":1979,"column":20}},"type":"Identifier","name":"key"},"kind":"init","method":false,"shorthand":false},{"range":[58149,58165],"loc":{"start":{"line":1980,"column":12},"end":{"line":1980,"column":28}},"type":"Property","key":{"range":[58149,58154],"loc":{"start":{"line":1980,"column":12},"end":{"line":1980,"column":17}},"type":"Identifier","name":"value"},"computed":false,"value":{"range":[58156,58165],"loc":{"start":{"line":1980,"column":19},"end":{"line":1980,"column":28}},"type":"MemberExpression","computed":true,"object":{"range":[58156,58160],"loc":{"start":{"line":1980,"column":19},"end":{"line":1980,"column":23}},"type":"Identifier","name":"data"},"property":{"range":[58161,58164],"loc":{"start":{"line":1980,"column":24},"end":{"line":1980,"column":27}},"type":"Identifier","name":"key"}},"kind":"init","method":false,"shorthand":false}]}]}}]},"each":false}]}}]},"alternate":null}},{"range":[58209,58221],"loc":{"start":{"line":1986,"column":4},"end":{"line":1986,"column":16}},"type":"ReturnStatement","argument":{"range":[58216,58220],"loc":{"start":{"line":1986,"column":11},"end":{"line":1986,"column":15}},"type":"Identifier","name":"args"}}]},"generator":false,"expression":false,"leadingComments":[{"type":"Line","value":" The property update normalization of arguments allows to","range":[57102,57161],"loc":{"start":{"line":1935,"column":2},"end":{"line":1935,"column":61}}},{"type":"Line","value":" make easier and more intuitive calls, such as:","range":[57164,57213],"loc":{"start":{"line":1936,"column":2},"end":{"line":1936,"column":51}}},{"type":"Line","value":" - Single property update:","range":[57217,57245],"loc":{"start":{"line":1938,"column":2},"end":{"line":1938,"column":30}}},{"type":"Line","value":" ```","range":[57249,57255],"loc":{"start":{"line":1940,"column":2},"end":{"line":1940,"column":8}}},{"type":"Line","value":"  thng.property('status').update('off');","range":[57258,57300],"loc":{"start":{"line":1941,"column":2},"end":{"line":1941,"column":44}}},{"type":"Line","value":"  thng.property('status').update({","range":[57303,57339],"loc":{"start":{"line":1942,"column":2},"end":{"line":1942,"column":38}}},{"type":"Line","value":"    value: 'off'","range":[57342,57360],"loc":{"start":{"line":1943,"column":2},"end":{"line":1943,"column":20}}},{"type":"Line","value":"  });","range":[57363,57370],"loc":{"start":{"line":1944,"column":2},"end":{"line":1944,"column":9}}},{"type":"Line","value":" ```","range":[57373,57379],"loc":{"start":{"line":1945,"column":2},"end":{"line":1945,"column":8}}},{"type":"Line","value":" - Multi property update:","range":[57383,57410],"loc":{"start":{"line":1947,"column":2},"end":{"line":1947,"column":29}}},{"type":"Line","value":" ```","range":[57414,57420],"loc":{"start":{"line":1949,"column":2},"end":{"line":1949,"column":8}}},{"type":"Line","value":"  thng.property().update({","range":[57423,57451],"loc":{"start":{"line":1950,"column":2},"end":{"line":1950,"column":30}}},{"type":"Line","value":"    status: 'off',","range":[57454,57474],"loc":{"start":{"line":1951,"column":2},"end":{"line":1951,"column":22}}},{"type":"Line","value":"    level: '80'","range":[57477,57494],"loc":{"start":{"line":1952,"column":2},"end":{"line":1952,"column":19}}},{"type":"Line","value":"  });","range":[57497,57504],"loc":{"start":{"line":1953,"column":2},"end":{"line":1953,"column":9}}},{"type":"Line","value":" ```","range":[57507,57513],"loc":{"start":{"line":1954,"column":2},"end":{"line":1954,"column":8}}}],"trailingComments":[{"type":"Line","value":" Attach class to EVT module.","range":[58230,58260],"loc":{"start":{"line":1990,"column":2},"end":{"line":1990,"column":32}}}]},{"range":[58263,58294],"loc":{"start":{"line":1991,"column":2},"end":{"line":1991,"column":33}},"type":"ExpressionStatement","expression":{"range":[58263,58293],"loc":{"start":{"line":1991,"column":2},"end":{"line":1991,"column":32}},"type":"AssignmentExpression","operator":"=","left":{"range":[58263,58282],"loc":{"start":{"line":1991,"column":2},"end":{"line":1991,"column":21}},"type":"MemberExpression","computed":false,"object":{"range":[58263,58273],"loc":{"start":{"line":1991,"column":2},"end":{"line":1991,"column":12}},"type":"MemberExpression","computed":false,"object":{"range":[58263,58266],"loc":{"start":{"line":1991,"column":2},"end":{"line":1991,"column":5}},"type":"Identifier","name":"EVT"},"property":{"range":[58267,58273],"loc":{"start":{"line":1991,"column":6},"end":{"line":1991,"column":12}},"type":"Identifier","name":"Entity"}},"property":{"range":[58274,58282],"loc":{"start":{"line":1991,"column":13},"end":{"line":1991,"column":21}},"type":"Identifier","name":"Property"}},"right":{"range":[58285,58293],"loc":{"start":{"line":1991,"column":24},"end":{"line":1991,"column":32}},"type":"Identifier","name":"Property"}},"leadingComments":[{"type":"Line","value":" Attach class to EVT module.","range":[58230,58260],"loc":{"start":{"line":1990,"column":2},"end":{"line":1990,"column":32}}}]},{"range":[58299,59271],"loc":{"start":{"line":1994,"column":2},"end":{"line":2030,"column":4}},"type":"ReturnStatement","argument":{"range":[58306,59270],"loc":{"start":{"line":1994,"column":9},"end":{"line":2030,"column":3}},"type":"ObjectExpression","properties":[{"range":[58313,58330],"loc":{"start":{"line":1996,"column":4},"end":{"line":1996,"column":21}},"type":"Property","key":{"range":[58313,58320],"loc":{"start":{"line":1996,"column":4},"end":{"line":1996,"column":11}},"type":"Literal","value":"class","raw":"'class'"},"computed":false,"value":{"range":[58322,58330],"loc":{"start":{"line":1996,"column":13},"end":{"line":1996,"column":21}},"type":"Identifier","name":"Property"},"kind":"init","method":false,"shorthand":false},{"range":[58337,59265],"loc":{"start":{"line":1998,"column":4},"end":{"line":2028,"column":5}},"type":"Property","key":{"range":[58337,58356],"loc":{"start":{"line":1998,"column":4},"end":{"line":1998,"column":23}},"type":"Identifier","name":"resourceConstructor"},"computed":false,"value":{"range":[58358,59265],"loc":{"start":{"line":1998,"column":25},"end":{"line":2028,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[58368,58376],"loc":{"start":{"line":1998,"column":35},"end":{"line":1998,"column":43}},"type":"Identifier","name":"property"}],"defaults":[],"body":{"range":[58378,59265],"loc":{"start":{"line":1998,"column":45},"end":{"line":2028,"column":5}},"type":"BlockStatement","body":[{"range":[58387,58481],"loc":{"start":{"line":2000,"column":6},"end":{"line":2002,"column":7}},"type":"IfStatement","test":{"range":[58390,58404],"loc":{"start":{"line":2000,"column":9},"end":{"line":2000,"column":23}},"type":"UnaryExpression","operator":"!","argument":{"range":[58391,58404],"loc":{"start":{"line":2000,"column":10},"end":{"line":2000,"column":23}},"type":"MemberExpression","computed":false,"object":{"range":[58391,58395],"loc":{"start":{"line":2000,"column":10},"end":{"line":2000,"column":14}},"type":"ThisExpression"},"property":{"range":[58396,58404],"loc":{"start":{"line":2000,"column":15},"end":{"line":2000,"column":23}},"type":"Identifier","name":"resource"}},"prefix":true},"consequent":{"range":[58406,58481],"loc":{"start":{"line":2000,"column":25},"end":{"line":2002,"column":7}},"type":"BlockStatement","body":[{"range":[58416,58473],"loc":{"start":{"line":2001,"column":8},"end":{"line":2001,"column":65}},"type":"ThrowStatement","argument":{"range":[58422,58472],"loc":{"start":{"line":2001,"column":14},"end":{"line":2001,"column":64}},"type":"NewExpression","callee":{"range":[58426,58431],"loc":{"start":{"line":2001,"column":18},"end":{"line":2001,"column":23}},"type":"Identifier","name":"Error"},"arguments":[{"range":[58432,58471],"loc":{"start":{"line":2001,"column":24},"end":{"line":2001,"column":63}},"type":"Literal","value":"This Entity does not have a Resource.","raw":"'This Entity does not have a Resource.'"}]}}]},"alternate":null},{"range":[58489,58553],"loc":{"start":{"line":2004,"column":6},"end":{"line":2005,"column":17}},"type":"VariableDeclaration","declarations":[{"range":[58493,58534],"loc":{"start":{"line":2004,"column":10},"end":{"line":2004,"column":51}},"type":"VariableDeclarator","id":{"range":[58493,58497],"loc":{"start":{"line":2004,"column":10},"end":{"line":2004,"column":14}},"type":"Identifier","name":"path"},"init":{"range":[58500,58534],"loc":{"start":{"line":2004,"column":17},"end":{"line":2004,"column":51}},"type":"BinaryExpression","operator":"+","left":{"range":[58500,58518],"loc":{"start":{"line":2004,"column":17},"end":{"line":2004,"column":35}},"type":"MemberExpression","computed":false,"object":{"range":[58500,58513],"loc":{"start":{"line":2004,"column":17},"end":{"line":2004,"column":30}},"type":"MemberExpression","computed":false,"object":{"range":[58500,58504],"loc":{"start":{"line":2004,"column":17},"end":{"line":2004,"column":21}},"type":"ThisExpression"},"property":{"range":[58505,58513],"loc":{"start":{"line":2004,"column":22},"end":{"line":2004,"column":30}},"type":"Identifier","name":"resource"}},"property":{"range":[58514,58518],"loc":{"start":{"line":2004,"column":31},"end":{"line":2004,"column":35}},"type":"Identifier","name":"path"}},"right":{"range":[58521,58534],"loc":{"start":{"line":2004,"column":38},"end":{"line":2004,"column":51}},"type":"Literal","value":"/properties","raw":"'/properties'"}}},{"range":[58544,58552],"loc":{"start":{"line":2005,"column":8},"end":{"line":2005,"column":16}},"type":"VariableDeclarator","id":{"range":[58544,58552],"loc":{"start":{"line":2005,"column":8},"end":{"line":2005,"column":16}},"type":"Identifier","name":"resource"},"init":null}],"kind":"var"},{"range":[58561,58768],"loc":{"start":{"line":2007,"column":6},"end":{"line":2013,"column":7}},"type":"IfStatement","test":{"range":[58564,58572],"loc":{"start":{"line":2007,"column":9},"end":{"line":2007,"column":17}},"type":"Identifier","name":"property"},"consequent":{"range":[58573,58768],"loc":{"start":{"line":2007,"column":18},"end":{"line":2013,"column":7}},"type":"BlockStatement","body":[{"range":[58583,58760],"loc":{"start":{"line":2008,"column":8},"end":{"line":2012,"column":9}},"type":"IfStatement","test":{"range":[58586,58610],"loc":{"start":{"line":2008,"column":11},"end":{"line":2008,"column":35}},"type":"CallExpression","callee":{"range":[58586,58600],"loc":{"start":{"line":2008,"column":11},"end":{"line":2008,"column":25}},"type":"MemberExpression","computed":false,"object":{"range":[58586,58591],"loc":{"start":{"line":2008,"column":11},"end":{"line":2008,"column":16}},"type":"Identifier","name":"Utils"},"property":{"range":[58592,58600],"loc":{"start":{"line":2008,"column":17},"end":{"line":2008,"column":25}},"type":"Identifier","name":"isString"}},"arguments":[{"range":[58601,58609],"loc":{"start":{"line":2008,"column":26},"end":{"line":2008,"column":34}},"type":"Identifier","name":"property"}]},"consequent":{"range":[58611,58676],"loc":{"start":{"line":2008,"column":36},"end":{"line":2010,"column":9}},"type":"BlockStatement","body":[{"range":[58623,58666],"loc":{"start":{"line":2009,"column":10},"end":{"line":2009,"column":53}},"type":"ExpressionStatement","expression":{"range":[58623,58665],"loc":{"start":{"line":2009,"column":10},"end":{"line":2009,"column":52}},"type":"AssignmentExpression","operator":"+=","left":{"range":[58623,58627],"loc":{"start":{"line":2009,"column":10},"end":{"line":2009,"column":14}},"type":"Identifier","name":"path"},"right":{"range":[58631,58665],"loc":{"start":{"line":2009,"column":18},"end":{"line":2009,"column":52}},"type":"BinaryExpression","operator":"+","left":{"range":[58631,58634],"loc":{"start":{"line":2009,"column":18},"end":{"line":2009,"column":21}},"type":"Literal","value":"/","raw":"'/'"},"right":{"range":[58637,58665],"loc":{"start":{"line":2009,"column":24},"end":{"line":2009,"column":52}},"type":"CallExpression","callee":{"range":[58637,58655],"loc":{"start":{"line":2009,"column":24},"end":{"line":2009,"column":42}},"type":"Identifier","name":"encodeURIComponent"},"arguments":[{"range":[58656,58664],"loc":{"start":{"line":2009,"column":43},"end":{"line":2009,"column":51}},"type":"Identifier","name":"property"}]}}}}]},"alternate":{"range":[58680,58760],"loc":{"start":{"line":2010,"column":13},"end":{"line":2012,"column":9}},"type":"BlockStatement","body":[{"range":[58692,58750],"loc":{"start":{"line":2011,"column":10},"end":{"line":2011,"column":68}},"type":"ThrowStatement","argument":{"range":[58698,58749],"loc":{"start":{"line":2011,"column":16},"end":{"line":2011,"column":67}},"type":"NewExpression","callee":{"range":[58702,58711],"loc":{"start":{"line":2011,"column":20},"end":{"line":2011,"column":29}},"type":"Identifier","name":"TypeError"},"arguments":[{"range":[58712,58748],"loc":{"start":{"line":2011,"column":30},"end":{"line":2011,"column":66}},"type":"Literal","value":"Property must be a key/name string","raw":"'Property must be a key/name string'"}]}}]}}]},"alternate":null},{"range":[58776,58848],"loc":{"start":{"line":2015,"column":6},"end":{"line":2015,"column":78}},"type":"ExpressionStatement","expression":{"range":[58776,58847],"loc":{"start":{"line":2015,"column":6},"end":{"line":2015,"column":77}},"type":"AssignmentExpression","operator":"=","left":{"range":[58776,58784],"loc":{"start":{"line":2015,"column":6},"end":{"line":2015,"column":14}},"type":"Identifier","name":"resource"},"right":{"range":[58787,58847],"loc":{"start":{"line":2015,"column":17},"end":{"line":2015,"column":77}},"type":"NewExpression","callee":{"range":[58791,58799],"loc":{"start":{"line":2015,"column":21},"end":{"line":2015,"column":29}},"type":"Identifier","name":"Resource"},"arguments":[{"range":[58800,58819],"loc":{"start":{"line":2015,"column":30},"end":{"line":2015,"column":49}},"type":"MemberExpression","computed":false,"object":{"range":[58800,58813],"loc":{"start":{"line":2015,"column":30},"end":{"line":2015,"column":43}},"type":"MemberExpression","computed":false,"object":{"range":[58800,58804],"loc":{"start":{"line":2015,"column":30},"end":{"line":2015,"column":34}},"type":"ThisExpression"},"property":{"range":[58805,58813],"loc":{"start":{"line":2015,"column":35},"end":{"line":2015,"column":43}},"type":"Identifier","name":"resource"}},"property":{"range":[58814,58819],"loc":{"start":{"line":2015,"column":44},"end":{"line":2015,"column":49}},"type":"Identifier","name":"scope"}},{"range":[58821,58825],"loc":{"start":{"line":2015,"column":51},"end":{"line":2015,"column":55}},"type":"Identifier","name":"path"},{"range":[58827,58846],"loc":{"start":{"line":2015,"column":57},"end":{"line":2015,"column":76}},"type":"MemberExpression","computed":false,"object":{"range":[58827,58837],"loc":{"start":{"line":2015,"column":57},"end":{"line":2015,"column":67}},"type":"MemberExpression","computed":false,"object":{"range":[58827,58830],"loc":{"start":{"line":2015,"column":57},"end":{"line":2015,"column":60}},"type":"Identifier","name":"EVT"},"property":{"range":[58831,58837],"loc":{"start":{"line":2015,"column":61},"end":{"line":2015,"column":67}},"type":"Identifier","name":"Entity"}},"property":{"range":[58838,58846],"loc":{"start":{"line":2015,"column":68},"end":{"line":2015,"column":76}},"type":"Identifier","name":"Property"}}]}},"trailingComments":[{"type":"Line","value":" Override property resource create/update to allow custom values params.","range":[58856,58930],"loc":{"start":{"line":2017,"column":6},"end":{"line":2017,"column":80}}},{"type":"Line","value":" See *_normalizeArguments()*.","range":[58937,58968],"loc":{"start":{"line":2018,"column":6},"end":{"line":2018,"column":37}}}]},{"range":[58975,59101],"loc":{"start":{"line":2019,"column":6},"end":{"line":2021,"column":8}},"type":"ExpressionStatement","expression":{"range":[58975,59100],"loc":{"start":{"line":2019,"column":6},"end":{"line":2021,"column":7}},"type":"AssignmentExpression","operator":"=","left":{"range":[58975,58990],"loc":{"start":{"line":2019,"column":6},"end":{"line":2019,"column":21}},"type":"MemberExpression","computed":false,"object":{"range":[58975,58983],"loc":{"start":{"line":2019,"column":6},"end":{"line":2019,"column":14}},"type":"Identifier","name":"resource"},"property":{"range":[58984,58990],"loc":{"start":{"line":2019,"column":15},"end":{"line":2019,"column":21}},"type":"Identifier","name":"create"}},"right":{"range":[58993,59100],"loc":{"start":{"line":2019,"column":24},"end":{"line":2021,"column":7}},"type":"FunctionExpression","id":null,"params":[],"defaults":[],"body":{"range":[59005,59100],"loc":{"start":{"line":2019,"column":36},"end":{"line":2021,"column":7}},"type":"BlockStatement","body":[{"range":[59015,59092],"loc":{"start":{"line":2020,"column":8},"end":{"line":2020,"column":85}},"type":"ReturnStatement","argument":{"range":[59022,59091],"loc":{"start":{"line":2020,"column":15},"end":{"line":2020,"column":84}},"type":"CallExpression","callee":{"range":[59022,59053],"loc":{"start":{"line":2020,"column":15},"end":{"line":2020,"column":46}},"type":"MemberExpression","computed":false,"object":{"range":[59022,59047],"loc":{"start":{"line":2020,"column":15},"end":{"line":2020,"column":40}},"type":"MemberExpression","computed":false,"object":{"range":[59022,59040],"loc":{"start":{"line":2020,"column":15},"end":{"line":2020,"column":33}},"type":"MemberExpression","computed":false,"object":{"range":[59022,59030],"loc":{"start":{"line":2020,"column":15},"end":{"line":2020,"column":23}},"type":"Identifier","name":"Resource"},"property":{"range":[59031,59040],"loc":{"start":{"line":2020,"column":24},"end":{"line":2020,"column":33}},"type":"Identifier","name":"prototype"}},"property":{"range":[59041,59047],"loc":{"start":{"line":2020,"column":34},"end":{"line":2020,"column":40}},"type":"Identifier","name":"create"}},"property":{"range":[59048,59053],"loc":{"start":{"line":2020,"column":41},"end":{"line":2020,"column":46}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[59054,59058],"loc":{"start":{"line":2020,"column":47},"end":{"line":2020,"column":51}},"type":"ThisExpression"},{"range":[59060,59090],"loc":{"start":{"line":2020,"column":53},"end":{"line":2020,"column":83}},"type":"CallExpression","callee":{"range":[59060,59079],"loc":{"start":{"line":2020,"column":53},"end":{"line":2020,"column":72}},"type":"Identifier","name":"_normalizeArguments"},"arguments":[{"range":[59080,59089],"loc":{"start":{"line":2020,"column":73},"end":{"line":2020,"column":82}},"type":"Identifier","name":"arguments"}]}]}}]},"generator":false,"expression":false}},"leadingComments":[{"type":"Line","value":" Override property resource create/update to allow custom values params.","range":[58856,58930],"loc":{"start":{"line":2017,"column":6},"end":{"line":2017,"column":80}}},{"type":"Line","value":" See *_normalizeArguments()*.","range":[58937,58968],"loc":{"start":{"line":2018,"column":6},"end":{"line":2018,"column":37}}}]},{"range":[59109,59235],"loc":{"start":{"line":2023,"column":6},"end":{"line":2025,"column":8}},"type":"ExpressionStatement","expression":{"range":[59109,59234],"loc":{"start":{"line":2023,"column":6},"end":{"line":2025,"column":7}},"type":"AssignmentExpression","operator":"=","left":{"range":[59109,59124],"loc":{"start":{"line":2023,"column":6},"end":{"line":2023,"column":21}},"type":"MemberExpression","computed":false,"object":{"range":[59109,59117],"loc":{"start":{"line":2023,"column":6},"end":{"line":2023,"column":14}},"type":"Identifier","name":"resource"},"property":{"range":[59118,59124],"loc":{"start":{"line":2023,"column":15},"end":{"line":2023,"column":21}},"type":"Identifier","name":"update"}},"right":{"range":[59127,59234],"loc":{"start":{"line":2023,"column":24},"end":{"line":2025,"column":7}},"type":"FunctionExpression","id":null,"params":[],"defaults":[],"body":{"range":[59139,59234],"loc":{"start":{"line":2023,"column":36},"end":{"line":2025,"column":7}},"type":"BlockStatement","body":[{"range":[59149,59226],"loc":{"start":{"line":2024,"column":8},"end":{"line":2024,"column":85}},"type":"ReturnStatement","argument":{"range":[59156,59225],"loc":{"start":{"line":2024,"column":15},"end":{"line":2024,"column":84}},"type":"CallExpression","callee":{"range":[59156,59187],"loc":{"start":{"line":2024,"column":15},"end":{"line":2024,"column":46}},"type":"MemberExpression","computed":false,"object":{"range":[59156,59181],"loc":{"start":{"line":2024,"column":15},"end":{"line":2024,"column":40}},"type":"MemberExpression","computed":false,"object":{"range":[59156,59174],"loc":{"start":{"line":2024,"column":15},"end":{"line":2024,"column":33}},"type":"MemberExpression","computed":false,"object":{"range":[59156,59164],"loc":{"start":{"line":2024,"column":15},"end":{"line":2024,"column":23}},"type":"Identifier","name":"Resource"},"property":{"range":[59165,59174],"loc":{"start":{"line":2024,"column":24},"end":{"line":2024,"column":33}},"type":"Identifier","name":"prototype"}},"property":{"range":[59175,59181],"loc":{"start":{"line":2024,"column":34},"end":{"line":2024,"column":40}},"type":"Identifier","name":"update"}},"property":{"range":[59182,59187],"loc":{"start":{"line":2024,"column":41},"end":{"line":2024,"column":46}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[59188,59192],"loc":{"start":{"line":2024,"column":47},"end":{"line":2024,"column":51}},"type":"ThisExpression"},{"range":[59194,59224],"loc":{"start":{"line":2024,"column":53},"end":{"line":2024,"column":83}},"type":"CallExpression","callee":{"range":[59194,59213],"loc":{"start":{"line":2024,"column":53},"end":{"line":2024,"column":72}},"type":"Identifier","name":"_normalizeArguments"},"arguments":[{"range":[59214,59223],"loc":{"start":{"line":2024,"column":73},"end":{"line":2024,"column":82}},"type":"Identifier","name":"arguments"}]}]}}]},"generator":false,"expression":false}}},{"range":[59243,59259],"loc":{"start":{"line":2027,"column":6},"end":{"line":2027,"column":22}},"type":"ReturnStatement","argument":{"range":[59250,59258],"loc":{"start":{"line":2027,"column":13},"end":{"line":2027,"column":21}},"type":"Identifier","name":"resource"}}]},"generator":false,"expression":false},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" ## PROPERTY.JS","range":[56521,56538],"loc":{"start":{"line":1912,"column":0},"end":{"line":1912,"column":17}}},{"type":"Line","value":" **Property is a common Entity for Thngs and Products. It is always a","range":[56540,56611],"loc":{"start":{"line":1914,"column":0},"end":{"line":1914,"column":71}}},{"type":"Line","value":" nested resource and allows some simplified parameters, easing the","range":[56612,56680],"loc":{"start":{"line":1915,"column":0},"end":{"line":1915,"column":68}}},{"type":"Line","value":" update of properties and making it more fluent/literal.**","range":[56681,56741],"loc":{"start":{"line":1916,"column":0},"end":{"line":1916,"column":60}}}],"trailingComments":[{"type":"Line","value":" ## ACTION.JS","range":[59277,59292],"loc":{"start":{"line":2033,"column":0},"end":{"line":2033,"column":15}}},{"type":"Line","value":" **The Action Entity represents an action in the Engine. It inherits","range":[59294,59364],"loc":{"start":{"line":2035,"column":0},"end":{"line":2035,"column":70}}},{"type":"Line","value":" from Entity and overload the resource's *create()* method to allow","range":[59365,59434],"loc":{"start":{"line":2036,"column":0},"end":{"line":2036,"column":69}}},{"type":"Line","value":" empty parameters (no payload).**","range":[59435,59470],"loc":{"start":{"line":2037,"column":0},"end":{"line":2037,"column":35}}}]},{"range":[59472,63801],"loc":{"start":{"line":2039,"column":0},"end":{"line":2187,"column":3}},"type":"ExpressionStatement","expression":{"range":[59472,63800],"loc":{"start":{"line":2039,"column":0},"end":{"line":2187,"column":2}},"type":"CallExpression","callee":{"range":[59472,59478],"loc":{"start":{"line":2039,"column":0},"end":{"line":2039,"column":6}},"type":"Identifier","name":"define"},"arguments":[{"range":[59479,59494],"loc":{"start":{"line":2039,"column":7},"end":{"line":2039,"column":22}},"type":"Literal","value":"entity/action","raw":"'entity/action'"},{"range":[59495,59575],"loc":{"start":{"line":2039,"column":23},"end":{"line":2046,"column":1}},"type":"ArrayExpression","elements":[{"range":[59499,59505],"loc":{"start":{"line":2040,"column":2},"end":{"line":2040,"column":8}},"type":"Literal","value":"core","raw":"'core'"},{"range":[59509,59519],"loc":{"start":{"line":2041,"column":2},"end":{"line":2041,"column":12}},"type":"Literal","value":"./entity","raw":"'./entity'"},{"range":[59523,59536],"loc":{"start":{"line":2042,"column":2},"end":{"line":2042,"column":15}},"type":"Literal","value":"scope/scope","raw":"'scope/scope'"},{"range":[59540,59550],"loc":{"start":{"line":2043,"column":2},"end":{"line":2043,"column":12}},"type":"Literal","value":"resource","raw":"'resource'"},{"range":[59554,59561],"loc":{"start":{"line":2044,"column":2},"end":{"line":2044,"column":9}},"type":"Literal","value":"utils","raw":"'utils'"},{"range":[59565,59573],"loc":{"start":{"line":2045,"column":2},"end":{"line":2045,"column":10}},"type":"Literal","value":"logger","raw":"'logger'"}]},{"range":[59577,63799],"loc":{"start":{"line":2046,"column":3},"end":{"line":2187,"column":1}},"type":"FunctionExpression","id":null,"params":[{"range":[59587,59590],"loc":{"start":{"line":2046,"column":13},"end":{"line":2046,"column":16}},"type":"Identifier","name":"EVT"},{"range":[59592,59598],"loc":{"start":{"line":2046,"column":18},"end":{"line":2046,"column":24}},"type":"Identifier","name":"Entity"},{"range":[59600,59605],"loc":{"start":{"line":2046,"column":26},"end":{"line":2046,"column":31}},"type":"Identifier","name":"Scope"},{"range":[59607,59615],"loc":{"start":{"line":2046,"column":33},"end":{"line":2046,"column":41}},"type":"Identifier","name":"Resource"},{"range":[59617,59622],"loc":{"start":{"line":2046,"column":43},"end":{"line":2046,"column":48}},"type":"Identifier","name":"Utils"},{"range":[59624,59630],"loc":{"start":{"line":2046,"column":50},"end":{"line":2046,"column":56}},"type":"Identifier","name":"Logger"}],"defaults":[],"body":{"range":[59632,63799],"loc":{"start":{"line":2046,"column":58},"end":{"line":2187,"column":1}},"type":"BlockStatement","body":[{"range":[59636,59649],"loc":{"start":{"line":2047,"column":2},"end":{"line":2047,"column":15}},"type":"ExpressionStatement","expression":{"range":[59636,59648],"loc":{"start":{"line":2047,"column":2},"end":{"line":2047,"column":14}},"type":"Literal","value":"use strict","raw":"'use strict'"},"trailingComments":[{"type":"Line","value":" Setup Action inheritance from Entity.","range":[59653,59693],"loc":{"start":{"line":2049,"column":2},"end":{"line":2049,"column":42}}}]},{"range":[59696,59762],"loc":{"start":{"line":2050,"column":2},"end":{"line":2052,"column":4}},"type":"VariableDeclaration","declarations":[{"range":[59700,59761],"loc":{"start":{"line":2050,"column":6},"end":{"line":2052,"column":3}},"type":"VariableDeclarator","id":{"range":[59700,59706],"loc":{"start":{"line":2050,"column":6},"end":{"line":2050,"column":12}},"type":"Identifier","name":"Action"},"init":{"range":[59709,59761],"loc":{"start":{"line":2050,"column":15},"end":{"line":2052,"column":3}},"type":"FunctionExpression","id":null,"params":[],"defaults":[],"body":{"range":[59721,59761],"loc":{"start":{"line":2050,"column":27},"end":{"line":2052,"column":3}},"type":"BlockStatement","body":[{"range":[59727,59757],"loc":{"start":{"line":2051,"column":4},"end":{"line":2051,"column":34}},"type":"ExpressionStatement","expression":{"range":[59727,59756],"loc":{"start":{"line":2051,"column":4},"end":{"line":2051,"column":33}},"type":"CallExpression","callee":{"range":[59727,59739],"loc":{"start":{"line":2051,"column":4},"end":{"line":2051,"column":16}},"type":"MemberExpression","computed":false,"object":{"range":[59727,59733],"loc":{"start":{"line":2051,"column":4},"end":{"line":2051,"column":10}},"type":"Identifier","name":"Entity"},"property":{"range":[59734,59739],"loc":{"start":{"line":2051,"column":11},"end":{"line":2051,"column":16}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[59740,59744],"loc":{"start":{"line":2051,"column":17},"end":{"line":2051,"column":21}},"type":"ThisExpression"},{"range":[59746,59755],"loc":{"start":{"line":2051,"column":23},"end":{"line":2051,"column":32}},"type":"Identifier","name":"arguments"}]}}]},"generator":false,"expression":false}}],"kind":"var","leadingComments":[{"type":"Line","value":" Setup Action inheritance from Entity.","range":[59653,59693],"loc":{"start":{"line":2049,"column":2},"end":{"line":2049,"column":42}}}]},{"range":[59766,59817],"loc":{"start":{"line":2054,"column":2},"end":{"line":2054,"column":53}},"type":"ExpressionStatement","expression":{"range":[59766,59816],"loc":{"start":{"line":2054,"column":2},"end":{"line":2054,"column":52}},"type":"AssignmentExpression","operator":"=","left":{"range":[59766,59782],"loc":{"start":{"line":2054,"column":2},"end":{"line":2054,"column":18}},"type":"MemberExpression","computed":false,"object":{"range":[59766,59772],"loc":{"start":{"line":2054,"column":2},"end":{"line":2054,"column":8}},"type":"Identifier","name":"Action"},"property":{"range":[59773,59782],"loc":{"start":{"line":2054,"column":9},"end":{"line":2054,"column":18}},"type":"Identifier","name":"prototype"}},"right":{"range":[59785,59816],"loc":{"start":{"line":2054,"column":21},"end":{"line":2054,"column":52}},"type":"CallExpression","callee":{"range":[59785,59798],"loc":{"start":{"line":2054,"column":21},"end":{"line":2054,"column":34}},"type":"MemberExpression","computed":false,"object":{"range":[59785,59791],"loc":{"start":{"line":2054,"column":21},"end":{"line":2054,"column":27}},"type":"Identifier","name":"Object"},"property":{"range":[59792,59798],"loc":{"start":{"line":2054,"column":28},"end":{"line":2054,"column":34}},"type":"Identifier","name":"create"}},"arguments":[{"range":[59799,59815],"loc":{"start":{"line":2054,"column":35},"end":{"line":2054,"column":51}},"type":"MemberExpression","computed":false,"object":{"range":[59799,59805],"loc":{"start":{"line":2054,"column":35},"end":{"line":2054,"column":41}},"type":"Identifier","name":"Entity"},"property":{"range":[59806,59815],"loc":{"start":{"line":2054,"column":42},"end":{"line":2054,"column":51}},"type":"Identifier","name":"prototype"}}]}}},{"range":[59820,59858],"loc":{"start":{"line":2055,"column":2},"end":{"line":2055,"column":40}},"type":"ExpressionStatement","expression":{"range":[59820,59857],"loc":{"start":{"line":2055,"column":2},"end":{"line":2055,"column":39}},"type":"AssignmentExpression","operator":"=","left":{"range":[59820,59848],"loc":{"start":{"line":2055,"column":2},"end":{"line":2055,"column":30}},"type":"MemberExpression","computed":false,"object":{"range":[59820,59836],"loc":{"start":{"line":2055,"column":2},"end":{"line":2055,"column":18}},"type":"MemberExpression","computed":false,"object":{"range":[59820,59826],"loc":{"start":{"line":2055,"column":2},"end":{"line":2055,"column":8}},"type":"Identifier","name":"Action"},"property":{"range":[59827,59836],"loc":{"start":{"line":2055,"column":9},"end":{"line":2055,"column":18}},"type":"Identifier","name":"prototype"}},"property":{"range":[59837,59848],"loc":{"start":{"line":2055,"column":19},"end":{"line":2055,"column":30}},"type":"Identifier","name":"constructor"}},"right":{"range":[59851,59857],"loc":{"start":{"line":2055,"column":33},"end":{"line":2055,"column":39}},"type":"Identifier","name":"Action"}},"trailingComments":[{"type":"Line","value":" If the action object is empty (or a callback), generate the","range":[59863,59925],"loc":{"start":{"line":2058,"column":2},"end":{"line":2058,"column":64}}},{"type":"Line","value":" simplest action object that just needs the type of the action,","range":[59928,59993],"loc":{"start":{"line":2059,"column":2},"end":{"line":2059,"column":67}}},{"type":"Line","value":" which can be obtained from the resource's path.","range":[59996,60046],"loc":{"start":{"line":2060,"column":2},"end":{"line":2060,"column":52}}}]},{"range":[60049,60259],"loc":{"start":{"line":2061,"column":2},"end":{"line":2070,"column":3}},"type":"FunctionDeclaration","id":{"range":[60058,60077],"loc":{"start":{"line":2061,"column":11},"end":{"line":2061,"column":30}},"type":"Identifier","name":"_normalizeArguments"},"params":[{"range":[60078,60081],"loc":{"start":{"line":2061,"column":31},"end":{"line":2061,"column":34}},"type":"Identifier","name":"obj"}],"defaults":[],"body":{"range":[60083,60259],"loc":{"start":{"line":2061,"column":36},"end":{"line":2070,"column":3}},"type":"BlockStatement","body":[{"range":[60089,60110],"loc":{"start":{"line":2062,"column":4},"end":{"line":2062,"column":25}},"type":"VariableDeclaration","declarations":[{"range":[60093,60109],"loc":{"start":{"line":2062,"column":8},"end":{"line":2062,"column":24}},"type":"VariableDeclarator","id":{"range":[60093,60097],"loc":{"start":{"line":2062,"column":8},"end":{"line":2062,"column":12}},"type":"Identifier","name":"args"},"init":{"range":[60100,60109],"loc":{"start":{"line":2062,"column":15},"end":{"line":2062,"column":24}},"type":"Identifier","name":"arguments"}}],"kind":"var"},{"range":[60116,60237],"loc":{"start":{"line":2064,"column":4},"end":{"line":2067,"column":5}},"type":"IfStatement","test":{"range":[60120,60149],"loc":{"start":{"line":2064,"column":8},"end":{"line":2064,"column":37}},"type":"LogicalExpression","operator":"||","left":{"range":[60120,60124],"loc":{"start":{"line":2064,"column":8},"end":{"line":2064,"column":12}},"type":"UnaryExpression","operator":"!","argument":{"range":[60121,60124],"loc":{"start":{"line":2064,"column":9},"end":{"line":2064,"column":12}},"type":"Identifier","name":"obj"},"prefix":true},"right":{"range":[60128,60149],"loc":{"start":{"line":2064,"column":16},"end":{"line":2064,"column":37}},"type":"CallExpression","callee":{"range":[60128,60144],"loc":{"start":{"line":2064,"column":16},"end":{"line":2064,"column":32}},"type":"MemberExpression","computed":false,"object":{"range":[60128,60133],"loc":{"start":{"line":2064,"column":16},"end":{"line":2064,"column":21}},"type":"Identifier","name":"Utils"},"property":{"range":[60134,60144],"loc":{"start":{"line":2064,"column":22},"end":{"line":2064,"column":32}},"type":"Identifier","name":"isFunction"}},"arguments":[{"range":[60145,60148],"loc":{"start":{"line":2064,"column":33},"end":{"line":2064,"column":36}},"type":"Identifier","name":"obj"}]}},"consequent":{"range":[60151,60237],"loc":{"start":{"line":2064,"column":39},"end":{"line":2067,"column":5}},"type":"BlockStatement","body":[{"range":[60159,60207],"loc":{"start":{"line":2065,"column":6},"end":{"line":2065,"column":54}},"type":"ExpressionStatement","expression":{"range":[60159,60206],"loc":{"start":{"line":2065,"column":6},"end":{"line":2065,"column":53}},"type":"AssignmentExpression","operator":"=","left":{"range":[60159,60163],"loc":{"start":{"line":2065,"column":6},"end":{"line":2065,"column":10}},"type":"Identifier","name":"args"},"right":{"range":[60166,60206],"loc":{"start":{"line":2065,"column":13},"end":{"line":2065,"column":53}},"type":"CallExpression","callee":{"range":[60166,60192],"loc":{"start":{"line":2065,"column":13},"end":{"line":2065,"column":39}},"type":"MemberExpression","computed":false,"object":{"range":[60166,60187],"loc":{"start":{"line":2065,"column":13},"end":{"line":2065,"column":34}},"type":"MemberExpression","computed":false,"object":{"range":[60166,60181],"loc":{"start":{"line":2065,"column":13},"end":{"line":2065,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[60166,60171],"loc":{"start":{"line":2065,"column":13},"end":{"line":2065,"column":18}},"type":"Identifier","name":"Array"},"property":{"range":[60172,60181],"loc":{"start":{"line":2065,"column":19},"end":{"line":2065,"column":28}},"type":"Identifier","name":"prototype"}},"property":{"range":[60182,60187],"loc":{"start":{"line":2065,"column":29},"end":{"line":2065,"column":34}},"type":"Identifier","name":"slice"}},"property":{"range":[60188,60192],"loc":{"start":{"line":2065,"column":35},"end":{"line":2065,"column":39}},"type":"Identifier","name":"call"}},"arguments":[{"range":[60193,60202],"loc":{"start":{"line":2065,"column":40},"end":{"line":2065,"column":49}},"type":"Identifier","name":"arguments"},{"range":[60204,60205],"loc":{"start":{"line":2065,"column":51},"end":{"line":2065,"column":52}},"type":"Literal","value":0,"raw":"0"}]}}},{"range":[60214,60231],"loc":{"start":{"line":2066,"column":6},"end":{"line":2066,"column":23}},"type":"ExpressionStatement","expression":{"range":[60214,60230],"loc":{"start":{"line":2066,"column":6},"end":{"line":2066,"column":22}},"type":"CallExpression","callee":{"range":[60214,60226],"loc":{"start":{"line":2066,"column":6},"end":{"line":2066,"column":18}},"type":"MemberExpression","computed":false,"object":{"range":[60214,60218],"loc":{"start":{"line":2066,"column":6},"end":{"line":2066,"column":10}},"type":"Identifier","name":"args"},"property":{"range":[60219,60226],"loc":{"start":{"line":2066,"column":11},"end":{"line":2066,"column":18}},"type":"Identifier","name":"unshift"}},"arguments":[{"range":[60227,60229],"loc":{"start":{"line":2066,"column":19},"end":{"line":2066,"column":21}},"type":"ObjectExpression","properties":[]}]}}]},"alternate":null},{"range":[60243,60255],"loc":{"start":{"line":2069,"column":4},"end":{"line":2069,"column":16}},"type":"ReturnStatement","argument":{"range":[60250,60254],"loc":{"start":{"line":2069,"column":11},"end":{"line":2069,"column":15}},"type":"Identifier","name":"args"}}]},"generator":false,"expression":false,"leadingComments":[{"type":"Line","value":" If the action object is empty (or a callback), generate the","range":[59863,59925],"loc":{"start":{"line":2058,"column":2},"end":{"line":2058,"column":64}}},{"type":"Line","value":" simplest action object that just needs the type of the action,","range":[59928,59993],"loc":{"start":{"line":2059,"column":2},"end":{"line":2059,"column":67}}},{"type":"Line","value":" which can be obtained from the resource's path.","range":[59996,60046],"loc":{"start":{"line":2060,"column":2},"end":{"line":2060,"column":52}}}],"trailingComments":[{"type":"Line","value":" Add the given entity identifier to an object (params or data).","range":[60263,60328],"loc":{"start":{"line":2072,"column":2},"end":{"line":2072,"column":67}}}]},{"range":[60331,60668],"loc":{"start":{"line":2073,"column":2},"end":{"line":2083,"column":3}},"type":"FunctionDeclaration","id":{"range":[60340,60360],"loc":{"start":{"line":2073,"column":11},"end":{"line":2073,"column":31}},"type":"Identifier","name":"_addEntityIdentifier"},"params":[{"range":[60361,60367],"loc":{"start":{"line":2073,"column":32},"end":{"line":2073,"column":38}},"type":"Identifier","name":"entity"},{"range":[60369,60372],"loc":{"start":{"line":2073,"column":40},"end":{"line":2073,"column":43}},"type":"Identifier","name":"obj"}],"defaults":[],"body":{"range":[60374,60668],"loc":{"start":{"line":2073,"column":45},"end":{"line":2083,"column":3}},"type":"BlockStatement","body":[{"range":[60380,60647],"loc":{"start":{"line":2074,"column":4},"end":{"line":2080,"column":5}},"type":"IfStatement","test":{"range":[60384,60425],"loc":{"start":{"line":2074,"column":8},"end":{"line":2074,"column":49}},"type":"BinaryExpression","operator":"===","left":{"range":[60384,60402],"loc":{"start":{"line":2074,"column":8},"end":{"line":2074,"column":26}},"type":"MemberExpression","computed":false,"object":{"range":[60384,60390],"loc":{"start":{"line":2074,"column":8},"end":{"line":2074,"column":14}},"type":"Identifier","name":"entity"},"property":{"range":[60391,60402],"loc":{"start":{"line":2074,"column":15},"end":{"line":2074,"column":26}},"type":"Identifier","name":"constructor"}},"right":{"range":[60407,60425],"loc":{"start":{"line":2074,"column":31},"end":{"line":2074,"column":49}},"type":"MemberExpression","computed":false,"object":{"range":[60407,60417],"loc":{"start":{"line":2074,"column":31},"end":{"line":2074,"column":41}},"type":"MemberExpression","computed":false,"object":{"range":[60407,60410],"loc":{"start":{"line":2074,"column":31},"end":{"line":2074,"column":34}},"type":"Identifier","name":"EVT"},"property":{"range":[60411,60417],"loc":{"start":{"line":2074,"column":35},"end":{"line":2074,"column":41}},"type":"Identifier","name":"Entity"}},"property":{"range":[60418,60425],"loc":{"start":{"line":2074,"column":42},"end":{"line":2074,"column":49}},"type":"Identifier","name":"Product"}}},"consequent":{"range":[60427,60465],"loc":{"start":{"line":2074,"column":51},"end":{"line":2076,"column":5}},"type":"BlockStatement","body":[{"range":[60435,60459],"loc":{"start":{"line":2075,"column":6},"end":{"line":2075,"column":30}},"type":"ExpressionStatement","expression":{"range":[60435,60458],"loc":{"start":{"line":2075,"column":6},"end":{"line":2075,"column":29}},"type":"AssignmentExpression","operator":"=","left":{"range":[60435,60446],"loc":{"start":{"line":2075,"column":6},"end":{"line":2075,"column":17}},"type":"MemberExpression","computed":false,"object":{"range":[60435,60438],"loc":{"start":{"line":2075,"column":6},"end":{"line":2075,"column":9}},"type":"Identifier","name":"obj"},"property":{"range":[60439,60446],"loc":{"start":{"line":2075,"column":10},"end":{"line":2075,"column":17}},"type":"Identifier","name":"product"}},"right":{"range":[60449,60458],"loc":{"start":{"line":2075,"column":20},"end":{"line":2075,"column":29}},"type":"MemberExpression","computed":false,"object":{"range":[60449,60455],"loc":{"start":{"line":2075,"column":20},"end":{"line":2075,"column":26}},"type":"Identifier","name":"entity"},"property":{"range":[60456,60458],"loc":{"start":{"line":2075,"column":27},"end":{"line":2075,"column":29}},"type":"Identifier","name":"id"}}}}]},"alternate":{"range":[60471,60647],"loc":{"start":{"line":2076,"column":11},"end":{"line":2080,"column":5}},"type":"IfStatement","test":{"range":[60475,60513],"loc":{"start":{"line":2076,"column":15},"end":{"line":2076,"column":53}},"type":"BinaryExpression","operator":"===","left":{"range":[60475,60493],"loc":{"start":{"line":2076,"column":15},"end":{"line":2076,"column":33}},"type":"MemberExpression","computed":false,"object":{"range":[60475,60481],"loc":{"start":{"line":2076,"column":15},"end":{"line":2076,"column":21}},"type":"Identifier","name":"entity"},"property":{"range":[60482,60493],"loc":{"start":{"line":2076,"column":22},"end":{"line":2076,"column":33}},"type":"Identifier","name":"constructor"}},"right":{"range":[60498,60513],"loc":{"start":{"line":2076,"column":38},"end":{"line":2076,"column":53}},"type":"MemberExpression","computed":false,"object":{"range":[60498,60508],"loc":{"start":{"line":2076,"column":38},"end":{"line":2076,"column":48}},"type":"MemberExpression","computed":false,"object":{"range":[60498,60501],"loc":{"start":{"line":2076,"column":38},"end":{"line":2076,"column":41}},"type":"Identifier","name":"EVT"},"property":{"range":[60502,60508],"loc":{"start":{"line":2076,"column":42},"end":{"line":2076,"column":48}},"type":"Identifier","name":"Entity"}},"property":{"range":[60509,60513],"loc":{"start":{"line":2076,"column":49},"end":{"line":2076,"column":53}},"type":"Identifier","name":"Thng"}}},"consequent":{"range":[60515,60550],"loc":{"start":{"line":2076,"column":55},"end":{"line":2078,"column":5}},"type":"BlockStatement","body":[{"range":[60523,60544],"loc":{"start":{"line":2077,"column":6},"end":{"line":2077,"column":27}},"type":"ExpressionStatement","expression":{"range":[60523,60543],"loc":{"start":{"line":2077,"column":6},"end":{"line":2077,"column":26}},"type":"AssignmentExpression","operator":"=","left":{"range":[60523,60531],"loc":{"start":{"line":2077,"column":6},"end":{"line":2077,"column":14}},"type":"MemberExpression","computed":false,"object":{"range":[60523,60526],"loc":{"start":{"line":2077,"column":6},"end":{"line":2077,"column":9}},"type":"Identifier","name":"obj"},"property":{"range":[60527,60531],"loc":{"start":{"line":2077,"column":10},"end":{"line":2077,"column":14}},"type":"Identifier","name":"thng"}},"right":{"range":[60534,60543],"loc":{"start":{"line":2077,"column":17},"end":{"line":2077,"column":26}},"type":"MemberExpression","computed":false,"object":{"range":[60534,60540],"loc":{"start":{"line":2077,"column":17},"end":{"line":2077,"column":23}},"type":"Identifier","name":"entity"},"property":{"range":[60541,60543],"loc":{"start":{"line":2077,"column":24},"end":{"line":2077,"column":26}},"type":"Identifier","name":"id"}}}}]},"alternate":{"range":[60556,60647],"loc":{"start":{"line":2078,"column":11},"end":{"line":2080,"column":5}},"type":"IfStatement","test":{"range":[60560,60604],"loc":{"start":{"line":2078,"column":15},"end":{"line":2078,"column":59}},"type":"BinaryExpression","operator":"===","left":{"range":[60560,60578],"loc":{"start":{"line":2078,"column":15},"end":{"line":2078,"column":33}},"type":"MemberExpression","computed":false,"object":{"range":[60560,60566],"loc":{"start":{"line":2078,"column":15},"end":{"line":2078,"column":21}},"type":"Identifier","name":"entity"},"property":{"range":[60567,60578],"loc":{"start":{"line":2078,"column":22},"end":{"line":2078,"column":33}},"type":"Identifier","name":"constructor"}},"right":{"range":[60583,60604],"loc":{"start":{"line":2078,"column":38},"end":{"line":2078,"column":59}},"type":"MemberExpression","computed":false,"object":{"range":[60583,60593],"loc":{"start":{"line":2078,"column":38},"end":{"line":2078,"column":48}},"type":"MemberExpression","computed":false,"object":{"range":[60583,60586],"loc":{"start":{"line":2078,"column":38},"end":{"line":2078,"column":41}},"type":"Identifier","name":"EVT"},"property":{"range":[60587,60593],"loc":{"start":{"line":2078,"column":42},"end":{"line":2078,"column":48}},"type":"Identifier","name":"Entity"}},"property":{"range":[60594,60604],"loc":{"start":{"line":2078,"column":49},"end":{"line":2078,"column":59}},"type":"Identifier","name":"Collection"}}},"consequent":{"range":[60606,60647],"loc":{"start":{"line":2078,"column":61},"end":{"line":2080,"column":5}},"type":"BlockStatement","body":[{"range":[60614,60641],"loc":{"start":{"line":2079,"column":6},"end":{"line":2079,"column":33}},"type":"ExpressionStatement","expression":{"range":[60614,60640],"loc":{"start":{"line":2079,"column":6},"end":{"line":2079,"column":32}},"type":"AssignmentExpression","operator":"=","left":{"range":[60614,60628],"loc":{"start":{"line":2079,"column":6},"end":{"line":2079,"column":20}},"type":"MemberExpression","computed":false,"object":{"range":[60614,60617],"loc":{"start":{"line":2079,"column":6},"end":{"line":2079,"column":9}},"type":"Identifier","name":"obj"},"property":{"range":[60618,60628],"loc":{"start":{"line":2079,"column":10},"end":{"line":2079,"column":20}},"type":"Identifier","name":"collection"}},"right":{"range":[60631,60640],"loc":{"start":{"line":2079,"column":23},"end":{"line":2079,"column":32}},"type":"MemberExpression","computed":false,"object":{"range":[60631,60637],"loc":{"start":{"line":2079,"column":23},"end":{"line":2079,"column":29}},"type":"Identifier","name":"entity"},"property":{"range":[60638,60640],"loc":{"start":{"line":2079,"column":30},"end":{"line":2079,"column":32}},"type":"Identifier","name":"id"}}}}]},"alternate":null}}},{"range":[60653,60664],"loc":{"start":{"line":2082,"column":4},"end":{"line":2082,"column":15}},"type":"ReturnStatement","argument":{"range":[60660,60663],"loc":{"start":{"line":2082,"column":11},"end":{"line":2082,"column":14}},"type":"Identifier","name":"obj"}}]},"generator":false,"expression":false,"leadingComments":[{"type":"Line","value":" Add the given entity identifier to an object (params or data).","range":[60263,60328],"loc":{"start":{"line":2072,"column":2},"end":{"line":2072,"column":67}}}],"trailingComments":[{"type":"Line","value":" Set the Entity ID of the entity receiving the action as well","range":[60672,60735],"loc":{"start":{"line":2085,"column":2},"end":{"line":2085,"column":65}}},{"type":"Line","value":" as the specified action type in the action data.","range":[60738,60789],"loc":{"start":{"line":2086,"column":2},"end":{"line":2086,"column":53}}}]},{"range":[60792,61311],"loc":{"start":{"line":2087,"column":2},"end":{"line":2107,"column":3}},"type":"FunctionDeclaration","id":{"range":[60801,60812],"loc":{"start":{"line":2087,"column":11},"end":{"line":2087,"column":22}},"type":"Identifier","name":"_fillAction"},"params":[{"range":[60813,60819],"loc":{"start":{"line":2087,"column":23},"end":{"line":2087,"column":29}},"type":"Identifier","name":"entity"},{"range":[60821,60830],"loc":{"start":{"line":2087,"column":31},"end":{"line":2087,"column":40}},"type":"Identifier","name":"actionObj"},{"range":[60832,60842],"loc":{"start":{"line":2087,"column":42},"end":{"line":2087,"column":52}},"type":"Identifier","name":"actionType"}],"defaults":[],"body":{"range":[60844,61311],"loc":{"start":{"line":2087,"column":54},"end":{"line":2107,"column":3}},"type":"BlockStatement","body":[{"range":[60851,60963],"loc":{"start":{"line":2089,"column":4},"end":{"line":2091,"column":5}},"type":"IfStatement","test":{"range":[60855,60895],"loc":{"start":{"line":2089,"column":8},"end":{"line":2089,"column":48}},"type":"LogicalExpression","operator":"&&","left":{"range":[60855,60881],"loc":{"start":{"line":2089,"column":8},"end":{"line":2089,"column":34}},"type":"UnaryExpression","operator":"!","argument":{"range":[60857,60880],"loc":{"start":{"line":2089,"column":10},"end":{"line":2089,"column":33}},"type":"BinaryExpression","operator":"instanceof","left":{"range":[60857,60863],"loc":{"start":{"line":2089,"column":10},"end":{"line":2089,"column":16}},"type":"Identifier","name":"entity"},"right":{"range":[60875,60880],"loc":{"start":{"line":2089,"column":28},"end":{"line":2089,"column":33}},"type":"Identifier","name":"Scope"}},"prefix":true},"right":{"range":[60885,60895],"loc":{"start":{"line":2089,"column":38},"end":{"line":2089,"column":48}},"type":"UnaryExpression","operator":"!","argument":{"range":[60886,60895],"loc":{"start":{"line":2089,"column":39},"end":{"line":2089,"column":48}},"type":"MemberExpression","computed":false,"object":{"range":[60886,60892],"loc":{"start":{"line":2089,"column":39},"end":{"line":2089,"column":45}},"type":"Identifier","name":"entity"},"property":{"range":[60893,60895],"loc":{"start":{"line":2089,"column":46},"end":{"line":2089,"column":48}},"type":"Identifier","name":"id"}},"prefix":true}},"consequent":{"range":[60897,60963],"loc":{"start":{"line":2089,"column":50},"end":{"line":2091,"column":5}},"type":"BlockStatement","body":[{"range":[60905,60957],"loc":{"start":{"line":2090,"column":6},"end":{"line":2090,"column":58}},"type":"ThrowStatement","argument":{"range":[60911,60956],"loc":{"start":{"line":2090,"column":12},"end":{"line":2090,"column":57}},"type":"NewExpression","callee":{"range":[60915,60920],"loc":{"start":{"line":2090,"column":16},"end":{"line":2090,"column":21}},"type":"Identifier","name":"Error"},"arguments":[{"range":[60921,60955],"loc":{"start":{"line":2090,"column":22},"end":{"line":2090,"column":56}},"type":"Literal","value":"This entity does not have an ID.","raw":"'This entity does not have an ID.'"}]}}]},"alternate":null},{"range":[60969,60989],"loc":{"start":{"line":2093,"column":4},"end":{"line":2093,"column":24}},"type":"VariableDeclaration","declarations":[{"range":[60973,60988],"loc":{"start":{"line":2093,"column":8},"end":{"line":2093,"column":23}},"type":"VariableDeclarator","id":{"range":[60973,60976],"loc":{"start":{"line":2093,"column":8},"end":{"line":2093,"column":11}},"type":"Identifier","name":"ret"},"init":{"range":[60979,60988],"loc":{"start":{"line":2093,"column":14},"end":{"line":2093,"column":23}},"type":"Identifier","name":"actionObj"}}],"kind":"var"},{"range":[60995,61290],"loc":{"start":{"line":2095,"column":4},"end":{"line":2104,"column":5}},"type":"IfStatement","test":{"range":[60999,61023],"loc":{"start":{"line":2095,"column":8},"end":{"line":2095,"column":32}},"type":"CallExpression","callee":{"range":[60999,61012],"loc":{"start":{"line":2095,"column":8},"end":{"line":2095,"column":21}},"type":"MemberExpression","computed":false,"object":{"range":[60999,61004],"loc":{"start":{"line":2095,"column":8},"end":{"line":2095,"column":13}},"type":"Identifier","name":"Utils"},"property":{"range":[61005,61012],"loc":{"start":{"line":2095,"column":14},"end":{"line":2095,"column":21}},"type":"Identifier","name":"isArray"}},"arguments":[{"range":[61013,61022],"loc":{"start":{"line":2095,"column":22},"end":{"line":2095,"column":31}},"type":"Identifier","name":"actionObj"}]},"consequent":{"range":[61025,61158],"loc":{"start":{"line":2095,"column":34},"end":{"line":2101,"column":5}},"type":"BlockStatement","body":[{"range":[61034,61151],"loc":{"start":{"line":2097,"column":6},"end":{"line":2099,"column":9}},"type":"ExpressionStatement","expression":{"range":[61034,61150],"loc":{"start":{"line":2097,"column":6},"end":{"line":2099,"column":8}},"type":"AssignmentExpression","operator":"=","left":{"range":[61034,61037],"loc":{"start":{"line":2097,"column":6},"end":{"line":2097,"column":9}},"type":"Identifier","name":"ret"},"right":{"range":[61040,61150],"loc":{"start":{"line":2097,"column":12},"end":{"line":2099,"column":8}},"type":"CallExpression","callee":{"range":[61040,61053],"loc":{"start":{"line":2097,"column":12},"end":{"line":2097,"column":25}},"type":"MemberExpression","computed":false,"object":{"range":[61040,61049],"loc":{"start":{"line":2097,"column":12},"end":{"line":2097,"column":21}},"type":"Identifier","name":"actionObj"},"property":{"range":[61050,61053],"loc":{"start":{"line":2097,"column":22},"end":{"line":2097,"column":25}},"type":"Identifier","name":"map"}},"arguments":[{"range":[61054,61149],"loc":{"start":{"line":2097,"column":26},"end":{"line":2099,"column":7}},"type":"FunctionExpression","id":null,"params":[{"range":[61064,61076],"loc":{"start":{"line":2097,"column":36},"end":{"line":2097,"column":48}},"type":"Identifier","name":"singleAction"}],"defaults":[],"body":{"range":[61078,61149],"loc":{"start":{"line":2097,"column":50},"end":{"line":2099,"column":7}},"type":"BlockStatement","body":[{"range":[61088,61141],"loc":{"start":{"line":2098,"column":8},"end":{"line":2098,"column":61}},"type":"ReturnStatement","argument":{"range":[61095,61140],"loc":{"start":{"line":2098,"column":15},"end":{"line":2098,"column":60}},"type":"CallExpression","callee":{"range":[61095,61106],"loc":{"start":{"line":2098,"column":15},"end":{"line":2098,"column":26}},"type":"Identifier","name":"_fillAction"},"arguments":[{"range":[61107,61113],"loc":{"start":{"line":2098,"column":27},"end":{"line":2098,"column":33}},"type":"Identifier","name":"entity"},{"range":[61115,61127],"loc":{"start":{"line":2098,"column":35},"end":{"line":2098,"column":47}},"type":"Identifier","name":"singleAction"},{"range":[61129,61139],"loc":{"start":{"line":2098,"column":49},"end":{"line":2098,"column":59}},"type":"Identifier","name":"actionType"}]}}]},"generator":false,"expression":false}]}}}]},"alternate":{"range":[61164,61290],"loc":{"start":{"line":2101,"column":11},"end":{"line":2104,"column":5}},"type":"BlockStatement","body":[{"range":[61172,61243],"loc":{"start":{"line":2102,"column":6},"end":{"line":2102,"column":77}},"type":"ExpressionStatement","expression":{"range":[61172,61242],"loc":{"start":{"line":2102,"column":6},"end":{"line":2102,"column":76}},"type":"AssignmentExpression","operator":"=","left":{"range":[61172,61180],"loc":{"start":{"line":2102,"column":6},"end":{"line":2102,"column":14}},"type":"MemberExpression","computed":false,"object":{"range":[61172,61175],"loc":{"start":{"line":2102,"column":6},"end":{"line":2102,"column":9}},"type":"Identifier","name":"ret"},"property":{"range":[61176,61180],"loc":{"start":{"line":2102,"column":10},"end":{"line":2102,"column":14}},"type":"Identifier","name":"type"}},"right":{"range":[61183,61242],"loc":{"start":{"line":2102,"column":17},"end":{"line":2102,"column":76}},"type":"LogicalExpression","operator":"||","left":{"range":[61183,61236],"loc":{"start":{"line":2102,"column":17},"end":{"line":2102,"column":70}},"type":"LogicalExpression","operator":"||","left":{"range":[61183,61217],"loc":{"start":{"line":2102,"column":17},"end":{"line":2102,"column":51}},"type":"LogicalExpression","operator":"&&","left":{"range":[61183,61203],"loc":{"start":{"line":2102,"column":17},"end":{"line":2102,"column":37}},"type":"BinaryExpression","operator":"!==","left":{"range":[61183,61193],"loc":{"start":{"line":2102,"column":17},"end":{"line":2102,"column":27}},"type":"Identifier","name":"actionType"},"right":{"range":[61198,61203],"loc":{"start":{"line":2102,"column":32},"end":{"line":2102,"column":37}},"type":"Literal","value":"all","raw":"'all'"}},"right":{"range":[61207,61217],"loc":{"start":{"line":2102,"column":41},"end":{"line":2102,"column":51}},"type":"Identifier","name":"actionType"}},"right":{"range":[61222,61236],"loc":{"start":{"line":2102,"column":56},"end":{"line":2102,"column":70}},"type":"MemberExpression","computed":false,"object":{"range":[61222,61231],"loc":{"start":{"line":2102,"column":56},"end":{"line":2102,"column":65}},"type":"Identifier","name":"actionObj"},"property":{"range":[61232,61236],"loc":{"start":{"line":2102,"column":66},"end":{"line":2102,"column":70}},"type":"Identifier","name":"type"}}},"right":{"range":[61240,61242],"loc":{"start":{"line":2102,"column":74},"end":{"line":2102,"column":76}},"type":"Literal","value":"","raw":"''"}}}},{"range":[61250,61284],"loc":{"start":{"line":2103,"column":6},"end":{"line":2103,"column":40}},"type":"ExpressionStatement","expression":{"range":[61250,61283],"loc":{"start":{"line":2103,"column":6},"end":{"line":2103,"column":39}},"type":"CallExpression","callee":{"range":[61250,61270],"loc":{"start":{"line":2103,"column":6},"end":{"line":2103,"column":26}},"type":"Identifier","name":"_addEntityIdentifier"},"arguments":[{"range":[61271,61277],"loc":{"start":{"line":2103,"column":27},"end":{"line":2103,"column":33}},"type":"Identifier","name":"entity"},{"range":[61279,61282],"loc":{"start":{"line":2103,"column":35},"end":{"line":2103,"column":38}},"type":"Identifier","name":"ret"}]}}]}},{"range":[61296,61307],"loc":{"start":{"line":2106,"column":4},"end":{"line":2106,"column":15}},"type":"ReturnStatement","argument":{"range":[61303,61306],"loc":{"start":{"line":2106,"column":11},"end":{"line":2106,"column":14}},"type":"Identifier","name":"ret"}}]},"generator":false,"expression":false,"leadingComments":[{"type":"Line","value":" Set the Entity ID of the entity receiving the action as well","range":[60672,60735],"loc":{"start":{"line":2085,"column":2},"end":{"line":2085,"column":65}}},{"type":"Line","value":" as the specified action type in the action data.","range":[60738,60789],"loc":{"start":{"line":2086,"column":2},"end":{"line":2086,"column":53}}}],"trailingComments":[{"type":"Line","value":" Attach class to EVT module.","range":[61316,61346],"loc":{"start":{"line":2110,"column":2},"end":{"line":2110,"column":32}}}]},{"range":[61349,61376],"loc":{"start":{"line":2111,"column":2},"end":{"line":2111,"column":29}},"type":"ExpressionStatement","expression":{"range":[61349,61375],"loc":{"start":{"line":2111,"column":2},"end":{"line":2111,"column":28}},"type":"AssignmentExpression","operator":"=","left":{"range":[61349,61366],"loc":{"start":{"line":2111,"column":2},"end":{"line":2111,"column":19}},"type":"MemberExpression","computed":false,"object":{"range":[61349,61359],"loc":{"start":{"line":2111,"column":2},"end":{"line":2111,"column":12}},"type":"MemberExpression","computed":false,"object":{"range":[61349,61352],"loc":{"start":{"line":2111,"column":2},"end":{"line":2111,"column":5}},"type":"Identifier","name":"EVT"},"property":{"range":[61353,61359],"loc":{"start":{"line":2111,"column":6},"end":{"line":2111,"column":12}},"type":"Identifier","name":"Entity"}},"property":{"range":[61360,61366],"loc":{"start":{"line":2111,"column":13},"end":{"line":2111,"column":19}},"type":"Identifier","name":"Action"}},"right":{"range":[61369,61375],"loc":{"start":{"line":2111,"column":22},"end":{"line":2111,"column":28}},"type":"Identifier","name":"Action"}},"leadingComments":[{"type":"Line","value":" Attach class to EVT module.","range":[61316,61346],"loc":{"start":{"line":2110,"column":2},"end":{"line":2110,"column":32}}}],"trailingComments":[{"type":"Line","value":" Return the resource factory function. Actions have a custom *resource","range":[61381,61453],"loc":{"start":{"line":2114,"column":2},"end":{"line":2114,"column":74}}},{"type":"Line","value":" constructor* that needs an action type and allows an optional ID.","range":[61456,61524],"loc":{"start":{"line":2115,"column":2},"end":{"line":2115,"column":70}}},{"type":"Line","value":" - _**product.action('scans')**: creates path '/product/<id>/actions/scans'_","range":[61528,61606],"loc":{"start":{"line":2117,"column":2},"end":{"line":2117,"column":80}}},{"type":"Line","value":" - _**product.action('scans', '1')**: creates path '/product/<id>/actions/scans/1'_","range":[61609,61694],"loc":{"start":{"line":2118,"column":2},"end":{"line":2118,"column":87}}}]},{"range":[61697,63797],"loc":{"start":{"line":2119,"column":2},"end":{"line":2186,"column":4}},"type":"ReturnStatement","argument":{"range":[61704,63796],"loc":{"start":{"line":2119,"column":9},"end":{"line":2186,"column":3}},"type":"ObjectExpression","properties":[{"range":[61711,61726],"loc":{"start":{"line":2121,"column":4},"end":{"line":2121,"column":19}},"type":"Property","key":{"range":[61711,61718],"loc":{"start":{"line":2121,"column":4},"end":{"line":2121,"column":11}},"type":"Literal","value":"class","raw":"'class'"},"computed":false,"value":{"range":[61720,61726],"loc":{"start":{"line":2121,"column":13},"end":{"line":2121,"column":19}},"type":"Identifier","name":"Action"},"kind":"init","method":false,"shorthand":false},{"range":[61733,63791],"loc":{"start":{"line":2123,"column":4},"end":{"line":2184,"column":5}},"type":"Property","key":{"range":[61733,61752],"loc":{"start":{"line":2123,"column":4},"end":{"line":2123,"column":23}},"type":"Identifier","name":"resourceConstructor"},"computed":false,"value":{"range":[61754,63791],"loc":{"start":{"line":2123,"column":25},"end":{"line":2184,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[61764,61774],"loc":{"start":{"line":2123,"column":35},"end":{"line":2123,"column":45}},"type":"Identifier","name":"actionType"},{"range":[61776,61778],"loc":{"start":{"line":2123,"column":47},"end":{"line":2123,"column":49}},"type":"Identifier","name":"id"}],"defaults":[],"body":{"range":[61780,63791],"loc":{"start":{"line":2123,"column":51},"end":{"line":2184,"column":5}},"type":"BlockStatement","body":[{"range":[61788,61899],"loc":{"start":{"line":2124,"column":6},"end":{"line":2126,"column":67}},"type":"VariableDeclaration","declarations":[{"range":[61792,61796],"loc":{"start":{"line":2124,"column":10},"end":{"line":2124,"column":14}},"type":"VariableDeclarator","id":{"range":[61792,61796],"loc":{"start":{"line":2124,"column":10},"end":{"line":2124,"column":14}},"type":"Identifier","name":"path"},"init":null},{"range":[61798,61806],"loc":{"start":{"line":2124,"column":16},"end":{"line":2124,"column":24}},"type":"VariableDeclarator","id":{"range":[61798,61806],"loc":{"start":{"line":2124,"column":16},"end":{"line":2124,"column":24}},"type":"Identifier","name":"resource"},"init":null},{"range":[61816,61830],"loc":{"start":{"line":2125,"column":8},"end":{"line":2125,"column":22}},"type":"VariableDeclarator","id":{"range":[61816,61823],"loc":{"start":{"line":2125,"column":8},"end":{"line":2125,"column":15}},"type":"Identifier","name":"context"},"init":{"range":[61826,61830],"loc":{"start":{"line":2125,"column":18},"end":{"line":2125,"column":22}},"type":"ThisExpression"}},{"range":[61840,61898],"loc":{"start":{"line":2126,"column":8},"end":{"line":2126,"column":66}},"type":"VariableDeclarator","id":{"range":[61840,61845],"loc":{"start":{"line":2126,"column":8},"end":{"line":2126,"column":13}},"type":"Identifier","name":"scope"},"init":{"range":[61848,61898],"loc":{"start":{"line":2126,"column":16},"end":{"line":2126,"column":66}},"type":"ConditionalExpression","test":{"range":[61848,61869],"loc":{"start":{"line":2126,"column":16},"end":{"line":2126,"column":37}},"type":"BinaryExpression","operator":"instanceof","left":{"range":[61848,61852],"loc":{"start":{"line":2126,"column":16},"end":{"line":2126,"column":20}},"type":"ThisExpression"},"right":{"range":[61864,61869],"loc":{"start":{"line":2126,"column":32},"end":{"line":2126,"column":37}},"type":"Identifier","name":"Scope"}},"consequent":{"range":[61872,61876],"loc":{"start":{"line":2126,"column":40},"end":{"line":2126,"column":44}},"type":"ThisExpression"},"alternate":{"range":[61879,61898],"loc":{"start":{"line":2126,"column":47},"end":{"line":2126,"column":66}},"type":"MemberExpression","computed":false,"object":{"range":[61879,61892],"loc":{"start":{"line":2126,"column":47},"end":{"line":2126,"column":60}},"type":"MemberExpression","computed":false,"object":{"range":[61879,61883],"loc":{"start":{"line":2126,"column":47},"end":{"line":2126,"column":51}},"type":"ThisExpression"},"property":{"range":[61884,61892],"loc":{"start":{"line":2126,"column":52},"end":{"line":2126,"column":60}},"type":"Identifier","name":"resource"}},"property":{"range":[61893,61898],"loc":{"start":{"line":2126,"column":61},"end":{"line":2126,"column":66}},"type":"Identifier","name":"scope"}}}}],"kind":"var"},{"range":[61907,62502],"loc":{"start":{"line":2128,"column":6},"end":{"line":2142,"column":7}},"type":"IfStatement","test":{"range":[61911,61921],"loc":{"start":{"line":2128,"column":10},"end":{"line":2128,"column":20}},"type":"Identifier","name":"actionType"},"consequent":{"range":[61923,62426],"loc":{"start":{"line":2128,"column":22},"end":{"line":2140,"column":7}},"type":"BlockStatement","body":[{"range":[61933,62418],"loc":{"start":{"line":2129,"column":8},"end":{"line":2139,"column":9}},"type":"IfStatement","test":{"range":[61937,61963],"loc":{"start":{"line":2129,"column":12},"end":{"line":2129,"column":38}},"type":"CallExpression","callee":{"range":[61937,61951],"loc":{"start":{"line":2129,"column":12},"end":{"line":2129,"column":26}},"type":"MemberExpression","computed":false,"object":{"range":[61937,61942],"loc":{"start":{"line":2129,"column":12},"end":{"line":2129,"column":17}},"type":"Identifier","name":"Utils"},"property":{"range":[61943,61951],"loc":{"start":{"line":2129,"column":18},"end":{"line":2129,"column":26}},"type":"Identifier","name":"isString"}},"arguments":[{"range":[61952,61962],"loc":{"start":{"line":2129,"column":27},"end":{"line":2129,"column":37}},"type":"Identifier","name":"actionType"}]},"consequent":{"range":[61965,62333],"loc":{"start":{"line":2129,"column":40},"end":{"line":2137,"column":9}},"type":"BlockStatement","body":[{"range":[61977,62021],"loc":{"start":{"line":2130,"column":10},"end":{"line":2130,"column":54}},"type":"VariableDeclaration","declarations":[{"range":[61981,62020],"loc":{"start":{"line":2130,"column":14},"end":{"line":2130,"column":53}},"type":"VariableDeclarator","id":{"range":[61981,61993],"loc":{"start":{"line":2130,"column":14},"end":{"line":2130,"column":26}},"type":"Identifier","name":"relativePath"},"init":{"range":[61996,62020],"loc":{"start":{"line":2130,"column":29},"end":{"line":2130,"column":53}},"type":"BinaryExpression","operator":"+","left":{"range":[61996,62007],"loc":{"start":{"line":2130,"column":29},"end":{"line":2130,"column":40}},"type":"Literal","value":"/actions/","raw":"'/actions/'"},"right":{"range":[62010,62020],"loc":{"start":{"line":2130,"column":43},"end":{"line":2130,"column":53}},"type":"Identifier","name":"actionType"}}}],"kind":"var","trailingComments":[{"type":"Line","value":" Scopes use the absolute path, while Resources use the relative path.","range":[62033,62104],"loc":{"start":{"line":2132,"column":10},"end":{"line":2132,"column":81}}},{"type":"Line","value":" Devices create a Resource for its Thng dynamically, which makes them","range":[62115,62186],"loc":{"start":{"line":2133,"column":10},"end":{"line":2133,"column":81}}},{"type":"Line","value":" in fact behave like a Resource.","range":[62197,62231],"loc":{"start":{"line":2134,"column":10},"end":{"line":2134,"column":44}}}]},{"range":[62242,62322],"loc":{"start":{"line":2135,"column":10},"end":{"line":2135,"column":90}},"type":"ExpressionStatement","expression":{"range":[62242,62321],"loc":{"start":{"line":2135,"column":10},"end":{"line":2135,"column":89}},"type":"AssignmentExpression","operator":"=","left":{"range":[62242,62246],"loc":{"start":{"line":2135,"column":10},"end":{"line":2135,"column":14}},"type":"Identifier","name":"path"},"right":{"range":[62249,62321],"loc":{"start":{"line":2135,"column":17},"end":{"line":2135,"column":89}},"type":"ConditionalExpression","test":{"range":[62249,62270],"loc":{"start":{"line":2135,"column":17},"end":{"line":2135,"column":38}},"type":"BinaryExpression","operator":"instanceof","left":{"range":[62249,62253],"loc":{"start":{"line":2135,"column":17},"end":{"line":2135,"column":21}},"type":"ThisExpression"},"right":{"range":[62265,62270],"loc":{"start":{"line":2135,"column":33},"end":{"line":2135,"column":38}},"type":"Identifier","name":"Scope"}},"consequent":{"range":[62273,62285],"loc":{"start":{"line":2135,"column":41},"end":{"line":2135,"column":53}},"type":"Identifier","name":"relativePath"},"alternate":{"range":[62288,62321],"loc":{"start":{"line":2135,"column":56},"end":{"line":2135,"column":89}},"type":"BinaryExpression","operator":"+","left":{"range":[62288,62306],"loc":{"start":{"line":2135,"column":56},"end":{"line":2135,"column":74}},"type":"MemberExpression","computed":false,"object":{"range":[62288,62301],"loc":{"start":{"line":2135,"column":56},"end":{"line":2135,"column":69}},"type":"MemberExpression","computed":false,"object":{"range":[62288,62292],"loc":{"start":{"line":2135,"column":56},"end":{"line":2135,"column":60}},"type":"ThisExpression"},"property":{"range":[62293,62301],"loc":{"start":{"line":2135,"column":61},"end":{"line":2135,"column":69}},"type":"Identifier","name":"resource"}},"property":{"range":[62302,62306],"loc":{"start":{"line":2135,"column":70},"end":{"line":2135,"column":74}},"type":"Identifier","name":"path"}},"right":{"range":[62309,62321],"loc":{"start":{"line":2135,"column":77},"end":{"line":2135,"column":89}},"type":"Identifier","name":"relativePath"}}}},"leadingComments":[{"type":"Line","value":" Scopes use the absolute path, while Resources use the relative path.","range":[62033,62104],"loc":{"start":{"line":2132,"column":10},"end":{"line":2132,"column":81}}},{"type":"Line","value":" Devices create a Resource for its Thng dynamically, which makes them","range":[62115,62186],"loc":{"start":{"line":2133,"column":10},"end":{"line":2133,"column":81}}},{"type":"Line","value":" in fact behave like a Resource.","range":[62197,62231],"loc":{"start":{"line":2134,"column":10},"end":{"line":2134,"column":44}}}]}]},"alternate":{"range":[62339,62418],"loc":{"start":{"line":2137,"column":15},"end":{"line":2139,"column":9}},"type":"BlockStatement","body":[{"range":[62351,62408],"loc":{"start":{"line":2138,"column":10},"end":{"line":2138,"column":67}},"type":"ThrowStatement","argument":{"range":[62357,62407],"loc":{"start":{"line":2138,"column":16},"end":{"line":2138,"column":66}},"type":"NewExpression","callee":{"range":[62361,62370],"loc":{"start":{"line":2138,"column":20},"end":{"line":2138,"column":29}},"type":"Identifier","name":"TypeError"},"arguments":[{"range":[62371,62406],"loc":{"start":{"line":2138,"column":30},"end":{"line":2138,"column":65}},"type":"Literal","value":"Action type must be a name string","raw":"'Action type must be a name string'"}]}}]}}]},"alternate":{"range":[62432,62502],"loc":{"start":{"line":2140,"column":13},"end":{"line":2142,"column":7}},"type":"BlockStatement","body":[{"range":[62442,62494],"loc":{"start":{"line":2141,"column":8},"end":{"line":2141,"column":60}},"type":"ThrowStatement","argument":{"range":[62448,62493],"loc":{"start":{"line":2141,"column":14},"end":{"line":2141,"column":59}},"type":"NewExpression","callee":{"range":[62452,62461],"loc":{"start":{"line":2141,"column":18},"end":{"line":2141,"column":27}},"type":"Identifier","name":"TypeError"},"arguments":[{"range":[62462,62492],"loc":{"start":{"line":2141,"column":28},"end":{"line":2141,"column":58}},"type":"Literal","value":"Action type cannot be empty.","raw":"'Action type cannot be empty.'"}]}}]},"trailingComments":[{"type":"Line","value":" Create a resource constructor dynamically and call it with this action's ID.","range":[62510,62589],"loc":{"start":{"line":2144,"column":6},"end":{"line":2144,"column":85}}}]},{"range":[62596,62676],"loc":{"start":{"line":2145,"column":6},"end":{"line":2145,"column":86}},"type":"ExpressionStatement","expression":{"range":[62596,62675],"loc":{"start":{"line":2145,"column":6},"end":{"line":2145,"column":85}},"type":"AssignmentExpression","operator":"=","left":{"range":[62596,62604],"loc":{"start":{"line":2145,"column":6},"end":{"line":2145,"column":14}},"type":"Identifier","name":"resource"},"right":{"range":[62607,62675],"loc":{"start":{"line":2145,"column":17},"end":{"line":2145,"column":85}},"type":"CallExpression","callee":{"range":[62607,62664],"loc":{"start":{"line":2145,"column":17},"end":{"line":2145,"column":74}},"type":"MemberExpression","computed":false,"object":{"range":[62607,62659],"loc":{"start":{"line":2145,"column":17},"end":{"line":2145,"column":69}},"type":"CallExpression","callee":{"range":[62607,62634],"loc":{"start":{"line":2145,"column":17},"end":{"line":2145,"column":44}},"type":"MemberExpression","computed":false,"object":{"range":[62607,62615],"loc":{"start":{"line":2145,"column":17},"end":{"line":2145,"column":25}},"type":"Identifier","name":"Resource"},"property":{"range":[62616,62634],"loc":{"start":{"line":2145,"column":26},"end":{"line":2145,"column":44}},"type":"Identifier","name":"constructorFactory"}},"arguments":[{"range":[62635,62639],"loc":{"start":{"line":2145,"column":45},"end":{"line":2145,"column":49}},"type":"Identifier","name":"path"},{"range":[62641,62658],"loc":{"start":{"line":2145,"column":51},"end":{"line":2145,"column":68}},"type":"MemberExpression","computed":false,"object":{"range":[62641,62651],"loc":{"start":{"line":2145,"column":51},"end":{"line":2145,"column":61}},"type":"MemberExpression","computed":false,"object":{"range":[62641,62644],"loc":{"start":{"line":2145,"column":51},"end":{"line":2145,"column":54}},"type":"Identifier","name":"EVT"},"property":{"range":[62645,62651],"loc":{"start":{"line":2145,"column":55},"end":{"line":2145,"column":61}},"type":"Identifier","name":"Entity"}},"property":{"range":[62652,62658],"loc":{"start":{"line":2145,"column":62},"end":{"line":2145,"column":68}},"type":"Identifier","name":"Action"}}]},"property":{"range":[62660,62664],"loc":{"start":{"line":2145,"column":70},"end":{"line":2145,"column":74}},"type":"Identifier","name":"call"}},"arguments":[{"range":[62665,62670],"loc":{"start":{"line":2145,"column":75},"end":{"line":2145,"column":80}},"type":"Identifier","name":"scope"},{"range":[62672,62674],"loc":{"start":{"line":2145,"column":82},"end":{"line":2145,"column":84}},"type":"Identifier","name":"id"}]}},"leadingComments":[{"type":"Line","value":" Create a resource constructor dynamically and call it with this action's ID.","range":[62510,62589],"loc":{"start":{"line":2144,"column":6},"end":{"line":2144,"column":85}}}],"trailingComments":[{"type":"Line","value":" Overload Action resource *create()* method to allow empty object.","range":[62684,62752],"loc":{"start":{"line":2147,"column":6},"end":{"line":2147,"column":74}}}]},{"range":[62759,63761],"loc":{"start":{"line":2148,"column":6},"end":{"line":2181,"column":8}},"type":"ExpressionStatement","expression":{"range":[62759,63760],"loc":{"start":{"line":2148,"column":6},"end":{"line":2181,"column":7}},"type":"AssignmentExpression","operator":"=","left":{"range":[62759,62774],"loc":{"start":{"line":2148,"column":6},"end":{"line":2148,"column":21}},"type":"MemberExpression","computed":false,"object":{"range":[62759,62767],"loc":{"start":{"line":2148,"column":6},"end":{"line":2148,"column":14}},"type":"Identifier","name":"resource"},"property":{"range":[62768,62774],"loc":{"start":{"line":2148,"column":15},"end":{"line":2148,"column":21}},"type":"Identifier","name":"create"}},"right":{"range":[62777,63760],"loc":{"start":{"line":2148,"column":24},"end":{"line":2181,"column":7}},"type":"FunctionExpression","id":null,"params":[],"defaults":[],"body":{"range":[62788,63760],"loc":{"start":{"line":2148,"column":35},"end":{"line":2181,"column":7}},"type":"BlockStatement","body":[{"range":[62799,62877],"loc":{"start":{"line":2150,"column":8},"end":{"line":2151,"column":60}},"type":"VariableDeclaration","declarations":[{"range":[62803,62815],"loc":{"start":{"line":2150,"column":12},"end":{"line":2150,"column":24}},"type":"VariableDeclarator","id":{"range":[62803,62808],"loc":{"start":{"line":2150,"column":12},"end":{"line":2150,"column":17}},"type":"Identifier","name":"$this"},"init":{"range":[62811,62815],"loc":{"start":{"line":2150,"column":20},"end":{"line":2150,"column":24}},"type":"ThisExpression"}},{"range":[62827,62876],"loc":{"start":{"line":2151,"column":10},"end":{"line":2151,"column":59}},"type":"VariableDeclarator","id":{"range":[62827,62831],"loc":{"start":{"line":2151,"column":10},"end":{"line":2151,"column":14}},"type":"Identifier","name":"args"},"init":{"range":[62834,62876],"loc":{"start":{"line":2151,"column":17},"end":{"line":2151,"column":59}},"type":"CallExpression","callee":{"range":[62834,62859],"loc":{"start":{"line":2151,"column":17},"end":{"line":2151,"column":42}},"type":"MemberExpression","computed":false,"object":{"range":[62834,62853],"loc":{"start":{"line":2151,"column":17},"end":{"line":2151,"column":36}},"type":"Identifier","name":"_normalizeArguments"},"property":{"range":[62854,62859],"loc":{"start":{"line":2151,"column":37},"end":{"line":2151,"column":42}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[62860,62864],"loc":{"start":{"line":2151,"column":43},"end":{"line":2151,"column":47}},"type":"ThisExpression"},{"range":[62866,62875],"loc":{"start":{"line":2151,"column":49},"end":{"line":2151,"column":58}},"type":"Identifier","name":"arguments"}]}}],"kind":"var"},{"range":[62887,62939],"loc":{"start":{"line":2153,"column":8},"end":{"line":2153,"column":60}},"type":"ExpressionStatement","expression":{"range":[62887,62938],"loc":{"start":{"line":2153,"column":8},"end":{"line":2153,"column":59}},"type":"AssignmentExpression","operator":"=","left":{"range":[62887,62894],"loc":{"start":{"line":2153,"column":8},"end":{"line":2153,"column":15}},"type":"MemberExpression","computed":true,"object":{"range":[62887,62891],"loc":{"start":{"line":2153,"column":8},"end":{"line":2153,"column":12}},"type":"Identifier","name":"args"},"property":{"range":[62892,62893],"loc":{"start":{"line":2153,"column":13},"end":{"line":2153,"column":14}},"type":"Literal","value":0,"raw":"0"}},"right":{"range":[62897,62938],"loc":{"start":{"line":2153,"column":18},"end":{"line":2153,"column":59}},"type":"CallExpression","callee":{"range":[62897,62908],"loc":{"start":{"line":2153,"column":18},"end":{"line":2153,"column":29}},"type":"Identifier","name":"_fillAction"},"arguments":[{"range":[62909,62916],"loc":{"start":{"line":2153,"column":30},"end":{"line":2153,"column":37}},"type":"Identifier","name":"context"},{"range":[62918,62925],"loc":{"start":{"line":2153,"column":39},"end":{"line":2153,"column":46}},"type":"MemberExpression","computed":true,"object":{"range":[62918,62922],"loc":{"start":{"line":2153,"column":39},"end":{"line":2153,"column":43}},"type":"Identifier","name":"args"},"property":{"range":[62923,62924],"loc":{"start":{"line":2153,"column":44},"end":{"line":2153,"column":45}},"type":"Literal","value":0,"raw":"0"}},{"range":[62927,62937],"loc":{"start":{"line":2153,"column":48},"end":{"line":2153,"column":58}},"type":"Identifier","name":"actionType"}]}},"trailingComments":[{"type":"Line","value":" If geolocation setting is turned on, get current position before","range":[62949,63016],"loc":{"start":{"line":2155,"column":8},"end":{"line":2155,"column":75}}},{"type":"Line","value":" registering the action in the Engine.","range":[63025,63065],"loc":{"start":{"line":2156,"column":8},"end":{"line":2156,"column":48}}}]},{"range":[63074,63752],"loc":{"start":{"line":2157,"column":8},"end":{"line":2180,"column":9}},"type":"IfStatement","test":{"range":[63078,63102],"loc":{"start":{"line":2157,"column":12},"end":{"line":2157,"column":36}},"type":"MemberExpression","computed":false,"object":{"range":[63078,63090],"loc":{"start":{"line":2157,"column":12},"end":{"line":2157,"column":24}},"type":"MemberExpression","computed":false,"object":{"range":[63078,63081],"loc":{"start":{"line":2157,"column":12},"end":{"line":2157,"column":15}},"type":"Identifier","name":"EVT"},"property":{"range":[63082,63090],"loc":{"start":{"line":2157,"column":16},"end":{"line":2157,"column":24}},"type":"Identifier","name":"settings"}},"property":{"range":[63091,63102],"loc":{"start":{"line":2157,"column":25},"end":{"line":2157,"column":36}},"type":"Identifier","name":"geolocation"}},"consequent":{"range":[63104,63672],"loc":{"start":{"line":2157,"column":38},"end":{"line":2178,"column":9}},"type":"BlockStatement","body":[{"range":[63117,63661],"loc":{"start":{"line":2159,"column":10},"end":{"line":2176,"column":13}},"type":"ReturnStatement","argument":{"range":[63124,63660],"loc":{"start":{"line":2159,"column":17},"end":{"line":2176,"column":12}},"type":"CallExpression","callee":{"range":[63124,63155],"loc":{"start":{"line":2159,"column":17},"end":{"line":2159,"column":48}},"type":"MemberExpression","computed":false,"object":{"range":[63124,63150],"loc":{"start":{"line":2159,"column":17},"end":{"line":2159,"column":43}},"type":"CallExpression","callee":{"range":[63124,63148],"loc":{"start":{"line":2159,"column":17},"end":{"line":2159,"column":41}},"type":"MemberExpression","computed":false,"object":{"range":[63124,63129],"loc":{"start":{"line":2159,"column":17},"end":{"line":2159,"column":22}},"type":"Identifier","name":"Utils"},"property":{"range":[63130,63148],"loc":{"start":{"line":2159,"column":23},"end":{"line":2159,"column":41}},"type":"Identifier","name":"getCurrentPosition"}},"arguments":[]},"property":{"range":[63151,63155],"loc":{"start":{"line":2159,"column":44},"end":{"line":2159,"column":48}},"type":"Identifier","name":"then"}},"arguments":[{"range":[63156,63453],"loc":{"start":{"line":2159,"column":49},"end":{"line":2169,"column":11}},"type":"FunctionExpression","id":null,"params":[{"range":[63166,63174],"loc":{"start":{"line":2159,"column":59},"end":{"line":2159,"column":67}},"type":"Identifier","name":"position"}],"defaults":[],"body":{"range":[63176,63453],"loc":{"start":{"line":2159,"column":69},"end":{"line":2169,"column":11}},"type":"BlockStatement","body":[{"range":[63191,63327],"loc":{"start":{"line":2161,"column":12},"end":{"line":2164,"column":14}},"type":"ExpressionStatement","expression":{"range":[63191,63326],"loc":{"start":{"line":2161,"column":12},"end":{"line":2164,"column":13}},"type":"AssignmentExpression","operator":"=","left":{"range":[63191,63207],"loc":{"start":{"line":2161,"column":12},"end":{"line":2161,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[63191,63198],"loc":{"start":{"line":2161,"column":12},"end":{"line":2161,"column":19}},"type":"MemberExpression","computed":true,"object":{"range":[63191,63195],"loc":{"start":{"line":2161,"column":12},"end":{"line":2161,"column":16}},"type":"Identifier","name":"args"},"property":{"range":[63196,63197],"loc":{"start":{"line":2161,"column":17},"end":{"line":2161,"column":18}},"type":"Literal","value":0,"raw":"0"}},"property":{"range":[63199,63207],"loc":{"start":{"line":2161,"column":20},"end":{"line":2161,"column":28}},"type":"Identifier","name":"location"}},"right":{"range":[63210,63326],"loc":{"start":{"line":2161,"column":31},"end":{"line":2164,"column":13}},"type":"ObjectExpression","properties":[{"range":[63226,63260],"loc":{"start":{"line":2162,"column":14},"end":{"line":2162,"column":48}},"type":"Property","key":{"range":[63226,63234],"loc":{"start":{"line":2162,"column":14},"end":{"line":2162,"column":22}},"type":"Identifier","name":"latitude"},"computed":false,"value":{"range":[63236,63260],"loc":{"start":{"line":2162,"column":24},"end":{"line":2162,"column":48}},"type":"MemberExpression","computed":false,"object":{"range":[63236,63251],"loc":{"start":{"line":2162,"column":24},"end":{"line":2162,"column":39}},"type":"MemberExpression","computed":false,"object":{"range":[63236,63244],"loc":{"start":{"line":2162,"column":24},"end":{"line":2162,"column":32}},"type":"Identifier","name":"position"},"property":{"range":[63245,63251],"loc":{"start":{"line":2162,"column":33},"end":{"line":2162,"column":39}},"type":"Identifier","name":"coords"}},"property":{"range":[63252,63260],"loc":{"start":{"line":2162,"column":40},"end":{"line":2162,"column":48}},"type":"Identifier","name":"latitude"}},"kind":"init","method":false,"shorthand":false},{"range":[63276,63312],"loc":{"start":{"line":2163,"column":14},"end":{"line":2163,"column":50}},"type":"Property","key":{"range":[63276,63285],"loc":{"start":{"line":2163,"column":14},"end":{"line":2163,"column":23}},"type":"Identifier","name":"longitude"},"computed":false,"value":{"range":[63287,63312],"loc":{"start":{"line":2163,"column":25},"end":{"line":2163,"column":50}},"type":"MemberExpression","computed":false,"object":{"range":[63287,63302],"loc":{"start":{"line":2163,"column":25},"end":{"line":2163,"column":40}},"type":"MemberExpression","computed":false,"object":{"range":[63287,63295],"loc":{"start":{"line":2163,"column":25},"end":{"line":2163,"column":33}},"type":"Identifier","name":"position"},"property":{"range":[63296,63302],"loc":{"start":{"line":2163,"column":34},"end":{"line":2163,"column":40}},"type":"Identifier","name":"coords"}},"property":{"range":[63303,63312],"loc":{"start":{"line":2163,"column":41},"end":{"line":2163,"column":50}},"type":"Identifier","name":"longitude"}},"kind":"init","method":false,"shorthand":false}]}}},{"range":[63340,63374],"loc":{"start":{"line":2165,"column":12},"end":{"line":2165,"column":46}},"type":"ExpressionStatement","expression":{"range":[63340,63373],"loc":{"start":{"line":2165,"column":12},"end":{"line":2165,"column":45}},"type":"AssignmentExpression","operator":"=","left":{"range":[63340,63362],"loc":{"start":{"line":2165,"column":12},"end":{"line":2165,"column":34}},"type":"MemberExpression","computed":false,"object":{"range":[63340,63347],"loc":{"start":{"line":2165,"column":12},"end":{"line":2165,"column":19}},"type":"MemberExpression","computed":true,"object":{"range":[63340,63344],"loc":{"start":{"line":2165,"column":12},"end":{"line":2165,"column":16}},"type":"Identifier","name":"args"},"property":{"range":[63345,63346],"loc":{"start":{"line":2165,"column":17},"end":{"line":2165,"column":18}},"type":"Literal","value":0,"raw":"0"}},"property":{"range":[63348,63362],"loc":{"start":{"line":2165,"column":20},"end":{"line":2165,"column":34}},"type":"Identifier","name":"locationSource"}},"right":{"range":[63365,63373],"loc":{"start":{"line":2165,"column":37},"end":{"line":2165,"column":45}},"type":"Literal","value":"sensor","raw":"'sensor'"}}},{"range":[63388,63440],"loc":{"start":{"line":2167,"column":12},"end":{"line":2167,"column":64}},"type":"ReturnStatement","argument":{"range":[63395,63439],"loc":{"start":{"line":2167,"column":19},"end":{"line":2167,"column":63}},"type":"CallExpression","callee":{"range":[63395,63426],"loc":{"start":{"line":2167,"column":19},"end":{"line":2167,"column":50}},"type":"MemberExpression","computed":false,"object":{"range":[63395,63420],"loc":{"start":{"line":2167,"column":19},"end":{"line":2167,"column":44}},"type":"MemberExpression","computed":false,"object":{"range":[63395,63413],"loc":{"start":{"line":2167,"column":19},"end":{"line":2167,"column":37}},"type":"MemberExpression","computed":false,"object":{"range":[63395,63403],"loc":{"start":{"line":2167,"column":19},"end":{"line":2167,"column":27}},"type":"Identifier","name":"Resource"},"property":{"range":[63404,63413],"loc":{"start":{"line":2167,"column":28},"end":{"line":2167,"column":37}},"type":"Identifier","name":"prototype"}},"property":{"range":[63414,63420],"loc":{"start":{"line":2167,"column":38},"end":{"line":2167,"column":44}},"type":"Identifier","name":"create"}},"property":{"range":[63421,63426],"loc":{"start":{"line":2167,"column":45},"end":{"line":2167,"column":50}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[63427,63432],"loc":{"start":{"line":2167,"column":51},"end":{"line":2167,"column":56}},"type":"Identifier","name":"$this"},{"range":[63434,63438],"loc":{"start":{"line":2167,"column":58},"end":{"line":2167,"column":62}},"type":"Identifier","name":"args"}]}}]},"generator":false,"expression":false},{"range":[63455,63659],"loc":{"start":{"line":2169,"column":13},"end":{"line":2176,"column":11}},"type":"FunctionExpression","id":null,"params":[{"range":[63465,63468],"loc":{"start":{"line":2169,"column":23},"end":{"line":2169,"column":26}},"type":"Identifier","name":"err"}],"defaults":[],"body":{"range":[63470,63659],"loc":{"start":{"line":2169,"column":28},"end":{"line":2176,"column":11}},"type":"BlockStatement","body":[{"range":[63563,63580],"loc":{"start":{"line":2172,"column":12},"end":{"line":2172,"column":29}},"type":"ExpressionStatement","expression":{"range":[63563,63579],"loc":{"start":{"line":2172,"column":12},"end":{"line":2172,"column":28}},"type":"CallExpression","callee":{"range":[63563,63574],"loc":{"start":{"line":2172,"column":12},"end":{"line":2172,"column":23}},"type":"MemberExpression","computed":false,"object":{"range":[63563,63569],"loc":{"start":{"line":2172,"column":12},"end":{"line":2172,"column":18}},"type":"Identifier","name":"Logger"},"property":{"range":[63570,63574],"loc":{"start":{"line":2172,"column":19},"end":{"line":2172,"column":23}},"type":"Identifier","name":"info"}},"arguments":[{"range":[63575,63578],"loc":{"start":{"line":2172,"column":24},"end":{"line":2172,"column":27}},"type":"Identifier","name":"err"}]},"leadingComments":[{"type":"Line","value":" Unable to get position, just inform the reason in the console.","range":[63485,63550],"loc":{"start":{"line":2171,"column":12},"end":{"line":2171,"column":77}}}]},{"range":[63594,63646],"loc":{"start":{"line":2174,"column":12},"end":{"line":2174,"column":64}},"type":"ReturnStatement","argument":{"range":[63601,63645],"loc":{"start":{"line":2174,"column":19},"end":{"line":2174,"column":63}},"type":"CallExpression","callee":{"range":[63601,63632],"loc":{"start":{"line":2174,"column":19},"end":{"line":2174,"column":50}},"type":"MemberExpression","computed":false,"object":{"range":[63601,63626],"loc":{"start":{"line":2174,"column":19},"end":{"line":2174,"column":44}},"type":"MemberExpression","computed":false,"object":{"range":[63601,63619],"loc":{"start":{"line":2174,"column":19},"end":{"line":2174,"column":37}},"type":"MemberExpression","computed":false,"object":{"range":[63601,63609],"loc":{"start":{"line":2174,"column":19},"end":{"line":2174,"column":27}},"type":"Identifier","name":"Resource"},"property":{"range":[63610,63619],"loc":{"start":{"line":2174,"column":28},"end":{"line":2174,"column":37}},"type":"Identifier","name":"prototype"}},"property":{"range":[63620,63626],"loc":{"start":{"line":2174,"column":38},"end":{"line":2174,"column":44}},"type":"Identifier","name":"create"}},"property":{"range":[63627,63632],"loc":{"start":{"line":2174,"column":45},"end":{"line":2174,"column":50}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[63633,63638],"loc":{"start":{"line":2174,"column":51},"end":{"line":2174,"column":56}},"type":"Identifier","name":"$this"},{"range":[63640,63644],"loc":{"start":{"line":2174,"column":58},"end":{"line":2174,"column":62}},"type":"Identifier","name":"args"}]}}]},"generator":false,"expression":false}]}}]},"alternate":{"range":[63678,63752],"loc":{"start":{"line":2178,"column":15},"end":{"line":2180,"column":9}},"type":"BlockStatement","body":[{"range":[63690,63742],"loc":{"start":{"line":2179,"column":10},"end":{"line":2179,"column":62}},"type":"ReturnStatement","argument":{"range":[63697,63741],"loc":{"start":{"line":2179,"column":17},"end":{"line":2179,"column":61}},"type":"CallExpression","callee":{"range":[63697,63728],"loc":{"start":{"line":2179,"column":17},"end":{"line":2179,"column":48}},"type":"MemberExpression","computed":false,"object":{"range":[63697,63722],"loc":{"start":{"line":2179,"column":17},"end":{"line":2179,"column":42}},"type":"MemberExpression","computed":false,"object":{"range":[63697,63715],"loc":{"start":{"line":2179,"column":17},"end":{"line":2179,"column":35}},"type":"MemberExpression","computed":false,"object":{"range":[63697,63705],"loc":{"start":{"line":2179,"column":17},"end":{"line":2179,"column":25}},"type":"Identifier","name":"Resource"},"property":{"range":[63706,63715],"loc":{"start":{"line":2179,"column":26},"end":{"line":2179,"column":35}},"type":"Identifier","name":"prototype"}},"property":{"range":[63716,63722],"loc":{"start":{"line":2179,"column":36},"end":{"line":2179,"column":42}},"type":"Identifier","name":"create"}},"property":{"range":[63723,63728],"loc":{"start":{"line":2179,"column":43},"end":{"line":2179,"column":48}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[63729,63734],"loc":{"start":{"line":2179,"column":49},"end":{"line":2179,"column":54}},"type":"Identifier","name":"$this"},{"range":[63736,63740],"loc":{"start":{"line":2179,"column":56},"end":{"line":2179,"column":60}},"type":"Identifier","name":"args"}]}}]},"leadingComments":[{"type":"Line","value":" If geolocation setting is turned on, get current position before","range":[62949,63016],"loc":{"start":{"line":2155,"column":8},"end":{"line":2155,"column":75}}},{"type":"Line","value":" registering the action in the Engine.","range":[63025,63065],"loc":{"start":{"line":2156,"column":8},"end":{"line":2156,"column":48}}}]}]},"generator":false,"expression":false}},"leadingComments":[{"type":"Line","value":" Overload Action resource *create()* method to allow empty object.","range":[62684,62752],"loc":{"start":{"line":2147,"column":6},"end":{"line":2147,"column":74}}}]},{"range":[63769,63785],"loc":{"start":{"line":2183,"column":6},"end":{"line":2183,"column":22}},"type":"ReturnStatement","argument":{"range":[63776,63784],"loc":{"start":{"line":2183,"column":13},"end":{"line":2183,"column":21}},"type":"Identifier","name":"resource"}}]},"generator":false,"expression":false},"kind":"init","method":false,"shorthand":false}]},"leadingComments":[{"type":"Line","value":" Return the resource factory function. Actions have a custom *resource","range":[61381,61453],"loc":{"start":{"line":2114,"column":2},"end":{"line":2114,"column":74}}},{"type":"Line","value":" constructor* that needs an action type and allows an optional ID.","range":[61456,61524],"loc":{"start":{"line":2115,"column":2},"end":{"line":2115,"column":70}}},{"type":"Line","value":" - _**product.action('scans')**: creates path '/product/<id>/actions/scans'_","range":[61528,61606],"loc":{"start":{"line":2117,"column":2},"end":{"line":2117,"column":80}}},{"type":"Line","value":" - _**product.action('scans', '1')**: creates path '/product/<id>/actions/scans/1'_","range":[61609,61694],"loc":{"start":{"line":2118,"column":2},"end":{"line":2118,"column":87}}}]}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" ## ACTION.JS","range":[59277,59292],"loc":{"start":{"line":2033,"column":0},"end":{"line":2033,"column":15}}},{"type":"Line","value":" **The Action Entity represents an action in the Engine. It inherits","range":[59294,59364],"loc":{"start":{"line":2035,"column":0},"end":{"line":2035,"column":70}}},{"type":"Line","value":" from Entity and overload the resource's *create()* method to allow","range":[59365,59434],"loc":{"start":{"line":2036,"column":0},"end":{"line":2036,"column":69}}},{"type":"Line","value":" empty parameters (no payload).**","range":[59435,59470],"loc":{"start":{"line":2037,"column":0},"end":{"line":2037,"column":35}}}],"trailingComments":[{"type":"Line","value":" ## PRODUCT.JS","range":[63803,63819],"loc":{"start":{"line":2189,"column":0},"end":{"line":2189,"column":16}}},{"type":"Line","value":" **The Product is a simple Entity subclass that provides a nested","range":[63821,63888],"loc":{"start":{"line":2191,"column":0},"end":{"line":2191,"column":67}}},{"type":"Line","value":" Property Resource.**","range":[63889,63912],"loc":{"start":{"line":2192,"column":0},"end":{"line":2192,"column":23}}}]},{"range":[63914,64878],"loc":{"start":{"line":2194,"column":0},"end":{"line":2236,"column":3}},"type":"ExpressionStatement","expression":{"range":[63914,64877],"loc":{"start":{"line":2194,"column":0},"end":{"line":2236,"column":2}},"type":"CallExpression","callee":{"range":[63914,63920],"loc":{"start":{"line":2194,"column":0},"end":{"line":2194,"column":6}},"type":"Identifier","name":"define"},"arguments":[{"range":[63921,63937],"loc":{"start":{"line":2194,"column":7},"end":{"line":2194,"column":23}},"type":"Literal","value":"entity/product","raw":"'entity/product'"},{"range":[63938,64019],"loc":{"start":{"line":2194,"column":24},"end":{"line":2201,"column":1}},"type":"ArrayExpression","elements":[{"range":[63942,63948],"loc":{"start":{"line":2195,"column":2},"end":{"line":2195,"column":8}},"type":"Literal","value":"core","raw":"'core'"},{"range":[63952,63962],"loc":{"start":{"line":2196,"column":2},"end":{"line":2196,"column":12}},"type":"Literal","value":"./entity","raw":"'./entity'"},{"range":[63966,63976],"loc":{"start":{"line":2197,"column":2},"end":{"line":2197,"column":12}},"type":"Literal","value":"resource","raw":"'resource'"},{"range":[63980,63992],"loc":{"start":{"line":2198,"column":2},"end":{"line":2198,"column":14}},"type":"Literal","value":"./property","raw":"'./property'"},{"range":[63996,64006],"loc":{"start":{"line":2199,"column":2},"end":{"line":2199,"column":12}},"type":"Literal","value":"./action","raw":"'./action'"},{"range":[64010,64017],"loc":{"start":{"line":2200,"column":2},"end":{"line":2200,"column":9}},"type":"Literal","value":"utils","raw":"'utils'"}]},{"range":[64021,64876],"loc":{"start":{"line":2201,"column":3},"end":{"line":2236,"column":1}},"type":"FunctionExpression","id":null,"params":[{"range":[64031,64034],"loc":{"start":{"line":2201,"column":13},"end":{"line":2201,"column":16}},"type":"Identifier","name":"EVT"},{"range":[64036,64042],"loc":{"start":{"line":2201,"column":18},"end":{"line":2201,"column":24}},"type":"Identifier","name":"Entity"},{"range":[64044,64052],"loc":{"start":{"line":2201,"column":26},"end":{"line":2201,"column":34}},"type":"Identifier","name":"Resource"},{"range":[64054,64062],"loc":{"start":{"line":2201,"column":36},"end":{"line":2201,"column":44}},"type":"Identifier","name":"Property"},{"range":[64064,64070],"loc":{"start":{"line":2201,"column":46},"end":{"line":2201,"column":52}},"type":"Identifier","name":"Action"},{"range":[64072,64077],"loc":{"start":{"line":2201,"column":54},"end":{"line":2201,"column":59}},"type":"Identifier","name":"Utils"}],"defaults":[],"body":{"range":[64079,64876],"loc":{"start":{"line":2201,"column":61},"end":{"line":2236,"column":1}},"type":"BlockStatement","body":[{"range":[64083,64096],"loc":{"start":{"line":2202,"column":2},"end":{"line":2202,"column":15}},"type":"ExpressionStatement","expression":{"range":[64083,64095],"loc":{"start":{"line":2202,"column":2},"end":{"line":2202,"column":14}},"type":"Literal","value":"use strict","raw":"'use strict'"},"trailingComments":[{"type":"Line","value":" Setup Product inheritance from Entity.","range":[64100,64141],"loc":{"start":{"line":2204,"column":2},"end":{"line":2204,"column":43}}}]},{"range":[64144,64211],"loc":{"start":{"line":2205,"column":2},"end":{"line":2207,"column":4}},"type":"VariableDeclaration","declarations":[{"range":[64148,64210],"loc":{"start":{"line":2205,"column":6},"end":{"line":2207,"column":3}},"type":"VariableDeclarator","id":{"range":[64148,64155],"loc":{"start":{"line":2205,"column":6},"end":{"line":2205,"column":13}},"type":"Identifier","name":"Product"},"init":{"range":[64158,64210],"loc":{"start":{"line":2205,"column":16},"end":{"line":2207,"column":3}},"type":"FunctionExpression","id":null,"params":[],"defaults":[],"body":{"range":[64170,64210],"loc":{"start":{"line":2205,"column":28},"end":{"line":2207,"column":3}},"type":"BlockStatement","body":[{"range":[64176,64206],"loc":{"start":{"line":2206,"column":4},"end":{"line":2206,"column":34}},"type":"ExpressionStatement","expression":{"range":[64176,64205],"loc":{"start":{"line":2206,"column":4},"end":{"line":2206,"column":33}},"type":"CallExpression","callee":{"range":[64176,64188],"loc":{"start":{"line":2206,"column":4},"end":{"line":2206,"column":16}},"type":"MemberExpression","computed":false,"object":{"range":[64176,64182],"loc":{"start":{"line":2206,"column":4},"end":{"line":2206,"column":10}},"type":"Identifier","name":"Entity"},"property":{"range":[64183,64188],"loc":{"start":{"line":2206,"column":11},"end":{"line":2206,"column":16}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[64189,64193],"loc":{"start":{"line":2206,"column":17},"end":{"line":2206,"column":21}},"type":"ThisExpression"},{"range":[64195,64204],"loc":{"start":{"line":2206,"column":23},"end":{"line":2206,"column":32}},"type":"Identifier","name":"arguments"}]}}]},"generator":false,"expression":false}}],"kind":"var","leadingComments":[{"type":"Line","value":" Setup Product inheritance from Entity.","range":[64100,64141],"loc":{"start":{"line":2204,"column":2},"end":{"line":2204,"column":43}}}]},{"range":[64215,64267],"loc":{"start":{"line":2209,"column":2},"end":{"line":2209,"column":54}},"type":"ExpressionStatement","expression":{"range":[64215,64266],"loc":{"start":{"line":2209,"column":2},"end":{"line":2209,"column":53}},"type":"AssignmentExpression","operator":"=","left":{"range":[64215,64232],"loc":{"start":{"line":2209,"column":2},"end":{"line":2209,"column":19}},"type":"MemberExpression","computed":false,"object":{"range":[64215,64222],"loc":{"start":{"line":2209,"column":2},"end":{"line":2209,"column":9}},"type":"Identifier","name":"Product"},"property":{"range":[64223,64232],"loc":{"start":{"line":2209,"column":10},"end":{"line":2209,"column":19}},"type":"Identifier","name":"prototype"}},"right":{"range":[64235,64266],"loc":{"start":{"line":2209,"column":22},"end":{"line":2209,"column":53}},"type":"CallExpression","callee":{"range":[64235,64248],"loc":{"start":{"line":2209,"column":22},"end":{"line":2209,"column":35}},"type":"MemberExpression","computed":false,"object":{"range":[64235,64241],"loc":{"start":{"line":2209,"column":22},"end":{"line":2209,"column":28}},"type":"Identifier","name":"Object"},"property":{"range":[64242,64248],"loc":{"start":{"line":2209,"column":29},"end":{"line":2209,"column":35}},"type":"Identifier","name":"create"}},"arguments":[{"range":[64249,64265],"loc":{"start":{"line":2209,"column":36},"end":{"line":2209,"column":52}},"type":"MemberExpression","computed":false,"object":{"range":[64249,64255],"loc":{"start":{"line":2209,"column":36},"end":{"line":2209,"column":42}},"type":"Identifier","name":"Entity"},"property":{"range":[64256,64265],"loc":{"start":{"line":2209,"column":43},"end":{"line":2209,"column":52}},"type":"Identifier","name":"prototype"}}]}}},{"range":[64270,64310],"loc":{"start":{"line":2210,"column":2},"end":{"line":2210,"column":42}},"type":"ExpressionStatement","expression":{"range":[64270,64309],"loc":{"start":{"line":2210,"column":2},"end":{"line":2210,"column":41}},"type":"AssignmentExpression","operator":"=","left":{"range":[64270,64299],"loc":{"start":{"line":2210,"column":2},"end":{"line":2210,"column":31}},"type":"MemberExpression","computed":false,"object":{"range":[64270,64287],"loc":{"start":{"line":2210,"column":2},"end":{"line":2210,"column":19}},"type":"MemberExpression","computed":false,"object":{"range":[64270,64277],"loc":{"start":{"line":2210,"column":2},"end":{"line":2210,"column":9}},"type":"Identifier","name":"Product"},"property":{"range":[64278,64287],"loc":{"start":{"line":2210,"column":10},"end":{"line":2210,"column":19}},"type":"Identifier","name":"prototype"}},"property":{"range":[64288,64299],"loc":{"start":{"line":2210,"column":20},"end":{"line":2210,"column":31}},"type":"Identifier","name":"constructor"}},"right":{"range":[64302,64309],"loc":{"start":{"line":2210,"column":34},"end":{"line":2210,"column":41}},"type":"Identifier","name":"Product"}},"trailingComments":[{"type":"Line","value":" Extend Product API by exposing a Property Resource, allowing to","range":[64315,64381],"loc":{"start":{"line":2213,"column":2},"end":{"line":2213,"column":68}}},{"type":"Line","value":" manage the properties of this product with a resource pattern.","range":[64384,64449],"loc":{"start":{"line":2214,"column":2},"end":{"line":2214,"column":67}}},{"type":"Line","value":" Expose an Action resource as well, for managing Products actions.","range":[64452,64520],"loc":{"start":{"line":2215,"column":2},"end":{"line":2215,"column":70}}}]},{"range":[64523,64654],"loc":{"start":{"line":2216,"column":2},"end":{"line":2222,"column":11}},"type":"ExpressionStatement","expression":{"range":[64523,64653],"loc":{"start":{"line":2216,"column":2},"end":{"line":2222,"column":10}},"type":"CallExpression","callee":{"range":[64523,64535],"loc":{"start":{"line":2216,"column":2},"end":{"line":2216,"column":14}},"type":"MemberExpression","computed":false,"object":{"range":[64523,64528],"loc":{"start":{"line":2216,"column":2},"end":{"line":2216,"column":7}},"type":"Identifier","name":"Utils"},"property":{"range":[64529,64535],"loc":{"start":{"line":2216,"column":8},"end":{"line":2216,"column":14}},"type":"Identifier","name":"extend"}},"arguments":[{"range":[64536,64553],"loc":{"start":{"line":2216,"column":15},"end":{"line":2216,"column":32}},"type":"MemberExpression","computed":false,"object":{"range":[64536,64543],"loc":{"start":{"line":2216,"column":15},"end":{"line":2216,"column":22}},"type":"Identifier","name":"Product"},"property":{"range":[64544,64553],"loc":{"start":{"line":2216,"column":23},"end":{"line":2216,"column":32}},"type":"Identifier","name":"prototype"}},{"range":[64555,64646],"loc":{"start":{"line":2216,"column":34},"end":{"line":2222,"column":3}},"type":"ObjectExpression","properties":[{"range":[64562,64600],"loc":{"start":{"line":2218,"column":4},"end":{"line":2218,"column":42}},"type":"Property","key":{"range":[64562,64570],"loc":{"start":{"line":2218,"column":4},"end":{"line":2218,"column":12}},"type":"Identifier","name":"property"},"computed":false,"value":{"range":[64572,64600],"loc":{"start":{"line":2218,"column":14},"end":{"line":2218,"column":42}},"type":"MemberExpression","computed":false,"object":{"range":[64572,64580],"loc":{"start":{"line":2218,"column":14},"end":{"line":2218,"column":22}},"type":"Identifier","name":"Property"},"property":{"range":[64581,64600],"loc":{"start":{"line":2218,"column":23},"end":{"line":2218,"column":42}},"type":"Identifier","name":"resourceConstructor"}},"kind":"init","method":false,"shorthand":false},{"range":[64607,64641],"loc":{"start":{"line":2220,"column":4},"end":{"line":2220,"column":38}},"type":"Property","key":{"range":[64607,64613],"loc":{"start":{"line":2220,"column":4},"end":{"line":2220,"column":10}},"type":"Identifier","name":"action"},"computed":false,"value":{"range":[64615,64641],"loc":{"start":{"line":2220,"column":12},"end":{"line":2220,"column":38}},"type":"MemberExpression","computed":false,"object":{"range":[64615,64621],"loc":{"start":{"line":2220,"column":12},"end":{"line":2220,"column":18}},"type":"Identifier","name":"Action"},"property":{"range":[64622,64641],"loc":{"start":{"line":2220,"column":19},"end":{"line":2220,"column":38}},"type":"Identifier","name":"resourceConstructor"}},"kind":"init","method":false,"shorthand":false}]},{"range":[64648,64652],"loc":{"start":{"line":2222,"column":5},"end":{"line":2222,"column":9}},"type":"Literal","value":true,"raw":"true"}]},"leadingComments":[{"type":"Line","value":" Extend Product API by exposing a Property Resource, allowing to","range":[64315,64381],"loc":{"start":{"line":2213,"column":2},"end":{"line":2213,"column":68}}},{"type":"Line","value":" manage the properties of this product with a resource pattern.","range":[64384,64449],"loc":{"start":{"line":2214,"column":2},"end":{"line":2214,"column":67}}},{"type":"Line","value":" Expose an Action resource as well, for managing Products actions.","range":[64452,64520],"loc":{"start":{"line":2215,"column":2},"end":{"line":2215,"column":70}}}],"trailingComments":[{"type":"Line","value":" Attach class to EVT module.","range":[64659,64689],"loc":{"start":{"line":2225,"column":2},"end":{"line":2225,"column":32}}}]},{"range":[64692,64721],"loc":{"start":{"line":2226,"column":2},"end":{"line":2226,"column":31}},"type":"ExpressionStatement","expression":{"range":[64692,64720],"loc":{"start":{"line":2226,"column":2},"end":{"line":2226,"column":30}},"type":"AssignmentExpression","operator":"=","left":{"range":[64692,64710],"loc":{"start":{"line":2226,"column":2},"end":{"line":2226,"column":20}},"type":"MemberExpression","computed":false,"object":{"range":[64692,64702],"loc":{"start":{"line":2226,"column":2},"end":{"line":2226,"column":12}},"type":"MemberExpression","computed":false,"object":{"range":[64692,64695],"loc":{"start":{"line":2226,"column":2},"end":{"line":2226,"column":5}},"type":"Identifier","name":"EVT"},"property":{"range":[64696,64702],"loc":{"start":{"line":2226,"column":6},"end":{"line":2226,"column":12}},"type":"Identifier","name":"Entity"}},"property":{"range":[64703,64710],"loc":{"start":{"line":2226,"column":13},"end":{"line":2226,"column":20}},"type":"Identifier","name":"Product"}},"right":{"range":[64713,64720],"loc":{"start":{"line":2226,"column":23},"end":{"line":2226,"column":30}},"type":"Identifier","name":"Product"}},"leadingComments":[{"type":"Line","value":" Attach class to EVT module.","range":[64659,64689],"loc":{"start":{"line":2225,"column":2},"end":{"line":2225,"column":32}}}]},{"range":[64726,64874],"loc":{"start":{"line":2229,"column":2},"end":{"line":2235,"column":4}},"type":"ReturnStatement","argument":{"range":[64733,64873],"loc":{"start":{"line":2229,"column":9},"end":{"line":2235,"column":3}},"type":"ObjectExpression","properties":[{"range":[64740,64756],"loc":{"start":{"line":2231,"column":4},"end":{"line":2231,"column":20}},"type":"Property","key":{"range":[64740,64747],"loc":{"start":{"line":2231,"column":4},"end":{"line":2231,"column":11}},"type":"Literal","value":"class","raw":"'class'"},"computed":false,"value":{"range":[64749,64756],"loc":{"start":{"line":2231,"column":13},"end":{"line":2231,"column":20}},"type":"Identifier","name":"Product"},"kind":"init","method":false,"shorthand":false},{"range":[64763,64868],"loc":{"start":{"line":2233,"column":4},"end":{"line":2233,"column":109}},"type":"Property","key":{"range":[64763,64782],"loc":{"start":{"line":2233,"column":4},"end":{"line":2233,"column":23}},"type":"Identifier","name":"resourceConstructor"},"computed":false,"value":{"range":[64784,64868],"loc":{"start":{"line":2233,"column":25},"end":{"line":2233,"column":109}},"type":"CallExpression","callee":{"range":[64784,64811],"loc":{"start":{"line":2233,"column":25},"end":{"line":2233,"column":52}},"type":"MemberExpression","computed":false,"object":{"range":[64784,64792],"loc":{"start":{"line":2233,"column":25},"end":{"line":2233,"column":33}},"type":"Identifier","name":"Resource"},"property":{"range":[64793,64811],"loc":{"start":{"line":2233,"column":34},"end":{"line":2233,"column":52}},"type":"Identifier","name":"constructorFactory"}},"arguments":[{"range":[64812,64823],"loc":{"start":{"line":2233,"column":53},"end":{"line":2233,"column":64}},"type":"Literal","value":"/products","raw":"'/products'"},{"range":[64825,64843],"loc":{"start":{"line":2233,"column":66},"end":{"line":2233,"column":84}},"type":"MemberExpression","computed":false,"object":{"range":[64825,64835],"loc":{"start":{"line":2233,"column":66},"end":{"line":2233,"column":76}},"type":"MemberExpression","computed":false,"object":{"range":[64825,64828],"loc":{"start":{"line":2233,"column":66},"end":{"line":2233,"column":69}},"type":"Identifier","name":"EVT"},"property":{"range":[64829,64835],"loc":{"start":{"line":2233,"column":70},"end":{"line":2233,"column":76}},"type":"Identifier","name":"Entity"}},"property":{"range":[64836,64843],"loc":{"start":{"line":2233,"column":77},"end":{"line":2233,"column":84}},"type":"Identifier","name":"Product"}},{"range":[64845,64867],"loc":{"start":{"line":2233,"column":86},"end":{"line":2233,"column":108}},"type":"ArrayExpression","elements":[{"range":[64846,64856],"loc":{"start":{"line":2233,"column":87},"end":{"line":2233,"column":97}},"type":"Literal","value":"property","raw":"'property'"},{"range":[64858,64866],"loc":{"start":{"line":2233,"column":99},"end":{"line":2233,"column":107}},"type":"Literal","value":"action","raw":"'action'"}]}]},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" ## PRODUCT.JS","range":[63803,63819],"loc":{"start":{"line":2189,"column":0},"end":{"line":2189,"column":16}}},{"type":"Line","value":" **The Product is a simple Entity subclass that provides a nested","range":[63821,63888],"loc":{"start":{"line":2191,"column":0},"end":{"line":2191,"column":67}}},{"type":"Line","value":" Property Resource.**","range":[63889,63912],"loc":{"start":{"line":2192,"column":0},"end":{"line":2192,"column":23}}}],"trailingComments":[{"type":"Line","value":" ## USER.JS","range":[64880,64893],"loc":{"start":{"line":2238,"column":0},"end":{"line":2238,"column":13}}},{"type":"Line","value":" **The User entity represents the app users stored in the Engine.","range":[64895,64962],"loc":{"start":{"line":2240,"column":0},"end":{"line":2240,"column":67}}},{"type":"Line","value":" It inherits from Entity and adds a new resource's *validate()* method,","range":[64963,65036],"loc":{"start":{"line":2241,"column":0},"end":{"line":2241,"column":73}}},{"type":"Line","value":" as well as a *self.validate()* to allow to validate users.**","range":[65037,65100],"loc":{"start":{"line":2242,"column":0},"end":{"line":2242,"column":63}}}]},{"range":[65102,69150],"loc":{"start":{"line":2244,"column":0},"end":{"line":2391,"column":3}},"type":"ExpressionStatement","expression":{"range":[65102,69149],"loc":{"start":{"line":2244,"column":0},"end":{"line":2391,"column":2}},"type":"CallExpression","callee":{"range":[65102,65108],"loc":{"start":{"line":2244,"column":0},"end":{"line":2244,"column":6}},"type":"Identifier","name":"define"},"arguments":[{"range":[65109,65122],"loc":{"start":{"line":2244,"column":7},"end":{"line":2244,"column":20}},"type":"Literal","value":"entity/user","raw":"'entity/user'"},{"range":[65123,65174],"loc":{"start":{"line":2244,"column":21},"end":{"line":2249,"column":1}},"type":"ArrayExpression","elements":[{"range":[65127,65133],"loc":{"start":{"line":2245,"column":2},"end":{"line":2245,"column":8}},"type":"Literal","value":"core","raw":"'core'"},{"range":[65137,65147],"loc":{"start":{"line":2246,"column":2},"end":{"line":2246,"column":12}},"type":"Literal","value":"./entity","raw":"'./entity'"},{"range":[65151,65161],"loc":{"start":{"line":2247,"column":2},"end":{"line":2247,"column":12}},"type":"Literal","value":"resource","raw":"'resource'"},{"range":[65165,65172],"loc":{"start":{"line":2248,"column":2},"end":{"line":2248,"column":9}},"type":"Literal","value":"utils","raw":"'utils'"}]},{"range":[65176,69148],"loc":{"start":{"line":2249,"column":3},"end":{"line":2391,"column":1}},"type":"FunctionExpression","id":null,"params":[{"range":[65186,65189],"loc":{"start":{"line":2249,"column":13},"end":{"line":2249,"column":16}},"type":"Identifier","name":"EVT"},{"range":[65191,65197],"loc":{"start":{"line":2249,"column":18},"end":{"line":2249,"column":24}},"type":"Identifier","name":"Entity"},{"range":[65199,65207],"loc":{"start":{"line":2249,"column":26},"end":{"line":2249,"column":34}},"type":"Identifier","name":"Resource"},{"range":[65209,65214],"loc":{"start":{"line":2249,"column":36},"end":{"line":2249,"column":41}},"type":"Identifier","name":"Utils"}],"defaults":[],"body":{"range":[65216,69148],"loc":{"start":{"line":2249,"column":43},"end":{"line":2391,"column":1}},"type":"BlockStatement","body":[{"range":[65220,65233],"loc":{"start":{"line":2250,"column":2},"end":{"line":2250,"column":15}},"type":"ExpressionStatement","expression":{"range":[65220,65232],"loc":{"start":{"line":2250,"column":2},"end":{"line":2250,"column":14}},"type":"Literal","value":"use strict","raw":"'use strict'"},"trailingComments":[{"type":"Line","value":" Setup User inheritance from Entity.","range":[65237,65275],"loc":{"start":{"line":2252,"column":2},"end":{"line":2252,"column":40}}}]},{"range":[65278,65600],"loc":{"start":{"line":2253,"column":2},"end":{"line":2265,"column":4}},"type":"VariableDeclaration","declarations":[{"range":[65282,65599],"loc":{"start":{"line":2253,"column":6},"end":{"line":2265,"column":3}},"type":"VariableDeclarator","id":{"range":[65282,65286],"loc":{"start":{"line":2253,"column":6},"end":{"line":2253,"column":10}},"type":"Identifier","name":"User"},"init":{"range":[65289,65599],"loc":{"start":{"line":2253,"column":13},"end":{"line":2265,"column":3}},"type":"FunctionExpression","id":null,"params":[{"range":[65299,65306],"loc":{"start":{"line":2253,"column":23},"end":{"line":2253,"column":30}},"type":"Identifier","name":"objData"}],"defaults":[],"body":{"range":[65308,65599],"loc":{"start":{"line":2253,"column":32},"end":{"line":2265,"column":3}},"type":"BlockStatement","body":[{"range":[65408,65429],"loc":{"start":{"line":2257,"column":4},"end":{"line":2257,"column":25}},"type":"VariableDeclaration","declarations":[{"range":[65412,65428],"loc":{"start":{"line":2257,"column":8},"end":{"line":2257,"column":24}},"type":"VariableDeclarator","id":{"range":[65412,65416],"loc":{"start":{"line":2257,"column":8},"end":{"line":2257,"column":12}},"type":"Identifier","name":"args"},"init":{"range":[65419,65428],"loc":{"start":{"line":2257,"column":15},"end":{"line":2257,"column":24}},"type":"Identifier","name":"arguments"}}],"kind":"var","leadingComments":[{"type":"Line","value":" Rename user object argument's *evrythngUser* property to","range":[65315,65374],"loc":{"start":{"line":2255,"column":4},"end":{"line":2255,"column":63}}},{"type":"Line","value":" entity-standard-*id*.","range":[65379,65403],"loc":{"start":{"line":2256,"column":4},"end":{"line":2256,"column":28}}}]},{"range":[65434,65541],"loc":{"start":{"line":2258,"column":4},"end":{"line":2261,"column":5}},"type":"IfStatement","test":{"range":[65437,65457],"loc":{"start":{"line":2258,"column":7},"end":{"line":2258,"column":27}},"type":"MemberExpression","computed":false,"object":{"range":[65437,65444],"loc":{"start":{"line":2258,"column":7},"end":{"line":2258,"column":14}},"type":"Identifier","name":"objData"},"property":{"range":[65445,65457],"loc":{"start":{"line":2258,"column":15},"end":{"line":2258,"column":27}},"type":"Identifier","name":"evrythngUser"}},"consequent":{"range":[65458,65541],"loc":{"start":{"line":2258,"column":28},"end":{"line":2261,"column":5}},"type":"BlockStatement","body":[{"range":[65466,65500],"loc":{"start":{"line":2259,"column":6},"end":{"line":2259,"column":40}},"type":"ExpressionStatement","expression":{"range":[65466,65499],"loc":{"start":{"line":2259,"column":6},"end":{"line":2259,"column":39}},"type":"AssignmentExpression","operator":"=","left":{"range":[65466,65476],"loc":{"start":{"line":2259,"column":6},"end":{"line":2259,"column":16}},"type":"MemberExpression","computed":false,"object":{"range":[65466,65473],"loc":{"start":{"line":2259,"column":6},"end":{"line":2259,"column":13}},"type":"Identifier","name":"objData"},"property":{"range":[65474,65476],"loc":{"start":{"line":2259,"column":14},"end":{"line":2259,"column":16}},"type":"Identifier","name":"id"}},"right":{"range":[65479,65499],"loc":{"start":{"line":2259,"column":19},"end":{"line":2259,"column":39}},"type":"MemberExpression","computed":false,"object":{"range":[65479,65486],"loc":{"start":{"line":2259,"column":19},"end":{"line":2259,"column":26}},"type":"Identifier","name":"objData"},"property":{"range":[65487,65499],"loc":{"start":{"line":2259,"column":27},"end":{"line":2259,"column":39}},"type":"Identifier","name":"evrythngUser"}}}},{"range":[65507,65535],"loc":{"start":{"line":2260,"column":6},"end":{"line":2260,"column":34}},"type":"ExpressionStatement","expression":{"range":[65507,65534],"loc":{"start":{"line":2260,"column":6},"end":{"line":2260,"column":33}},"type":"UnaryExpression","operator":"delete","argument":{"range":[65514,65534],"loc":{"start":{"line":2260,"column":13},"end":{"line":2260,"column":33}},"type":"MemberExpression","computed":false,"object":{"range":[65514,65521],"loc":{"start":{"line":2260,"column":13},"end":{"line":2260,"column":20}},"type":"Identifier","name":"objData"},"property":{"range":[65522,65534],"loc":{"start":{"line":2260,"column":21},"end":{"line":2260,"column":33}},"type":"Identifier","name":"evrythngUser"}},"prefix":true}}]},"alternate":null},{"range":[65546,65564],"loc":{"start":{"line":2262,"column":4},"end":{"line":2262,"column":22}},"type":"ExpressionStatement","expression":{"range":[65546,65563],"loc":{"start":{"line":2262,"column":4},"end":{"line":2262,"column":21}},"type":"AssignmentExpression","operator":"=","left":{"range":[65546,65553],"loc":{"start":{"line":2262,"column":4},"end":{"line":2262,"column":11}},"type":"MemberExpression","computed":true,"object":{"range":[65546,65550],"loc":{"start":{"line":2262,"column":4},"end":{"line":2262,"column":8}},"type":"Identifier","name":"args"},"property":{"range":[65551,65552],"loc":{"start":{"line":2262,"column":9},"end":{"line":2262,"column":10}},"type":"Literal","value":0,"raw":"0"}},"right":{"range":[65556,65563],"loc":{"start":{"line":2262,"column":14},"end":{"line":2262,"column":21}},"type":"Identifier","name":"objData"}}},{"range":[65570,65595],"loc":{"start":{"line":2264,"column":4},"end":{"line":2264,"column":29}},"type":"ExpressionStatement","expression":{"range":[65570,65594],"loc":{"start":{"line":2264,"column":4},"end":{"line":2264,"column":28}},"type":"CallExpression","callee":{"range":[65570,65582],"loc":{"start":{"line":2264,"column":4},"end":{"line":2264,"column":16}},"type":"MemberExpression","computed":false,"object":{"range":[65570,65576],"loc":{"start":{"line":2264,"column":4},"end":{"line":2264,"column":10}},"type":"Identifier","name":"Entity"},"property":{"range":[65577,65582],"loc":{"start":{"line":2264,"column":11},"end":{"line":2264,"column":16}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[65583,65587],"loc":{"start":{"line":2264,"column":17},"end":{"line":2264,"column":21}},"type":"ThisExpression"},{"range":[65589,65593],"loc":{"start":{"line":2264,"column":23},"end":{"line":2264,"column":27}},"type":"Identifier","name":"args"}]}}]},"generator":false,"expression":false}}],"kind":"var","leadingComments":[{"type":"Line","value":" Setup User inheritance from Entity.","range":[65237,65275],"loc":{"start":{"line":2252,"column":2},"end":{"line":2252,"column":40}}}]},{"range":[65604,65653],"loc":{"start":{"line":2267,"column":2},"end":{"line":2267,"column":51}},"type":"ExpressionStatement","expression":{"range":[65604,65652],"loc":{"start":{"line":2267,"column":2},"end":{"line":2267,"column":50}},"type":"AssignmentExpression","operator":"=","left":{"range":[65604,65618],"loc":{"start":{"line":2267,"column":2},"end":{"line":2267,"column":16}},"type":"MemberExpression","computed":false,"object":{"range":[65604,65608],"loc":{"start":{"line":2267,"column":2},"end":{"line":2267,"column":6}},"type":"Identifier","name":"User"},"property":{"range":[65609,65618],"loc":{"start":{"line":2267,"column":7},"end":{"line":2267,"column":16}},"type":"Identifier","name":"prototype"}},"right":{"range":[65621,65652],"loc":{"start":{"line":2267,"column":19},"end":{"line":2267,"column":50}},"type":"CallExpression","callee":{"range":[65621,65634],"loc":{"start":{"line":2267,"column":19},"end":{"line":2267,"column":32}},"type":"MemberExpression","computed":false,"object":{"range":[65621,65627],"loc":{"start":{"line":2267,"column":19},"end":{"line":2267,"column":25}},"type":"Identifier","name":"Object"},"property":{"range":[65628,65634],"loc":{"start":{"line":2267,"column":26},"end":{"line":2267,"column":32}},"type":"Identifier","name":"create"}},"arguments":[{"range":[65635,65651],"loc":{"start":{"line":2267,"column":33},"end":{"line":2267,"column":49}},"type":"MemberExpression","computed":false,"object":{"range":[65635,65641],"loc":{"start":{"line":2267,"column":33},"end":{"line":2267,"column":39}},"type":"Identifier","name":"Entity"},"property":{"range":[65642,65651],"loc":{"start":{"line":2267,"column":40},"end":{"line":2267,"column":49}},"type":"Identifier","name":"prototype"}}]}}},{"range":[65656,65690],"loc":{"start":{"line":2268,"column":2},"end":{"line":2268,"column":36}},"type":"ExpressionStatement","expression":{"range":[65656,65689],"loc":{"start":{"line":2268,"column":2},"end":{"line":2268,"column":35}},"type":"AssignmentExpression","operator":"=","left":{"range":[65656,65682],"loc":{"start":{"line":2268,"column":2},"end":{"line":2268,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[65656,65670],"loc":{"start":{"line":2268,"column":2},"end":{"line":2268,"column":16}},"type":"MemberExpression","computed":false,"object":{"range":[65656,65660],"loc":{"start":{"line":2268,"column":2},"end":{"line":2268,"column":6}},"type":"Identifier","name":"User"},"property":{"range":[65661,65670],"loc":{"start":{"line":2268,"column":7},"end":{"line":2268,"column":16}},"type":"Identifier","name":"prototype"}},"property":{"range":[65671,65682],"loc":{"start":{"line":2268,"column":17},"end":{"line":2268,"column":28}},"type":"Identifier","name":"constructor"}},"right":{"range":[65685,65689],"loc":{"start":{"line":2268,"column":31},"end":{"line":2268,"column":35}},"type":"Identifier","name":"User"}},"trailingComments":[{"type":"Line","value":" The validate method sends a `POST` request to the validate","range":[65694,65755],"loc":{"start":{"line":2270,"column":2},"end":{"line":2270,"column":63}}},{"type":"Line","value":" endpoint of a new user. This is only valid when the User","range":[65758,65817],"loc":{"start":{"line":2271,"column":2},"end":{"line":2271,"column":61}}},{"type":"Line","value":" resource path is *'/auth/evrythng/users/1'*.","range":[65820,65867],"loc":{"start":{"line":2272,"column":2},"end":{"line":2272,"column":49}}}]},{"range":[65870,66612],"loc":{"start":{"line":2273,"column":2},"end":{"line":2300,"column":3}},"type":"FunctionDeclaration","id":{"range":[65879,65887],"loc":{"start":{"line":2273,"column":11},"end":{"line":2273,"column":19}},"type":"Identifier","name":"validate"},"params":[{"range":[65888,65902],"loc":{"start":{"line":2273,"column":20},"end":{"line":2273,"column":34}},"type":"Identifier","name":"activationCode"}],"defaults":[],"body":{"range":[65904,66612],"loc":{"start":{"line":2273,"column":36},"end":{"line":2300,"column":3}},"type":"BlockStatement","body":[{"range":[65911,66033],"loc":{"start":{"line":2275,"column":4},"end":{"line":2277,"column":5}},"type":"IfStatement","test":{"range":[65914,65964],"loc":{"start":{"line":2275,"column":7},"end":{"line":2275,"column":57}},"type":"LogicalExpression","operator":"||","left":{"range":[65914,65929],"loc":{"start":{"line":2275,"column":7},"end":{"line":2275,"column":22}},"type":"UnaryExpression","operator":"!","argument":{"range":[65915,65929],"loc":{"start":{"line":2275,"column":8},"end":{"line":2275,"column":22}},"type":"Identifier","name":"activationCode"},"prefix":true},"right":{"range":[65933,65964],"loc":{"start":{"line":2275,"column":26},"end":{"line":2275,"column":57}},"type":"UnaryExpression","operator":"!","argument":{"range":[65934,65964],"loc":{"start":{"line":2275,"column":27},"end":{"line":2275,"column":57}},"type":"CallExpression","callee":{"range":[65934,65948],"loc":{"start":{"line":2275,"column":27},"end":{"line":2275,"column":41}},"type":"MemberExpression","computed":false,"object":{"range":[65934,65939],"loc":{"start":{"line":2275,"column":27},"end":{"line":2275,"column":32}},"type":"Identifier","name":"Utils"},"property":{"range":[65940,65948],"loc":{"start":{"line":2275,"column":33},"end":{"line":2275,"column":41}},"type":"Identifier","name":"isString"}},"arguments":[{"range":[65949,65963],"loc":{"start":{"line":2275,"column":42},"end":{"line":2275,"column":56}},"type":"Identifier","name":"activationCode"}]},"prefix":true}},"consequent":{"range":[65966,66033],"loc":{"start":{"line":2275,"column":59},"end":{"line":2277,"column":5}},"type":"BlockStatement","body":[{"range":[65974,66027],"loc":{"start":{"line":2276,"column":6},"end":{"line":2276,"column":59}},"type":"ThrowStatement","argument":{"range":[65980,66026],"loc":{"start":{"line":2276,"column":12},"end":{"line":2276,"column":58}},"type":"NewExpression","callee":{"range":[65984,65989],"loc":{"start":{"line":2276,"column":16},"end":{"line":2276,"column":21}},"type":"Identifier","name":"Error"},"arguments":[{"range":[65990,66025],"loc":{"start":{"line":2276,"column":22},"end":{"line":2276,"column":57}},"type":"Literal","value":"Activation code must be a string.","raw":"'Activation code must be a string.'"}]}}]},"alternate":null},{"range":[66038,66151],"loc":{"start":{"line":2278,"column":4},"end":{"line":2280,"column":5}},"type":"IfStatement","test":{"range":[66042,66080],"loc":{"start":{"line":2278,"column":8},"end":{"line":2278,"column":46}},"type":"LogicalExpression","operator":"&&","left":{"range":[66042,66051],"loc":{"start":{"line":2278,"column":8},"end":{"line":2278,"column":17}},"type":"MemberExpression","computed":false,"object":{"range":[66042,66046],"loc":{"start":{"line":2278,"column":8},"end":{"line":2278,"column":12}},"type":"ThisExpression"},"property":{"range":[66047,66051],"loc":{"start":{"line":2278,"column":13},"end":{"line":2278,"column":17}},"type":"Identifier","name":"type"}},"right":{"range":[66055,66080],"loc":{"start":{"line":2278,"column":21},"end":{"line":2278,"column":46}},"type":"BinaryExpression","operator":"===","left":{"range":[66055,66064],"loc":{"start":{"line":2278,"column":21},"end":{"line":2278,"column":30}},"type":"MemberExpression","computed":false,"object":{"range":[66055,66059],"loc":{"start":{"line":2278,"column":21},"end":{"line":2278,"column":25}},"type":"ThisExpression"},"property":{"range":[66060,66064],"loc":{"start":{"line":2278,"column":26},"end":{"line":2278,"column":30}},"type":"Identifier","name":"type"}},"right":{"range":[66069,66080],"loc":{"start":{"line":2278,"column":35},"end":{"line":2278,"column":46}},"type":"Literal","value":"anonymous","raw":"'anonymous'"}}},"consequent":{"range":[66082,66151],"loc":{"start":{"line":2278,"column":48},"end":{"line":2280,"column":5}},"type":"BlockStatement","body":[{"range":[66090,66145],"loc":{"start":{"line":2279,"column":6},"end":{"line":2279,"column":61}},"type":"ThrowStatement","argument":{"range":[66096,66144],"loc":{"start":{"line":2279,"column":12},"end":{"line":2279,"column":60}},"type":"NewExpression","callee":{"range":[66100,66105],"loc":{"start":{"line":2279,"column":16},"end":{"line":2279,"column":21}},"type":"Identifier","name":"Error"},"arguments":[{"range":[66106,66143],"loc":{"start":{"line":2279,"column":22},"end":{"line":2279,"column":59}},"type":"Literal","value":"Anonymous users can't be validated.","raw":"\"Anonymous users can't be validated.\""}]}}]},"alternate":null},{"range":[66157,66198],"loc":{"start":{"line":2282,"column":4},"end":{"line":2282,"column":45}},"type":"VariableDeclaration","declarations":[{"range":[66161,66179],"loc":{"start":{"line":2282,"column":8},"end":{"line":2282,"column":26}},"type":"VariableDeclarator","id":{"range":[66161,66166],"loc":{"start":{"line":2282,"column":8},"end":{"line":2282,"column":13}},"type":"Identifier","name":"scope"},"init":{"range":[66169,66179],"loc":{"start":{"line":2282,"column":16},"end":{"line":2282,"column":26}},"type":"MemberExpression","computed":false,"object":{"range":[66169,66173],"loc":{"start":{"line":2282,"column":16},"end":{"line":2282,"column":20}},"type":"ThisExpression"},"property":{"range":[66174,66179],"loc":{"start":{"line":2282,"column":21},"end":{"line":2282,"column":26}},"type":"Identifier","name":"scope"}}},{"range":[66181,66197],"loc":{"start":{"line":2282,"column":28},"end":{"line":2282,"column":44}},"type":"VariableDeclarator","id":{"range":[66181,66185],"loc":{"start":{"line":2282,"column":28},"end":{"line":2282,"column":32}},"type":"Identifier","name":"path"},"init":{"range":[66188,66197],"loc":{"start":{"line":2282,"column":35},"end":{"line":2282,"column":44}},"type":"MemberExpression","computed":false,"object":{"range":[66188,66192],"loc":{"start":{"line":2282,"column":35},"end":{"line":2282,"column":39}},"type":"ThisExpression"},"property":{"range":[66193,66197],"loc":{"start":{"line":2282,"column":40},"end":{"line":2282,"column":44}},"type":"Identifier","name":"path"}}}],"kind":"var","trailingComments":[{"type":"Line","value":" If validate is called from the entity, the scope is the","range":[66204,66262],"loc":{"start":{"line":2284,"column":4},"end":{"line":2284,"column":62}}},{"type":"Line","value":" resource's scope","range":[66267,66286],"loc":{"start":{"line":2285,"column":4},"end":{"line":2285,"column":23}}}]},{"range":[66291,66393],"loc":{"start":{"line":2286,"column":4},"end":{"line":2289,"column":5}},"type":"IfStatement","test":{"range":[66294,66301],"loc":{"start":{"line":2286,"column":7},"end":{"line":2286,"column":14}},"type":"MemberExpression","computed":false,"object":{"range":[66294,66298],"loc":{"start":{"line":2286,"column":7},"end":{"line":2286,"column":11}},"type":"ThisExpression"},"property":{"range":[66299,66301],"loc":{"start":{"line":2286,"column":12},"end":{"line":2286,"column":14}},"type":"Identifier","name":"id"}},"consequent":{"range":[66302,66393],"loc":{"start":{"line":2286,"column":15},"end":{"line":2289,"column":5}},"type":"BlockStatement","body":[{"range":[66310,66338],"loc":{"start":{"line":2287,"column":6},"end":{"line":2287,"column":34}},"type":"ExpressionStatement","expression":{"range":[66310,66337],"loc":{"start":{"line":2287,"column":6},"end":{"line":2287,"column":33}},"type":"AssignmentExpression","operator":"=","left":{"range":[66310,66315],"loc":{"start":{"line":2287,"column":6},"end":{"line":2287,"column":11}},"type":"Identifier","name":"scope"},"right":{"range":[66318,66337],"loc":{"start":{"line":2287,"column":14},"end":{"line":2287,"column":33}},"type":"MemberExpression","computed":false,"object":{"range":[66318,66331],"loc":{"start":{"line":2287,"column":14},"end":{"line":2287,"column":27}},"type":"MemberExpression","computed":false,"object":{"range":[66318,66322],"loc":{"start":{"line":2287,"column":14},"end":{"line":2287,"column":18}},"type":"ThisExpression"},"property":{"range":[66323,66331],"loc":{"start":{"line":2287,"column":19},"end":{"line":2287,"column":27}},"type":"Identifier","name":"resource"}},"property":{"range":[66332,66337],"loc":{"start":{"line":2287,"column":28},"end":{"line":2287,"column":33}},"type":"Identifier","name":"scope"}}}},{"range":[66345,66387],"loc":{"start":{"line":2288,"column":6},"end":{"line":2288,"column":48}},"type":"ExpressionStatement","expression":{"range":[66345,66386],"loc":{"start":{"line":2288,"column":6},"end":{"line":2288,"column":47}},"type":"AssignmentExpression","operator":"=","left":{"range":[66345,66349],"loc":{"start":{"line":2288,"column":6},"end":{"line":2288,"column":10}},"type":"Identifier","name":"path"},"right":{"range":[66352,66386],"loc":{"start":{"line":2288,"column":13},"end":{"line":2288,"column":47}},"type":"BinaryExpression","operator":"+","left":{"range":[66352,66376],"loc":{"start":{"line":2288,"column":13},"end":{"line":2288,"column":37}},"type":"BinaryExpression","operator":"+","left":{"range":[66352,66370],"loc":{"start":{"line":2288,"column":13},"end":{"line":2288,"column":31}},"type":"MemberExpression","computed":false,"object":{"range":[66352,66365],"loc":{"start":{"line":2288,"column":13},"end":{"line":2288,"column":26}},"type":"MemberExpression","computed":false,"object":{"range":[66352,66356],"loc":{"start":{"line":2288,"column":13},"end":{"line":2288,"column":17}},"type":"ThisExpression"},"property":{"range":[66357,66365],"loc":{"start":{"line":2288,"column":18},"end":{"line":2288,"column":26}},"type":"Identifier","name":"resource"}},"property":{"range":[66366,66370],"loc":{"start":{"line":2288,"column":27},"end":{"line":2288,"column":31}},"type":"Identifier","name":"path"}},"right":{"range":[66373,66376],"loc":{"start":{"line":2288,"column":34},"end":{"line":2288,"column":37}},"type":"Literal","value":"/","raw":"'/'"}},"right":{"range":[66379,66386],"loc":{"start":{"line":2288,"column":40},"end":{"line":2288,"column":47}},"type":"MemberExpression","computed":false,"object":{"range":[66379,66383],"loc":{"start":{"line":2288,"column":40},"end":{"line":2288,"column":44}},"type":"ThisExpression"},"property":{"range":[66384,66386],"loc":{"start":{"line":2288,"column":45},"end":{"line":2288,"column":47}},"type":"Identifier","name":"id"}}}}}]},"alternate":null,"leadingComments":[{"type":"Line","value":" If validate is called from the entity, the scope is the","range":[66204,66262],"loc":{"start":{"line":2284,"column":4},"end":{"line":2284,"column":62}}},{"type":"Line","value":" resource's scope","range":[66267,66286],"loc":{"start":{"line":2285,"column":4},"end":{"line":2285,"column":23}}}],"trailingComments":[{"type":"Line","value":" Activate newly created user.","range":[66399,66430],"loc":{"start":{"line":2291,"column":4},"end":{"line":2291,"column":35}}}]},{"range":[66435,66608],"loc":{"start":{"line":2292,"column":4},"end":{"line":2299,"column":7}},"type":"ReturnStatement","argument":{"range":[66442,66607],"loc":{"start":{"line":2292,"column":11},"end":{"line":2299,"column":6}},"type":"CallExpression","callee":{"range":[66442,66449],"loc":{"start":{"line":2292,"column":11},"end":{"line":2292,"column":18}},"type":"MemberExpression","computed":false,"object":{"range":[66442,66445],"loc":{"start":{"line":2292,"column":11},"end":{"line":2292,"column":14}},"type":"Identifier","name":"EVT"},"property":{"range":[66446,66449],"loc":{"start":{"line":2292,"column":15},"end":{"line":2292,"column":18}},"type":"Identifier","name":"api"}},"arguments":[{"range":[66450,66606],"loc":{"start":{"line":2292,"column":19},"end":{"line":2299,"column":5}},"type":"ObjectExpression","properties":[{"range":[66458,66481],"loc":{"start":{"line":2293,"column":6},"end":{"line":2293,"column":29}},"type":"Property","key":{"range":[66458,66461],"loc":{"start":{"line":2293,"column":6},"end":{"line":2293,"column":9}},"type":"Identifier","name":"url"},"computed":false,"value":{"range":[66463,66481],"loc":{"start":{"line":2293,"column":11},"end":{"line":2293,"column":29}},"type":"BinaryExpression","operator":"+","left":{"range":[66463,66467],"loc":{"start":{"line":2293,"column":11},"end":{"line":2293,"column":15}},"type":"Identifier","name":"path"},"right":{"range":[66470,66481],"loc":{"start":{"line":2293,"column":18},"end":{"line":2293,"column":29}},"type":"Literal","value":"/validate","raw":"'/validate'"}},"kind":"init","method":false,"shorthand":false},{"range":[66489,66503],"loc":{"start":{"line":2294,"column":6},"end":{"line":2294,"column":20}},"type":"Property","key":{"range":[66489,66495],"loc":{"start":{"line":2294,"column":6},"end":{"line":2294,"column":12}},"type":"Identifier","name":"method"},"computed":false,"value":{"range":[66497,66503],"loc":{"start":{"line":2294,"column":14},"end":{"line":2294,"column":20}},"type":"Literal","value":"post","raw":"'post'"},"kind":"init","method":false,"shorthand":false},{"range":[66511,66538],"loc":{"start":{"line":2295,"column":6},"end":{"line":2295,"column":33}},"type":"Property","key":{"range":[66511,66524],"loc":{"start":{"line":2295,"column":6},"end":{"line":2295,"column":19}},"type":"Identifier","name":"authorization"},"computed":false,"value":{"range":[66526,66538],"loc":{"start":{"line":2295,"column":21},"end":{"line":2295,"column":33}},"type":"MemberExpression","computed":false,"object":{"range":[66526,66531],"loc":{"start":{"line":2295,"column":21},"end":{"line":2295,"column":26}},"type":"Identifier","name":"scope"},"property":{"range":[66532,66538],"loc":{"start":{"line":2295,"column":27},"end":{"line":2295,"column":33}},"type":"Identifier","name":"apiKey"}},"kind":"init","method":false,"shorthand":false},{"range":[66546,66600],"loc":{"start":{"line":2296,"column":6},"end":{"line":2298,"column":7}},"type":"Property","key":{"range":[66546,66550],"loc":{"start":{"line":2296,"column":6},"end":{"line":2296,"column":10}},"type":"Identifier","name":"data"},"computed":false,"value":{"range":[66552,66600],"loc":{"start":{"line":2296,"column":12},"end":{"line":2298,"column":7}},"type":"ObjectExpression","properties":[{"range":[66562,66592],"loc":{"start":{"line":2297,"column":8},"end":{"line":2297,"column":38}},"type":"Property","key":{"range":[66562,66576],"loc":{"start":{"line":2297,"column":8},"end":{"line":2297,"column":22}},"type":"Identifier","name":"activationCode"},"computed":false,"value":{"range":[66578,66592],"loc":{"start":{"line":2297,"column":24},"end":{"line":2297,"column":38}},"type":"Identifier","name":"activationCode"},"kind":"init","method":false,"shorthand":false}]},"kind":"init","method":false,"shorthand":false}]}]},"leadingComments":[{"type":"Line","value":" Activate newly created user.","range":[66399,66430],"loc":{"start":{"line":2291,"column":4},"end":{"line":2291,"column":35}}}]}]},"generator":false,"expression":false,"leadingComments":[{"type":"Line","value":" The validate method sends a `POST` request to the validate","range":[65694,65755],"loc":{"start":{"line":2270,"column":2},"end":{"line":2270,"column":63}}},{"type":"Line","value":" endpoint of a new user. This is only valid when the User","range":[65758,65817],"loc":{"start":{"line":2271,"column":2},"end":{"line":2271,"column":61}}},{"type":"Line","value":" resource path is *'/auth/evrythng/users/1'*.","range":[65820,65867],"loc":{"start":{"line":2272,"column":2},"end":{"line":2272,"column":49}}}],"trailingComments":[{"type":"Line","value":" Create an anonymous user","range":[66616,66643],"loc":{"start":{"line":2302,"column":2},"end":{"line":2302,"column":29}}},{"type":"Line","value":" It's a somewhat different process since anonymous users are created","range":[66646,66716],"loc":{"start":{"line":2303,"column":2},"end":{"line":2303,"column":72}}},{"type":"Line","value":" \"good to go\", they don't need validation.","range":[66719,66763],"loc":{"start":{"line":2304,"column":2},"end":{"line":2304,"column":46}}}]},{"range":[66766,67263],"loc":{"start":{"line":2305,"column":2},"end":{"line":2324,"column":3}},"type":"FunctionDeclaration","id":{"range":[66775,66795],"loc":{"start":{"line":2305,"column":11},"end":{"line":2305,"column":31}},"type":"Identifier","name":"_createAnonymousUser"},"params":[],"defaults":[],"body":{"range":[66798,67263],"loc":{"start":{"line":2305,"column":34},"end":{"line":2324,"column":3}},"type":"BlockStatement","body":[{"range":[66804,66821],"loc":{"start":{"line":2306,"column":4},"end":{"line":2306,"column":21}},"type":"VariableDeclaration","declarations":[{"range":[66808,66820],"loc":{"start":{"line":2306,"column":8},"end":{"line":2306,"column":20}},"type":"VariableDeclarator","id":{"range":[66808,66813],"loc":{"start":{"line":2306,"column":8},"end":{"line":2306,"column":13}},"type":"Identifier","name":"$this"},"init":{"range":[66816,66820],"loc":{"start":{"line":2306,"column":16},"end":{"line":2306,"column":20}},"type":"ThisExpression"}}],"kind":"var"},{"range":[66827,67259],"loc":{"start":{"line":2308,"column":4},"end":{"line":2323,"column":7}},"type":"ReturnStatement","argument":{"range":[66834,67258],"loc":{"start":{"line":2308,"column":11},"end":{"line":2323,"column":6}},"type":"CallExpression","callee":{"range":[66834,67043],"loc":{"start":{"line":2308,"column":11},"end":{"line":2316,"column":11}},"type":"MemberExpression","computed":false,"object":{"range":[66834,67038],"loc":{"start":{"line":2308,"column":11},"end":{"line":2316,"column":6}},"type":"CallExpression","callee":{"range":[66834,66841],"loc":{"start":{"line":2308,"column":11},"end":{"line":2308,"column":18}},"type":"MemberExpression","computed":false,"object":{"range":[66834,66837],"loc":{"start":{"line":2308,"column":11},"end":{"line":2308,"column":14}},"type":"Identifier","name":"EVT"},"property":{"range":[66838,66841],"loc":{"start":{"line":2308,"column":15},"end":{"line":2308,"column":18}},"type":"Identifier","name":"api"}},"arguments":[{"range":[66842,67037],"loc":{"start":{"line":2308,"column":19},"end":{"line":2316,"column":5}},"type":"ObjectExpression","properties":[{"range":[66850,66864],"loc":{"start":{"line":2309,"column":6},"end":{"line":2309,"column":20}},"type":"Property","key":{"range":[66850,66853],"loc":{"start":{"line":2309,"column":6},"end":{"line":2309,"column":9}},"type":"Identifier","name":"url"},"computed":false,"value":{"range":[66855,66864],"loc":{"start":{"line":2309,"column":11},"end":{"line":2309,"column":20}},"type":"MemberExpression","computed":false,"object":{"range":[66855,66859],"loc":{"start":{"line":2309,"column":11},"end":{"line":2309,"column":15}},"type":"ThisExpression"},"property":{"range":[66860,66864],"loc":{"start":{"line":2309,"column":16},"end":{"line":2309,"column":20}},"type":"Identifier","name":"path"}},"kind":"init","method":false,"shorthand":false},{"range":[66872,66886],"loc":{"start":{"line":2310,"column":6},"end":{"line":2310,"column":20}},"type":"Property","key":{"range":[66872,66878],"loc":{"start":{"line":2310,"column":6},"end":{"line":2310,"column":12}},"type":"Identifier","name":"method"},"computed":false,"value":{"range":[66880,66886],"loc":{"start":{"line":2310,"column":14},"end":{"line":2310,"column":20}},"type":"Literal","value":"post","raw":"'post'"},"kind":"init","method":false,"shorthand":false},{"range":[66894,66975],"loc":{"start":{"line":2311,"column":6},"end":{"line":2313,"column":7}},"type":"Property","key":{"range":[66894,66900],"loc":{"start":{"line":2311,"column":6},"end":{"line":2311,"column":12}},"type":"Identifier","name":"params"},"computed":false,"value":{"range":[66902,66975],"loc":{"start":{"line":2311,"column":14},"end":{"line":2313,"column":7}},"type":"ObjectExpression","properties":[{"range":[66912,66927],"loc":{"start":{"line":2312,"column":8},"end":{"line":2312,"column":23}},"type":"Property","key":{"range":[66912,66921],"loc":{"start":{"line":2312,"column":8},"end":{"line":2312,"column":17}},"type":"Identifier","name":"anonymous"},"computed":false,"value":{"range":[66923,66927],"loc":{"start":{"line":2312,"column":19},"end":{"line":2312,"column":23}},"type":"Literal","value":true,"raw":"true"},"kind":"init","method":false,"shorthand":false,"trailingComments":[{"type":"Line","value":" must be set to create anonymous user","range":[66928,66967],"loc":{"start":{"line":2312,"column":24},"end":{"line":2312,"column":63}}}]}]},"kind":"init","method":false,"shorthand":false},{"range":[66983,66991],"loc":{"start":{"line":2314,"column":6},"end":{"line":2314,"column":14}},"type":"Property","key":{"range":[66983,66987],"loc":{"start":{"line":2314,"column":6},"end":{"line":2314,"column":10}},"type":"Identifier","name":"data"},"computed":false,"value":{"range":[66989,66991],"loc":{"start":{"line":2314,"column":12},"end":{"line":2314,"column":14}},"type":"ObjectExpression","properties":[]},"kind":"init","method":false,"shorthand":false,"leadingComments":[{"type":"Line","value":" must be set to create anonymous user","range":[66928,66967],"loc":{"start":{"line":2312,"column":24},"end":{"line":2312,"column":63}}}]},{"range":[66999,67031],"loc":{"start":{"line":2315,"column":6},"end":{"line":2315,"column":38}},"type":"Property","key":{"range":[66999,67012],"loc":{"start":{"line":2315,"column":6},"end":{"line":2315,"column":19}},"type":"Identifier","name":"authorization"},"computed":false,"value":{"range":[67014,67031],"loc":{"start":{"line":2315,"column":21},"end":{"line":2315,"column":38}},"type":"MemberExpression","computed":false,"object":{"range":[67014,67024],"loc":{"start":{"line":2315,"column":21},"end":{"line":2315,"column":31}},"type":"MemberExpression","computed":false,"object":{"range":[67014,67018],"loc":{"start":{"line":2315,"column":21},"end":{"line":2315,"column":25}},"type":"ThisExpression"},"property":{"range":[67019,67024],"loc":{"start":{"line":2315,"column":26},"end":{"line":2315,"column":31}},"type":"Identifier","name":"scope"}},"property":{"range":[67025,67031],"loc":{"start":{"line":2315,"column":32},"end":{"line":2315,"column":38}},"type":"Identifier","name":"apiKey"}},"kind":"init","method":false,"shorthand":false}]}]},"property":{"range":[67039,67043],"loc":{"start":{"line":2316,"column":7},"end":{"line":2316,"column":11}},"type":"Identifier","name":"then"}},"arguments":[{"range":[67044,67257],"loc":{"start":{"line":2316,"column":12},"end":{"line":2323,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[67054,67060],"loc":{"start":{"line":2316,"column":22},"end":{"line":2316,"column":28}},"type":"Identifier","name":"access"}],"defaults":[],"body":{"range":[67062,67257],"loc":{"start":{"line":2316,"column":30},"end":{"line":2323,"column":5}},"type":"BlockStatement","body":[{"range":[67101,67251],"loc":{"start":{"line":2318,"column":8},"end":{"line":2322,"column":24}},"type":"ReturnStatement","argument":{"range":[67108,67250],"loc":{"start":{"line":2318,"column":15},"end":{"line":2322,"column":23}},"type":"NewExpression","callee":{"range":[67112,67120],"loc":{"start":{"line":2318,"column":19},"end":{"line":2318,"column":27}},"type":"MemberExpression","computed":false,"object":{"range":[67112,67115],"loc":{"start":{"line":2318,"column":19},"end":{"line":2318,"column":22}},"type":"Identifier","name":"EVT"},"property":{"range":[67116,67120],"loc":{"start":{"line":2318,"column":23},"end":{"line":2318,"column":27}},"type":"Identifier","name":"User"}},"arguments":[{"range":[67121,67236],"loc":{"start":{"line":2318,"column":28},"end":{"line":2322,"column":9}},"type":"ObjectExpression","properties":[{"range":[67133,67156],"loc":{"start":{"line":2319,"column":10},"end":{"line":2319,"column":33}},"type":"Property","key":{"range":[67133,67135],"loc":{"start":{"line":2319,"column":10},"end":{"line":2319,"column":12}},"type":"Identifier","name":"id"},"computed":false,"value":{"range":[67137,67156],"loc":{"start":{"line":2319,"column":14},"end":{"line":2319,"column":33}},"type":"MemberExpression","computed":false,"object":{"range":[67137,67143],"loc":{"start":{"line":2319,"column":14},"end":{"line":2319,"column":20}},"type":"Identifier","name":"access"},"property":{"range":[67144,67156],"loc":{"start":{"line":2319,"column":21},"end":{"line":2319,"column":33}},"type":"Identifier","name":"evrythngUser"}},"kind":"init","method":false,"shorthand":false},{"range":[67168,67197],"loc":{"start":{"line":2320,"column":10},"end":{"line":2320,"column":39}},"type":"Property","key":{"range":[67168,67174],"loc":{"start":{"line":2320,"column":10},"end":{"line":2320,"column":16}},"type":"Identifier","name":"apiKey"},"computed":false,"value":{"range":[67176,67197],"loc":{"start":{"line":2320,"column":18},"end":{"line":2320,"column":39}},"type":"MemberExpression","computed":false,"object":{"range":[67176,67182],"loc":{"start":{"line":2320,"column":18},"end":{"line":2320,"column":24}},"type":"Identifier","name":"access"},"property":{"range":[67183,67197],"loc":{"start":{"line":2320,"column":25},"end":{"line":2320,"column":39}},"type":"Identifier","name":"evrythngApiKey"}},"kind":"init","method":false,"shorthand":false},{"range":[67209,67226],"loc":{"start":{"line":2321,"column":10},"end":{"line":2321,"column":27}},"type":"Property","key":{"range":[67209,67213],"loc":{"start":{"line":2321,"column":10},"end":{"line":2321,"column":14}},"type":"Identifier","name":"type"},"computed":false,"value":{"range":[67215,67226],"loc":{"start":{"line":2321,"column":16},"end":{"line":2321,"column":27}},"type":"Literal","value":"anonymous","raw":"'anonymous'"},"kind":"init","method":false,"shorthand":false}]},{"range":[67238,67249],"loc":{"start":{"line":2322,"column":11},"end":{"line":2322,"column":22}},"type":"MemberExpression","computed":false,"object":{"range":[67238,67243],"loc":{"start":{"line":2322,"column":11},"end":{"line":2322,"column":16}},"type":"Identifier","name":"$this"},"property":{"range":[67244,67249],"loc":{"start":{"line":2322,"column":17},"end":{"line":2322,"column":22}},"type":"Identifier","name":"scope"}}]},"leadingComments":[{"type":"Line","value":" Create User Scope","range":[67072,67092],"loc":{"start":{"line":2317,"column":8},"end":{"line":2317,"column":28}}}]}]},"generator":false,"expression":false}]}}]},"generator":false,"expression":false,"leadingComments":[{"type":"Line","value":" Create an anonymous user","range":[66616,66643],"loc":{"start":{"line":2302,"column":2},"end":{"line":2302,"column":29}}},{"type":"Line","value":" It's a somewhat different process since anonymous users are created","range":[66646,66716],"loc":{"start":{"line":2303,"column":2},"end":{"line":2303,"column":72}}},{"type":"Line","value":" \"good to go\", they don't need validation.","range":[66719,66763],"loc":{"start":{"line":2304,"column":2},"end":{"line":2304,"column":46}}}],"trailingComments":[{"type":"Line","value":" Extend User API to allow to validate itself.","range":[67268,67315],"loc":{"start":{"line":2327,"column":2},"end":{"line":2327,"column":49}}}]},{"range":[67318,67451],"loc":{"start":{"line":2328,"column":2},"end":{"line":2334,"column":11}},"type":"ExpressionStatement","expression":{"range":[67318,67450],"loc":{"start":{"line":2328,"column":2},"end":{"line":2334,"column":10}},"type":"CallExpression","callee":{"range":[67318,67330],"loc":{"start":{"line":2328,"column":2},"end":{"line":2328,"column":14}},"type":"MemberExpression","computed":false,"object":{"range":[67318,67323],"loc":{"start":{"line":2328,"column":2},"end":{"line":2328,"column":7}},"type":"Identifier","name":"Utils"},"property":{"range":[67324,67330],"loc":{"start":{"line":2328,"column":8},"end":{"line":2328,"column":14}},"type":"Identifier","name":"extend"}},"arguments":[{"range":[67331,67345],"loc":{"start":{"line":2328,"column":15},"end":{"line":2328,"column":29}},"type":"MemberExpression","computed":false,"object":{"range":[67331,67335],"loc":{"start":{"line":2328,"column":15},"end":{"line":2328,"column":19}},"type":"Identifier","name":"User"},"property":{"range":[67336,67345],"loc":{"start":{"line":2328,"column":20},"end":{"line":2328,"column":29}},"type":"Identifier","name":"prototype"}},{"range":[67347,67443],"loc":{"start":{"line":2328,"column":31},"end":{"line":2334,"column":3}},"type":"ObjectExpression","properties":[{"range":[67354,67438],"loc":{"start":{"line":2330,"column":4},"end":{"line":2332,"column":5}},"type":"Property","key":{"range":[67354,67362],"loc":{"start":{"line":2330,"column":4},"end":{"line":2330,"column":12}},"type":"Identifier","name":"validate"},"computed":false,"value":{"range":[67364,67438],"loc":{"start":{"line":2330,"column":14},"end":{"line":2332,"column":5}},"type":"FunctionExpression","id":null,"params":[],"defaults":[],"body":{"range":[67376,67438],"loc":{"start":{"line":2330,"column":26},"end":{"line":2332,"column":5}},"type":"BlockStatement","body":[{"range":[67384,67432],"loc":{"start":{"line":2331,"column":6},"end":{"line":2331,"column":54}},"type":"ReturnStatement","argument":{"range":[67391,67431],"loc":{"start":{"line":2331,"column":13},"end":{"line":2331,"column":53}},"type":"CallExpression","callee":{"range":[67391,67404],"loc":{"start":{"line":2331,"column":13},"end":{"line":2331,"column":26}},"type":"MemberExpression","computed":false,"object":{"range":[67391,67399],"loc":{"start":{"line":2331,"column":13},"end":{"line":2331,"column":21}},"type":"Identifier","name":"validate"},"property":{"range":[67400,67404],"loc":{"start":{"line":2331,"column":22},"end":{"line":2331,"column":26}},"type":"Identifier","name":"call"}},"arguments":[{"range":[67405,67409],"loc":{"start":{"line":2331,"column":27},"end":{"line":2331,"column":31}},"type":"ThisExpression"},{"range":[67411,67430],"loc":{"start":{"line":2331,"column":33},"end":{"line":2331,"column":52}},"type":"MemberExpression","computed":false,"object":{"range":[67411,67415],"loc":{"start":{"line":2331,"column":33},"end":{"line":2331,"column":37}},"type":"ThisExpression"},"property":{"range":[67416,67430],"loc":{"start":{"line":2331,"column":38},"end":{"line":2331,"column":52}},"type":"Identifier","name":"activationCode"}}]}}]},"generator":false,"expression":false},"kind":"init","method":false,"shorthand":false}]},{"range":[67445,67449],"loc":{"start":{"line":2334,"column":5},"end":{"line":2334,"column":9}},"type":"Literal","value":true,"raw":"true"}]},"leadingComments":[{"type":"Line","value":" Extend User API to allow to validate itself.","range":[67268,67315],"loc":{"start":{"line":2327,"column":2},"end":{"line":2327,"column":49}}}],"trailingComments":[{"type":"Line","value":" Attach class to EVT module.","range":[67456,67486],"loc":{"start":{"line":2337,"column":2},"end":{"line":2337,"column":32}}}]},{"range":[67489,67512],"loc":{"start":{"line":2338,"column":2},"end":{"line":2338,"column":25}},"type":"ExpressionStatement","expression":{"range":[67489,67511],"loc":{"start":{"line":2338,"column":2},"end":{"line":2338,"column":24}},"type":"AssignmentExpression","operator":"=","left":{"range":[67489,67504],"loc":{"start":{"line":2338,"column":2},"end":{"line":2338,"column":17}},"type":"MemberExpression","computed":false,"object":{"range":[67489,67499],"loc":{"start":{"line":2338,"column":2},"end":{"line":2338,"column":12}},"type":"MemberExpression","computed":false,"object":{"range":[67489,67492],"loc":{"start":{"line":2338,"column":2},"end":{"line":2338,"column":5}},"type":"Identifier","name":"EVT"},"property":{"range":[67493,67499],"loc":{"start":{"line":2338,"column":6},"end":{"line":2338,"column":12}},"type":"Identifier","name":"Entity"}},"property":{"range":[67500,67504],"loc":{"start":{"line":2338,"column":13},"end":{"line":2338,"column":17}},"type":"Identifier","name":"User"}},"right":{"range":[67507,67511],"loc":{"start":{"line":2338,"column":20},"end":{"line":2338,"column":24}},"type":"Identifier","name":"User"}},"leadingComments":[{"type":"Line","value":" Attach class to EVT module.","range":[67456,67486],"loc":{"start":{"line":2337,"column":2},"end":{"line":2337,"column":32}}}],"trailingComments":[{"type":"Line","value":" The User resource constructor is a custom constructor that","range":[67517,67578],"loc":{"start":{"line":2341,"column":2},"end":{"line":2341,"column":63}}},{"type":"Line","value":" returns the constructor. This allows the path to be variable.","range":[67581,67645],"loc":{"start":{"line":2342,"column":2},"end":{"line":2342,"column":66}}},{"type":"Line","value":" GET '/users' and GET '/auth/evrythng/users' return the same","range":[67649,67711],"loc":{"start":{"line":2344,"column":2},"end":{"line":2344,"column":64}}},{"type":"Line","value":" entity structure but there are access and back-end differences.","range":[67714,67780],"loc":{"start":{"line":2345,"column":2},"end":{"line":2345,"column":68}}}]},{"range":[67783,69146],"loc":{"start":{"line":2346,"column":2},"end":{"line":2390,"column":4}},"type":"ReturnStatement","argument":{"range":[67790,69145],"loc":{"start":{"line":2346,"column":9},"end":{"line":2390,"column":3}},"type":"ObjectExpression","properties":[{"range":[67797,67810],"loc":{"start":{"line":2348,"column":4},"end":{"line":2348,"column":17}},"type":"Property","key":{"range":[67797,67804],"loc":{"start":{"line":2348,"column":4},"end":{"line":2348,"column":11}},"type":"Literal","value":"class","raw":"'class'"},"computed":false,"value":{"range":[67806,67810],"loc":{"start":{"line":2348,"column":13},"end":{"line":2348,"column":17}},"type":"Identifier","name":"User"},"kind":"init","method":false,"shorthand":false},{"range":[67817,69140],"loc":{"start":{"line":2350,"column":4},"end":{"line":2388,"column":5}},"type":"Property","key":{"range":[67817,67836],"loc":{"start":{"line":2350,"column":4},"end":{"line":2350,"column":23}},"type":"Identifier","name":"resourceConstructor"},"computed":false,"value":{"range":[67838,69140],"loc":{"start":{"line":2350,"column":25},"end":{"line":2388,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[67848,67858],"loc":{"start":{"line":2350,"column":35},"end":{"line":2350,"column":45}},"type":"Identifier","name":"customPath"}],"defaults":[],"body":{"range":[67860,69140],"loc":{"start":{"line":2350,"column":47},"end":{"line":2388,"column":5}},"type":"BlockStatement","body":[{"range":[67869,67903],"loc":{"start":{"line":2352,"column":6},"end":{"line":2352,"column":40}},"type":"VariableDeclaration","declarations":[{"range":[67873,67902],"loc":{"start":{"line":2352,"column":10},"end":{"line":2352,"column":39}},"type":"VariableDeclarator","id":{"range":[67873,67877],"loc":{"start":{"line":2352,"column":10},"end":{"line":2352,"column":14}},"type":"Identifier","name":"path"},"init":{"range":[67880,67902],"loc":{"start":{"line":2352,"column":17},"end":{"line":2352,"column":39}},"type":"LogicalExpression","operator":"||","left":{"range":[67880,67890],"loc":{"start":{"line":2352,"column":17},"end":{"line":2352,"column":27}},"type":"Identifier","name":"customPath"},"right":{"range":[67894,67902],"loc":{"start":{"line":2352,"column":31},"end":{"line":2352,"column":39}},"type":"Literal","value":"/users","raw":"'/users'"}}}],"kind":"var","trailingComments":[{"type":"Line","value":" Return the factory function.","range":[67911,67942],"loc":{"start":{"line":2354,"column":6},"end":{"line":2354,"column":37}}}]},{"range":[67949,69134],"loc":{"start":{"line":2355,"column":6},"end":{"line":2387,"column":8}},"type":"ReturnStatement","argument":{"range":[67956,69133],"loc":{"start":{"line":2355,"column":13},"end":{"line":2387,"column":7}},"type":"FunctionExpression","id":null,"params":[{"range":[67966,67968],"loc":{"start":{"line":2355,"column":23},"end":{"line":2355,"column":25}},"type":"Identifier","name":"id"}],"defaults":[],"body":{"range":[67970,69133],"loc":{"start":{"line":2355,"column":27},"end":{"line":2387,"column":7}},"type":"BlockStatement","body":[{"range":[67981,68062],"loc":{"start":{"line":2357,"column":8},"end":{"line":2357,"column":89}},"type":"VariableDeclaration","declarations":[{"range":[67985,68061],"loc":{"start":{"line":2357,"column":12},"end":{"line":2357,"column":88}},"type":"VariableDeclarator","id":{"range":[67985,67993],"loc":{"start":{"line":2357,"column":12},"end":{"line":2357,"column":20}},"type":"Identifier","name":"resource"},"init":{"range":[67996,68061],"loc":{"start":{"line":2357,"column":23},"end":{"line":2357,"column":88}},"type":"CallExpression","callee":{"range":[67996,68051],"loc":{"start":{"line":2357,"column":23},"end":{"line":2357,"column":78}},"type":"MemberExpression","computed":false,"object":{"range":[67996,68046],"loc":{"start":{"line":2357,"column":23},"end":{"line":2357,"column":73}},"type":"CallExpression","callee":{"range":[67996,68023],"loc":{"start":{"line":2357,"column":23},"end":{"line":2357,"column":50}},"type":"MemberExpression","computed":false,"object":{"range":[67996,68004],"loc":{"start":{"line":2357,"column":23},"end":{"line":2357,"column":31}},"type":"Identifier","name":"Resource"},"property":{"range":[68005,68023],"loc":{"start":{"line":2357,"column":32},"end":{"line":2357,"column":50}},"type":"Identifier","name":"constructorFactory"}},"arguments":[{"range":[68024,68028],"loc":{"start":{"line":2357,"column":51},"end":{"line":2357,"column":55}},"type":"Identifier","name":"path"},{"range":[68030,68045],"loc":{"start":{"line":2357,"column":57},"end":{"line":2357,"column":72}},"type":"MemberExpression","computed":false,"object":{"range":[68030,68040],"loc":{"start":{"line":2357,"column":57},"end":{"line":2357,"column":67}},"type":"MemberExpression","computed":false,"object":{"range":[68030,68033],"loc":{"start":{"line":2357,"column":57},"end":{"line":2357,"column":60}},"type":"Identifier","name":"EVT"},"property":{"range":[68034,68040],"loc":{"start":{"line":2357,"column":61},"end":{"line":2357,"column":67}},"type":"Identifier","name":"Entity"}},"property":{"range":[68041,68045],"loc":{"start":{"line":2357,"column":68},"end":{"line":2357,"column":72}},"type":"Identifier","name":"User"}}]},"property":{"range":[68047,68051],"loc":{"start":{"line":2357,"column":74},"end":{"line":2357,"column":78}},"type":"Identifier","name":"call"}},"arguments":[{"range":[68052,68056],"loc":{"start":{"line":2357,"column":79},"end":{"line":2357,"column":83}},"type":"ThisExpression"},{"range":[68058,68060],"loc":{"start":{"line":2357,"column":85},"end":{"line":2357,"column":87}},"type":"Identifier","name":"id"}]}}],"kind":"var","trailingComments":[{"type":"Line","value":" Add *validate()* method to the resource as well","range":[68072,68122],"loc":{"start":{"line":2359,"column":8},"end":{"line":2359,"column":58}}}]},{"range":[68131,68225],"loc":{"start":{"line":2360,"column":8},"end":{"line":2362,"column":10}},"type":"ExpressionStatement","expression":{"range":[68131,68224],"loc":{"start":{"line":2360,"column":8},"end":{"line":2362,"column":9}},"type":"AssignmentExpression","operator":"=","left":{"range":[68131,68148],"loc":{"start":{"line":2360,"column":8},"end":{"line":2360,"column":25}},"type":"MemberExpression","computed":false,"object":{"range":[68131,68139],"loc":{"start":{"line":2360,"column":8},"end":{"line":2360,"column":16}},"type":"Identifier","name":"resource"},"property":{"range":[68140,68148],"loc":{"start":{"line":2360,"column":17},"end":{"line":2360,"column":25}},"type":"Identifier","name":"validate"}},"right":{"range":[68151,68224],"loc":{"start":{"line":2360,"column":28},"end":{"line":2362,"column":9}},"type":"FunctionExpression","id":null,"params":[],"defaults":[],"body":{"range":[68163,68224],"loc":{"start":{"line":2360,"column":40},"end":{"line":2362,"column":9}},"type":"BlockStatement","body":[{"range":[68175,68214],"loc":{"start":{"line":2361,"column":10},"end":{"line":2361,"column":49}},"type":"ReturnStatement","argument":{"range":[68182,68213],"loc":{"start":{"line":2361,"column":17},"end":{"line":2361,"column":48}},"type":"CallExpression","callee":{"range":[68182,68196],"loc":{"start":{"line":2361,"column":17},"end":{"line":2361,"column":31}},"type":"MemberExpression","computed":false,"object":{"range":[68182,68190],"loc":{"start":{"line":2361,"column":17},"end":{"line":2361,"column":25}},"type":"Identifier","name":"validate"},"property":{"range":[68191,68196],"loc":{"start":{"line":2361,"column":26},"end":{"line":2361,"column":31}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[68197,68201],"loc":{"start":{"line":2361,"column":32},"end":{"line":2361,"column":36}},"type":"ThisExpression"},{"range":[68203,68212],"loc":{"start":{"line":2361,"column":38},"end":{"line":2361,"column":47}},"type":"Identifier","name":"arguments"}]}}]},"generator":false,"expression":false}},"leadingComments":[{"type":"Line","value":" Add *validate()* method to the resource as well","range":[68072,68122],"loc":{"start":{"line":2359,"column":8},"end":{"line":2359,"column":58}}}],"trailingComments":[{"type":"Line","value":" Overload update() method to disallow updating of anonymous users (they're read-only)","range":[68235,68322],"loc":{"start":{"line":2364,"column":8},"end":{"line":2364,"column":95}}}]},{"range":[68331,68581],"loc":{"start":{"line":2365,"column":8},"end":{"line":2370,"column":10}},"type":"ExpressionStatement","expression":{"range":[68331,68580],"loc":{"start":{"line":2365,"column":8},"end":{"line":2370,"column":9}},"type":"AssignmentExpression","operator":"=","left":{"range":[68331,68346],"loc":{"start":{"line":2365,"column":8},"end":{"line":2365,"column":23}},"type":"MemberExpression","computed":false,"object":{"range":[68331,68339],"loc":{"start":{"line":2365,"column":8},"end":{"line":2365,"column":16}},"type":"Identifier","name":"resource"},"property":{"range":[68340,68346],"loc":{"start":{"line":2365,"column":17},"end":{"line":2365,"column":23}},"type":"Identifier","name":"update"}},"right":{"range":[68349,68580],"loc":{"start":{"line":2365,"column":26},"end":{"line":2370,"column":9}},"type":"FunctionExpression","id":null,"params":[],"defaults":[],"body":{"range":[68360,68580],"loc":{"start":{"line":2365,"column":37},"end":{"line":2370,"column":9}},"type":"BlockStatement","body":[{"range":[68372,68503],"loc":{"start":{"line":2366,"column":10},"end":{"line":2368,"column":11}},"type":"IfStatement","test":{"range":[68376,68426],"loc":{"start":{"line":2366,"column":14},"end":{"line":2366,"column":64}},"type":"LogicalExpression","operator":"&&","left":{"range":[68376,68391],"loc":{"start":{"line":2366,"column":14},"end":{"line":2366,"column":29}},"type":"MemberExpression","computed":false,"object":{"range":[68376,68386],"loc":{"start":{"line":2366,"column":14},"end":{"line":2366,"column":24}},"type":"MemberExpression","computed":false,"object":{"range":[68376,68380],"loc":{"start":{"line":2366,"column":14},"end":{"line":2366,"column":18}},"type":"ThisExpression"},"property":{"range":[68381,68386],"loc":{"start":{"line":2366,"column":19},"end":{"line":2366,"column":24}},"type":"Identifier","name":"scope"}},"property":{"range":[68387,68391],"loc":{"start":{"line":2366,"column":25},"end":{"line":2366,"column":29}},"type":"Identifier","name":"type"}},"right":{"range":[68395,68426],"loc":{"start":{"line":2366,"column":33},"end":{"line":2366,"column":64}},"type":"BinaryExpression","operator":"===","left":{"range":[68395,68410],"loc":{"start":{"line":2366,"column":33},"end":{"line":2366,"column":48}},"type":"MemberExpression","computed":false,"object":{"range":[68395,68405],"loc":{"start":{"line":2366,"column":33},"end":{"line":2366,"column":43}},"type":"MemberExpression","computed":false,"object":{"range":[68395,68399],"loc":{"start":{"line":2366,"column":33},"end":{"line":2366,"column":37}},"type":"ThisExpression"},"property":{"range":[68400,68405],"loc":{"start":{"line":2366,"column":38},"end":{"line":2366,"column":43}},"type":"Identifier","name":"scope"}},"property":{"range":[68406,68410],"loc":{"start":{"line":2366,"column":44},"end":{"line":2366,"column":48}},"type":"Identifier","name":"type"}},"right":{"range":[68415,68426],"loc":{"start":{"line":2366,"column":53},"end":{"line":2366,"column":64}},"type":"Literal","value":"anonymous","raw":"'anonymous'"}}},"consequent":{"range":[68427,68503],"loc":{"start":{"line":2366,"column":65},"end":{"line":2368,"column":11}},"type":"BlockStatement","body":[{"range":[68441,68491],"loc":{"start":{"line":2367,"column":12},"end":{"line":2367,"column":62}},"type":"ThrowStatement","argument":{"range":[68447,68490],"loc":{"start":{"line":2367,"column":18},"end":{"line":2367,"column":61}},"type":"NewExpression","callee":{"range":[68451,68456],"loc":{"start":{"line":2367,"column":22},"end":{"line":2367,"column":27}},"type":"Identifier","name":"Error"},"arguments":[{"range":[68457,68489],"loc":{"start":{"line":2367,"column":28},"end":{"line":2367,"column":60}},"type":"Literal","value":"Anonymous users are read-only.","raw":"\"Anonymous users are read-only.\""}]}}]},"alternate":null},{"range":[68514,68570],"loc":{"start":{"line":2369,"column":10},"end":{"line":2369,"column":66}},"type":"ReturnStatement","argument":{"range":[68521,68569],"loc":{"start":{"line":2369,"column":17},"end":{"line":2369,"column":65}},"type":"CallExpression","callee":{"range":[68521,68552],"loc":{"start":{"line":2369,"column":17},"end":{"line":2369,"column":48}},"type":"MemberExpression","computed":false,"object":{"range":[68521,68546],"loc":{"start":{"line":2369,"column":17},"end":{"line":2369,"column":42}},"type":"MemberExpression","computed":false,"object":{"range":[68521,68539],"loc":{"start":{"line":2369,"column":17},"end":{"line":2369,"column":35}},"type":"MemberExpression","computed":false,"object":{"range":[68521,68529],"loc":{"start":{"line":2369,"column":17},"end":{"line":2369,"column":25}},"type":"Identifier","name":"Resource"},"property":{"range":[68530,68539],"loc":{"start":{"line":2369,"column":26},"end":{"line":2369,"column":35}},"type":"Identifier","name":"prototype"}},"property":{"range":[68540,68546],"loc":{"start":{"line":2369,"column":36},"end":{"line":2369,"column":42}},"type":"Identifier","name":"update"}},"property":{"range":[68547,68552],"loc":{"start":{"line":2369,"column":43},"end":{"line":2369,"column":48}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[68553,68557],"loc":{"start":{"line":2369,"column":49},"end":{"line":2369,"column":53}},"type":"ThisExpression"},{"range":[68559,68568],"loc":{"start":{"line":2369,"column":55},"end":{"line":2369,"column":64}},"type":"Identifier","name":"arguments"}]}}]},"generator":false,"expression":false}},"leadingComments":[{"type":"Line","value":" Overload update() method to disallow updating of anonymous users (they're read-only)","range":[68235,68322],"loc":{"start":{"line":2364,"column":8},"end":{"line":2364,"column":95}}}],"trailingComments":[{"type":"Line","value":" Overload User resource *create()* method to allow creating anonymous users","range":[68591,68668],"loc":{"start":{"line":2372,"column":8},"end":{"line":2372,"column":85}}}]},{"range":[68677,69099],"loc":{"start":{"line":2373,"column":8},"end":{"line":2384,"column":10}},"type":"ExpressionStatement","expression":{"range":[68677,69098],"loc":{"start":{"line":2373,"column":8},"end":{"line":2384,"column":9}},"type":"AssignmentExpression","operator":"=","left":{"range":[68677,68692],"loc":{"start":{"line":2373,"column":8},"end":{"line":2373,"column":23}},"type":"MemberExpression","computed":false,"object":{"range":[68677,68685],"loc":{"start":{"line":2373,"column":8},"end":{"line":2373,"column":16}},"type":"Identifier","name":"resource"},"property":{"range":[68686,68692],"loc":{"start":{"line":2373,"column":17},"end":{"line":2373,"column":23}},"type":"Identifier","name":"create"}},"right":{"range":[68695,69098],"loc":{"start":{"line":2373,"column":26},"end":{"line":2384,"column":9}},"type":"FunctionExpression","id":null,"params":[],"defaults":[],"body":{"range":[68707,69098],"loc":{"start":{"line":2373,"column":38},"end":{"line":2384,"column":9}},"type":"BlockStatement","body":[{"range":[68720,68772],"loc":{"start":{"line":2375,"column":10},"end":{"line":2376,"column":34}},"type":"VariableDeclaration","declarations":[{"range":[68724,68736],"loc":{"start":{"line":2375,"column":14},"end":{"line":2375,"column":26}},"type":"VariableDeclarator","id":{"range":[68724,68729],"loc":{"start":{"line":2375,"column":14},"end":{"line":2375,"column":19}},"type":"Identifier","name":"$this"},"init":{"range":[68732,68736],"loc":{"start":{"line":2375,"column":22},"end":{"line":2375,"column":26}},"type":"ThisExpression"}},{"range":[68752,68771],"loc":{"start":{"line":2376,"column":14},"end":{"line":2376,"column":33}},"type":"VariableDeclarator","id":{"range":[68752,68756],"loc":{"start":{"line":2376,"column":14},"end":{"line":2376,"column":18}},"type":"Identifier","name":"data"},"init":{"range":[68759,68771],"loc":{"start":{"line":2376,"column":21},"end":{"line":2376,"column":33}},"type":"MemberExpression","computed":true,"object":{"range":[68759,68768],"loc":{"start":{"line":2376,"column":21},"end":{"line":2376,"column":30}},"type":"Identifier","name":"arguments"},"property":{"range":[68769,68770],"loc":{"start":{"line":2376,"column":31},"end":{"line":2376,"column":32}},"type":"Literal","value":0,"raw":"0"}}}],"kind":"var","trailingComments":[{"type":"Line","value":" the \"anonymous\" argument has higher priority, rest will be ignored (consistent with API)","range":[68784,68875],"loc":{"start":{"line":2378,"column":10},"end":{"line":2378,"column":101}}}]},{"range":[68886,69088],"loc":{"start":{"line":2379,"column":10},"end":{"line":2383,"column":11}},"type":"IfStatement","test":{"range":[68890,68937],"loc":{"start":{"line":2379,"column":14},"end":{"line":2379,"column":61}},"type":"LogicalExpression","operator":"&&","left":{"range":[68890,68910],"loc":{"start":{"line":2379,"column":14},"end":{"line":2379,"column":34}},"type":"CallExpression","callee":{"range":[68890,68904],"loc":{"start":{"line":2379,"column":14},"end":{"line":2379,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[68890,68895],"loc":{"start":{"line":2379,"column":14},"end":{"line":2379,"column":19}},"type":"Identifier","name":"Utils"},"property":{"range":[68896,68904],"loc":{"start":{"line":2379,"column":20},"end":{"line":2379,"column":28}},"type":"Identifier","name":"isObject"}},"arguments":[{"range":[68905,68909],"loc":{"start":{"line":2379,"column":29},"end":{"line":2379,"column":33}},"type":"Identifier","name":"data"}]},"right":{"range":[68914,68937],"loc":{"start":{"line":2379,"column":38},"end":{"line":2379,"column":61}},"type":"BinaryExpression","operator":"===","left":{"range":[68914,68928],"loc":{"start":{"line":2379,"column":38},"end":{"line":2379,"column":52}},"type":"MemberExpression","computed":false,"object":{"range":[68914,68918],"loc":{"start":{"line":2379,"column":38},"end":{"line":2379,"column":42}},"type":"Identifier","name":"data"},"property":{"range":[68919,68928],"loc":{"start":{"line":2379,"column":43},"end":{"line":2379,"column":52}},"type":"Identifier","name":"anonymous"}},"right":{"range":[68933,68937],"loc":{"start":{"line":2379,"column":57},"end":{"line":2379,"column":61}},"type":"Literal","value":true,"raw":"true"}}},"consequent":{"range":[68939,69005],"loc":{"start":{"line":2379,"column":63},"end":{"line":2381,"column":11}},"type":"BlockStatement","body":[{"range":[68953,68993],"loc":{"start":{"line":2380,"column":12},"end":{"line":2380,"column":52}},"type":"ReturnStatement","argument":{"range":[68960,68992],"loc":{"start":{"line":2380,"column":19},"end":{"line":2380,"column":51}},"type":"CallExpression","callee":{"range":[68960,68985],"loc":{"start":{"line":2380,"column":19},"end":{"line":2380,"column":44}},"type":"MemberExpression","computed":false,"object":{"range":[68960,68980],"loc":{"start":{"line":2380,"column":19},"end":{"line":2380,"column":39}},"type":"Identifier","name":"_createAnonymousUser"},"property":{"range":[68981,68985],"loc":{"start":{"line":2380,"column":40},"end":{"line":2380,"column":44}},"type":"Identifier","name":"call"}},"arguments":[{"range":[68986,68991],"loc":{"start":{"line":2380,"column":45},"end":{"line":2380,"column":50}},"type":"Identifier","name":"$this"}]}}]},"alternate":{"range":[69011,69088],"loc":{"start":{"line":2381,"column":17},"end":{"line":2383,"column":11}},"type":"BlockStatement","body":[{"range":[69025,69076],"loc":{"start":{"line":2382,"column":12},"end":{"line":2382,"column":63}},"type":"ReturnStatement","argument":{"range":[69032,69075],"loc":{"start":{"line":2382,"column":19},"end":{"line":2382,"column":62}},"type":"CallExpression","callee":{"range":[69032,69062],"loc":{"start":{"line":2382,"column":19},"end":{"line":2382,"column":49}},"type":"MemberExpression","computed":false,"object":{"range":[69032,69057],"loc":{"start":{"line":2382,"column":19},"end":{"line":2382,"column":44}},"type":"MemberExpression","computed":false,"object":{"range":[69032,69050],"loc":{"start":{"line":2382,"column":19},"end":{"line":2382,"column":37}},"type":"MemberExpression","computed":false,"object":{"range":[69032,69040],"loc":{"start":{"line":2382,"column":19},"end":{"line":2382,"column":27}},"type":"Identifier","name":"Resource"},"property":{"range":[69041,69050],"loc":{"start":{"line":2382,"column":28},"end":{"line":2382,"column":37}},"type":"Identifier","name":"prototype"}},"property":{"range":[69051,69057],"loc":{"start":{"line":2382,"column":38},"end":{"line":2382,"column":44}},"type":"Identifier","name":"create"}},"property":{"range":[69058,69062],"loc":{"start":{"line":2382,"column":45},"end":{"line":2382,"column":49}},"type":"Identifier","name":"call"}},"arguments":[{"range":[69063,69068],"loc":{"start":{"line":2382,"column":50},"end":{"line":2382,"column":55}},"type":"Identifier","name":"$this"},{"range":[69070,69074],"loc":{"start":{"line":2382,"column":57},"end":{"line":2382,"column":61}},"type":"Identifier","name":"data"}]}}]},"leadingComments":[{"type":"Line","value":" the \"anonymous\" argument has higher priority, rest will be ignored (consistent with API)","range":[68784,68875],"loc":{"start":{"line":2378,"column":10},"end":{"line":2378,"column":101}}}]}]},"generator":false,"expression":false}},"leadingComments":[{"type":"Line","value":" Overload User resource *create()* method to allow creating anonymous users","range":[68591,68668],"loc":{"start":{"line":2372,"column":8},"end":{"line":2372,"column":85}}}]},{"range":[69109,69125],"loc":{"start":{"line":2386,"column":8},"end":{"line":2386,"column":24}},"type":"ReturnStatement","argument":{"range":[69116,69124],"loc":{"start":{"line":2386,"column":15},"end":{"line":2386,"column":23}},"type":"Identifier","name":"resource"}}]},"generator":false,"expression":false},"leadingComments":[{"type":"Line","value":" Return the factory function.","range":[67911,67942],"loc":{"start":{"line":2354,"column":6},"end":{"line":2354,"column":37}}}]}]},"generator":false,"expression":false},"kind":"init","method":false,"shorthand":false}]},"leadingComments":[{"type":"Line","value":" The User resource constructor is a custom constructor that","range":[67517,67578],"loc":{"start":{"line":2341,"column":2},"end":{"line":2341,"column":63}}},{"type":"Line","value":" returns the constructor. This allows the path to be variable.","range":[67581,67645],"loc":{"start":{"line":2342,"column":2},"end":{"line":2342,"column":66}}},{"type":"Line","value":" GET '/users' and GET '/auth/evrythng/users' return the same","range":[67649,67711],"loc":{"start":{"line":2344,"column":2},"end":{"line":2344,"column":64}}},{"type":"Line","value":" entity structure but there are access and back-end differences.","range":[67714,67780],"loc":{"start":{"line":2345,"column":2},"end":{"line":2345,"column":68}}}]}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" ## USER.JS","range":[64880,64893],"loc":{"start":{"line":2238,"column":0},"end":{"line":2238,"column":13}}},{"type":"Line","value":" **The User entity represents the app users stored in the Engine.","range":[64895,64962],"loc":{"start":{"line":2240,"column":0},"end":{"line":2240,"column":67}}},{"type":"Line","value":" It inherits from Entity and adds a new resource's *validate()* method,","range":[64963,65036],"loc":{"start":{"line":2241,"column":0},"end":{"line":2241,"column":73}}},{"type":"Line","value":" as well as a *self.validate()* to allow to validate users.**","range":[65037,65100],"loc":{"start":{"line":2242,"column":0},"end":{"line":2242,"column":63}}}],"trailingComments":[{"type":"Line","value":" ## PLACE.JS","range":[69152,69166],"loc":{"start":{"line":2393,"column":0},"end":{"line":2393,"column":14}}},{"type":"Line","value":" **The Place is a simple Entity subclass representing the REST API","range":[69168,69236],"loc":{"start":{"line":2395,"column":0},"end":{"line":2395,"column":68}}},{"type":"Line","value":" Place object.**","range":[69237,69255],"loc":{"start":{"line":2396,"column":0},"end":{"line":2396,"column":18}}}]},{"range":[69257,71150],"loc":{"start":{"line":2398,"column":0},"end":{"line":2467,"column":3}},"type":"ExpressionStatement","expression":{"range":[69257,71149],"loc":{"start":{"line":2398,"column":0},"end":{"line":2467,"column":2}},"type":"CallExpression","callee":{"range":[69257,69263],"loc":{"start":{"line":2398,"column":0},"end":{"line":2398,"column":6}},"type":"Identifier","name":"define"},"arguments":[{"range":[69264,69278],"loc":{"start":{"line":2398,"column":7},"end":{"line":2398,"column":21}},"type":"Literal","value":"entity/place","raw":"'entity/place'"},{"range":[69279,69359],"loc":{"start":{"line":2398,"column":22},"end":{"line":2405,"column":1}},"type":"ArrayExpression","elements":[{"range":[69283,69289],"loc":{"start":{"line":2399,"column":2},"end":{"line":2399,"column":8}},"type":"Literal","value":"core","raw":"'core'"},{"range":[69293,69303],"loc":{"start":{"line":2400,"column":2},"end":{"line":2400,"column":12}},"type":"Literal","value":"./entity","raw":"'./entity'"},{"range":[69307,69317],"loc":{"start":{"line":2401,"column":2},"end":{"line":2401,"column":12}},"type":"Literal","value":"resource","raw":"'resource'"},{"range":[69321,69334],"loc":{"start":{"line":2402,"column":2},"end":{"line":2402,"column":15}},"type":"Literal","value":"scope/scope","raw":"'scope/scope'"},{"range":[69338,69345],"loc":{"start":{"line":2403,"column":2},"end":{"line":2403,"column":9}},"type":"Literal","value":"utils","raw":"'utils'"},{"range":[69349,69357],"loc":{"start":{"line":2404,"column":2},"end":{"line":2404,"column":10}},"type":"Literal","value":"logger","raw":"'logger'"}]},{"range":[69361,71148],"loc":{"start":{"line":2405,"column":3},"end":{"line":2467,"column":1}},"type":"FunctionExpression","id":null,"params":[{"range":[69371,69374],"loc":{"start":{"line":2405,"column":13},"end":{"line":2405,"column":16}},"type":"Identifier","name":"EVT"},{"range":[69376,69382],"loc":{"start":{"line":2405,"column":18},"end":{"line":2405,"column":24}},"type":"Identifier","name":"Entity"},{"range":[69384,69392],"loc":{"start":{"line":2405,"column":26},"end":{"line":2405,"column":34}},"type":"Identifier","name":"Resource"},{"range":[69394,69399],"loc":{"start":{"line":2405,"column":36},"end":{"line":2405,"column":41}},"type":"Identifier","name":"Scope"},{"range":[69401,69406],"loc":{"start":{"line":2405,"column":43},"end":{"line":2405,"column":48}},"type":"Identifier","name":"Utils"},{"range":[69408,69414],"loc":{"start":{"line":2405,"column":50},"end":{"line":2405,"column":56}},"type":"Identifier","name":"Logger"}],"defaults":[],"body":{"range":[69416,71148],"loc":{"start":{"line":2405,"column":58},"end":{"line":2467,"column":1}},"type":"BlockStatement","body":[{"range":[69420,69433],"loc":{"start":{"line":2406,"column":2},"end":{"line":2406,"column":15}},"type":"ExpressionStatement","expression":{"range":[69420,69432],"loc":{"start":{"line":2406,"column":2},"end":{"line":2406,"column":14}},"type":"Literal","value":"use strict","raw":"'use strict'"},"trailingComments":[{"type":"Line","value":" Setup Place inheritance from Entity.","range":[69437,69476],"loc":{"start":{"line":2408,"column":2},"end":{"line":2408,"column":41}}}]},{"range":[69479,69544],"loc":{"start":{"line":2409,"column":2},"end":{"line":2411,"column":4}},"type":"VariableDeclaration","declarations":[{"range":[69483,69543],"loc":{"start":{"line":2409,"column":6},"end":{"line":2411,"column":3}},"type":"VariableDeclarator","id":{"range":[69483,69488],"loc":{"start":{"line":2409,"column":6},"end":{"line":2409,"column":11}},"type":"Identifier","name":"Place"},"init":{"range":[69491,69543],"loc":{"start":{"line":2409,"column":14},"end":{"line":2411,"column":3}},"type":"FunctionExpression","id":null,"params":[],"defaults":[],"body":{"range":[69503,69543],"loc":{"start":{"line":2409,"column":26},"end":{"line":2411,"column":3}},"type":"BlockStatement","body":[{"range":[69509,69539],"loc":{"start":{"line":2410,"column":4},"end":{"line":2410,"column":34}},"type":"ExpressionStatement","expression":{"range":[69509,69538],"loc":{"start":{"line":2410,"column":4},"end":{"line":2410,"column":33}},"type":"CallExpression","callee":{"range":[69509,69521],"loc":{"start":{"line":2410,"column":4},"end":{"line":2410,"column":16}},"type":"MemberExpression","computed":false,"object":{"range":[69509,69515],"loc":{"start":{"line":2410,"column":4},"end":{"line":2410,"column":10}},"type":"Identifier","name":"Entity"},"property":{"range":[69516,69521],"loc":{"start":{"line":2410,"column":11},"end":{"line":2410,"column":16}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[69522,69526],"loc":{"start":{"line":2410,"column":17},"end":{"line":2410,"column":21}},"type":"ThisExpression"},{"range":[69528,69537],"loc":{"start":{"line":2410,"column":23},"end":{"line":2410,"column":32}},"type":"Identifier","name":"arguments"}]}}]},"generator":false,"expression":false}}],"kind":"var","leadingComments":[{"type":"Line","value":" Setup Place inheritance from Entity.","range":[69437,69476],"loc":{"start":{"line":2408,"column":2},"end":{"line":2408,"column":41}}}]},{"range":[69548,69598],"loc":{"start":{"line":2413,"column":2},"end":{"line":2413,"column":52}},"type":"ExpressionStatement","expression":{"range":[69548,69597],"loc":{"start":{"line":2413,"column":2},"end":{"line":2413,"column":51}},"type":"AssignmentExpression","operator":"=","left":{"range":[69548,69563],"loc":{"start":{"line":2413,"column":2},"end":{"line":2413,"column":17}},"type":"MemberExpression","computed":false,"object":{"range":[69548,69553],"loc":{"start":{"line":2413,"column":2},"end":{"line":2413,"column":7}},"type":"Identifier","name":"Place"},"property":{"range":[69554,69563],"loc":{"start":{"line":2413,"column":8},"end":{"line":2413,"column":17}},"type":"Identifier","name":"prototype"}},"right":{"range":[69566,69597],"loc":{"start":{"line":2413,"column":20},"end":{"line":2413,"column":51}},"type":"CallExpression","callee":{"range":[69566,69579],"loc":{"start":{"line":2413,"column":20},"end":{"line":2413,"column":33}},"type":"MemberExpression","computed":false,"object":{"range":[69566,69572],"loc":{"start":{"line":2413,"column":20},"end":{"line":2413,"column":26}},"type":"Identifier","name":"Object"},"property":{"range":[69573,69579],"loc":{"start":{"line":2413,"column":27},"end":{"line":2413,"column":33}},"type":"Identifier","name":"create"}},"arguments":[{"range":[69580,69596],"loc":{"start":{"line":2413,"column":34},"end":{"line":2413,"column":50}},"type":"MemberExpression","computed":false,"object":{"range":[69580,69586],"loc":{"start":{"line":2413,"column":34},"end":{"line":2413,"column":40}},"type":"Identifier","name":"Entity"},"property":{"range":[69587,69596],"loc":{"start":{"line":2413,"column":41},"end":{"line":2413,"column":50}},"type":"Identifier","name":"prototype"}}]}}},{"range":[69601,69637],"loc":{"start":{"line":2414,"column":2},"end":{"line":2414,"column":38}},"type":"ExpressionStatement","expression":{"range":[69601,69636],"loc":{"start":{"line":2414,"column":2},"end":{"line":2414,"column":37}},"type":"AssignmentExpression","operator":"=","left":{"range":[69601,69628],"loc":{"start":{"line":2414,"column":2},"end":{"line":2414,"column":29}},"type":"MemberExpression","computed":false,"object":{"range":[69601,69616],"loc":{"start":{"line":2414,"column":2},"end":{"line":2414,"column":17}},"type":"MemberExpression","computed":false,"object":{"range":[69601,69606],"loc":{"start":{"line":2414,"column":2},"end":{"line":2414,"column":7}},"type":"Identifier","name":"Place"},"property":{"range":[69607,69616],"loc":{"start":{"line":2414,"column":8},"end":{"line":2414,"column":17}},"type":"Identifier","name":"prototype"}},"property":{"range":[69617,69628],"loc":{"start":{"line":2414,"column":18},"end":{"line":2414,"column":29}},"type":"Identifier","name":"constructor"}},"right":{"range":[69631,69636],"loc":{"start":{"line":2414,"column":32},"end":{"line":2414,"column":37}},"type":"Identifier","name":"Place"}}},{"range":[69641,69878],"loc":{"start":{"line":2416,"column":2},"end":{"line":2426,"column":3}},"type":"FunctionDeclaration","id":{"range":[69650,69669],"loc":{"start":{"line":2416,"column":11},"end":{"line":2416,"column":30}},"type":"Identifier","name":"_normalizeArguments"},"params":[{"range":[69670,69674],"loc":{"start":{"line":2416,"column":31},"end":{"line":2416,"column":35}},"type":"Identifier","name":"args"}],"defaults":[],"body":{"range":[69676,69878],"loc":{"start":{"line":2416,"column":37},"end":{"line":2426,"column":3}},"type":"BlockStatement","body":[{"range":[69682,69701],"loc":{"start":{"line":2417,"column":4},"end":{"line":2417,"column":23}},"type":"VariableDeclaration","declarations":[{"range":[69686,69700],"loc":{"start":{"line":2417,"column":8},"end":{"line":2417,"column":22}},"type":"VariableDeclarator","id":{"range":[69686,69690],"loc":{"start":{"line":2417,"column":8},"end":{"line":2417,"column":12}},"type":"Identifier","name":"data"},"init":{"range":[69693,69700],"loc":{"start":{"line":2417,"column":15},"end":{"line":2417,"column":22}},"type":"MemberExpression","computed":true,"object":{"range":[69693,69697],"loc":{"start":{"line":2417,"column":15},"end":{"line":2417,"column":19}},"type":"Identifier","name":"args"},"property":{"range":[69698,69699],"loc":{"start":{"line":2417,"column":20},"end":{"line":2417,"column":21}},"type":"Literal","value":0,"raw":"0"}}}],"kind":"var"},{"range":[69707,69856],"loc":{"start":{"line":2419,"column":4},"end":{"line":2423,"column":5}},"type":"IfStatement","test":{"range":[69711,69742],"loc":{"start":{"line":2419,"column":8},"end":{"line":2419,"column":39}},"type":"LogicalExpression","operator":"||","left":{"range":[69711,69716],"loc":{"start":{"line":2419,"column":8},"end":{"line":2419,"column":13}},"type":"UnaryExpression","operator":"!","argument":{"range":[69712,69716],"loc":{"start":{"line":2419,"column":9},"end":{"line":2419,"column":13}},"type":"Identifier","name":"data"},"prefix":true},"right":{"range":[69720,69742],"loc":{"start":{"line":2419,"column":17},"end":{"line":2419,"column":39}},"type":"CallExpression","callee":{"range":[69720,69736],"loc":{"start":{"line":2419,"column":17},"end":{"line":2419,"column":33}},"type":"MemberExpression","computed":false,"object":{"range":[69720,69725],"loc":{"start":{"line":2419,"column":17},"end":{"line":2419,"column":22}},"type":"Identifier","name":"Utils"},"property":{"range":[69726,69736],"loc":{"start":{"line":2419,"column":23},"end":{"line":2419,"column":33}},"type":"Identifier","name":"isFunction"}},"arguments":[{"range":[69737,69741],"loc":{"start":{"line":2419,"column":34},"end":{"line":2419,"column":38}},"type":"Identifier","name":"data"}]}},"consequent":{"range":[69744,69856],"loc":{"start":{"line":2419,"column":41},"end":{"line":2423,"column":5}},"type":"BlockStatement","body":[{"range":[69783,69826],"loc":{"start":{"line":2421,"column":6},"end":{"line":2421,"column":49}},"type":"ExpressionStatement","expression":{"range":[69783,69825],"loc":{"start":{"line":2421,"column":6},"end":{"line":2421,"column":48}},"type":"AssignmentExpression","operator":"=","left":{"range":[69783,69787],"loc":{"start":{"line":2421,"column":6},"end":{"line":2421,"column":10}},"type":"Identifier","name":"args"},"right":{"range":[69790,69825],"loc":{"start":{"line":2421,"column":13},"end":{"line":2421,"column":48}},"type":"CallExpression","callee":{"range":[69790,69816],"loc":{"start":{"line":2421,"column":13},"end":{"line":2421,"column":39}},"type":"MemberExpression","computed":false,"object":{"range":[69790,69811],"loc":{"start":{"line":2421,"column":13},"end":{"line":2421,"column":34}},"type":"MemberExpression","computed":false,"object":{"range":[69790,69805],"loc":{"start":{"line":2421,"column":13},"end":{"line":2421,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[69790,69795],"loc":{"start":{"line":2421,"column":13},"end":{"line":2421,"column":18}},"type":"Identifier","name":"Array"},"property":{"range":[69796,69805],"loc":{"start":{"line":2421,"column":19},"end":{"line":2421,"column":28}},"type":"Identifier","name":"prototype"}},"property":{"range":[69806,69811],"loc":{"start":{"line":2421,"column":29},"end":{"line":2421,"column":34}},"type":"Identifier","name":"slice"}},"property":{"range":[69812,69816],"loc":{"start":{"line":2421,"column":35},"end":{"line":2421,"column":39}},"type":"Identifier","name":"call"}},"arguments":[{"range":[69817,69821],"loc":{"start":{"line":2421,"column":40},"end":{"line":2421,"column":44}},"type":"Identifier","name":"args"},{"range":[69823,69824],"loc":{"start":{"line":2421,"column":46},"end":{"line":2421,"column":47}},"type":"Literal","value":0,"raw":"0"}]}},"leadingComments":[{"type":"Line","value":" Add empty data object","range":[69752,69776],"loc":{"start":{"line":2420,"column":6},"end":{"line":2420,"column":30}}}]},{"range":[69833,69850],"loc":{"start":{"line":2422,"column":6},"end":{"line":2422,"column":23}},"type":"ExpressionStatement","expression":{"range":[69833,69849],"loc":{"start":{"line":2422,"column":6},"end":{"line":2422,"column":22}},"type":"CallExpression","callee":{"range":[69833,69845],"loc":{"start":{"line":2422,"column":6},"end":{"line":2422,"column":18}},"type":"MemberExpression","computed":false,"object":{"range":[69833,69837],"loc":{"start":{"line":2422,"column":6},"end":{"line":2422,"column":10}},"type":"Identifier","name":"args"},"property":{"range":[69838,69845],"loc":{"start":{"line":2422,"column":11},"end":{"line":2422,"column":18}},"type":"Identifier","name":"unshift"}},"arguments":[{"range":[69846,69848],"loc":{"start":{"line":2422,"column":19},"end":{"line":2422,"column":21}},"type":"ObjectExpression","properties":[]}]}}]},"alternate":null},{"range":[69862,69874],"loc":{"start":{"line":2425,"column":4},"end":{"line":2425,"column":16}},"type":"ReturnStatement","argument":{"range":[69869,69873],"loc":{"start":{"line":2425,"column":11},"end":{"line":2425,"column":15}},"type":"Identifier","name":"args"}}]},"generator":false,"expression":false,"trailingComments":[{"type":"Line","value":" Attach class to EVT module.","range":[69882,69912],"loc":{"start":{"line":2428,"column":2},"end":{"line":2428,"column":32}}}]},{"range":[69915,69940],"loc":{"start":{"line":2429,"column":2},"end":{"line":2429,"column":27}},"type":"ExpressionStatement","expression":{"range":[69915,69939],"loc":{"start":{"line":2429,"column":2},"end":{"line":2429,"column":26}},"type":"AssignmentExpression","operator":"=","left":{"range":[69915,69931],"loc":{"start":{"line":2429,"column":2},"end":{"line":2429,"column":18}},"type":"MemberExpression","computed":false,"object":{"range":[69915,69925],"loc":{"start":{"line":2429,"column":2},"end":{"line":2429,"column":12}},"type":"MemberExpression","computed":false,"object":{"range":[69915,69918],"loc":{"start":{"line":2429,"column":2},"end":{"line":2429,"column":5}},"type":"Identifier","name":"EVT"},"property":{"range":[69919,69925],"loc":{"start":{"line":2429,"column":6},"end":{"line":2429,"column":12}},"type":"Identifier","name":"Entity"}},"property":{"range":[69926,69931],"loc":{"start":{"line":2429,"column":13},"end":{"line":2429,"column":18}},"type":"Identifier","name":"Place"}},"right":{"range":[69934,69939],"loc":{"start":{"line":2429,"column":21},"end":{"line":2429,"column":26}},"type":"Identifier","name":"Place"}},"leadingComments":[{"type":"Line","value":" Attach class to EVT module.","range":[69882,69912],"loc":{"start":{"line":2428,"column":2},"end":{"line":2428,"column":32}}}]},{"range":[69944,71146],"loc":{"start":{"line":2431,"column":2},"end":{"line":2466,"column":4}},"type":"ReturnStatement","argument":{"range":[69951,71145],"loc":{"start":{"line":2431,"column":9},"end":{"line":2466,"column":3}},"type":"ObjectExpression","properties":[{"range":[69958,69972],"loc":{"start":{"line":2433,"column":4},"end":{"line":2433,"column":18}},"type":"Property","key":{"range":[69958,69965],"loc":{"start":{"line":2433,"column":4},"end":{"line":2433,"column":11}},"type":"Literal","value":"class","raw":"'class'"},"computed":false,"value":{"range":[69967,69972],"loc":{"start":{"line":2433,"column":13},"end":{"line":2433,"column":18}},"type":"Identifier","name":"Place"},"kind":"init","method":false,"shorthand":false},{"range":[69979,71141],"loc":{"start":{"line":2435,"column":4},"end":{"line":2465,"column":5}},"type":"Property","key":{"range":[69979,69998],"loc":{"start":{"line":2435,"column":4},"end":{"line":2435,"column":23}},"type":"Identifier","name":"resourceConstructor"},"computed":false,"value":{"range":[70000,71141],"loc":{"start":{"line":2435,"column":25},"end":{"line":2465,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[70010,70012],"loc":{"start":{"line":2435,"column":35},"end":{"line":2435,"column":37}},"type":"Identifier","name":"id"}],"defaults":[],"body":{"range":[70014,71141],"loc":{"start":{"line":2435,"column":39},"end":{"line":2465,"column":5}},"type":"BlockStatement","body":[{"range":[70022,70109],"loc":{"start":{"line":2436,"column":6},"end":{"line":2436,"column":93}},"type":"VariableDeclaration","declarations":[{"range":[70026,70108],"loc":{"start":{"line":2436,"column":10},"end":{"line":2436,"column":92}},"type":"VariableDeclarator","id":{"range":[70026,70034],"loc":{"start":{"line":2436,"column":10},"end":{"line":2436,"column":18}},"type":"Identifier","name":"resource"},"init":{"range":[70037,70108],"loc":{"start":{"line":2436,"column":21},"end":{"line":2436,"column":92}},"type":"CallExpression","callee":{"range":[70037,70098],"loc":{"start":{"line":2436,"column":21},"end":{"line":2436,"column":82}},"type":"MemberExpression","computed":false,"object":{"range":[70037,70093],"loc":{"start":{"line":2436,"column":21},"end":{"line":2436,"column":77}},"type":"CallExpression","callee":{"range":[70037,70064],"loc":{"start":{"line":2436,"column":21},"end":{"line":2436,"column":48}},"type":"MemberExpression","computed":false,"object":{"range":[70037,70045],"loc":{"start":{"line":2436,"column":21},"end":{"line":2436,"column":29}},"type":"Identifier","name":"Resource"},"property":{"range":[70046,70064],"loc":{"start":{"line":2436,"column":30},"end":{"line":2436,"column":48}},"type":"Identifier","name":"constructorFactory"}},"arguments":[{"range":[70065,70074],"loc":{"start":{"line":2436,"column":49},"end":{"line":2436,"column":58}},"type":"Literal","value":"/places","raw":"'/places'"},{"range":[70076,70092],"loc":{"start":{"line":2436,"column":60},"end":{"line":2436,"column":76}},"type":"MemberExpression","computed":false,"object":{"range":[70076,70086],"loc":{"start":{"line":2436,"column":60},"end":{"line":2436,"column":70}},"type":"MemberExpression","computed":false,"object":{"range":[70076,70079],"loc":{"start":{"line":2436,"column":60},"end":{"line":2436,"column":63}},"type":"Identifier","name":"EVT"},"property":{"range":[70080,70086],"loc":{"start":{"line":2436,"column":64},"end":{"line":2436,"column":70}},"type":"Identifier","name":"Entity"}},"property":{"range":[70087,70092],"loc":{"start":{"line":2436,"column":71},"end":{"line":2436,"column":76}},"type":"Identifier","name":"Place"}}]},"property":{"range":[70094,70098],"loc":{"start":{"line":2436,"column":78},"end":{"line":2436,"column":82}},"type":"Identifier","name":"call"}},"arguments":[{"range":[70099,70103],"loc":{"start":{"line":2436,"column":83},"end":{"line":2436,"column":87}},"type":"ThisExpression"},{"range":[70105,70107],"loc":{"start":{"line":2436,"column":89},"end":{"line":2436,"column":91}},"type":"Identifier","name":"id"}]}}],"kind":"var","trailingComments":[{"type":"Line","value":" Overload resource read() to send current location by default","range":[70117,70180],"loc":{"start":{"line":2438,"column":6},"end":{"line":2438,"column":69}}}]},{"range":[70187,71111],"loc":{"start":{"line":2439,"column":6},"end":{"line":2462,"column":8}},"type":"ExpressionStatement","expression":{"range":[70187,71110],"loc":{"start":{"line":2439,"column":6},"end":{"line":2462,"column":7}},"type":"AssignmentExpression","operator":"=","left":{"range":[70187,70200],"loc":{"start":{"line":2439,"column":6},"end":{"line":2439,"column":19}},"type":"MemberExpression","computed":false,"object":{"range":[70187,70195],"loc":{"start":{"line":2439,"column":6},"end":{"line":2439,"column":14}},"type":"Identifier","name":"resource"},"property":{"range":[70196,70200],"loc":{"start":{"line":2439,"column":15},"end":{"line":2439,"column":19}},"type":"Identifier","name":"read"}},"right":{"range":[70203,71110],"loc":{"start":{"line":2439,"column":22},"end":{"line":2462,"column":7}},"type":"FunctionExpression","id":null,"params":[],"defaults":[],"body":{"range":[70215,71110],"loc":{"start":{"line":2439,"column":34},"end":{"line":2462,"column":7}},"type":"BlockStatement","body":[{"range":[70225,70336],"loc":{"start":{"line":2440,"column":8},"end":{"line":2442,"column":42}},"type":"VariableDeclaration","declarations":[{"range":[70229,70241],"loc":{"start":{"line":2440,"column":12},"end":{"line":2440,"column":24}},"type":"VariableDeclarator","id":{"range":[70229,70234],"loc":{"start":{"line":2440,"column":12},"end":{"line":2440,"column":17}},"type":"Identifier","name":"$this"},"init":{"range":[70237,70241],"loc":{"start":{"line":2440,"column":20},"end":{"line":2440,"column":24}},"type":"ThisExpression"}},{"range":[70255,70292],"loc":{"start":{"line":2441,"column":12},"end":{"line":2441,"column":49}},"type":"VariableDeclarator","id":{"range":[70255,70259],"loc":{"start":{"line":2441,"column":12},"end":{"line":2441,"column":16}},"type":"Identifier","name":"args"},"init":{"range":[70262,70292],"loc":{"start":{"line":2441,"column":19},"end":{"line":2441,"column":49}},"type":"CallExpression","callee":{"range":[70262,70281],"loc":{"start":{"line":2441,"column":19},"end":{"line":2441,"column":38}},"type":"Identifier","name":"_normalizeArguments"},"arguments":[{"range":[70282,70291],"loc":{"start":{"line":2441,"column":39},"end":{"line":2441,"column":48}},"type":"Identifier","name":"arguments"}]}},{"range":[70306,70335],"loc":{"start":{"line":2442,"column":12},"end":{"line":2442,"column":41}},"type":"VariableDeclarator","id":{"range":[70306,70312],"loc":{"start":{"line":2442,"column":12},"end":{"line":2442,"column":18}},"type":"Identifier","name":"params"},"init":{"range":[70315,70335],"loc":{"start":{"line":2442,"column":21},"end":{"line":2442,"column":41}},"type":"LogicalExpression","operator":"||","left":{"range":[70315,70329],"loc":{"start":{"line":2442,"column":21},"end":{"line":2442,"column":35}},"type":"MemberExpression","computed":false,"object":{"range":[70315,70322],"loc":{"start":{"line":2442,"column":21},"end":{"line":2442,"column":28}},"type":"MemberExpression","computed":true,"object":{"range":[70315,70319],"loc":{"start":{"line":2442,"column":21},"end":{"line":2442,"column":25}},"type":"Identifier","name":"args"},"property":{"range":[70320,70321],"loc":{"start":{"line":2442,"column":26},"end":{"line":2442,"column":27}},"type":"Literal","value":0,"raw":"0"}},"property":{"range":[70323,70329],"loc":{"start":{"line":2442,"column":29},"end":{"line":2442,"column":35}},"type":"Identifier","name":"params"}},"right":{"range":[70333,70335],"loc":{"start":{"line":2442,"column":39},"end":{"line":2442,"column":41}},"type":"ObjectExpression","properties":[]}}}],"kind":"var"},{"range":[70346,71102],"loc":{"start":{"line":2444,"column":8},"end":{"line":2461,"column":9}},"type":"IfStatement","test":{"range":[70350,70448],"loc":{"start":{"line":2444,"column":12},"end":{"line":2444,"column":110}},"type":"LogicalExpression","operator":"&&","left":{"range":[70350,70420],"loc":{"start":{"line":2444,"column":12},"end":{"line":2444,"column":82}},"type":"LogicalExpression","operator":"&&","left":{"range":[70350,70383],"loc":{"start":{"line":2444,"column":12},"end":{"line":2444,"column":45}},"type":"BinaryExpression","operator":"===","left":{"range":[70350,70367],"loc":{"start":{"line":2444,"column":12},"end":{"line":2444,"column":29}},"type":"UnaryExpression","operator":"typeof","argument":{"range":[70357,70367],"loc":{"start":{"line":2444,"column":19},"end":{"line":2444,"column":29}},"type":"MemberExpression","computed":false,"object":{"range":[70357,70363],"loc":{"start":{"line":2444,"column":19},"end":{"line":2444,"column":25}},"type":"Identifier","name":"params"},"property":{"range":[70364,70367],"loc":{"start":{"line":2444,"column":26},"end":{"line":2444,"column":29}},"type":"Identifier","name":"lat"}},"prefix":true},"right":{"range":[70372,70383],"loc":{"start":{"line":2444,"column":34},"end":{"line":2444,"column":45}},"type":"Literal","value":"undefined","raw":"'undefined'"}},"right":{"range":[70387,70420],"loc":{"start":{"line":2444,"column":49},"end":{"line":2444,"column":82}},"type":"BinaryExpression","operator":"===","left":{"range":[70387,70404],"loc":{"start":{"line":2444,"column":49},"end":{"line":2444,"column":66}},"type":"UnaryExpression","operator":"typeof","argument":{"range":[70394,70404],"loc":{"start":{"line":2444,"column":56},"end":{"line":2444,"column":66}},"type":"MemberExpression","computed":false,"object":{"range":[70394,70400],"loc":{"start":{"line":2444,"column":56},"end":{"line":2444,"column":62}},"type":"Identifier","name":"params"},"property":{"range":[70401,70404],"loc":{"start":{"line":2444,"column":63},"end":{"line":2444,"column":66}},"type":"Identifier","name":"lon"}},"prefix":true},"right":{"range":[70409,70420],"loc":{"start":{"line":2444,"column":71},"end":{"line":2444,"column":82}},"type":"Literal","value":"undefined","raw":"'undefined'"}}},"right":{"range":[70424,70448],"loc":{"start":{"line":2444,"column":86},"end":{"line":2444,"column":110}},"type":"MemberExpression","computed":false,"object":{"range":[70424,70436],"loc":{"start":{"line":2444,"column":86},"end":{"line":2444,"column":98}},"type":"MemberExpression","computed":false,"object":{"range":[70424,70427],"loc":{"start":{"line":2444,"column":86},"end":{"line":2444,"column":89}},"type":"Identifier","name":"EVT"},"property":{"range":[70428,70436],"loc":{"start":{"line":2444,"column":90},"end":{"line":2444,"column":98}},"type":"Identifier","name":"settings"}},"property":{"range":[70437,70448],"loc":{"start":{"line":2444,"column":99},"end":{"line":2444,"column":110}},"type":"Identifier","name":"geolocation"}}},"consequent":{"range":[70450,71024],"loc":{"start":{"line":2444,"column":112},"end":{"line":2459,"column":9}},"type":"BlockStatement","body":[{"range":[70533,71013],"loc":{"start":{"line":2446,"column":10},"end":{"line":2457,"column":13}},"type":"ReturnStatement","argument":{"range":[70540,71012],"loc":{"start":{"line":2446,"column":17},"end":{"line":2457,"column":12}},"type":"CallExpression","callee":{"range":[70540,70571],"loc":{"start":{"line":2446,"column":17},"end":{"line":2446,"column":48}},"type":"MemberExpression","computed":false,"object":{"range":[70540,70566],"loc":{"start":{"line":2446,"column":17},"end":{"line":2446,"column":43}},"type":"CallExpression","callee":{"range":[70540,70564],"loc":{"start":{"line":2446,"column":17},"end":{"line":2446,"column":41}},"type":"MemberExpression","computed":false,"object":{"range":[70540,70545],"loc":{"start":{"line":2446,"column":17},"end":{"line":2446,"column":22}},"type":"Identifier","name":"Utils"},"property":{"range":[70546,70564],"loc":{"start":{"line":2446,"column":23},"end":{"line":2446,"column":41}},"type":"Identifier","name":"getCurrentPosition"}},"arguments":[]},"property":{"range":[70567,70571],"loc":{"start":{"line":2446,"column":44},"end":{"line":2446,"column":48}},"type":"Identifier","name":"then"}},"arguments":[{"range":[70572,70810],"loc":{"start":{"line":2446,"column":49},"end":{"line":2453,"column":11}},"type":"FunctionExpression","id":null,"params":[{"range":[70582,70590],"loc":{"start":{"line":2446,"column":59},"end":{"line":2446,"column":67}},"type":"Identifier","name":"position"}],"defaults":[],"body":{"range":[70592,70810],"loc":{"start":{"line":2446,"column":69},"end":{"line":2453,"column":11}},"type":"BlockStatement","body":[{"range":[70606,70644],"loc":{"start":{"line":2447,"column":12},"end":{"line":2447,"column":50}},"type":"ExpressionStatement","expression":{"range":[70606,70643],"loc":{"start":{"line":2447,"column":12},"end":{"line":2447,"column":49}},"type":"AssignmentExpression","operator":"=","left":{"range":[70606,70616],"loc":{"start":{"line":2447,"column":12},"end":{"line":2447,"column":22}},"type":"MemberExpression","computed":false,"object":{"range":[70606,70612],"loc":{"start":{"line":2447,"column":12},"end":{"line":2447,"column":18}},"type":"Identifier","name":"params"},"property":{"range":[70613,70616],"loc":{"start":{"line":2447,"column":19},"end":{"line":2447,"column":22}},"type":"Identifier","name":"lat"}},"right":{"range":[70619,70643],"loc":{"start":{"line":2447,"column":25},"end":{"line":2447,"column":49}},"type":"MemberExpression","computed":false,"object":{"range":[70619,70634],"loc":{"start":{"line":2447,"column":25},"end":{"line":2447,"column":40}},"type":"MemberExpression","computed":false,"object":{"range":[70619,70627],"loc":{"start":{"line":2447,"column":25},"end":{"line":2447,"column":33}},"type":"Identifier","name":"position"},"property":{"range":[70628,70634],"loc":{"start":{"line":2447,"column":34},"end":{"line":2447,"column":40}},"type":"Identifier","name":"coords"}},"property":{"range":[70635,70643],"loc":{"start":{"line":2447,"column":41},"end":{"line":2447,"column":49}},"type":"Identifier","name":"latitude"}}}},{"range":[70657,70696],"loc":{"start":{"line":2448,"column":12},"end":{"line":2448,"column":51}},"type":"ExpressionStatement","expression":{"range":[70657,70695],"loc":{"start":{"line":2448,"column":12},"end":{"line":2448,"column":50}},"type":"AssignmentExpression","operator":"=","left":{"range":[70657,70667],"loc":{"start":{"line":2448,"column":12},"end":{"line":2448,"column":22}},"type":"MemberExpression","computed":false,"object":{"range":[70657,70663],"loc":{"start":{"line":2448,"column":12},"end":{"line":2448,"column":18}},"type":"Identifier","name":"params"},"property":{"range":[70664,70667],"loc":{"start":{"line":2448,"column":19},"end":{"line":2448,"column":22}},"type":"Identifier","name":"lon"}},"right":{"range":[70670,70695],"loc":{"start":{"line":2448,"column":25},"end":{"line":2448,"column":50}},"type":"MemberExpression","computed":false,"object":{"range":[70670,70685],"loc":{"start":{"line":2448,"column":25},"end":{"line":2448,"column":40}},"type":"MemberExpression","computed":false,"object":{"range":[70670,70678],"loc":{"start":{"line":2448,"column":25},"end":{"line":2448,"column":33}},"type":"Identifier","name":"position"},"property":{"range":[70679,70685],"loc":{"start":{"line":2448,"column":34},"end":{"line":2448,"column":40}},"type":"Identifier","name":"coords"}},"property":{"range":[70686,70695],"loc":{"start":{"line":2448,"column":41},"end":{"line":2448,"column":50}},"type":"Identifier","name":"longitude"}}}},{"range":[70710,70734],"loc":{"start":{"line":2450,"column":12},"end":{"line":2450,"column":36}},"type":"ExpressionStatement","expression":{"range":[70710,70733],"loc":{"start":{"line":2450,"column":12},"end":{"line":2450,"column":35}},"type":"AssignmentExpression","operator":"=","left":{"range":[70710,70724],"loc":{"start":{"line":2450,"column":12},"end":{"line":2450,"column":26}},"type":"MemberExpression","computed":false,"object":{"range":[70710,70717],"loc":{"start":{"line":2450,"column":12},"end":{"line":2450,"column":19}},"type":"MemberExpression","computed":true,"object":{"range":[70710,70714],"loc":{"start":{"line":2450,"column":12},"end":{"line":2450,"column":16}},"type":"Identifier","name":"args"},"property":{"range":[70715,70716],"loc":{"start":{"line":2450,"column":17},"end":{"line":2450,"column":18}},"type":"Literal","value":0,"raw":"0"}},"property":{"range":[70718,70724],"loc":{"start":{"line":2450,"column":20},"end":{"line":2450,"column":26}},"type":"Identifier","name":"params"}},"right":{"range":[70727,70733],"loc":{"start":{"line":2450,"column":29},"end":{"line":2450,"column":35}},"type":"Identifier","name":"params"}}},{"range":[70747,70797],"loc":{"start":{"line":2451,"column":12},"end":{"line":2451,"column":62}},"type":"ReturnStatement","argument":{"range":[70754,70796],"loc":{"start":{"line":2451,"column":19},"end":{"line":2451,"column":61}},"type":"CallExpression","callee":{"range":[70754,70783],"loc":{"start":{"line":2451,"column":19},"end":{"line":2451,"column":48}},"type":"MemberExpression","computed":false,"object":{"range":[70754,70777],"loc":{"start":{"line":2451,"column":19},"end":{"line":2451,"column":42}},"type":"MemberExpression","computed":false,"object":{"range":[70754,70772],"loc":{"start":{"line":2451,"column":19},"end":{"line":2451,"column":37}},"type":"MemberExpression","computed":false,"object":{"range":[70754,70762],"loc":{"start":{"line":2451,"column":19},"end":{"line":2451,"column":27}},"type":"Identifier","name":"Resource"},"property":{"range":[70763,70772],"loc":{"start":{"line":2451,"column":28},"end":{"line":2451,"column":37}},"type":"Identifier","name":"prototype"}},"property":{"range":[70773,70777],"loc":{"start":{"line":2451,"column":38},"end":{"line":2451,"column":42}},"type":"Identifier","name":"read"}},"property":{"range":[70778,70783],"loc":{"start":{"line":2451,"column":43},"end":{"line":2451,"column":48}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[70784,70789],"loc":{"start":{"line":2451,"column":49},"end":{"line":2451,"column":54}},"type":"Identifier","name":"$this"},{"range":[70791,70795],"loc":{"start":{"line":2451,"column":56},"end":{"line":2451,"column":60}},"type":"Identifier","name":"args"}]}}]},"generator":false,"expression":false},{"range":[70812,71011],"loc":{"start":{"line":2453,"column":13},"end":{"line":2457,"column":11}},"type":"FunctionExpression","id":null,"params":[{"range":[70822,70825],"loc":{"start":{"line":2453,"column":23},"end":{"line":2453,"column":26}},"type":"Identifier","name":"err"}],"defaults":[],"body":{"range":[70827,71011],"loc":{"start":{"line":2453,"column":28},"end":{"line":2457,"column":11}},"type":"BlockStatement","body":[{"range":[70919,70936],"loc":{"start":{"line":2455,"column":12},"end":{"line":2455,"column":29}},"type":"ExpressionStatement","expression":{"range":[70919,70935],"loc":{"start":{"line":2455,"column":12},"end":{"line":2455,"column":28}},"type":"CallExpression","callee":{"range":[70919,70930],"loc":{"start":{"line":2455,"column":12},"end":{"line":2455,"column":23}},"type":"MemberExpression","computed":false,"object":{"range":[70919,70925],"loc":{"start":{"line":2455,"column":12},"end":{"line":2455,"column":18}},"type":"Identifier","name":"Logger"},"property":{"range":[70926,70930],"loc":{"start":{"line":2455,"column":19},"end":{"line":2455,"column":23}},"type":"Identifier","name":"info"}},"arguments":[{"range":[70931,70934],"loc":{"start":{"line":2455,"column":24},"end":{"line":2455,"column":27}},"type":"Identifier","name":"err"}]},"leadingComments":[{"type":"Line","value":" Unable to get position, just inform the reason in the console.","range":[70841,70906],"loc":{"start":{"line":2454,"column":12},"end":{"line":2454,"column":77}}}]},{"range":[70949,70999],"loc":{"start":{"line":2456,"column":12},"end":{"line":2456,"column":62}},"type":"ReturnStatement","argument":{"range":[70956,70998],"loc":{"start":{"line":2456,"column":19},"end":{"line":2456,"column":61}},"type":"CallExpression","callee":{"range":[70956,70985],"loc":{"start":{"line":2456,"column":19},"end":{"line":2456,"column":48}},"type":"MemberExpression","computed":false,"object":{"range":[70956,70979],"loc":{"start":{"line":2456,"column":19},"end":{"line":2456,"column":42}},"type":"MemberExpression","computed":false,"object":{"range":[70956,70974],"loc":{"start":{"line":2456,"column":19},"end":{"line":2456,"column":37}},"type":"MemberExpression","computed":false,"object":{"range":[70956,70964],"loc":{"start":{"line":2456,"column":19},"end":{"line":2456,"column":27}},"type":"Identifier","name":"Resource"},"property":{"range":[70965,70974],"loc":{"start":{"line":2456,"column":28},"end":{"line":2456,"column":37}},"type":"Identifier","name":"prototype"}},"property":{"range":[70975,70979],"loc":{"start":{"line":2456,"column":38},"end":{"line":2456,"column":42}},"type":"Identifier","name":"read"}},"property":{"range":[70980,70985],"loc":{"start":{"line":2456,"column":43},"end":{"line":2456,"column":48}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[70986,70991],"loc":{"start":{"line":2456,"column":49},"end":{"line":2456,"column":54}},"type":"Identifier","name":"$this"},{"range":[70993,70997],"loc":{"start":{"line":2456,"column":56},"end":{"line":2456,"column":60}},"type":"Identifier","name":"args"}]}}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" If geolocation setting is turned on, get current position","range":[70462,70522],"loc":{"start":{"line":2445,"column":10},"end":{"line":2445,"column":70}}}]}]},"alternate":{"range":[71030,71102],"loc":{"start":{"line":2459,"column":15},"end":{"line":2461,"column":9}},"type":"BlockStatement","body":[{"range":[71042,71092],"loc":{"start":{"line":2460,"column":10},"end":{"line":2460,"column":60}},"type":"ReturnStatement","argument":{"range":[71049,71091],"loc":{"start":{"line":2460,"column":17},"end":{"line":2460,"column":59}},"type":"CallExpression","callee":{"range":[71049,71078],"loc":{"start":{"line":2460,"column":17},"end":{"line":2460,"column":46}},"type":"MemberExpression","computed":false,"object":{"range":[71049,71072],"loc":{"start":{"line":2460,"column":17},"end":{"line":2460,"column":40}},"type":"MemberExpression","computed":false,"object":{"range":[71049,71067],"loc":{"start":{"line":2460,"column":17},"end":{"line":2460,"column":35}},"type":"MemberExpression","computed":false,"object":{"range":[71049,71057],"loc":{"start":{"line":2460,"column":17},"end":{"line":2460,"column":25}},"type":"Identifier","name":"Resource"},"property":{"range":[71058,71067],"loc":{"start":{"line":2460,"column":26},"end":{"line":2460,"column":35}},"type":"Identifier","name":"prototype"}},"property":{"range":[71068,71072],"loc":{"start":{"line":2460,"column":36},"end":{"line":2460,"column":40}},"type":"Identifier","name":"read"}},"property":{"range":[71073,71078],"loc":{"start":{"line":2460,"column":41},"end":{"line":2460,"column":46}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[71079,71084],"loc":{"start":{"line":2460,"column":47},"end":{"line":2460,"column":52}},"type":"Identifier","name":"$this"},{"range":[71086,71090],"loc":{"start":{"line":2460,"column":54},"end":{"line":2460,"column":58}},"type":"Identifier","name":"args"}]}}]}}]},"generator":false,"expression":false}},"leadingComments":[{"type":"Line","value":" Overload resource read() to send current location by default","range":[70117,70180],"loc":{"start":{"line":2438,"column":6},"end":{"line":2438,"column":69}}}]},{"range":[71119,71135],"loc":{"start":{"line":2464,"column":6},"end":{"line":2464,"column":22}},"type":"ReturnStatement","argument":{"range":[71126,71134],"loc":{"start":{"line":2464,"column":13},"end":{"line":2464,"column":21}},"type":"Identifier","name":"resource"}}]},"generator":false,"expression":false},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" ## PLACE.JS","range":[69152,69166],"loc":{"start":{"line":2393,"column":0},"end":{"line":2393,"column":14}}},{"type":"Line","value":" **The Place is a simple Entity subclass representing the REST API","range":[69168,69236],"loc":{"start":{"line":2395,"column":0},"end":{"line":2395,"column":68}}},{"type":"Line","value":" Place object.**","range":[69237,69255],"loc":{"start":{"line":2396,"column":0},"end":{"line":2396,"column":18}}}],"trailingComments":[{"type":"Line","value":" ## FACEBOOK.JS","range":[71152,71169],"loc":{"start":{"line":2469,"column":0},"end":{"line":2469,"column":17}}},{"type":"Line","value":" **The Facebook module exports wrapped *login*, *logout* and *init* methods","range":[71171,71248],"loc":{"start":{"line":2471,"column":0},"end":{"line":2471,"column":77}}},{"type":"Line","value":" from the Facebook SDK, always returning Promises.**","range":[71249,71303],"loc":{"start":{"line":2472,"column":0},"end":{"line":2472,"column":54}}}]},{"range":[71305,74699],"loc":{"start":{"line":2474,"column":0},"end":{"line":2603,"column":3}},"type":"ExpressionStatement","expression":{"range":[71305,74698],"loc":{"start":{"line":2474,"column":0},"end":{"line":2603,"column":2}},"type":"CallExpression","callee":{"range":[71305,71311],"loc":{"start":{"line":2474,"column":0},"end":{"line":2474,"column":6}},"type":"Identifier","name":"define"},"arguments":[{"range":[71312,71329],"loc":{"start":{"line":2474,"column":7},"end":{"line":2474,"column":24}},"type":"Literal","value":"social/facebook","raw":"'social/facebook'"},{"range":[71330,71356],"loc":{"start":{"line":2474,"column":25},"end":{"line":2477,"column":1}},"type":"ArrayExpression","elements":[{"range":[71334,71343],"loc":{"start":{"line":2475,"column":2},"end":{"line":2475,"column":11}},"type":"Literal","value":"promise","raw":"'promise'"},{"range":[71347,71354],"loc":{"start":{"line":2476,"column":2},"end":{"line":2476,"column":9}},"type":"Literal","value":"utils","raw":"'utils'"}]},{"range":[71358,74697],"loc":{"start":{"line":2477,"column":3},"end":{"line":2603,"column":1}},"type":"FunctionExpression","id":null,"params":[{"range":[71368,71375],"loc":{"start":{"line":2477,"column":13},"end":{"line":2477,"column":20}},"type":"Identifier","name":"Promise"},{"range":[71377,71382],"loc":{"start":{"line":2477,"column":22},"end":{"line":2477,"column":27}},"type":"Identifier","name":"Utils"}],"defaults":[],"body":{"range":[71384,74697],"loc":{"start":{"line":2477,"column":29},"end":{"line":2603,"column":1}},"type":"BlockStatement","body":[{"range":[71388,71401],"loc":{"start":{"line":2478,"column":2},"end":{"line":2478,"column":15}},"type":"ExpressionStatement","expression":{"range":[71388,71400],"loc":{"start":{"line":2478,"column":2},"end":{"line":2478,"column":14}},"type":"Literal","value":"use strict","raw":"'use strict'"},"trailingComments":[{"type":"Block","value":"global FB","range":[71404,71417],"loc":{"start":{"line":2479,"column":2},"end":{"line":2479,"column":15}}},{"type":"Line","value":" Load Facebook SDK asynchronously. This means that by default","range":[71421,71484],"loc":{"start":{"line":2481,"column":2},"end":{"line":2481,"column":65}}},{"type":"Line","value":" it is not bundled with EvrythngJS, and is only loaded if an application","range":[71487,71561],"loc":{"start":{"line":2482,"column":2},"end":{"line":2482,"column":76}}},{"type":"Line","value":" needs Facebook authentication.","range":[71564,71597],"loc":{"start":{"line":2483,"column":2},"end":{"line":2483,"column":35}}},{"type":"Line","value":" The *init()* method also gets the current user information in one","range":[71601,71669],"loc":{"start":{"line":2485,"column":2},"end":{"line":2485,"column":70}}},{"type":"Line","value":" is already logged in.","range":[71672,71696],"loc":{"start":{"line":2486,"column":2},"end":{"line":2486,"column":26}}}]},{"range":[71699,73035],"loc":{"start":{"line":2487,"column":2},"end":{"line":2528,"column":3}},"type":"FunctionDeclaration","id":{"range":[71708,71712],"loc":{"start":{"line":2487,"column":11},"end":{"line":2487,"column":15}},"type":"Identifier","name":"init"},"params":[{"range":[71713,71718],"loc":{"start":{"line":2487,"column":16},"end":{"line":2487,"column":21}},"type":"Identifier","name":"appId"}],"defaults":[],"body":{"range":[71720,73035],"loc":{"start":{"line":2487,"column":23},"end":{"line":2528,"column":3}},"type":"BlockStatement","body":[{"range":[71792,73031],"loc":{"start":{"line":2490,"column":4},"end":{"line":2527,"column":7}},"type":"ReturnStatement","argument":{"range":[71799,73030],"loc":{"start":{"line":2490,"column":11},"end":{"line":2527,"column":6}},"type":"NewExpression","callee":{"range":[71803,71810],"loc":{"start":{"line":2490,"column":15},"end":{"line":2490,"column":22}},"type":"Identifier","name":"Promise"},"arguments":[{"range":[71811,73029],"loc":{"start":{"line":2490,"column":23},"end":{"line":2527,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[71820,71827],"loc":{"start":{"line":2490,"column":32},"end":{"line":2490,"column":39}},"type":"Identifier","name":"resolve"}],"defaults":[],"body":{"range":[71828,73029],"loc":{"start":{"line":2490,"column":40},"end":{"line":2527,"column":5}},"type":"BlockStatement","body":[{"range":[72033,72548],"loc":{"start":{"line":2495,"column":6},"end":{"line":2515,"column":8}},"type":"ExpressionStatement","expression":{"range":[72033,72547],"loc":{"start":{"line":2495,"column":6},"end":{"line":2515,"column":7}},"type":"AssignmentExpression","operator":"=","left":{"range":[72033,72051],"loc":{"start":{"line":2495,"column":6},"end":{"line":2495,"column":24}},"type":"MemberExpression","computed":false,"object":{"range":[72033,72039],"loc":{"start":{"line":2495,"column":6},"end":{"line":2495,"column":12}},"type":"Identifier","name":"window"},"property":{"range":[72040,72051],"loc":{"start":{"line":2495,"column":13},"end":{"line":2495,"column":24}},"type":"Identifier","name":"fbAsyncInit"}},"right":{"range":[72054,72547],"loc":{"start":{"line":2495,"column":27},"end":{"line":2515,"column":7}},"type":"FunctionExpression","id":null,"params":[],"defaults":[],"body":{"range":[72066,72547],"loc":{"start":{"line":2495,"column":39},"end":{"line":2515,"column":7}},"type":"BlockStatement","body":[{"range":[72077,72148],"loc":{"start":{"line":2497,"column":8},"end":{"line":2500,"column":11}},"type":"ExpressionStatement","expression":{"range":[72077,72147],"loc":{"start":{"line":2497,"column":8},"end":{"line":2500,"column":10}},"type":"CallExpression","callee":{"range":[72077,72084],"loc":{"start":{"line":2497,"column":8},"end":{"line":2497,"column":15}},"type":"MemberExpression","computed":false,"object":{"range":[72077,72079],"loc":{"start":{"line":2497,"column":8},"end":{"line":2497,"column":10}},"type":"Identifier","name":"FB"},"property":{"range":[72080,72084],"loc":{"start":{"line":2497,"column":11},"end":{"line":2497,"column":15}},"type":"Identifier","name":"init"}},"arguments":[{"range":[72085,72146],"loc":{"start":{"line":2497,"column":16},"end":{"line":2500,"column":9}},"type":"ObjectExpression","properties":[{"range":[72097,72109],"loc":{"start":{"line":2498,"column":10},"end":{"line":2498,"column":22}},"type":"Property","key":{"range":[72097,72102],"loc":{"start":{"line":2498,"column":10},"end":{"line":2498,"column":15}},"type":"Identifier","name":"appId"},"computed":false,"value":{"range":[72104,72109],"loc":{"start":{"line":2498,"column":17},"end":{"line":2498,"column":22}},"type":"Identifier","name":"appId"},"kind":"init","method":false,"shorthand":false},{"range":[72121,72136],"loc":{"start":{"line":2499,"column":10},"end":{"line":2499,"column":25}},"type":"Property","key":{"range":[72121,72128],"loc":{"start":{"line":2499,"column":10},"end":{"line":2499,"column":17}},"type":"Identifier","name":"version"},"computed":false,"value":{"range":[72130,72136],"loc":{"start":{"line":2499,"column":19},"end":{"line":2499,"column":25}},"type":"Literal","value":"v2.0","raw":"'v2.0'"},"kind":"init","method":false,"shorthand":false}]}]},"trailingComments":[{"type":"Line","value":" Get Login status and user info if connected. Build response as we","range":[72158,72226],"loc":{"start":{"line":2502,"column":8},"end":{"line":2502,"column":76}}},{"type":"Line","value":" fetch more information.","range":[72235,72261],"loc":{"start":{"line":2503,"column":8},"end":{"line":2503,"column":34}}}]},{"range":[72270,72539],"loc":{"start":{"line":2504,"column":8},"end":{"line":2514,"column":11}},"type":"ExpressionStatement","expression":{"range":[72270,72538],"loc":{"start":{"line":2504,"column":8},"end":{"line":2514,"column":10}},"type":"CallExpression","callee":{"range":[72270,72287],"loc":{"start":{"line":2504,"column":8},"end":{"line":2504,"column":25}},"type":"MemberExpression","computed":false,"object":{"range":[72270,72272],"loc":{"start":{"line":2504,"column":8},"end":{"line":2504,"column":10}},"type":"Identifier","name":"FB"},"property":{"range":[72273,72287],"loc":{"start":{"line":2504,"column":11},"end":{"line":2504,"column":25}},"type":"Identifier","name":"getLoginStatus"}},"arguments":[{"range":[72288,72537],"loc":{"start":{"line":2504,"column":26},"end":{"line":2514,"column":9}},"type":"FunctionExpression","id":null,"params":[{"range":[72298,72306],"loc":{"start":{"line":2504,"column":36},"end":{"line":2504,"column":44}},"type":"Identifier","name":"response"}],"defaults":[],"body":{"range":[72308,72537],"loc":{"start":{"line":2504,"column":46},"end":{"line":2514,"column":9}},"type":"BlockStatement","body":[{"range":[72368,72526],"loc":{"start":{"line":2507,"column":10},"end":{"line":2512,"column":13}},"type":"ExpressionStatement","expression":{"range":[72368,72525],"loc":{"start":{"line":2507,"column":10},"end":{"line":2512,"column":12}},"type":"CallExpression","callee":{"range":[72368,72391],"loc":{"start":{"line":2507,"column":10},"end":{"line":2507,"column":33}},"type":"MemberExpression","computed":false,"object":{"range":[72368,72386],"loc":{"start":{"line":2507,"column":10},"end":{"line":2507,"column":28}},"type":"CallExpression","callee":{"range":[72368,72376],"loc":{"start":{"line":2507,"column":10},"end":{"line":2507,"column":18}},"type":"Identifier","name":"_getUser"},"arguments":[{"range":[72377,72385],"loc":{"start":{"line":2507,"column":19},"end":{"line":2507,"column":27}},"type":"Identifier","name":"response"}]},"property":{"range":[72387,72391],"loc":{"start":{"line":2507,"column":29},"end":{"line":2507,"column":33}},"type":"Identifier","name":"then"}},"arguments":[{"range":[72392,72524],"loc":{"start":{"line":2507,"column":34},"end":{"line":2512,"column":11}},"type":"FunctionExpression","id":null,"params":[{"range":[72401,72413],"loc":{"start":{"line":2507,"column":43},"end":{"line":2507,"column":55}},"type":"Identifier","name":"userResponse"}],"defaults":[],"body":{"range":[72414,72524],"loc":{"start":{"line":2507,"column":56},"end":{"line":2512,"column":11}},"type":"BlockStatement","body":[{"range":[72489,72511],"loc":{"start":{"line":2510,"column":12},"end":{"line":2510,"column":34}},"type":"ExpressionStatement","expression":{"range":[72489,72510],"loc":{"start":{"line":2510,"column":12},"end":{"line":2510,"column":33}},"type":"CallExpression","callee":{"range":[72489,72496],"loc":{"start":{"line":2510,"column":12},"end":{"line":2510,"column":19}},"type":"Identifier","name":"resolve"},"arguments":[{"range":[72497,72509],"loc":{"start":{"line":2510,"column":20},"end":{"line":2510,"column":32}},"type":"Identifier","name":"userResponse"}]},"leadingComments":[{"type":"Block","value":"userResponse = authResponse + status + user","range":[72429,72476],"loc":{"start":{"line":2509,"column":12},"end":{"line":2509,"column":59}}}]}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Block","value":"response = authResponse + status","range":[72321,72357],"loc":{"start":{"line":2506,"column":10},"end":{"line":2506,"column":46}}}]}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" Get Login status and user info if connected. Build response as we","range":[72158,72226],"loc":{"start":{"line":2502,"column":8},"end":{"line":2502,"column":76}}},{"type":"Line","value":" fetch more information.","range":[72235,72261],"loc":{"start":{"line":2503,"column":8},"end":{"line":2503,"column":34}}}]}]},"generator":false,"expression":false}},"leadingComments":[{"type":"Line","value":" Notice that the FB SDK only works in the browser. Thus, an Evrtyhng","range":[71837,71907],"loc":{"start":{"line":2492,"column":6},"end":{"line":2492,"column":76}}},{"type":"Line","value":" application cannot use Facebook authentication if it is not intended","range":[71914,71985],"loc":{"start":{"line":2493,"column":6},"end":{"line":2493,"column":77}}},{"type":"Line","value":" to run in the browser, as well.","range":[71992,72026],"loc":{"start":{"line":2494,"column":6},"end":{"line":2494,"column":40}}}],"trailingComments":[{"type":"Line","value":" Inject Facebook SDK script in document (see","range":[72556,72602],"loc":{"start":{"line":2517,"column":6},"end":{"line":2517,"column":52}}},{"type":"Line","value":" [Facebook Developer Docs](https://developers.facebook.com/docs/javascript/quickstart/v2.0)).","range":[72609,72704],"loc":{"start":{"line":2518,"column":6},"end":{"line":2518,"column":101}}}]},{"range":[72711,73022],"loc":{"start":{"line":2519,"column":6},"end":{"line":2525,"column":47}},"type":"ExpressionStatement","expression":{"range":[72712,73020],"loc":{"start":{"line":2519,"column":7},"end":{"line":2525,"column":45}},"type":"CallExpression","callee":{"range":[72712,72982],"loc":{"start":{"line":2519,"column":7},"end":{"line":2525,"column":7}},"type":"FunctionExpression","id":null,"params":[{"range":[72721,72722],"loc":{"start":{"line":2519,"column":16},"end":{"line":2519,"column":17}},"type":"Identifier","name":"d"},{"range":[72724,72725],"loc":{"start":{"line":2519,"column":19},"end":{"line":2519,"column":20}},"type":"Identifier","name":"s"},{"range":[72727,72729],"loc":{"start":{"line":2519,"column":22},"end":{"line":2519,"column":24}},"type":"Identifier","name":"id"}],"defaults":[],"body":{"range":[72730,72982],"loc":{"start":{"line":2519,"column":25},"end":{"line":2525,"column":7}},"type":"BlockStatement","body":[{"range":[72740,72783],"loc":{"start":{"line":2520,"column":8},"end":{"line":2520,"column":51}},"type":"VariableDeclaration","declarations":[{"range":[72744,72746],"loc":{"start":{"line":2520,"column":12},"end":{"line":2520,"column":14}},"type":"VariableDeclarator","id":{"range":[72744,72746],"loc":{"start":{"line":2520,"column":12},"end":{"line":2520,"column":14}},"type":"Identifier","name":"js"},"init":null},{"range":[72748,72782],"loc":{"start":{"line":2520,"column":16},"end":{"line":2520,"column":50}},"type":"VariableDeclarator","id":{"range":[72748,72751],"loc":{"start":{"line":2520,"column":16},"end":{"line":2520,"column":19}},"type":"Identifier","name":"fjs"},"init":{"range":[72754,72782],"loc":{"start":{"line":2520,"column":22},"end":{"line":2520,"column":50}},"type":"MemberExpression","computed":true,"object":{"range":[72754,72779],"loc":{"start":{"line":2520,"column":22},"end":{"line":2520,"column":47}},"type":"CallExpression","callee":{"range":[72754,72776],"loc":{"start":{"line":2520,"column":22},"end":{"line":2520,"column":44}},"type":"MemberExpression","computed":false,"object":{"range":[72754,72755],"loc":{"start":{"line":2520,"column":22},"end":{"line":2520,"column":23}},"type":"Identifier","name":"d"},"property":{"range":[72756,72776],"loc":{"start":{"line":2520,"column":24},"end":{"line":2520,"column":44}},"type":"Identifier","name":"getElementsByTagName"}},"arguments":[{"range":[72777,72778],"loc":{"start":{"line":2520,"column":45},"end":{"line":2520,"column":46}},"type":"Identifier","name":"s"}]},"property":{"range":[72780,72781],"loc":{"start":{"line":2520,"column":48},"end":{"line":2520,"column":49}},"type":"Literal","value":0,"raw":"0"}}}],"kind":"var"},{"range":[72792,72827],"loc":{"start":{"line":2521,"column":8},"end":{"line":2521,"column":43}},"type":"IfStatement","test":{"range":[72796,72816],"loc":{"start":{"line":2521,"column":12},"end":{"line":2521,"column":32}},"type":"CallExpression","callee":{"range":[72796,72812],"loc":{"start":{"line":2521,"column":12},"end":{"line":2521,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[72796,72797],"loc":{"start":{"line":2521,"column":12},"end":{"line":2521,"column":13}},"type":"Identifier","name":"d"},"property":{"range":[72798,72812],"loc":{"start":{"line":2521,"column":14},"end":{"line":2521,"column":28}},"type":"Identifier","name":"getElementById"}},"arguments":[{"range":[72813,72815],"loc":{"start":{"line":2521,"column":29},"end":{"line":2521,"column":31}},"type":"Identifier","name":"id"}]},"consequent":{"range":[72818,72827],"loc":{"start":{"line":2521,"column":34},"end":{"line":2521,"column":43}},"type":"BlockStatement","body":[{"range":[72819,72826],"loc":{"start":{"line":2521,"column":35},"end":{"line":2521,"column":42}},"type":"ReturnStatement","argument":null}]},"alternate":null},{"range":[72836,72860],"loc":{"start":{"line":2522,"column":8},"end":{"line":2522,"column":32}},"type":"ExpressionStatement","expression":{"range":[72836,72859],"loc":{"start":{"line":2522,"column":8},"end":{"line":2522,"column":31}},"type":"AssignmentExpression","operator":"=","left":{"range":[72836,72838],"loc":{"start":{"line":2522,"column":8},"end":{"line":2522,"column":10}},"type":"Identifier","name":"js"},"right":{"range":[72841,72859],"loc":{"start":{"line":2522,"column":13},"end":{"line":2522,"column":31}},"type":"CallExpression","callee":{"range":[72841,72856],"loc":{"start":{"line":2522,"column":13},"end":{"line":2522,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[72841,72842],"loc":{"start":{"line":2522,"column":13},"end":{"line":2522,"column":14}},"type":"Identifier","name":"d"},"property":{"range":[72843,72856],"loc":{"start":{"line":2522,"column":15},"end":{"line":2522,"column":28}},"type":"Identifier","name":"createElement"}},"arguments":[{"range":[72857,72858],"loc":{"start":{"line":2522,"column":29},"end":{"line":2522,"column":30}},"type":"Identifier","name":"s"}]}}},{"range":[72861,72872],"loc":{"start":{"line":2522,"column":33},"end":{"line":2522,"column":44}},"type":"ExpressionStatement","expression":{"range":[72861,72871],"loc":{"start":{"line":2522,"column":33},"end":{"line":2522,"column":43}},"type":"AssignmentExpression","operator":"=","left":{"range":[72861,72866],"loc":{"start":{"line":2522,"column":33},"end":{"line":2522,"column":38}},"type":"MemberExpression","computed":false,"object":{"range":[72861,72863],"loc":{"start":{"line":2522,"column":33},"end":{"line":2522,"column":35}},"type":"Identifier","name":"js"},"property":{"range":[72864,72866],"loc":{"start":{"line":2522,"column":36},"end":{"line":2522,"column":38}},"type":"Identifier","name":"id"}},"right":{"range":[72869,72871],"loc":{"start":{"line":2522,"column":41},"end":{"line":2522,"column":43}},"type":"Identifier","name":"id"}}},{"range":[72881,72928],"loc":{"start":{"line":2523,"column":8},"end":{"line":2523,"column":55}},"type":"ExpressionStatement","expression":{"range":[72881,72927],"loc":{"start":{"line":2523,"column":8},"end":{"line":2523,"column":54}},"type":"AssignmentExpression","operator":"=","left":{"range":[72881,72887],"loc":{"start":{"line":2523,"column":8},"end":{"line":2523,"column":14}},"type":"MemberExpression","computed":false,"object":{"range":[72881,72883],"loc":{"start":{"line":2523,"column":8},"end":{"line":2523,"column":10}},"type":"Identifier","name":"js"},"property":{"range":[72884,72887],"loc":{"start":{"line":2523,"column":11},"end":{"line":2523,"column":14}},"type":"Identifier","name":"src"}},"right":{"range":[72890,72927],"loc":{"start":{"line":2523,"column":17},"end":{"line":2523,"column":54}},"type":"Literal","value":"//connect.facebook.net/en_US/sdk.js","raw":"\"//connect.facebook.net/en_US/sdk.js\""}}},{"range":[72937,72974],"loc":{"start":{"line":2524,"column":8},"end":{"line":2524,"column":45}},"type":"ExpressionStatement","expression":{"range":[72937,72973],"loc":{"start":{"line":2524,"column":8},"end":{"line":2524,"column":44}},"type":"CallExpression","callee":{"range":[72937,72964],"loc":{"start":{"line":2524,"column":8},"end":{"line":2524,"column":35}},"type":"MemberExpression","computed":false,"object":{"range":[72937,72951],"loc":{"start":{"line":2524,"column":8},"end":{"line":2524,"column":22}},"type":"MemberExpression","computed":false,"object":{"range":[72937,72940],"loc":{"start":{"line":2524,"column":8},"end":{"line":2524,"column":11}},"type":"Identifier","name":"fjs"},"property":{"range":[72941,72951],"loc":{"start":{"line":2524,"column":12},"end":{"line":2524,"column":22}},"type":"Identifier","name":"parentNode"}},"property":{"range":[72952,72964],"loc":{"start":{"line":2524,"column":23},"end":{"line":2524,"column":35}},"type":"Identifier","name":"insertBefore"}},"arguments":[{"range":[72965,72967],"loc":{"start":{"line":2524,"column":36},"end":{"line":2524,"column":38}},"type":"Identifier","name":"js"},{"range":[72969,72972],"loc":{"start":{"line":2524,"column":40},"end":{"line":2524,"column":43}},"type":"Identifier","name":"fjs"}]}}]},"generator":false,"expression":false},"arguments":[{"range":[72983,72991],"loc":{"start":{"line":2525,"column":8},"end":{"line":2525,"column":16}},"type":"Identifier","name":"document"},{"range":[72993,73001],"loc":{"start":{"line":2525,"column":18},"end":{"line":2525,"column":26}},"type":"Literal","value":"script","raw":"'script'"},{"range":[73003,73019],"loc":{"start":{"line":2525,"column":28},"end":{"line":2525,"column":44}},"type":"Literal","value":"facebook-jssdk","raw":"'facebook-jssdk'"}]},"leadingComments":[{"type":"Line","value":" Inject Facebook SDK script in document (see","range":[72556,72602],"loc":{"start":{"line":2517,"column":6},"end":{"line":2517,"column":52}}},{"type":"Line","value":" [Facebook Developer Docs](https://developers.facebook.com/docs/javascript/quickstart/v2.0)).","range":[72609,72704],"loc":{"start":{"line":2518,"column":6},"end":{"line":2518,"column":101}}}]}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" Return promise and resolve once user status is retrieved.","range":[71727,71787],"loc":{"start":{"line":2489,"column":4},"end":{"line":2489,"column":64}}}]}]},"generator":false,"expression":false,"leadingComments":[{"type":"Block","value":"global FB","range":[71404,71417],"loc":{"start":{"line":2479,"column":2},"end":{"line":2479,"column":15}}},{"type":"Line","value":" Load Facebook SDK asynchronously. This means that by default","range":[71421,71484],"loc":{"start":{"line":2481,"column":2},"end":{"line":2481,"column":65}}},{"type":"Line","value":" it is not bundled with EvrythngJS, and is only loaded if an application","range":[71487,71561],"loc":{"start":{"line":2482,"column":2},"end":{"line":2482,"column":76}}},{"type":"Line","value":" needs Facebook authentication.","range":[71564,71597],"loc":{"start":{"line":2483,"column":2},"end":{"line":2483,"column":35}}},{"type":"Line","value":" The *init()* method also gets the current user information in one","range":[71601,71669],"loc":{"start":{"line":2485,"column":2},"end":{"line":2485,"column":70}}},{"type":"Line","value":" is already logged in.","range":[71672,71696],"loc":{"start":{"line":2486,"column":2},"end":{"line":2486,"column":26}}}],"trailingComments":[{"type":"Line","value":" Invoke standard Facebook login popup, using specified options.","range":[73039,73104],"loc":{"start":{"line":2530,"column":2},"end":{"line":2530,"column":67}}}]},{"range":[73107,73706],"loc":{"start":{"line":2531,"column":2},"end":{"line":2558,"column":3}},"type":"FunctionDeclaration","id":{"range":[73116,73121],"loc":{"start":{"line":2531,"column":11},"end":{"line":2531,"column":16}},"type":"Identifier","name":"login"},"params":[{"range":[73122,73129],"loc":{"start":{"line":2531,"column":17},"end":{"line":2531,"column":24}},"type":"Identifier","name":"options"}],"defaults":[],"body":{"range":[73131,73706],"loc":{"start":{"line":2531,"column":26},"end":{"line":2558,"column":3}},"type":"BlockStatement","body":[{"range":[73201,73702],"loc":{"start":{"line":2534,"column":4},"end":{"line":2557,"column":7}},"type":"ReturnStatement","argument":{"range":[73208,73701],"loc":{"start":{"line":2534,"column":11},"end":{"line":2557,"column":6}},"type":"NewExpression","callee":{"range":[73212,73219],"loc":{"start":{"line":2534,"column":15},"end":{"line":2534,"column":22}},"type":"Identifier","name":"Promise"},"arguments":[{"range":[73220,73700],"loc":{"start":{"line":2534,"column":23},"end":{"line":2557,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[73230,73237],"loc":{"start":{"line":2534,"column":33},"end":{"line":2534,"column":40}},"type":"Identifier","name":"resolve"},{"range":[73239,73245],"loc":{"start":{"line":2534,"column":42},"end":{"line":2534,"column":48}},"type":"Identifier","name":"reject"}],"defaults":[],"body":{"range":[73247,73700],"loc":{"start":{"line":2534,"column":50},"end":{"line":2557,"column":5}},"type":"BlockStatement","body":[{"range":[73256,73693],"loc":{"start":{"line":2536,"column":6},"end":{"line":2555,"column":18}},"type":"ExpressionStatement","expression":{"range":[73256,73692],"loc":{"start":{"line":2536,"column":6},"end":{"line":2555,"column":17}},"type":"CallExpression","callee":{"range":[73256,73264],"loc":{"start":{"line":2536,"column":6},"end":{"line":2536,"column":14}},"type":"MemberExpression","computed":false,"object":{"range":[73256,73258],"loc":{"start":{"line":2536,"column":6},"end":{"line":2536,"column":8}},"type":"Identifier","name":"FB"},"property":{"range":[73259,73264],"loc":{"start":{"line":2536,"column":9},"end":{"line":2536,"column":14}},"type":"Identifier","name":"login"}},"arguments":[{"range":[73265,73682],"loc":{"start":{"line":2536,"column":15},"end":{"line":2555,"column":7}},"type":"FunctionExpression","id":null,"params":[{"range":[73275,73283],"loc":{"start":{"line":2536,"column":25},"end":{"line":2536,"column":33}},"type":"Identifier","name":"response"}],"defaults":[],"body":{"range":[73285,73682],"loc":{"start":{"line":2536,"column":35},"end":{"line":2555,"column":7}},"type":"BlockStatement","body":[{"range":[73341,73673],"loc":{"start":{"line":2539,"column":8},"end":{"line":2553,"column":11}},"type":"ExpressionStatement","expression":{"range":[73341,73672],"loc":{"start":{"line":2539,"column":8},"end":{"line":2553,"column":10}},"type":"CallExpression","callee":{"range":[73341,73364],"loc":{"start":{"line":2539,"column":8},"end":{"line":2539,"column":31}},"type":"MemberExpression","computed":false,"object":{"range":[73341,73359],"loc":{"start":{"line":2539,"column":8},"end":{"line":2539,"column":26}},"type":"CallExpression","callee":{"range":[73341,73349],"loc":{"start":{"line":2539,"column":8},"end":{"line":2539,"column":16}},"type":"Identifier","name":"_getUser"},"arguments":[{"range":[73350,73358],"loc":{"start":{"line":2539,"column":17},"end":{"line":2539,"column":25}},"type":"Identifier","name":"response"}]},"property":{"range":[73360,73364],"loc":{"start":{"line":2539,"column":27},"end":{"line":2539,"column":31}},"type":"Identifier","name":"then"}},"arguments":[{"range":[73365,73671],"loc":{"start":{"line":2539,"column":32},"end":{"line":2553,"column":9}},"type":"FunctionExpression","id":null,"params":[{"range":[73375,73387],"loc":{"start":{"line":2539,"column":42},"end":{"line":2539,"column":54}},"type":"Identifier","name":"userResponse"}],"defaults":[],"body":{"range":[73389,73671],"loc":{"start":{"line":2539,"column":56},"end":{"line":2553,"column":9}},"type":"BlockStatement","body":[{"range":[73402,73660],"loc":{"start":{"line":2541,"column":10},"end":{"line":2551,"column":11}},"type":"IfStatement","test":{"range":[73405,73422],"loc":{"start":{"line":2541,"column":13},"end":{"line":2541,"column":30}},"type":"MemberExpression","computed":false,"object":{"range":[73405,73417],"loc":{"start":{"line":2541,"column":13},"end":{"line":2541,"column":25}},"type":"Identifier","name":"userResponse"},"property":{"range":[73418,73422],"loc":{"start":{"line":2541,"column":26},"end":{"line":2541,"column":30}},"type":"Identifier","name":"user"}},"consequent":{"range":[73424,73534],"loc":{"start":{"line":2541,"column":32},"end":{"line":2546,"column":11}},"type":"BlockStatement","body":[{"range":[73499,73521],"loc":{"start":{"line":2544,"column":12},"end":{"line":2544,"column":34}},"type":"ExpressionStatement","expression":{"range":[73499,73520],"loc":{"start":{"line":2544,"column":12},"end":{"line":2544,"column":33}},"type":"CallExpression","callee":{"range":[73499,73506],"loc":{"start":{"line":2544,"column":12},"end":{"line":2544,"column":19}},"type":"Identifier","name":"resolve"},"arguments":[{"range":[73507,73519],"loc":{"start":{"line":2544,"column":20},"end":{"line":2544,"column":32}},"type":"Identifier","name":"userResponse"}]},"leadingComments":[{"type":"Block","value":"userResponse = authResponse + status + user","range":[73439,73486],"loc":{"start":{"line":2543,"column":12},"end":{"line":2543,"column":59}}}]}]},"alternate":{"range":[73540,73660],"loc":{"start":{"line":2546,"column":17},"end":{"line":2551,"column":11}},"type":"BlockStatement","body":[{"range":[73626,73647],"loc":{"start":{"line":2549,"column":12},"end":{"line":2549,"column":33}},"type":"ExpressionStatement","expression":{"range":[73626,73646],"loc":{"start":{"line":2549,"column":12},"end":{"line":2549,"column":32}},"type":"CallExpression","callee":{"range":[73626,73632],"loc":{"start":{"line":2549,"column":12},"end":{"line":2549,"column":18}},"type":"Identifier","name":"reject"},"arguments":[{"range":[73633,73645],"loc":{"start":{"line":2549,"column":19},"end":{"line":2549,"column":31}},"type":"Identifier","name":"userResponse"}]},"leadingComments":[{"type":"Line","value":" Reject login promise if the user canceled the FB login.","range":[73555,73613],"loc":{"start":{"line":2548,"column":12},"end":{"line":2548,"column":70}}}]}]}}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Block","value":"response = authResponse + status","range":[73296,73332],"loc":{"start":{"line":2538,"column":8},"end":{"line":2538,"column":44}}}]}]},"generator":false,"expression":false},{"range":[73684,73691],"loc":{"start":{"line":2555,"column":9},"end":{"line":2555,"column":16}},"type":"Identifier","name":"options"}]}}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" Return promise and resolve once user info is retrieved.","range":[73138,73196],"loc":{"start":{"line":2533,"column":4},"end":{"line":2533,"column":62}}}]}]},"generator":false,"expression":false,"leadingComments":[{"type":"Line","value":" Invoke standard Facebook login popup, using specified options.","range":[73039,73104],"loc":{"start":{"line":2530,"column":2},"end":{"line":2530,"column":67}}}],"trailingComments":[{"type":"Line","value":" Invoke Facebook's logout and return promise.","range":[73710,73757],"loc":{"start":{"line":2560,"column":2},"end":{"line":2560,"column":49}}}]},{"range":[73760,73862],"loc":{"start":{"line":2561,"column":2},"end":{"line":2566,"column":3}},"type":"FunctionDeclaration","id":{"range":[73769,73775],"loc":{"start":{"line":2561,"column":11},"end":{"line":2561,"column":17}},"type":"Identifier","name":"logout"},"params":[],"defaults":[],"body":{"range":[73778,73862],"loc":{"start":{"line":2561,"column":20},"end":{"line":2566,"column":3}},"type":"BlockStatement","body":[{"range":[73785,73858],"loc":{"start":{"line":2563,"column":4},"end":{"line":2565,"column":7}},"type":"ReturnStatement","argument":{"range":[73792,73857],"loc":{"start":{"line":2563,"column":11},"end":{"line":2565,"column":6}},"type":"NewExpression","callee":{"range":[73796,73803],"loc":{"start":{"line":2563,"column":15},"end":{"line":2563,"column":22}},"type":"Identifier","name":"Promise"},"arguments":[{"range":[73804,73856],"loc":{"start":{"line":2563,"column":23},"end":{"line":2565,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[73814,73821],"loc":{"start":{"line":2563,"column":33},"end":{"line":2563,"column":40}},"type":"Identifier","name":"resolve"}],"defaults":[],"body":{"range":[73823,73856],"loc":{"start":{"line":2563,"column":42},"end":{"line":2565,"column":5}},"type":"BlockStatement","body":[{"range":[73831,73850],"loc":{"start":{"line":2564,"column":6},"end":{"line":2564,"column":25}},"type":"ExpressionStatement","expression":{"range":[73831,73849],"loc":{"start":{"line":2564,"column":6},"end":{"line":2564,"column":24}},"type":"CallExpression","callee":{"range":[73831,73840],"loc":{"start":{"line":2564,"column":6},"end":{"line":2564,"column":15}},"type":"MemberExpression","computed":false,"object":{"range":[73831,73833],"loc":{"start":{"line":2564,"column":6},"end":{"line":2564,"column":8}},"type":"Identifier","name":"FB"},"property":{"range":[73834,73840],"loc":{"start":{"line":2564,"column":9},"end":{"line":2564,"column":15}},"type":"Identifier","name":"logout"}},"arguments":[{"range":[73841,73848],"loc":{"start":{"line":2564,"column":16},"end":{"line":2564,"column":23}},"type":"Identifier","name":"resolve"}]}}]},"generator":false,"expression":false}]}}]},"generator":false,"expression":false,"leadingComments":[{"type":"Line","value":" Invoke Facebook's logout and return promise.","range":[73710,73757],"loc":{"start":{"line":2560,"column":2},"end":{"line":2560,"column":49}}}],"trailingComments":[{"type":"Line","value":" Fetch user info from Facebook if user is successfully connected.","range":[73866,73933],"loc":{"start":{"line":2568,"column":2},"end":{"line":2568,"column":69}}}]},{"range":[73936,74581],"loc":{"start":{"line":2569,"column":2},"end":{"line":2594,"column":3}},"type":"FunctionDeclaration","id":{"range":[73945,73953],"loc":{"start":{"line":2569,"column":11},"end":{"line":2569,"column":19}},"type":"Identifier","name":"_getUser"},"params":[{"range":[73954,73962],"loc":{"start":{"line":2569,"column":20},"end":{"line":2569,"column":28}},"type":"Identifier","name":"response"}],"defaults":[],"body":{"range":[73964,74581],"loc":{"start":{"line":2569,"column":30},"end":{"line":2594,"column":3}},"type":"BlockStatement","body":[{"range":[73971,74576],"loc":{"start":{"line":2571,"column":4},"end":{"line":2592,"column":5}},"type":"IfStatement","test":{"range":[73974,74004],"loc":{"start":{"line":2571,"column":7},"end":{"line":2571,"column":37}},"type":"BinaryExpression","operator":"==","left":{"range":[73974,73989],"loc":{"start":{"line":2571,"column":7},"end":{"line":2571,"column":22}},"type":"MemberExpression","computed":false,"object":{"range":[73974,73982],"loc":{"start":{"line":2571,"column":7},"end":{"line":2571,"column":15}},"type":"Identifier","name":"response"},"property":{"range":[73983,73989],"loc":{"start":{"line":2571,"column":16},"end":{"line":2571,"column":22}},"type":"Identifier","name":"status"}},"right":{"range":[73993,74004],"loc":{"start":{"line":2571,"column":26},"end":{"line":2571,"column":37}},"type":"Literal","value":"connected","raw":"'connected'"}},"consequent":{"range":[74006,74435],"loc":{"start":{"line":2571,"column":39},"end":{"line":2585,"column":5}},"type":"BlockStatement","body":[{"range":[74077,74428],"loc":{"start":{"line":2574,"column":6},"end":{"line":2583,"column":9}},"type":"ReturnStatement","argument":{"range":[74084,74427],"loc":{"start":{"line":2574,"column":13},"end":{"line":2583,"column":8}},"type":"NewExpression","callee":{"range":[74088,74095],"loc":{"start":{"line":2574,"column":17},"end":{"line":2574,"column":24}},"type":"Identifier","name":"Promise"},"arguments":[{"range":[74096,74426],"loc":{"start":{"line":2574,"column":25},"end":{"line":2583,"column":7}},"type":"FunctionExpression","id":null,"params":[{"range":[74106,74113],"loc":{"start":{"line":2574,"column":35},"end":{"line":2574,"column":42}},"type":"Identifier","name":"resolve"}],"defaults":[],"body":{"range":[74115,74426],"loc":{"start":{"line":2574,"column":44},"end":{"line":2583,"column":7}},"type":"BlockStatement","body":[{"range":[74307,74417],"loc":{"start":{"line":2579,"column":8},"end":{"line":2581,"column":11}},"type":"ExpressionStatement","expression":{"range":[74307,74416],"loc":{"start":{"line":2579,"column":8},"end":{"line":2581,"column":10}},"type":"CallExpression","callee":{"range":[74307,74313],"loc":{"start":{"line":2579,"column":8},"end":{"line":2579,"column":14}},"type":"MemberExpression","computed":false,"object":{"range":[74307,74309],"loc":{"start":{"line":2579,"column":8},"end":{"line":2579,"column":10}},"type":"Identifier","name":"FB"},"property":{"range":[74310,74313],"loc":{"start":{"line":2579,"column":11},"end":{"line":2579,"column":14}},"type":"Identifier","name":"api"}},"arguments":[{"range":[74314,74319],"loc":{"start":{"line":2579,"column":15},"end":{"line":2579,"column":20}},"type":"Literal","value":"/me","raw":"'/me'"},{"range":[74321,74415],"loc":{"start":{"line":2579,"column":22},"end":{"line":2581,"column":9}},"type":"FunctionExpression","id":null,"params":[{"range":[74331,74339],"loc":{"start":{"line":2579,"column":32},"end":{"line":2579,"column":40}},"type":"Identifier","name":"userInfo"}],"defaults":[],"body":{"range":[74341,74415],"loc":{"start":{"line":2579,"column":42},"end":{"line":2581,"column":9}},"type":"BlockStatement","body":[{"range":[74353,74405],"loc":{"start":{"line":2580,"column":10},"end":{"line":2580,"column":62}},"type":"ExpressionStatement","expression":{"range":[74353,74404],"loc":{"start":{"line":2580,"column":10},"end":{"line":2580,"column":61}},"type":"CallExpression","callee":{"range":[74353,74360],"loc":{"start":{"line":2580,"column":10},"end":{"line":2580,"column":17}},"type":"Identifier","name":"resolve"},"arguments":[{"range":[74361,74403],"loc":{"start":{"line":2580,"column":18},"end":{"line":2580,"column":60}},"type":"CallExpression","callee":{"range":[74361,74373],"loc":{"start":{"line":2580,"column":18},"end":{"line":2580,"column":30}},"type":"MemberExpression","computed":false,"object":{"range":[74361,74366],"loc":{"start":{"line":2580,"column":18},"end":{"line":2580,"column":23}},"type":"Identifier","name":"Utils"},"property":{"range":[74367,74373],"loc":{"start":{"line":2580,"column":24},"end":{"line":2580,"column":30}},"type":"Identifier","name":"extend"}},"arguments":[{"range":[74374,74382],"loc":{"start":{"line":2580,"column":31},"end":{"line":2580,"column":39}},"type":"Identifier","name":"response"},{"range":[74384,74402],"loc":{"start":{"line":2580,"column":41},"end":{"line":2580,"column":59}},"type":"ObjectExpression","properties":[{"range":[74386,74400],"loc":{"start":{"line":2580,"column":43},"end":{"line":2580,"column":57}},"type":"Property","key":{"range":[74386,74390],"loc":{"start":{"line":2580,"column":43},"end":{"line":2580,"column":47}},"type":"Identifier","name":"user"},"computed":false,"value":{"range":[74392,74400],"loc":{"start":{"line":2580,"column":49},"end":{"line":2580,"column":57}},"type":"Identifier","name":"userInfo"},"kind":"init","method":false,"shorthand":false}]}]}]}}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" Until here, `response` was FB's auth response. Here","range":[74126,74180],"loc":{"start":{"line":2576,"column":8},"end":{"line":2576,"column":62}}},{"type":"Line","value":" we start to build bigger response by appending the Facebook's","range":[74189,74253],"loc":{"start":{"line":2577,"column":8},"end":{"line":2577,"column":72}}},{"type":"Line","value":" user info in the `user` property.","range":[74262,74298],"loc":{"start":{"line":2578,"column":8},"end":{"line":2578,"column":44}}}]}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" Return a Promise for the response with user details.","range":[74015,74070],"loc":{"start":{"line":2573,"column":6},"end":{"line":2573,"column":61}}}]}]},"alternate":{"range":[74439,74576],"loc":{"start":{"line":2585,"column":9},"end":{"line":2592,"column":5}},"type":"BlockStatement","body":[{"range":[74493,74569],"loc":{"start":{"line":2588,"column":6},"end":{"line":2590,"column":9}},"type":"ReturnStatement","argument":{"range":[74500,74568],"loc":{"start":{"line":2588,"column":13},"end":{"line":2590,"column":8}},"type":"NewExpression","callee":{"range":[74504,74511],"loc":{"start":{"line":2588,"column":17},"end":{"line":2588,"column":24}},"type":"Identifier","name":"Promise"},"arguments":[{"range":[74512,74567],"loc":{"start":{"line":2588,"column":25},"end":{"line":2590,"column":7}},"type":"FunctionExpression","id":null,"params":[{"range":[74522,74529],"loc":{"start":{"line":2588,"column":35},"end":{"line":2588,"column":42}},"type":"Identifier","name":"resolve"}],"defaults":[],"body":{"range":[74531,74567],"loc":{"start":{"line":2588,"column":44},"end":{"line":2590,"column":7}},"type":"BlockStatement","body":[{"range":[74541,74559],"loc":{"start":{"line":2589,"column":8},"end":{"line":2589,"column":26}},"type":"ExpressionStatement","expression":{"range":[74541,74558],"loc":{"start":{"line":2589,"column":8},"end":{"line":2589,"column":25}},"type":"CallExpression","callee":{"range":[74541,74548],"loc":{"start":{"line":2589,"column":8},"end":{"line":2589,"column":15}},"type":"Identifier","name":"resolve"},"arguments":[{"range":[74549,74557],"loc":{"start":{"line":2589,"column":16},"end":{"line":2589,"column":24}},"type":"Identifier","name":"response"}]}}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" Return an already resolved promise.","range":[74448,74486],"loc":{"start":{"line":2587,"column":6},"end":{"line":2587,"column":44}}}]}]}}]},"generator":false,"expression":false,"leadingComments":[{"type":"Line","value":" Fetch user info from Facebook if user is successfully connected.","range":[73866,73933],"loc":{"start":{"line":2568,"column":2},"end":{"line":2568,"column":69}}}],"trailingComments":[{"type":"Line","value":" Expose only the higher level methods.","range":[74585,74625],"loc":{"start":{"line":2596,"column":2},"end":{"line":2596,"column":42}}}]},{"range":[74628,74694],"loc":{"start":{"line":2597,"column":2},"end":{"line":2601,"column":4}},"type":"ReturnStatement","argument":{"range":[74635,74693],"loc":{"start":{"line":2597,"column":9},"end":{"line":2601,"column":3}},"type":"ObjectExpression","properties":[{"range":[74641,74651],"loc":{"start":{"line":2598,"column":4},"end":{"line":2598,"column":14}},"type":"Property","key":{"range":[74641,74645],"loc":{"start":{"line":2598,"column":4},"end":{"line":2598,"column":8}},"type":"Identifier","name":"init"},"computed":false,"value":{"range":[74647,74651],"loc":{"start":{"line":2598,"column":10},"end":{"line":2598,"column":14}},"type":"Identifier","name":"init"},"kind":"init","method":false,"shorthand":false},{"range":[74657,74669],"loc":{"start":{"line":2599,"column":4},"end":{"line":2599,"column":16}},"type":"Property","key":{"range":[74657,74662],"loc":{"start":{"line":2599,"column":4},"end":{"line":2599,"column":9}},"type":"Identifier","name":"login"},"computed":false,"value":{"range":[74664,74669],"loc":{"start":{"line":2599,"column":11},"end":{"line":2599,"column":16}},"type":"Identifier","name":"login"},"kind":"init","method":false,"shorthand":false},{"range":[74675,74689],"loc":{"start":{"line":2600,"column":4},"end":{"line":2600,"column":18}},"type":"Property","key":{"range":[74675,74681],"loc":{"start":{"line":2600,"column":4},"end":{"line":2600,"column":10}},"type":"Identifier","name":"logout"},"computed":false,"value":{"range":[74683,74689],"loc":{"start":{"line":2600,"column":12},"end":{"line":2600,"column":18}},"type":"Identifier","name":"logout"},"kind":"init","method":false,"shorthand":false}]},"leadingComments":[{"type":"Line","value":" Expose only the higher level methods.","range":[74585,74625],"loc":{"start":{"line":2596,"column":2},"end":{"line":2596,"column":42}}}]}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" ## FACEBOOK.JS","range":[71152,71169],"loc":{"start":{"line":2469,"column":0},"end":{"line":2469,"column":17}}},{"type":"Line","value":" **The Facebook module exports wrapped *login*, *logout* and *init* methods","range":[71171,71248],"loc":{"start":{"line":2471,"column":0},"end":{"line":2471,"column":77}}},{"type":"Line","value":" from the Facebook SDK, always returning Promises.**","range":[71249,71303],"loc":{"start":{"line":2472,"column":0},"end":{"line":2472,"column":54}}}],"trailingComments":[{"type":"Line","value":" ## AUTHENTICATION.JS","range":[74701,74724],"loc":{"start":{"line":2605,"column":0},"end":{"line":2605,"column":23}}},{"type":"Line","value":" **Authentication provides a complete abstraction layer on top of","range":[74726,74793],"loc":{"start":{"line":2607,"column":0},"end":{"line":2607,"column":67}}},{"type":"Line","value":" the provided *'/auth/...'* endpoints in the REST API. Logging in with","range":[74794,74866],"loc":{"start":{"line":2608,"column":0},"end":{"line":2608,"column":72}}},{"type":"Line","value":" Evrythng or Facebook uses the same method and provide a similar response.**","range":[74867,74945],"loc":{"start":{"line":2609,"column":0},"end":{"line":2609,"column":78}}},{"type":"Line","value":" **Authentication with Facebook needs an app that has been created using the","range":[74947,75025],"loc":{"start":{"line":2611,"column":0},"end":{"line":2611,"column":78}}},{"type":"Line","value":" `facebook: true` option, which will load and init the Facebook SDK.**","range":[75026,75098],"loc":{"start":{"line":2612,"column":0},"end":{"line":2612,"column":72}}}]},{"range":[75100,83915],"loc":{"start":{"line":2614,"column":0},"end":{"line":2897,"column":3}},"type":"ExpressionStatement","expression":{"range":[75100,83914],"loc":{"start":{"line":2614,"column":0},"end":{"line":2897,"column":2}},"type":"CallExpression","callee":{"range":[75100,75106],"loc":{"start":{"line":2614,"column":0},"end":{"line":2614,"column":6}},"type":"Identifier","name":"define"},"arguments":[{"range":[75107,75123],"loc":{"start":{"line":2614,"column":7},"end":{"line":2614,"column":23}},"type":"Literal","value":"authentication","raw":"'authentication'"},{"range":[75124,75194],"loc":{"start":{"line":2614,"column":24},"end":{"line":2620,"column":1}},"type":"ArrayExpression","elements":[{"range":[75128,75134],"loc":{"start":{"line":2615,"column":2},"end":{"line":2615,"column":8}},"type":"Literal","value":"core","raw":"'core'"},{"range":[75138,75147],"loc":{"start":{"line":2616,"column":2},"end":{"line":2616,"column":11}},"type":"Literal","value":"promise","raw":"'promise'"},{"range":[75151,75168],"loc":{"start":{"line":2617,"column":2},"end":{"line":2617,"column":19}},"type":"Literal","value":"social/facebook","raw":"'social/facebook'"},{"range":[75172,75179],"loc":{"start":{"line":2618,"column":2},"end":{"line":2618,"column":9}},"type":"Literal","value":"utils","raw":"'utils'"},{"range":[75183,75192],"loc":{"start":{"line":2619,"column":2},"end":{"line":2619,"column":11}},"type":"Literal","value":"connect","raw":"'connect'"}]},{"range":[75196,83913],"loc":{"start":{"line":2620,"column":3},"end":{"line":2897,"column":1}},"type":"FunctionExpression","id":null,"params":[{"range":[75206,75209],"loc":{"start":{"line":2620,"column":13},"end":{"line":2620,"column":16}},"type":"Identifier","name":"EVT"},{"range":[75211,75218],"loc":{"start":{"line":2620,"column":18},"end":{"line":2620,"column":25}},"type":"Identifier","name":"Promise"},{"range":[75220,75228],"loc":{"start":{"line":2620,"column":27},"end":{"line":2620,"column":35}},"type":"Identifier","name":"Facebook"},{"range":[75230,75235],"loc":{"start":{"line":2620,"column":37},"end":{"line":2620,"column":42}},"type":"Identifier","name":"Utils"}],"defaults":[],"body":{"range":[75237,83913],"loc":{"start":{"line":2620,"column":44},"end":{"line":2897,"column":1}},"type":"BlockStatement","body":[{"range":[75241,75254],"loc":{"start":{"line":2621,"column":2},"end":{"line":2621,"column":15}},"type":"ExpressionStatement","expression":{"range":[75241,75253],"loc":{"start":{"line":2621,"column":2},"end":{"line":2621,"column":14}},"type":"Literal","value":"use strict","raw":"'use strict'"},"trailingComments":[{"type":"Line","value":" Login into Evryhtng. This method is attached to the `EVT.App` API methods.","range":[75258,75335],"loc":{"start":{"line":2623,"column":2},"end":{"line":2623,"column":79}}},{"type":"Line","value":" Currently allowed authentication methods are **evrythng** and **facebook**.","range":[75338,75416],"loc":{"start":{"line":2624,"column":2},"end":{"line":2624,"column":80}}},{"type":"Line","value":" The login  accepts:","range":[75419,75441],"loc":{"start":{"line":2625,"column":2},"end":{"line":2625,"column":24}}},{"type":"Line","value":" - _**login('facebook')**: the normal third-party Facebook login pop-up_","range":[75445,75519],"loc":{"start":{"line":2627,"column":2},"end":{"line":2627,"column":76}}},{"type":"Line","value":" - _**login('facebook', fbOptions)**: use fbOptions to pass facebook scope","range":[75522,75598],"loc":{"start":{"line":2628,"column":2},"end":{"line":2628,"column":78}}},{"type":"Line","value":" permissions (see the","range":[75601,75624],"loc":{"start":{"line":2629,"column":2},"end":{"line":2629,"column":25}}},{"type":"Line","value":" [Facebook login API reference](https://developers.facebook.com/docs/reference/javascript/FB.login/v2.0))._","range":[75627,75736],"loc":{"start":{"line":2630,"column":2},"end":{"line":2630,"column":111}}},{"type":"Line","value":" - _**login('facebook', fbOptions, successCb, errorCb)**: same as previous,","range":[75739,75816],"loc":{"start":{"line":2631,"column":2},"end":{"line":2631,"column":79}}},{"type":"Line","value":" with callbacks_","range":[75819,75837],"loc":{"start":{"line":2632,"column":2},"end":{"line":2632,"column":20}}},{"type":"Line","value":" - _**login('facebook', successCb, errorCb)**: no custom Facebook options_","range":[75840,75916],"loc":{"start":{"line":2633,"column":2},"end":{"line":2633,"column":78}}},{"type":"Line","value":" - _**login('evrythng', evtCredentials)**: evtCredentials is an object with","range":[75919,75996],"loc":{"start":{"line":2634,"column":2},"end":{"line":2634,"column":79}}},{"type":"Line","value":" `email` or `id` and `password` properties_","range":[75999,76044],"loc":{"start":{"line":2635,"column":2},"end":{"line":2635,"column":47}}},{"type":"Line","value":" - _**login('evrythng', evtCredentials, successCb, errorCb)**: same as previous,","range":[76047,76129],"loc":{"start":{"line":2636,"column":2},"end":{"line":2636,"column":84}}},{"type":"Line","value":" with callbacks_","range":[76132,76150],"loc":{"start":{"line":2637,"column":2},"end":{"line":2637,"column":20}}},{"type":"Line","value":" The *evrythng* login methods allow to omit the first parameter. Thus, the","range":[76154,76230],"loc":{"start":{"line":2639,"column":2},"end":{"line":2639,"column":78}}},{"type":"Line","value":" following authenticates with Evrythng:","range":[76233,76274],"loc":{"start":{"line":2640,"column":2},"end":{"line":2640,"column":43}}},{"type":"Line","value":" ```","range":[76278,76284],"loc":{"start":{"line":2642,"column":2},"end":{"line":2642,"column":8}}},{"type":"Line","value":"  app.login({","range":[76287,76302],"loc":{"start":{"line":2643,"column":2},"end":{"line":2643,"column":17}}},{"type":"Line","value":"    email/id: \"userEmailOrId\",","range":[76305,76337],"loc":{"start":{"line":2644,"column":2},"end":{"line":2644,"column":34}}},{"type":"Line","value":"    password: \"pass\"","range":[76340,76362],"loc":{"start":{"line":2645,"column":2},"end":{"line":2645,"column":24}}},{"type":"Line","value":"  });","range":[76365,76372],"loc":{"start":{"line":2646,"column":2},"end":{"line":2646,"column":9}}},{"type":"Line","value":" ```","range":[76375,76381],"loc":{"start":{"line":2647,"column":2},"end":{"line":2647,"column":8}}}]},{"range":[76385,77218],"loc":{"start":{"line":2649,"column":2},"end":{"line":2676,"column":3}},"type":"FunctionDeclaration","id":{"range":[76394,76399],"loc":{"start":{"line":2649,"column":11},"end":{"line":2649,"column":16}},"type":"Identifier","name":"login"},"params":[{"range":[76400,76404],"loc":{"start":{"line":2649,"column":17},"end":{"line":2649,"column":21}},"type":"Identifier","name":"type"},{"range":[76406,76419],"loc":{"start":{"line":2649,"column":23},"end":{"line":2649,"column":36}},"type":"Identifier","name":"customOptions"},{"range":[76421,76436],"loc":{"start":{"line":2649,"column":38},"end":{"line":2649,"column":53}},"type":"Identifier","name":"successCallback"},{"range":[76438,76451],"loc":{"start":{"line":2649,"column":55},"end":{"line":2649,"column":68}},"type":"Identifier","name":"errorCallback"}],"defaults":[],"body":{"range":[76453,77218],"loc":{"start":{"line":2649,"column":70},"end":{"line":2676,"column":3}},"type":"BlockStatement","body":[{"range":[76459,76522],"loc":{"start":{"line":2650,"column":4},"end":{"line":2651,"column":30}},"type":"VariableDeclaration","declarations":[{"range":[76463,76490],"loc":{"start":{"line":2650,"column":8},"end":{"line":2650,"column":35}},"type":"VariableDeclarator","id":{"range":[76463,76472],"loc":{"start":{"line":2650,"column":8},"end":{"line":2650,"column":17}},"type":"Identifier","name":"successCb"},"init":{"range":[76475,76490],"loc":{"start":{"line":2650,"column":20},"end":{"line":2650,"column":35}},"type":"Identifier","name":"successCallback"}},{"range":[76498,76521],"loc":{"start":{"line":2651,"column":6},"end":{"line":2651,"column":29}},"type":"VariableDeclarator","id":{"range":[76498,76505],"loc":{"start":{"line":2651,"column":6},"end":{"line":2651,"column":13}},"type":"Identifier","name":"errorCb"},"init":{"range":[76508,76521],"loc":{"start":{"line":2651,"column":16},"end":{"line":2651,"column":29}},"type":"Identifier","name":"errorCallback"}}],"kind":"var"},{"range":[76528,76640],"loc":{"start":{"line":2653,"column":4},"end":{"line":2655,"column":5}},"type":"IfStatement","test":{"range":[76531,76536],"loc":{"start":{"line":2653,"column":7},"end":{"line":2653,"column":12}},"type":"UnaryExpression","operator":"!","argument":{"range":[76532,76536],"loc":{"start":{"line":2653,"column":8},"end":{"line":2653,"column":12}},"type":"Identifier","name":"type"},"prefix":true},"consequent":{"range":[76537,76640],"loc":{"start":{"line":2653,"column":13},"end":{"line":2655,"column":5}},"type":"BlockStatement","body":[{"range":[76545,76634],"loc":{"start":{"line":2654,"column":6},"end":{"line":2654,"column":95}},"type":"ThrowStatement","argument":{"range":[76551,76633],"loc":{"start":{"line":2654,"column":12},"end":{"line":2654,"column":94}},"type":"NewExpression","callee":{"range":[76555,76564],"loc":{"start":{"line":2654,"column":16},"end":{"line":2654,"column":25}},"type":"Identifier","name":"TypeError"},"arguments":[{"range":[76565,76632],"loc":{"start":{"line":2654,"column":26},"end":{"line":2654,"column":93}},"type":"Literal","value":"Credentials (for Evrythng) or type (for Third party) are missing.","raw":"'Credentials (for Evrythng) or type (for Third party) are missing.'"}]}}]},"alternate":null,"trailingComments":[{"type":"Line","value":" Authenticate using third parties' OAuth.","range":[76646,76689],"loc":{"start":{"line":2657,"column":4},"end":{"line":2657,"column":47}}}]},{"range":[76694,77214],"loc":{"start":{"line":2658,"column":4},"end":{"line":2675,"column":5}},"type":"IfStatement","test":{"range":[76697,76717],"loc":{"start":{"line":2658,"column":7},"end":{"line":2658,"column":27}},"type":"CallExpression","callee":{"range":[76697,76711],"loc":{"start":{"line":2658,"column":7},"end":{"line":2658,"column":21}},"type":"MemberExpression","computed":false,"object":{"range":[76697,76702],"loc":{"start":{"line":2658,"column":7},"end":{"line":2658,"column":12}},"type":"Identifier","name":"Utils"},"property":{"range":[76703,76711],"loc":{"start":{"line":2658,"column":13},"end":{"line":2658,"column":21}},"type":"Identifier","name":"isString"}},"arguments":[{"range":[76712,76716],"loc":{"start":{"line":2658,"column":22},"end":{"line":2658,"column":26}},"type":"Identifier","name":"type"}]},"consequent":{"range":[76718,77014],"loc":{"start":{"line":2658,"column":28},"end":{"line":2669,"column":5}},"type":"BlockStatement","body":[{"range":[76727,76952],"loc":{"start":{"line":2660,"column":6},"end":{"line":2665,"column":7}},"type":"IfStatement","test":{"range":[76730,76749],"loc":{"start":{"line":2660,"column":9},"end":{"line":2660,"column":28}},"type":"BinaryExpression","operator":"===","left":{"range":[76730,76734],"loc":{"start":{"line":2660,"column":9},"end":{"line":2660,"column":13}},"type":"Identifier","name":"type"},"right":{"range":[76739,76749],"loc":{"start":{"line":2660,"column":18},"end":{"line":2660,"column":28}},"type":"Literal","value":"facebook","raw":"'facebook'"}},"consequent":{"range":[76750,76837],"loc":{"start":{"line":2660,"column":29},"end":{"line":2663,"column":7}},"type":"BlockStatement","body":[{"range":[76760,76828],"loc":{"start":{"line":2661,"column":8},"end":{"line":2661,"column":76}},"type":"ReturnStatement","argument":{"range":[76767,76827],"loc":{"start":{"line":2661,"column":15},"end":{"line":2661,"column":75}},"type":"CallExpression","callee":{"range":[76767,76786],"loc":{"start":{"line":2661,"column":15},"end":{"line":2661,"column":34}},"type":"MemberExpression","computed":false,"object":{"range":[76767,76781],"loc":{"start":{"line":2661,"column":15},"end":{"line":2661,"column":29}},"type":"Identifier","name":"_loginFacebook"},"property":{"range":[76782,76786],"loc":{"start":{"line":2661,"column":30},"end":{"line":2661,"column":34}},"type":"Identifier","name":"call"}},"arguments":[{"range":[76787,76791],"loc":{"start":{"line":2661,"column":35},"end":{"line":2661,"column":39}},"type":"ThisExpression"},{"range":[76793,76806],"loc":{"start":{"line":2661,"column":41},"end":{"line":2661,"column":54}},"type":"Identifier","name":"customOptions"},{"range":[76808,76817],"loc":{"start":{"line":2661,"column":56},"end":{"line":2661,"column":65}},"type":"Identifier","name":"successCb"},{"range":[76819,76826],"loc":{"start":{"line":2661,"column":67},"end":{"line":2661,"column":74}},"type":"Identifier","name":"errorCb"}]}}]},"alternate":{"range":[76842,76952],"loc":{"start":{"line":2663,"column":12},"end":{"line":2665,"column":7}},"type":"IfStatement","test":{"range":[76845,76864],"loc":{"start":{"line":2663,"column":15},"end":{"line":2663,"column":34}},"type":"BinaryExpression","operator":"===","left":{"range":[76845,76849],"loc":{"start":{"line":2663,"column":15},"end":{"line":2663,"column":19}},"type":"Identifier","name":"type"},"right":{"range":[76854,76864],"loc":{"start":{"line":2663,"column":24},"end":{"line":2663,"column":34}},"type":"Literal","value":"evrythng","raw":"'evrythng'"}},"consequent":{"range":[76866,76952],"loc":{"start":{"line":2663,"column":36},"end":{"line":2665,"column":7}},"type":"BlockStatement","body":[{"range":[76876,76944],"loc":{"start":{"line":2664,"column":8},"end":{"line":2664,"column":76}},"type":"ReturnStatement","argument":{"range":[76883,76943],"loc":{"start":{"line":2664,"column":15},"end":{"line":2664,"column":75}},"type":"CallExpression","callee":{"range":[76883,76902],"loc":{"start":{"line":2664,"column":15},"end":{"line":2664,"column":34}},"type":"MemberExpression","computed":false,"object":{"range":[76883,76897],"loc":{"start":{"line":2664,"column":15},"end":{"line":2664,"column":29}},"type":"Identifier","name":"_loginEvrythng"},"property":{"range":[76898,76902],"loc":{"start":{"line":2664,"column":30},"end":{"line":2664,"column":34}},"type":"Identifier","name":"call"}},"arguments":[{"range":[76903,76907],"loc":{"start":{"line":2664,"column":35},"end":{"line":2664,"column":39}},"type":"ThisExpression"},{"range":[76909,76922],"loc":{"start":{"line":2664,"column":41},"end":{"line":2664,"column":54}},"type":"Identifier","name":"customOptions"},{"range":[76924,76933],"loc":{"start":{"line":2664,"column":56},"end":{"line":2664,"column":65}},"type":"Identifier","name":"successCb"},{"range":[76935,76942],"loc":{"start":{"line":2664,"column":67},"end":{"line":2664,"column":74}},"type":"Identifier","name":"errorCb"}]}}]},"alternate":null},"trailingComments":[{"type":"Block","value":"TODO: add more authentication methods here.","range":[76960,77007],"loc":{"start":{"line":2667,"column":6},"end":{"line":2667,"column":53}}}]}]},"alternate":{"range":[77018,77214],"loc":{"start":{"line":2669,"column":9},"end":{"line":2675,"column":5}},"type":"BlockStatement","body":[{"range":[77142,77207],"loc":{"start":{"line":2673,"column":6},"end":{"line":2673,"column":71}},"type":"ReturnStatement","argument":{"range":[77149,77206],"loc":{"start":{"line":2673,"column":13},"end":{"line":2673,"column":70}},"type":"CallExpression","callee":{"range":[77149,77168],"loc":{"start":{"line":2673,"column":13},"end":{"line":2673,"column":32}},"type":"MemberExpression","computed":false,"object":{"range":[77149,77163],"loc":{"start":{"line":2673,"column":13},"end":{"line":2673,"column":27}},"type":"Identifier","name":"_loginEvrythng"},"property":{"range":[77164,77168],"loc":{"start":{"line":2673,"column":28},"end":{"line":2673,"column":32}},"type":"Identifier","name":"call"}},"arguments":[{"range":[77169,77173],"loc":{"start":{"line":2673,"column":33},"end":{"line":2673,"column":37}},"type":"ThisExpression"},{"range":[77175,77179],"loc":{"start":{"line":2673,"column":39},"end":{"line":2673,"column":43}},"type":"Identifier","name":"type"},{"range":[77181,77194],"loc":{"start":{"line":2673,"column":45},"end":{"line":2673,"column":58}},"type":"Identifier","name":"customOptions"},{"range":[77196,77205],"loc":{"start":{"line":2673,"column":60},"end":{"line":2673,"column":69}},"type":"Identifier","name":"successCb"}]},"leadingComments":[{"type":"Line","value":" Evrythng login does not need first param. Simply call *_loginEvrythng()*","range":[77027,77102],"loc":{"start":{"line":2671,"column":6},"end":{"line":2671,"column":81}}},{"type":"Line","value":" with shifted arguments.","range":[77109,77135],"loc":{"start":{"line":2672,"column":6},"end":{"line":2672,"column":32}}}]}],"leadingComments":[{"type":"Block","value":"TODO: add more authentication methods here.","range":[76960,77007],"loc":{"start":{"line":2667,"column":6},"end":{"line":2667,"column":53}}}]},"leadingComments":[{"type":"Line","value":" Authenticate using third parties' OAuth.","range":[76646,76689],"loc":{"start":{"line":2657,"column":4},"end":{"line":2657,"column":47}}}]}]},"generator":false,"expression":false,"leadingComments":[{"type":"Line","value":" Login into Evryhtng. This method is attached to the `EVT.App` API methods.","range":[75258,75335],"loc":{"start":{"line":2623,"column":2},"end":{"line":2623,"column":79}}},{"type":"Line","value":" Currently allowed authentication methods are **evrythng** and **facebook**.","range":[75338,75416],"loc":{"start":{"line":2624,"column":2},"end":{"line":2624,"column":80}}},{"type":"Line","value":" The login  accepts:","range":[75419,75441],"loc":{"start":{"line":2625,"column":2},"end":{"line":2625,"column":24}}},{"type":"Line","value":" - _**login('facebook')**: the normal third-party Facebook login pop-up_","range":[75445,75519],"loc":{"start":{"line":2627,"column":2},"end":{"line":2627,"column":76}}},{"type":"Line","value":" - _**login('facebook', fbOptions)**: use fbOptions to pass facebook scope","range":[75522,75598],"loc":{"start":{"line":2628,"column":2},"end":{"line":2628,"column":78}}},{"type":"Line","value":" permissions (see the","range":[75601,75624],"loc":{"start":{"line":2629,"column":2},"end":{"line":2629,"column":25}}},{"type":"Line","value":" [Facebook login API reference](https://developers.facebook.com/docs/reference/javascript/FB.login/v2.0))._","range":[75627,75736],"loc":{"start":{"line":2630,"column":2},"end":{"line":2630,"column":111}}},{"type":"Line","value":" - _**login('facebook', fbOptions, successCb, errorCb)**: same as previous,","range":[75739,75816],"loc":{"start":{"line":2631,"column":2},"end":{"line":2631,"column":79}}},{"type":"Line","value":" with callbacks_","range":[75819,75837],"loc":{"start":{"line":2632,"column":2},"end":{"line":2632,"column":20}}},{"type":"Line","value":" - _**login('facebook', successCb, errorCb)**: no custom Facebook options_","range":[75840,75916],"loc":{"start":{"line":2633,"column":2},"end":{"line":2633,"column":78}}},{"type":"Line","value":" - _**login('evrythng', evtCredentials)**: evtCredentials is an object with","range":[75919,75996],"loc":{"start":{"line":2634,"column":2},"end":{"line":2634,"column":79}}},{"type":"Line","value":" `email` or `id` and `password` properties_","range":[75999,76044],"loc":{"start":{"line":2635,"column":2},"end":{"line":2635,"column":47}}},{"type":"Line","value":" - _**login('evrythng', evtCredentials, successCb, errorCb)**: same as previous,","range":[76047,76129],"loc":{"start":{"line":2636,"column":2},"end":{"line":2636,"column":84}}},{"type":"Line","value":" with callbacks_","range":[76132,76150],"loc":{"start":{"line":2637,"column":2},"end":{"line":2637,"column":20}}},{"type":"Line","value":" The *evrythng* login methods allow to omit the first parameter. Thus, the","range":[76154,76230],"loc":{"start":{"line":2639,"column":2},"end":{"line":2639,"column":78}}},{"type":"Line","value":" following authenticates with Evrythng:","range":[76233,76274],"loc":{"start":{"line":2640,"column":2},"end":{"line":2640,"column":43}}},{"type":"Line","value":" ```","range":[76278,76284],"loc":{"start":{"line":2642,"column":2},"end":{"line":2642,"column":8}}},{"type":"Line","value":"  app.login({","range":[76287,76302],"loc":{"start":{"line":2643,"column":2},"end":{"line":2643,"column":17}}},{"type":"Line","value":"    email/id: \"userEmailOrId\",","range":[76305,76337],"loc":{"start":{"line":2644,"column":2},"end":{"line":2644,"column":34}}},{"type":"Line","value":"    password: \"pass\"","range":[76340,76362],"loc":{"start":{"line":2645,"column":2},"end":{"line":2645,"column":24}}},{"type":"Line","value":"  });","range":[76365,76372],"loc":{"start":{"line":2646,"column":2},"end":{"line":2646,"column":9}}},{"type":"Line","value":" ```","range":[76375,76381],"loc":{"start":{"line":2647,"column":2},"end":{"line":2647,"column":8}}}],"trailingComments":[{"type":"Line","value":" Login with Facebook. Custom Options are optional.","range":[77223,77275],"loc":{"start":{"line":2679,"column":2},"end":{"line":2679,"column":54}}},{"type":"Line","value":" **Default Facebook scope permission is simply *'email'*. If your application","range":[77279,77358],"loc":{"start":{"line":2681,"column":2},"end":{"line":2681,"column":81}}},{"type":"Line","value":" needs more than that, please read about Facebook login options and permissions","range":[77361,77442],"loc":{"start":{"line":2682,"column":2},"end":{"line":2682,"column":83}}},{"type":"Line","value":" on their","range":[77445,77456],"loc":{"start":{"line":2683,"column":2},"end":{"line":2683,"column":13}}},{"type":"Line","value":" [Developer Docs](https://developers.facebook.com/docs/reference/javascript/FB.login/v2.0)**.","range":[77459,77554],"loc":{"start":{"line":2684,"column":2},"end":{"line":2684,"column":97}}}]},{"range":[77557,79155],"loc":{"start":{"line":2685,"column":2},"end":{"line":2730,"column":3}},"type":"FunctionDeclaration","id":{"range":[77566,77580],"loc":{"start":{"line":2685,"column":11},"end":{"line":2685,"column":25}},"type":"Identifier","name":"_loginFacebook"},"params":[{"range":[77581,77594],"loc":{"start":{"line":2685,"column":26},"end":{"line":2685,"column":39}},"type":"Identifier","name":"customOptions"},{"range":[77596,77611],"loc":{"start":{"line":2685,"column":41},"end":{"line":2685,"column":56}},"type":"Identifier","name":"successCallback"},{"range":[77613,77626],"loc":{"start":{"line":2685,"column":58},"end":{"line":2685,"column":71}},"type":"Identifier","name":"errorCallback"}],"defaults":[],"body":{"range":[77628,79155],"loc":{"start":{"line":2685,"column":73},"end":{"line":2730,"column":3}},"type":"BlockStatement","body":[{"range":[77634,77685],"loc":{"start":{"line":2686,"column":4},"end":{"line":2687,"column":19}},"type":"VariableDeclaration","declarations":[{"range":[77638,77664],"loc":{"start":{"line":2686,"column":8},"end":{"line":2686,"column":34}},"type":"VariableDeclarator","id":{"range":[77638,77645],"loc":{"start":{"line":2686,"column":8},"end":{"line":2686,"column":15}},"type":"Identifier","name":"options"},"init":{"range":[77648,77664],"loc":{"start":{"line":2686,"column":18},"end":{"line":2686,"column":34}},"type":"ObjectExpression","properties":[{"range":[77649,77663],"loc":{"start":{"line":2686,"column":19},"end":{"line":2686,"column":33}},"type":"Property","key":{"range":[77649,77654],"loc":{"start":{"line":2686,"column":19},"end":{"line":2686,"column":24}},"type":"Identifier","name":"scope"},"computed":false,"value":{"range":[77656,77663],"loc":{"start":{"line":2686,"column":26},"end":{"line":2686,"column":33}},"type":"Literal","value":"email","raw":"'email'"},"kind":"init","method":false,"shorthand":false}]}},{"range":[77672,77684],"loc":{"start":{"line":2687,"column":6},"end":{"line":2687,"column":18}},"type":"VariableDeclarator","id":{"range":[77672,77677],"loc":{"start":{"line":2687,"column":6},"end":{"line":2687,"column":11}},"type":"Identifier","name":"$this"},"init":{"range":[77680,77684],"loc":{"start":{"line":2687,"column":14},"end":{"line":2687,"column":18}},"type":"ThisExpression"}}],"kind":"var","trailingComments":[{"type":"Line","value":" If there are no facebook custom options, callbacks can start in first param.","range":[77691,77770],"loc":{"start":{"line":2689,"column":4},"end":{"line":2689,"column":83}}}]},{"range":[77775,78097],"loc":{"start":{"line":2690,"column":4},"end":{"line":2701,"column":5}},"type":"IfStatement","test":{"range":[77778,77835],"loc":{"start":{"line":2690,"column":7},"end":{"line":2690,"column":64}},"type":"LogicalExpression","operator":"||","left":{"range":[77778,77809],"loc":{"start":{"line":2690,"column":7},"end":{"line":2690,"column":38}},"type":"CallExpression","callee":{"range":[77778,77794],"loc":{"start":{"line":2690,"column":7},"end":{"line":2690,"column":23}},"type":"MemberExpression","computed":false,"object":{"range":[77778,77783],"loc":{"start":{"line":2690,"column":7},"end":{"line":2690,"column":12}},"type":"Identifier","name":"Utils"},"property":{"range":[77784,77794],"loc":{"start":{"line":2690,"column":13},"end":{"line":2690,"column":23}},"type":"Identifier","name":"isFunction"}},"arguments":[{"range":[77795,77808],"loc":{"start":{"line":2690,"column":24},"end":{"line":2690,"column":37}},"type":"Identifier","name":"customOptions"}]},"right":{"range":[77813,77835],"loc":{"start":{"line":2690,"column":42},"end":{"line":2690,"column":64}},"type":"BinaryExpression","operator":"===","left":{"range":[77813,77826],"loc":{"start":{"line":2690,"column":42},"end":{"line":2690,"column":55}},"type":"Identifier","name":"customOptions"},"right":{"range":[77831,77835],"loc":{"start":{"line":2690,"column":60},"end":{"line":2690,"column":64}},"type":"Literal","value":null,"raw":"null"}}},"consequent":{"range":[77836,77944],"loc":{"start":{"line":2690,"column":65},"end":{"line":2696,"column":5}},"type":"BlockStatement","body":[{"range":[77845,77871],"loc":{"start":{"line":2692,"column":6},"end":{"line":2692,"column":32}},"type":"VariableDeclaration","declarations":[{"range":[77849,77870],"loc":{"start":{"line":2692,"column":10},"end":{"line":2692,"column":31}},"type":"VariableDeclarator","id":{"range":[77849,77852],"loc":{"start":{"line":2692,"column":10},"end":{"line":2692,"column":13}},"type":"Identifier","name":"tmp"},"init":{"range":[77855,77870],"loc":{"start":{"line":2692,"column":16},"end":{"line":2692,"column":31}},"type":"Identifier","name":"successCallback"}}],"kind":"var"},{"range":[77878,77910],"loc":{"start":{"line":2693,"column":6},"end":{"line":2693,"column":38}},"type":"ExpressionStatement","expression":{"range":[77878,77909],"loc":{"start":{"line":2693,"column":6},"end":{"line":2693,"column":37}},"type":"AssignmentExpression","operator":"=","left":{"range":[77878,77893],"loc":{"start":{"line":2693,"column":6},"end":{"line":2693,"column":21}},"type":"Identifier","name":"successCallback"},"right":{"range":[77896,77909],"loc":{"start":{"line":2693,"column":24},"end":{"line":2693,"column":37}},"type":"Identifier","name":"customOptions"}}},{"range":[77917,77937],"loc":{"start":{"line":2694,"column":6},"end":{"line":2694,"column":26}},"type":"ExpressionStatement","expression":{"range":[77917,77936],"loc":{"start":{"line":2694,"column":6},"end":{"line":2694,"column":25}},"type":"AssignmentExpression","operator":"=","left":{"range":[77917,77930],"loc":{"start":{"line":2694,"column":6},"end":{"line":2694,"column":19}},"type":"Identifier","name":"errorCallback"},"right":{"range":[77933,77936],"loc":{"start":{"line":2694,"column":22},"end":{"line":2694,"column":25}},"type":"Identifier","name":"tmp"}}}]},"alternate":{"range":[77949,78097],"loc":{"start":{"line":2696,"column":10},"end":{"line":2701,"column":5}},"type":"IfStatement","test":{"range":[77952,77981],"loc":{"start":{"line":2696,"column":13},"end":{"line":2696,"column":42}},"type":"CallExpression","callee":{"range":[77952,77966],"loc":{"start":{"line":2696,"column":13},"end":{"line":2696,"column":27}},"type":"MemberExpression","computed":false,"object":{"range":[77952,77957],"loc":{"start":{"line":2696,"column":13},"end":{"line":2696,"column":18}},"type":"Identifier","name":"Utils"},"property":{"range":[77958,77966],"loc":{"start":{"line":2696,"column":19},"end":{"line":2696,"column":27}},"type":"Identifier","name":"isObject"}},"arguments":[{"range":[77967,77980],"loc":{"start":{"line":2696,"column":28},"end":{"line":2696,"column":41}},"type":"Identifier","name":"customOptions"}]},"consequent":{"range":[77982,78097],"loc":{"start":{"line":2696,"column":43},"end":{"line":2701,"column":5}},"type":"BlockStatement","body":[{"range":[78066,78090],"loc":{"start":{"line":2699,"column":6},"end":{"line":2699,"column":30}},"type":"ExpressionStatement","expression":{"range":[78066,78089],"loc":{"start":{"line":2699,"column":6},"end":{"line":2699,"column":29}},"type":"AssignmentExpression","operator":"=","left":{"range":[78066,78073],"loc":{"start":{"line":2699,"column":6},"end":{"line":2699,"column":13}},"type":"Identifier","name":"options"},"right":{"range":[78076,78089],"loc":{"start":{"line":2699,"column":16},"end":{"line":2699,"column":29}},"type":"Identifier","name":"customOptions"}},"leadingComments":[{"type":"Line","value":" If there are custom FB options, use this instead of the defaults.","range":[77991,78059],"loc":{"start":{"line":2698,"column":6},"end":{"line":2698,"column":74}}}]}]},"alternate":null},"leadingComments":[{"type":"Line","value":" If there are no facebook custom options, callbacks can start in first param.","range":[77691,77770],"loc":{"start":{"line":2689,"column":4},"end":{"line":2689,"column":83}}}],"trailingComments":[{"type":"Line","value":" Return promise and resolve only once authenticated with EVRYTHNG.","range":[78103,78171],"loc":{"start":{"line":2703,"column":4},"end":{"line":2703,"column":72}}}]},{"range":[78176,79151],"loc":{"start":{"line":2704,"column":4},"end":{"line":2729,"column":7}},"type":"ReturnStatement","argument":{"range":[78183,79150],"loc":{"start":{"line":2704,"column":11},"end":{"line":2729,"column":6}},"type":"NewExpression","callee":{"range":[78187,78194],"loc":{"start":{"line":2704,"column":15},"end":{"line":2704,"column":22}},"type":"Identifier","name":"Promise"},"arguments":[{"range":[78195,79149],"loc":{"start":{"line":2704,"column":23},"end":{"line":2729,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[78204,78211],"loc":{"start":{"line":2704,"column":32},"end":{"line":2704,"column":39}},"type":"Identifier","name":"resolve"},{"range":[78213,78219],"loc":{"start":{"line":2704,"column":41},"end":{"line":2704,"column":47}},"type":"Identifier","name":"reject"}],"defaults":[],"body":{"range":[78221,79149],"loc":{"start":{"line":2704,"column":49},"end":{"line":2729,"column":5}},"type":"BlockStatement","body":[{"range":[78280,79142],"loc":{"start":{"line":2707,"column":6},"end":{"line":2727,"column":9}},"type":"ExpressionStatement","expression":{"range":[78280,79141],"loc":{"start":{"line":2707,"column":6},"end":{"line":2727,"column":8}},"type":"CallExpression","callee":{"range":[78280,78308],"loc":{"start":{"line":2707,"column":6},"end":{"line":2707,"column":34}},"type":"MemberExpression","computed":false,"object":{"range":[78280,78303],"loc":{"start":{"line":2707,"column":6},"end":{"line":2707,"column":29}},"type":"CallExpression","callee":{"range":[78280,78294],"loc":{"start":{"line":2707,"column":6},"end":{"line":2707,"column":20}},"type":"MemberExpression","computed":false,"object":{"range":[78280,78288],"loc":{"start":{"line":2707,"column":6},"end":{"line":2707,"column":14}},"type":"Identifier","name":"Facebook"},"property":{"range":[78289,78294],"loc":{"start":{"line":2707,"column":15},"end":{"line":2707,"column":20}},"type":"Identifier","name":"login"}},"arguments":[{"range":[78295,78302],"loc":{"start":{"line":2707,"column":21},"end":{"line":2707,"column":28}},"type":"Identifier","name":"options"}]},"property":{"range":[78304,78308],"loc":{"start":{"line":2707,"column":30},"end":{"line":2707,"column":34}},"type":"Identifier","name":"then"}},"arguments":[{"range":[78309,78880],"loc":{"start":{"line":2707,"column":35},"end":{"line":2720,"column":7}},"type":"FunctionExpression","id":null,"params":[{"range":[78319,78331],"loc":{"start":{"line":2707,"column":45},"end":{"line":2707,"column":57}},"type":"Identifier","name":"userResponse"}],"defaults":[],"body":{"range":[78333,78880],"loc":{"start":{"line":2707,"column":59},"end":{"line":2720,"column":7}},"type":"BlockStatement","body":[{"range":[78690,78871],"loc":{"start":{"line":2713,"column":8},"end":{"line":2718,"column":11}},"type":"ExpressionStatement","expression":{"range":[78690,78870],"loc":{"start":{"line":2713,"column":8},"end":{"line":2718,"column":10}},"type":"CallExpression","callee":{"range":[78690,78733],"loc":{"start":{"line":2713,"column":8},"end":{"line":2713,"column":51}},"type":"MemberExpression","computed":false,"object":{"range":[78690,78728],"loc":{"start":{"line":2713,"column":8},"end":{"line":2713,"column":46}},"type":"CallExpression","callee":{"range":[78690,78707],"loc":{"start":{"line":2713,"column":8},"end":{"line":2713,"column":25}},"type":"MemberExpression","computed":false,"object":{"range":[78690,78702],"loc":{"start":{"line":2713,"column":8},"end":{"line":2713,"column":20}},"type":"Identifier","name":"authFacebook"},"property":{"range":[78703,78707],"loc":{"start":{"line":2713,"column":21},"end":{"line":2713,"column":25}},"type":"Identifier","name":"call"}},"arguments":[{"range":[78708,78713],"loc":{"start":{"line":2713,"column":26},"end":{"line":2713,"column":31}},"type":"Identifier","name":"$this"},{"range":[78715,78727],"loc":{"start":{"line":2713,"column":33},"end":{"line":2713,"column":45}},"type":"Identifier","name":"userResponse"}]},"property":{"range":[78729,78733],"loc":{"start":{"line":2713,"column":47},"end":{"line":2713,"column":51}},"type":"Identifier","name":"then"}},"arguments":[{"range":[78734,78869],"loc":{"start":{"line":2713,"column":52},"end":{"line":2718,"column":9}},"type":"FunctionExpression","id":null,"params":[{"range":[78744,78756],"loc":{"start":{"line":2713,"column":62},"end":{"line":2713,"column":74}},"type":"Identifier","name":"fullResponse"}],"defaults":[],"body":{"range":[78758,78869],"loc":{"start":{"line":2713,"column":76},"end":{"line":2718,"column":9}},"type":"BlockStatement","body":[{"range":[78771,78825],"loc":{"start":{"line":2715,"column":10},"end":{"line":2715,"column":64}},"type":"IfStatement","test":{"range":[78775,78790],"loc":{"start":{"line":2715,"column":14},"end":{"line":2715,"column":29}},"type":"Identifier","name":"successCallback"},"consequent":{"range":[78792,78825],"loc":{"start":{"line":2715,"column":31},"end":{"line":2715,"column":64}},"type":"BlockStatement","body":[{"range":[78794,78824],"loc":{"start":{"line":2715,"column":33},"end":{"line":2715,"column":63}},"type":"ExpressionStatement","expression":{"range":[78794,78823],"loc":{"start":{"line":2715,"column":33},"end":{"line":2715,"column":62}},"type":"CallExpression","callee":{"range":[78794,78809],"loc":{"start":{"line":2715,"column":33},"end":{"line":2715,"column":48}},"type":"Identifier","name":"successCallback"},"arguments":[{"range":[78810,78822],"loc":{"start":{"line":2715,"column":49},"end":{"line":2715,"column":61}},"type":"Identifier","name":"fullResponse"}]}}]},"alternate":null},{"range":[78836,78858],"loc":{"start":{"line":2716,"column":10},"end":{"line":2716,"column":32}},"type":"ExpressionStatement","expression":{"range":[78836,78857],"loc":{"start":{"line":2716,"column":10},"end":{"line":2716,"column":31}},"type":"CallExpression","callee":{"range":[78836,78843],"loc":{"start":{"line":2716,"column":10},"end":{"line":2716,"column":17}},"type":"Identifier","name":"resolve"},"arguments":[{"range":[78844,78856],"loc":{"start":{"line":2716,"column":18},"end":{"line":2716,"column":30}},"type":"Identifier","name":"fullResponse"}]}}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" If successful, authenticate with Evrythng, apply *successCb* and resolve","range":[78344,78419],"loc":{"start":{"line":2709,"column":8},"end":{"line":2709,"column":83}}},{"type":"Line","value":" promise. Our own *Facebook.login()* method (defined in the [`social/facebook`","range":[78428,78508],"loc":{"start":{"line":2710,"column":8},"end":{"line":2710,"column":88}}},{"type":"Line","value":" module](social/facebook.html)) already resolves with the user information.","range":[78517,78594],"loc":{"start":{"line":2711,"column":8},"end":{"line":2711,"column":85}}},{"type":"Line","value":" In this case, we add Evrythng access data to this already wrapped response.","range":[78603,78681],"loc":{"start":{"line":2712,"column":8},"end":{"line":2712,"column":86}}}]}]},"generator":false,"expression":false},{"range":[78882,79140],"loc":{"start":{"line":2720,"column":9},"end":{"line":2727,"column":7}},"type":"FunctionExpression","id":null,"params":[{"range":[78892,78900],"loc":{"start":{"line":2720,"column":19},"end":{"line":2720,"column":27}},"type":"Identifier","name":"response"}],"defaults":[],"body":{"range":[78902,79140],"loc":{"start":{"line":2720,"column":29},"end":{"line":2727,"column":7}},"type":"BlockStatement","body":[{"range":[79058,79105],"loc":{"start":{"line":2724,"column":8},"end":{"line":2724,"column":55}},"type":"IfStatement","test":{"range":[79062,79075],"loc":{"start":{"line":2724,"column":12},"end":{"line":2724,"column":25}},"type":"Identifier","name":"errorCallback"},"consequent":{"range":[79077,79105],"loc":{"start":{"line":2724,"column":27},"end":{"line":2724,"column":55}},"type":"BlockStatement","body":[{"range":[79079,79103],"loc":{"start":{"line":2724,"column":29},"end":{"line":2724,"column":53}},"type":"ExpressionStatement","expression":{"range":[79079,79102],"loc":{"start":{"line":2724,"column":29},"end":{"line":2724,"column":52}},"type":"CallExpression","callee":{"range":[79079,79092],"loc":{"start":{"line":2724,"column":29},"end":{"line":2724,"column":42}},"type":"Identifier","name":"errorCallback"},"arguments":[{"range":[79093,79101],"loc":{"start":{"line":2724,"column":43},"end":{"line":2724,"column":51}},"type":"Identifier","name":"response"}]}}]},"alternate":null,"leadingComments":[{"type":"Line","value":" Login was not successful, apply *errorCb* and reject promise. Response","range":[78913,78986],"loc":{"start":{"line":2722,"column":8},"end":{"line":2722,"column":81}}},{"type":"Line","value":" has Facebook's *authResponse* and *status* objects.","range":[78995,79049],"loc":{"start":{"line":2723,"column":8},"end":{"line":2723,"column":62}}}]},{"range":[79114,79131],"loc":{"start":{"line":2725,"column":8},"end":{"line":2725,"column":25}},"type":"ExpressionStatement","expression":{"range":[79114,79130],"loc":{"start":{"line":2725,"column":8},"end":{"line":2725,"column":24}},"type":"CallExpression","callee":{"range":[79114,79120],"loc":{"start":{"line":2725,"column":8},"end":{"line":2725,"column":14}},"type":"Identifier","name":"reject"},"arguments":[{"range":[79121,79129],"loc":{"start":{"line":2725,"column":15},"end":{"line":2725,"column":23}},"type":"Identifier","name":"response"}]}}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" Login using Facebook with options above.","range":[78230,78273],"loc":{"start":{"line":2706,"column":6},"end":{"line":2706,"column":49}}}]}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" Return promise and resolve only once authenticated with EVRYTHNG.","range":[78103,78171],"loc":{"start":{"line":2703,"column":4},"end":{"line":2703,"column":72}}}]}]},"generator":false,"expression":false,"leadingComments":[{"type":"Line","value":" Login with Facebook. Custom Options are optional.","range":[77223,77275],"loc":{"start":{"line":2679,"column":2},"end":{"line":2679,"column":54}}},{"type":"Line","value":" **Default Facebook scope permission is simply *'email'*. If your application","range":[77279,77358],"loc":{"start":{"line":2681,"column":2},"end":{"line":2681,"column":81}}},{"type":"Line","value":" needs more than that, please read about Facebook login options and permissions","range":[77361,77442],"loc":{"start":{"line":2682,"column":2},"end":{"line":2682,"column":83}}},{"type":"Line","value":" on their","range":[77445,77456],"loc":{"start":{"line":2683,"column":2},"end":{"line":2683,"column":13}}},{"type":"Line","value":" [Developer Docs](https://developers.facebook.com/docs/reference/javascript/FB.login/v2.0)**.","range":[77459,77554],"loc":{"start":{"line":2684,"column":2},"end":{"line":2684,"column":97}}}],"trailingComments":[{"type":"Line","value":" Login with Evrythng using either the *email* or *id* properties.","range":[79160,79227],"loc":{"start":{"line":2733,"column":2},"end":{"line":2733,"column":69}}}]},{"range":[79230,80112],"loc":{"start":{"line":2734,"column":2},"end":{"line":2757,"column":3}},"type":"FunctionDeclaration","id":{"range":[79239,79253],"loc":{"start":{"line":2734,"column":11},"end":{"line":2734,"column":25}},"type":"Identifier","name":"_loginEvrythng"},"params":[{"range":[79254,79265],"loc":{"start":{"line":2734,"column":26},"end":{"line":2734,"column":37}},"type":"Identifier","name":"credentials"},{"range":[79267,79282],"loc":{"start":{"line":2734,"column":39},"end":{"line":2734,"column":54}},"type":"Identifier","name":"successCallback"},{"range":[79284,79297],"loc":{"start":{"line":2734,"column":56},"end":{"line":2734,"column":69}},"type":"Identifier","name":"errorCallback"}],"defaults":[],"body":{"range":[79299,80112],"loc":{"start":{"line":2734,"column":71},"end":{"line":2757,"column":3}},"type":"BlockStatement","body":[{"range":[79306,79418],"loc":{"start":{"line":2736,"column":4},"end":{"line":2738,"column":5}},"type":"IfStatement","test":{"range":[79309,79354],"loc":{"start":{"line":2736,"column":7},"end":{"line":2736,"column":52}},"type":"LogicalExpression","operator":"||","left":{"range":[79309,79321],"loc":{"start":{"line":2736,"column":7},"end":{"line":2736,"column":19}},"type":"UnaryExpression","operator":"!","argument":{"range":[79310,79321],"loc":{"start":{"line":2736,"column":8},"end":{"line":2736,"column":19}},"type":"Identifier","name":"credentials"},"prefix":true},"right":{"range":[79325,79354],"loc":{"start":{"line":2736,"column":23},"end":{"line":2736,"column":52}},"type":"CallExpression","callee":{"range":[79325,79341],"loc":{"start":{"line":2736,"column":23},"end":{"line":2736,"column":39}},"type":"MemberExpression","computed":false,"object":{"range":[79325,79330],"loc":{"start":{"line":2736,"column":23},"end":{"line":2736,"column":28}},"type":"Identifier","name":"Utils"},"property":{"range":[79331,79341],"loc":{"start":{"line":2736,"column":29},"end":{"line":2736,"column":39}},"type":"Identifier","name":"isFunction"}},"arguments":[{"range":[79342,79353],"loc":{"start":{"line":2736,"column":40},"end":{"line":2736,"column":51}},"type":"Identifier","name":"credentials"}]}},"consequent":{"range":[79356,79418],"loc":{"start":{"line":2736,"column":54},"end":{"line":2738,"column":5}},"type":"BlockStatement","body":[{"range":[79364,79412],"loc":{"start":{"line":2737,"column":6},"end":{"line":2737,"column":54}},"type":"ThrowStatement","argument":{"range":[79370,79411],"loc":{"start":{"line":2737,"column":12},"end":{"line":2737,"column":53}},"type":"NewExpression","callee":{"range":[79374,79383],"loc":{"start":{"line":2737,"column":16},"end":{"line":2737,"column":25}},"type":"Identifier","name":"TypeError"},"arguments":[{"range":[79384,79410],"loc":{"start":{"line":2737,"column":26},"end":{"line":2737,"column":52}},"type":"Literal","value":"Credentials are missing.","raw":"'Credentials are missing.'"}]}}]},"alternate":null,"trailingComments":[{"type":"Line","value":" Send the authentication request to the REST API, which is a Promise.","range":[79424,79495],"loc":{"start":{"line":2740,"column":4},"end":{"line":2740,"column":75}}},{"type":"Line","value":" Note that the context is passed from the above *app.login()* method","range":[79500,79570],"loc":{"start":{"line":2741,"column":4},"end":{"line":2741,"column":74}}},{"type":"Line","value":" until the raw call in order to pass the correct scope's Api Key.","range":[79575,79642],"loc":{"start":{"line":2742,"column":4},"end":{"line":2742,"column":71}}}]},{"range":[79647,80108],"loc":{"start":{"line":2743,"column":4},"end":{"line":2756,"column":7}},"type":"ReturnStatement","argument":{"range":[79654,80107],"loc":{"start":{"line":2743,"column":11},"end":{"line":2756,"column":6}},"type":"CallExpression","callee":{"range":[79654,79696],"loc":{"start":{"line":2743,"column":11},"end":{"line":2743,"column":53}},"type":"MemberExpression","computed":false,"object":{"range":[79654,79691],"loc":{"start":{"line":2743,"column":11},"end":{"line":2743,"column":48}},"type":"CallExpression","callee":{"range":[79654,79672],"loc":{"start":{"line":2743,"column":11},"end":{"line":2743,"column":29}},"type":"MemberExpression","computed":false,"object":{"range":[79654,79667],"loc":{"start":{"line":2743,"column":11},"end":{"line":2743,"column":24}},"type":"Identifier","name":"_authEvrythng"},"property":{"range":[79668,79672],"loc":{"start":{"line":2743,"column":25},"end":{"line":2743,"column":29}},"type":"Identifier","name":"call"}},"arguments":[{"range":[79673,79677],"loc":{"start":{"line":2743,"column":30},"end":{"line":2743,"column":34}},"type":"ThisExpression"},{"range":[79679,79690],"loc":{"start":{"line":2743,"column":36},"end":{"line":2743,"column":47}},"type":"Identifier","name":"credentials"}]},"property":{"range":[79692,79696],"loc":{"start":{"line":2743,"column":49},"end":{"line":2743,"column":53}},"type":"Identifier","name":"then"}},"arguments":[{"range":[79697,79925],"loc":{"start":{"line":2743,"column":54},"end":{"line":2750,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[79707,79719],"loc":{"start":{"line":2743,"column":64},"end":{"line":2743,"column":76}},"type":"Identifier","name":"userResponse"}],"defaults":[],"body":{"range":[79721,79925],"loc":{"start":{"line":2743,"column":78},"end":{"line":2750,"column":5}},"type":"BlockStatement","body":[{"range":[79837,79891],"loc":{"start":{"line":2747,"column":6},"end":{"line":2747,"column":60}},"type":"IfStatement","test":{"range":[79840,79855],"loc":{"start":{"line":2747,"column":9},"end":{"line":2747,"column":24}},"type":"Identifier","name":"successCallback"},"consequent":{"range":[79857,79891],"loc":{"start":{"line":2747,"column":26},"end":{"line":2747,"column":60}},"type":"BlockStatement","body":[{"range":[79859,79889],"loc":{"start":{"line":2747,"column":28},"end":{"line":2747,"column":58}},"type":"ExpressionStatement","expression":{"range":[79859,79888],"loc":{"start":{"line":2747,"column":28},"end":{"line":2747,"column":57}},"type":"CallExpression","callee":{"range":[79859,79874],"loc":{"start":{"line":2747,"column":28},"end":{"line":2747,"column":43}},"type":"Identifier","name":"successCallback"},"arguments":[{"range":[79875,79887],"loc":{"start":{"line":2747,"column":44},"end":{"line":2747,"column":56}},"type":"Identifier","name":"userResponse"}]}}]},"alternate":null,"leadingComments":[{"type":"Line","value":" Login was successful, apply callback and propagate response to the","range":[79730,79799],"loc":{"start":{"line":2745,"column":6},"end":{"line":2745,"column":75}}},{"type":"Line","value":" next promise handler.","range":[79806,79830],"loc":{"start":{"line":2746,"column":6},"end":{"line":2746,"column":30}}}]},{"range":[79898,79918],"loc":{"start":{"line":2748,"column":6},"end":{"line":2748,"column":26}},"type":"ReturnStatement","argument":{"range":[79905,79917],"loc":{"start":{"line":2748,"column":13},"end":{"line":2748,"column":25}},"type":"Identifier","name":"userResponse"}}]},"generator":false,"expression":false},{"range":[79927,80106],"loc":{"start":{"line":2750,"column":7},"end":{"line":2756,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[79937,79945],"loc":{"start":{"line":2750,"column":17},"end":{"line":2750,"column":25}},"type":"Identifier","name":"response"}],"defaults":[],"body":{"range":[79947,80106],"loc":{"start":{"line":2750,"column":27},"end":{"line":2756,"column":5}},"type":"BlockStatement","body":[{"range":[80031,80077],"loc":{"start":{"line":2753,"column":6},"end":{"line":2753,"column":52}},"type":"IfStatement","test":{"range":[80034,80047],"loc":{"start":{"line":2753,"column":9},"end":{"line":2753,"column":22}},"type":"Identifier","name":"errorCallback"},"consequent":{"range":[80049,80077],"loc":{"start":{"line":2753,"column":24},"end":{"line":2753,"column":52}},"type":"BlockStatement","body":[{"range":[80051,80075],"loc":{"start":{"line":2753,"column":26},"end":{"line":2753,"column":50}},"type":"ExpressionStatement","expression":{"range":[80051,80074],"loc":{"start":{"line":2753,"column":26},"end":{"line":2753,"column":49}},"type":"CallExpression","callee":{"range":[80051,80064],"loc":{"start":{"line":2753,"column":26},"end":{"line":2753,"column":39}},"type":"Identifier","name":"errorCallback"},"arguments":[{"range":[80065,80073],"loc":{"start":{"line":2753,"column":40},"end":{"line":2753,"column":48}},"type":"Identifier","name":"response"}]}}]},"alternate":null,"leadingComments":[{"type":"Line","value":" Login was not successful, call error callback and re-throw error.","range":[79956,80024],"loc":{"start":{"line":2752,"column":6},"end":{"line":2752,"column":74}}}]},{"range":[80084,80099],"loc":{"start":{"line":2754,"column":6},"end":{"line":2754,"column":21}},"type":"ThrowStatement","argument":{"range":[80090,80098],"loc":{"start":{"line":2754,"column":12},"end":{"line":2754,"column":20}},"type":"Identifier","name":"response"}}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" Send the authentication request to the REST API, which is a Promise.","range":[79424,79495],"loc":{"start":{"line":2740,"column":4},"end":{"line":2740,"column":75}}},{"type":"Line","value":" Note that the context is passed from the above *app.login()* method","range":[79500,79570],"loc":{"start":{"line":2741,"column":4},"end":{"line":2741,"column":74}}},{"type":"Line","value":" until the raw call in order to pass the correct scope's Api Key.","range":[79575,79642],"loc":{"start":{"line":2742,"column":4},"end":{"line":2742,"column":71}}}]}]},"generator":false,"expression":false,"leadingComments":[{"type":"Line","value":" Login with Evrythng using either the *email* or *id* properties.","range":[79160,79227],"loc":{"start":{"line":2733,"column":2},"end":{"line":2733,"column":69}}}],"trailingComments":[{"type":"Line","value":" Send authentication request with the Facebook auth token. This method is","range":[80116,80191],"loc":{"start":{"line":2759,"column":2},"end":{"line":2759,"column":77}}},{"type":"Line","value":" used on explicit login and when Facebook is initialized in the `EVT.App`","range":[80194,80269],"loc":{"start":{"line":2760,"column":2},"end":{"line":2760,"column":77}}},{"type":"Line","value":" constructor.","range":[80272,80287],"loc":{"start":{"line":2761,"column":2},"end":{"line":2761,"column":17}}}]},{"range":[80290,81027],"loc":{"start":{"line":2762,"column":2},"end":{"line":2791,"column":3}},"type":"FunctionDeclaration","id":{"range":[80299,80311],"loc":{"start":{"line":2762,"column":11},"end":{"line":2762,"column":23}},"type":"Identifier","name":"authFacebook"},"params":[{"range":[80312,80320],"loc":{"start":{"line":2762,"column":24},"end":{"line":2762,"column":32}},"type":"Identifier","name":"response"}],"defaults":[],"body":{"range":[80322,81027],"loc":{"start":{"line":2762,"column":34},"end":{"line":2791,"column":3}},"type":"BlockStatement","body":[{"range":[80328,80345],"loc":{"start":{"line":2763,"column":4},"end":{"line":2763,"column":21}},"type":"VariableDeclaration","declarations":[{"range":[80332,80344],"loc":{"start":{"line":2763,"column":8},"end":{"line":2763,"column":20}},"type":"VariableDeclarator","id":{"range":[80332,80337],"loc":{"start":{"line":2763,"column":8},"end":{"line":2763,"column":13}},"type":"Identifier","name":"$this"},"init":{"range":[80340,80344],"loc":{"start":{"line":2763,"column":16},"end":{"line":2763,"column":20}},"type":"ThisExpression"}}],"kind":"var"},{"range":[80351,81023],"loc":{"start":{"line":2765,"column":4},"end":{"line":2790,"column":7}},"type":"ReturnStatement","argument":{"range":[80358,81022],"loc":{"start":{"line":2765,"column":11},"end":{"line":2790,"column":6}},"type":"CallExpression","callee":{"range":[80358,80565],"loc":{"start":{"line":2765,"column":11},"end":{"line":2774,"column":11}},"type":"MemberExpression","computed":false,"object":{"range":[80358,80560],"loc":{"start":{"line":2765,"column":11},"end":{"line":2774,"column":6}},"type":"CallExpression","callee":{"range":[80358,80365],"loc":{"start":{"line":2765,"column":11},"end":{"line":2765,"column":18}},"type":"MemberExpression","computed":false,"object":{"range":[80358,80361],"loc":{"start":{"line":2765,"column":11},"end":{"line":2765,"column":14}},"type":"Identifier","name":"EVT"},"property":{"range":[80362,80365],"loc":{"start":{"line":2765,"column":15},"end":{"line":2765,"column":18}},"type":"Identifier","name":"api"}},"arguments":[{"range":[80366,80559],"loc":{"start":{"line":2765,"column":19},"end":{"line":2774,"column":5}},"type":"ObjectExpression","properties":[{"range":[80374,80395],"loc":{"start":{"line":2766,"column":6},"end":{"line":2766,"column":27}},"type":"Property","key":{"range":[80374,80377],"loc":{"start":{"line":2766,"column":6},"end":{"line":2766,"column":9}},"type":"Identifier","name":"url"},"computed":false,"value":{"range":[80379,80395],"loc":{"start":{"line":2766,"column":11},"end":{"line":2766,"column":27}},"type":"Literal","value":"/auth/facebook","raw":"'/auth/facebook'"},"kind":"init","method":false,"shorthand":false},{"range":[80403,80417],"loc":{"start":{"line":2767,"column":6},"end":{"line":2767,"column":20}},"type":"Property","key":{"range":[80403,80409],"loc":{"start":{"line":2767,"column":6},"end":{"line":2767,"column":12}},"type":"Identifier","name":"method"},"computed":false,"value":{"range":[80411,80417],"loc":{"start":{"line":2767,"column":14},"end":{"line":2767,"column":20}},"type":"Literal","value":"post","raw":"'post'"},"kind":"init","method":false,"shorthand":false},{"range":[80425,80519],"loc":{"start":{"line":2768,"column":6},"end":{"line":2772,"column":7}},"type":"Property","key":{"range":[80425,80429],"loc":{"start":{"line":2768,"column":6},"end":{"line":2768,"column":10}},"type":"Identifier","name":"data"},"computed":false,"value":{"range":[80431,80519],"loc":{"start":{"line":2768,"column":12},"end":{"line":2772,"column":7}},"type":"ObjectExpression","properties":[{"range":[80441,80511],"loc":{"start":{"line":2769,"column":8},"end":{"line":2771,"column":9}},"type":"Property","key":{"range":[80441,80447],"loc":{"start":{"line":2769,"column":8},"end":{"line":2769,"column":14}},"type":"Identifier","name":"access"},"computed":false,"value":{"range":[80449,80511],"loc":{"start":{"line":2769,"column":16},"end":{"line":2771,"column":9}},"type":"ObjectExpression","properties":[{"range":[80461,80501],"loc":{"start":{"line":2770,"column":10},"end":{"line":2770,"column":50}},"type":"Property","key":{"range":[80461,80466],"loc":{"start":{"line":2770,"column":10},"end":{"line":2770,"column":15}},"type":"Identifier","name":"token"},"computed":false,"value":{"range":[80468,80501],"loc":{"start":{"line":2770,"column":17},"end":{"line":2770,"column":50}},"type":"MemberExpression","computed":false,"object":{"range":[80468,80489],"loc":{"start":{"line":2770,"column":17},"end":{"line":2770,"column":38}},"type":"MemberExpression","computed":false,"object":{"range":[80468,80476],"loc":{"start":{"line":2770,"column":17},"end":{"line":2770,"column":25}},"type":"Identifier","name":"response"},"property":{"range":[80477,80489],"loc":{"start":{"line":2770,"column":26},"end":{"line":2770,"column":38}},"type":"Identifier","name":"authResponse"}},"property":{"range":[80490,80501],"loc":{"start":{"line":2770,"column":39},"end":{"line":2770,"column":50}},"type":"Identifier","name":"accessToken"}},"kind":"init","method":false,"shorthand":false}]},"kind":"init","method":false,"shorthand":false}]},"kind":"init","method":false,"shorthand":false},{"range":[80527,80553],"loc":{"start":{"line":2773,"column":6},"end":{"line":2773,"column":32}},"type":"Property","key":{"range":[80527,80540],"loc":{"start":{"line":2773,"column":6},"end":{"line":2773,"column":19}},"type":"Identifier","name":"authorization"},"computed":false,"value":{"range":[80542,80553],"loc":{"start":{"line":2773,"column":21},"end":{"line":2773,"column":32}},"type":"MemberExpression","computed":false,"object":{"range":[80542,80546],"loc":{"start":{"line":2773,"column":21},"end":{"line":2773,"column":25}},"type":"ThisExpression"},"property":{"range":[80547,80553],"loc":{"start":{"line":2773,"column":26},"end":{"line":2773,"column":32}},"type":"Identifier","name":"apiKey"}},"kind":"init","method":false,"shorthand":false}]}]},"property":{"range":[80561,80565],"loc":{"start":{"line":2774,"column":7},"end":{"line":2774,"column":11}},"type":"Identifier","name":"then"}},"arguments":[{"range":[80566,81021],"loc":{"start":{"line":2774,"column":12},"end":{"line":2790,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[80576,80582],"loc":{"start":{"line":2774,"column":22},"end":{"line":2774,"column":28}},"type":"Identifier","name":"access"}],"defaults":[],"body":{"range":[80584,81021],"loc":{"start":{"line":2774,"column":30},"end":{"line":2790,"column":5}},"type":"BlockStatement","body":[{"range":[80695,80808],"loc":{"start":{"line":2778,"column":6},"end":{"line":2781,"column":16}},"type":"VariableDeclaration","declarations":[{"range":[80699,80807],"loc":{"start":{"line":2778,"column":10},"end":{"line":2781,"column":15}},"type":"VariableDeclarator","id":{"range":[80699,80703],"loc":{"start":{"line":2778,"column":10},"end":{"line":2778,"column":14}},"type":"Identifier","name":"user"},"init":{"range":[80706,80807],"loc":{"start":{"line":2778,"column":17},"end":{"line":2781,"column":15}},"type":"NewExpression","callee":{"range":[80710,80718],"loc":{"start":{"line":2778,"column":21},"end":{"line":2778,"column":29}},"type":"MemberExpression","computed":false,"object":{"range":[80710,80713],"loc":{"start":{"line":2778,"column":21},"end":{"line":2778,"column":24}},"type":"Identifier","name":"EVT"},"property":{"range":[80714,80718],"loc":{"start":{"line":2778,"column":25},"end":{"line":2778,"column":29}},"type":"Identifier","name":"User"}},"arguments":[{"range":[80719,80799],"loc":{"start":{"line":2778,"column":30},"end":{"line":2781,"column":7}},"type":"ObjectExpression","properties":[{"range":[80729,80752],"loc":{"start":{"line":2779,"column":8},"end":{"line":2779,"column":31}},"type":"Property","key":{"range":[80729,80731],"loc":{"start":{"line":2779,"column":8},"end":{"line":2779,"column":10}},"type":"Identifier","name":"id"},"computed":false,"value":{"range":[80733,80752],"loc":{"start":{"line":2779,"column":12},"end":{"line":2779,"column":31}},"type":"MemberExpression","computed":false,"object":{"range":[80733,80739],"loc":{"start":{"line":2779,"column":12},"end":{"line":2779,"column":18}},"type":"Identifier","name":"access"},"property":{"range":[80740,80752],"loc":{"start":{"line":2779,"column":19},"end":{"line":2779,"column":31}},"type":"Identifier","name":"evrythngUser"}},"kind":"init","method":false,"shorthand":false},{"range":[80762,80791],"loc":{"start":{"line":2780,"column":8},"end":{"line":2780,"column":37}},"type":"Property","key":{"range":[80762,80768],"loc":{"start":{"line":2780,"column":8},"end":{"line":2780,"column":14}},"type":"Identifier","name":"apiKey"},"computed":false,"value":{"range":[80770,80791],"loc":{"start":{"line":2780,"column":16},"end":{"line":2780,"column":37}},"type":"MemberExpression","computed":false,"object":{"range":[80770,80776],"loc":{"start":{"line":2780,"column":16},"end":{"line":2780,"column":22}},"type":"Identifier","name":"access"},"property":{"range":[80777,80791],"loc":{"start":{"line":2780,"column":23},"end":{"line":2780,"column":37}},"type":"Identifier","name":"evrythngApiKey"}},"kind":"init","method":false,"shorthand":false}]},{"range":[80801,80806],"loc":{"start":{"line":2781,"column":9},"end":{"line":2781,"column":14}},"type":"Identifier","name":"$this"}]}}],"kind":"var","leadingComments":[{"type":"Line","value":" Create User Scope with the user information and Api Key returned","range":[80593,80660],"loc":{"start":{"line":2776,"column":6},"end":{"line":2776,"column":73}}},{"type":"Line","value":" from the REST API.","range":[80667,80688],"loc":{"start":{"line":2777,"column":6},"end":{"line":2777,"column":27}}}],"trailingComments":[{"type":"Line","value":" Prepare resolve object. Move Facebook user data to","range":[80816,80869],"loc":{"start":{"line":2783,"column":6},"end":{"line":2783,"column":59}}},{"type":"Line","value":" 'user.facebook' object","range":[80876,80901],"loc":{"start":{"line":2784,"column":6},"end":{"line":2784,"column":31}}}]},{"range":[80908,80962],"loc":{"start":{"line":2785,"column":6},"end":{"line":2785,"column":60}},"type":"ExpressionStatement","expression":{"range":[80908,80961],"loc":{"start":{"line":2785,"column":6},"end":{"line":2785,"column":59}},"type":"CallExpression","callee":{"range":[80908,80920],"loc":{"start":{"line":2785,"column":6},"end":{"line":2785,"column":18}},"type":"MemberExpression","computed":false,"object":{"range":[80908,80913],"loc":{"start":{"line":2785,"column":6},"end":{"line":2785,"column":11}},"type":"Identifier","name":"Utils"},"property":{"range":[80914,80920],"loc":{"start":{"line":2785,"column":12},"end":{"line":2785,"column":18}},"type":"Identifier","name":"extend"}},"arguments":[{"range":[80921,80925],"loc":{"start":{"line":2785,"column":19},"end":{"line":2785,"column":23}},"type":"Identifier","name":"user"},{"range":[80927,80954],"loc":{"start":{"line":2785,"column":25},"end":{"line":2785,"column":52}},"type":"ObjectExpression","properties":[{"range":[80929,80952],"loc":{"start":{"line":2785,"column":27},"end":{"line":2785,"column":50}},"type":"Property","key":{"range":[80929,80937],"loc":{"start":{"line":2785,"column":27},"end":{"line":2785,"column":35}},"type":"Identifier","name":"facebook"},"computed":false,"value":{"range":[80939,80952],"loc":{"start":{"line":2785,"column":37},"end":{"line":2785,"column":50}},"type":"MemberExpression","computed":false,"object":{"range":[80939,80947],"loc":{"start":{"line":2785,"column":37},"end":{"line":2785,"column":45}},"type":"Identifier","name":"response"},"property":{"range":[80948,80952],"loc":{"start":{"line":2785,"column":46},"end":{"line":2785,"column":50}},"type":"Identifier","name":"user"}},"kind":"init","method":false,"shorthand":false}]},{"range":[80956,80960],"loc":{"start":{"line":2785,"column":54},"end":{"line":2785,"column":58}},"type":"Literal","value":true,"raw":"true"}]},"leadingComments":[{"type":"Line","value":" Prepare resolve object. Move Facebook user data to","range":[80816,80869],"loc":{"start":{"line":2783,"column":6},"end":{"line":2783,"column":59}}},{"type":"Line","value":" 'user.facebook' object","range":[80876,80901],"loc":{"start":{"line":2784,"column":6},"end":{"line":2784,"column":31}}}]},{"range":[80969,80990],"loc":{"start":{"line":2786,"column":6},"end":{"line":2786,"column":27}},"type":"ExpressionStatement","expression":{"range":[80969,80989],"loc":{"start":{"line":2786,"column":6},"end":{"line":2786,"column":26}},"type":"AssignmentExpression","operator":"=","left":{"range":[80969,80982],"loc":{"start":{"line":2786,"column":6},"end":{"line":2786,"column":19}},"type":"MemberExpression","computed":false,"object":{"range":[80969,80977],"loc":{"start":{"line":2786,"column":6},"end":{"line":2786,"column":14}},"type":"Identifier","name":"response"},"property":{"range":[80978,80982],"loc":{"start":{"line":2786,"column":15},"end":{"line":2786,"column":19}},"type":"Identifier","name":"user"}},"right":{"range":[80985,80989],"loc":{"start":{"line":2786,"column":22},"end":{"line":2786,"column":26}},"type":"Identifier","name":"user"}}},{"range":[80998,81014],"loc":{"start":{"line":2788,"column":6},"end":{"line":2788,"column":22}},"type":"ReturnStatement","argument":{"range":[81005,81013],"loc":{"start":{"line":2788,"column":13},"end":{"line":2788,"column":21}},"type":"Identifier","name":"response"}}]},"generator":false,"expression":false}]}}]},"generator":false,"expression":false,"leadingComments":[{"type":"Line","value":" Send authentication request with the Facebook auth token. This method is","range":[80116,80191],"loc":{"start":{"line":2759,"column":2},"end":{"line":2759,"column":77}}},{"type":"Line","value":" used on explicit login and when Facebook is initialized in the `EVT.App`","range":[80194,80269],"loc":{"start":{"line":2760,"column":2},"end":{"line":2760,"column":77}}},{"type":"Line","value":" constructor.","range":[80272,80287],"loc":{"start":{"line":2761,"column":2},"end":{"line":2761,"column":17}}}],"trailingComments":[{"type":"Line","value":" Send authentication request using Evrythng credentials.","range":[81031,81089],"loc":{"start":{"line":2793,"column":2},"end":{"line":2793,"column":60}}}]},{"range":[81092,81954],"loc":{"start":{"line":2794,"column":2},"end":{"line":2825,"column":3}},"type":"FunctionDeclaration","id":{"range":[81101,81114],"loc":{"start":{"line":2794,"column":11},"end":{"line":2794,"column":24}},"type":"Identifier","name":"_authEvrythng"},"params":[{"range":[81115,81126],"loc":{"start":{"line":2794,"column":25},"end":{"line":2794,"column":36}},"type":"Identifier","name":"credentials"}],"defaults":[],"body":{"range":[81128,81954],"loc":{"start":{"line":2794,"column":38},"end":{"line":2825,"column":3}},"type":"BlockStatement","body":[{"range":[81134,81151],"loc":{"start":{"line":2795,"column":4},"end":{"line":2795,"column":21}},"type":"VariableDeclaration","declarations":[{"range":[81138,81150],"loc":{"start":{"line":2795,"column":8},"end":{"line":2795,"column":20}},"type":"VariableDeclarator","id":{"range":[81138,81143],"loc":{"start":{"line":2795,"column":8},"end":{"line":2795,"column":13}},"type":"Identifier","name":"$this"},"init":{"range":[81146,81150],"loc":{"start":{"line":2795,"column":16},"end":{"line":2795,"column":20}},"type":"ThisExpression"}}],"kind":"var"},{"range":[81157,81950],"loc":{"start":{"line":2797,"column":4},"end":{"line":2824,"column":7}},"type":"ReturnStatement","argument":{"range":[81164,81949],"loc":{"start":{"line":2797,"column":11},"end":{"line":2824,"column":6}},"type":"CallExpression","callee":{"range":[81164,81294],"loc":{"start":{"line":2797,"column":11},"end":{"line":2802,"column":11}},"type":"MemberExpression","computed":false,"object":{"range":[81164,81289],"loc":{"start":{"line":2797,"column":11},"end":{"line":2802,"column":6}},"type":"CallExpression","callee":{"range":[81164,81171],"loc":{"start":{"line":2797,"column":11},"end":{"line":2797,"column":18}},"type":"MemberExpression","computed":false,"object":{"range":[81164,81167],"loc":{"start":{"line":2797,"column":11},"end":{"line":2797,"column":14}},"type":"Identifier","name":"EVT"},"property":{"range":[81168,81171],"loc":{"start":{"line":2797,"column":15},"end":{"line":2797,"column":18}},"type":"Identifier","name":"api"}},"arguments":[{"range":[81172,81288],"loc":{"start":{"line":2797,"column":19},"end":{"line":2802,"column":5}},"type":"ObjectExpression","properties":[{"range":[81180,81201],"loc":{"start":{"line":2798,"column":6},"end":{"line":2798,"column":27}},"type":"Property","key":{"range":[81180,81183],"loc":{"start":{"line":2798,"column":6},"end":{"line":2798,"column":9}},"type":"Identifier","name":"url"},"computed":false,"value":{"range":[81185,81201],"loc":{"start":{"line":2798,"column":11},"end":{"line":2798,"column":27}},"type":"Literal","value":"/auth/evrythng","raw":"'/auth/evrythng'"},"kind":"init","method":false,"shorthand":false},{"range":[81209,81223],"loc":{"start":{"line":2799,"column":6},"end":{"line":2799,"column":20}},"type":"Property","key":{"range":[81209,81215],"loc":{"start":{"line":2799,"column":6},"end":{"line":2799,"column":12}},"type":"Identifier","name":"method"},"computed":false,"value":{"range":[81217,81223],"loc":{"start":{"line":2799,"column":14},"end":{"line":2799,"column":20}},"type":"Literal","value":"post","raw":"'post'"},"kind":"init","method":false,"shorthand":false},{"range":[81231,81248],"loc":{"start":{"line":2800,"column":6},"end":{"line":2800,"column":23}},"type":"Property","key":{"range":[81231,81235],"loc":{"start":{"line":2800,"column":6},"end":{"line":2800,"column":10}},"type":"Identifier","name":"data"},"computed":false,"value":{"range":[81237,81248],"loc":{"start":{"line":2800,"column":12},"end":{"line":2800,"column":23}},"type":"Identifier","name":"credentials"},"kind":"init","method":false,"shorthand":false},{"range":[81256,81282],"loc":{"start":{"line":2801,"column":6},"end":{"line":2801,"column":32}},"type":"Property","key":{"range":[81256,81269],"loc":{"start":{"line":2801,"column":6},"end":{"line":2801,"column":19}},"type":"Identifier","name":"authorization"},"computed":false,"value":{"range":[81271,81282],"loc":{"start":{"line":2801,"column":21},"end":{"line":2801,"column":32}},"type":"MemberExpression","computed":false,"object":{"range":[81271,81275],"loc":{"start":{"line":2801,"column":21},"end":{"line":2801,"column":25}},"type":"ThisExpression"},"property":{"range":[81276,81282],"loc":{"start":{"line":2801,"column":26},"end":{"line":2801,"column":32}},"type":"Identifier","name":"apiKey"}},"kind":"init","method":false,"shorthand":false}]}]},"property":{"range":[81290,81294],"loc":{"start":{"line":2802,"column":7},"end":{"line":2802,"column":11}},"type":"Identifier","name":"then"}},"arguments":[{"range":[81295,81948],"loc":{"start":{"line":2802,"column":12},"end":{"line":2824,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[81305,81311],"loc":{"start":{"line":2802,"column":22},"end":{"line":2802,"column":28}},"type":"Identifier","name":"access"}],"defaults":[],"body":{"range":[81313,81948],"loc":{"start":{"line":2802,"column":30},"end":{"line":2824,"column":5}},"type":"BlockStatement","body":[{"range":[81392,81941],"loc":{"start":{"line":2805,"column":6},"end":{"line":2822,"column":9}},"type":"ReturnStatement","argument":{"range":[81399,81940],"loc":{"start":{"line":2805,"column":13},"end":{"line":2822,"column":8}},"type":"CallExpression","callee":{"range":[81399,81513],"loc":{"start":{"line":2805,"column":13},"end":{"line":2808,"column":13}},"type":"MemberExpression","computed":false,"object":{"range":[81399,81508],"loc":{"start":{"line":2805,"column":13},"end":{"line":2808,"column":8}},"type":"CallExpression","callee":{"range":[81399,81406],"loc":{"start":{"line":2805,"column":13},"end":{"line":2805,"column":20}},"type":"MemberExpression","computed":false,"object":{"range":[81399,81402],"loc":{"start":{"line":2805,"column":13},"end":{"line":2805,"column":16}},"type":"Identifier","name":"EVT"},"property":{"range":[81403,81406],"loc":{"start":{"line":2805,"column":17},"end":{"line":2805,"column":20}},"type":"Identifier","name":"api"}},"arguments":[{"range":[81407,81507],"loc":{"start":{"line":2805,"column":21},"end":{"line":2808,"column":7}},"type":"ObjectExpression","properties":[{"range":[81417,81453],"loc":{"start":{"line":2806,"column":8},"end":{"line":2806,"column":44}},"type":"Property","key":{"range":[81417,81420],"loc":{"start":{"line":2806,"column":8},"end":{"line":2806,"column":11}},"type":"Identifier","name":"url"},"computed":false,"value":{"range":[81422,81453],"loc":{"start":{"line":2806,"column":13},"end":{"line":2806,"column":44}},"type":"BinaryExpression","operator":"+","left":{"range":[81422,81431],"loc":{"start":{"line":2806,"column":13},"end":{"line":2806,"column":22}},"type":"Literal","value":"/users/","raw":"'/users/'"},"right":{"range":[81434,81453],"loc":{"start":{"line":2806,"column":25},"end":{"line":2806,"column":44}},"type":"MemberExpression","computed":false,"object":{"range":[81434,81440],"loc":{"start":{"line":2806,"column":25},"end":{"line":2806,"column":31}},"type":"Identifier","name":"access"},"property":{"range":[81441,81453],"loc":{"start":{"line":2806,"column":32},"end":{"line":2806,"column":44}},"type":"Identifier","name":"evrythngUser"}}},"kind":"init","method":false,"shorthand":false},{"range":[81463,81499],"loc":{"start":{"line":2807,"column":8},"end":{"line":2807,"column":44}},"type":"Property","key":{"range":[81463,81476],"loc":{"start":{"line":2807,"column":8},"end":{"line":2807,"column":21}},"type":"Identifier","name":"authorization"},"computed":false,"value":{"range":[81478,81499],"loc":{"start":{"line":2807,"column":23},"end":{"line":2807,"column":44}},"type":"MemberExpression","computed":false,"object":{"range":[81478,81484],"loc":{"start":{"line":2807,"column":23},"end":{"line":2807,"column":29}},"type":"Identifier","name":"access"},"property":{"range":[81485,81499],"loc":{"start":{"line":2807,"column":30},"end":{"line":2807,"column":44}},"type":"Identifier","name":"evrythngApiKey"}},"kind":"init","method":false,"shorthand":false}]}]},"property":{"range":[81509,81513],"loc":{"start":{"line":2808,"column":9},"end":{"line":2808,"column":13}},"type":"Identifier","name":"then"}},"arguments":[{"range":[81514,81939],"loc":{"start":{"line":2808,"column":14},"end":{"line":2822,"column":7}},"type":"FunctionExpression","id":null,"params":[{"range":[81524,81532],"loc":{"start":{"line":2808,"column":24},"end":{"line":2808,"column":32}},"type":"Identifier","name":"userInfo"}],"defaults":[],"body":{"range":[81534,81939],"loc":{"start":{"line":2808,"column":34},"end":{"line":2822,"column":7}},"type":"BlockStatement","body":[{"range":[81694,81819],"loc":{"start":{"line":2812,"column":8},"end":{"line":2815,"column":11}},"type":"VariableDeclaration","declarations":[{"range":[81698,81818],"loc":{"start":{"line":2812,"column":12},"end":{"line":2815,"column":10}},"type":"VariableDeclarator","id":{"range":[81698,81705],"loc":{"start":{"line":2812,"column":12},"end":{"line":2812,"column":19}},"type":"Identifier","name":"userObj"},"init":{"range":[81708,81818],"loc":{"start":{"line":2812,"column":22},"end":{"line":2815,"column":10}},"type":"CallExpression","callee":{"range":[81708,81720],"loc":{"start":{"line":2812,"column":22},"end":{"line":2812,"column":34}},"type":"MemberExpression","computed":false,"object":{"range":[81708,81713],"loc":{"start":{"line":2812,"column":22},"end":{"line":2812,"column":27}},"type":"Identifier","name":"Utils"},"property":{"range":[81714,81720],"loc":{"start":{"line":2812,"column":28},"end":{"line":2812,"column":34}},"type":"Identifier","name":"extend"}},"arguments":[{"range":[81721,81729],"loc":{"start":{"line":2812,"column":35},"end":{"line":2812,"column":43}},"type":"Identifier","name":"userInfo"},{"range":[81731,81817],"loc":{"start":{"line":2812,"column":45},"end":{"line":2815,"column":9}},"type":"ObjectExpression","properties":[{"range":[81743,81766],"loc":{"start":{"line":2813,"column":10},"end":{"line":2813,"column":33}},"type":"Property","key":{"range":[81743,81745],"loc":{"start":{"line":2813,"column":10},"end":{"line":2813,"column":12}},"type":"Identifier","name":"id"},"computed":false,"value":{"range":[81747,81766],"loc":{"start":{"line":2813,"column":14},"end":{"line":2813,"column":33}},"type":"MemberExpression","computed":false,"object":{"range":[81747,81753],"loc":{"start":{"line":2813,"column":14},"end":{"line":2813,"column":20}},"type":"Identifier","name":"access"},"property":{"range":[81754,81766],"loc":{"start":{"line":2813,"column":21},"end":{"line":2813,"column":33}},"type":"Identifier","name":"evrythngUser"}},"kind":"init","method":false,"shorthand":false},{"range":[81778,81807],"loc":{"start":{"line":2814,"column":10},"end":{"line":2814,"column":39}},"type":"Property","key":{"range":[81778,81784],"loc":{"start":{"line":2814,"column":10},"end":{"line":2814,"column":16}},"type":"Identifier","name":"apiKey"},"computed":false,"value":{"range":[81786,81807],"loc":{"start":{"line":2814,"column":18},"end":{"line":2814,"column":39}},"type":"MemberExpression","computed":false,"object":{"range":[81786,81792],"loc":{"start":{"line":2814,"column":18},"end":{"line":2814,"column":24}},"type":"Identifier","name":"access"},"property":{"range":[81793,81807],"loc":{"start":{"line":2814,"column":25},"end":{"line":2814,"column":39}},"type":"Identifier","name":"evrythngApiKey"}},"kind":"init","method":false,"shorthand":false}]}]}}],"kind":"var","leadingComments":[{"type":"Line","value":" Keep nested success handler because we also need the *access*","range":[81545,81609],"loc":{"start":{"line":2810,"column":8},"end":{"line":2810,"column":72}}},{"type":"Line","value":" object returned form the previous call to create the User Scope.","range":[81618,81685],"loc":{"start":{"line":2811,"column":8},"end":{"line":2811,"column":75}}}],"trailingComments":[{"type":"Line","value":" Create User Scope","range":[81829,81849],"loc":{"start":{"line":2817,"column":8},"end":{"line":2817,"column":28}}}]},{"range":[81858,81898],"loc":{"start":{"line":2818,"column":8},"end":{"line":2818,"column":48}},"type":"VariableDeclaration","declarations":[{"range":[81862,81897],"loc":{"start":{"line":2818,"column":12},"end":{"line":2818,"column":47}},"type":"VariableDeclarator","id":{"range":[81862,81866],"loc":{"start":{"line":2818,"column":12},"end":{"line":2818,"column":16}},"type":"Identifier","name":"user"},"init":{"range":[81869,81897],"loc":{"start":{"line":2818,"column":19},"end":{"line":2818,"column":47}},"type":"NewExpression","callee":{"range":[81873,81881],"loc":{"start":{"line":2818,"column":23},"end":{"line":2818,"column":31}},"type":"MemberExpression","computed":false,"object":{"range":[81873,81876],"loc":{"start":{"line":2818,"column":23},"end":{"line":2818,"column":26}},"type":"Identifier","name":"EVT"},"property":{"range":[81877,81881],"loc":{"start":{"line":2818,"column":27},"end":{"line":2818,"column":31}},"type":"Identifier","name":"User"}},"arguments":[{"range":[81882,81889],"loc":{"start":{"line":2818,"column":32},"end":{"line":2818,"column":39}},"type":"Identifier","name":"userObj"},{"range":[81891,81896],"loc":{"start":{"line":2818,"column":41},"end":{"line":2818,"column":46}},"type":"Identifier","name":"$this"}]}}],"kind":"var","leadingComments":[{"type":"Line","value":" Create User Scope","range":[81829,81849],"loc":{"start":{"line":2817,"column":8},"end":{"line":2817,"column":28}}}]},{"range":[81908,81930],"loc":{"start":{"line":2820,"column":8},"end":{"line":2820,"column":30}},"type":"ReturnStatement","argument":{"range":[81915,81929],"loc":{"start":{"line":2820,"column":15},"end":{"line":2820,"column":29}},"type":"ObjectExpression","properties":[{"range":[81917,81927],"loc":{"start":{"line":2820,"column":17},"end":{"line":2820,"column":27}},"type":"Property","key":{"range":[81917,81921],"loc":{"start":{"line":2820,"column":17},"end":{"line":2820,"column":21}},"type":"Identifier","name":"user"},"computed":false,"value":{"range":[81923,81927],"loc":{"start":{"line":2820,"column":23},"end":{"line":2820,"column":27}},"type":"Identifier","name":"user"},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" Once it is authenticated, get this user information as well.","range":[81322,81385],"loc":{"start":{"line":2804,"column":6},"end":{"line":2804,"column":69}}}]}]},"generator":false,"expression":false}]}}]},"generator":false,"expression":false,"leadingComments":[{"type":"Line","value":" Send authentication request using Evrythng credentials.","range":[81031,81089],"loc":{"start":{"line":2793,"column":2},"end":{"line":2793,"column":60}}}],"trailingComments":[{"type":"Line","value":" The *logout()* method behaves similarly to *login()*. The user should","range":[81959,82031],"loc":{"start":{"line":2828,"column":2},"end":{"line":2828,"column":74}}},{"type":"Line","value":" specify the type of logout they want (**_evrythng_ is default**).","range":[82034,82102],"loc":{"start":{"line":2829,"column":2},"end":{"line":2829,"column":70}}},{"type":"Line","value":" If an application logs in with Facebook, and simply logs out of","range":[82106,82172],"loc":{"start":{"line":2831,"column":2},"end":{"line":2831,"column":68}}},{"type":"Line","value":" Evrythng, then the Facebook user will continue connected until its FB","range":[82175,82247],"loc":{"start":{"line":2832,"column":2},"end":{"line":2832,"column":74}}},{"type":"Line","value":" token expires (which is most of the times not what you want).","range":[82250,82314],"loc":{"start":{"line":2833,"column":2},"end":{"line":2833,"column":66}}},{"type":"Line","value":" **As a good practice, if you log into an app with Facebook, also log","range":[82318,82389],"loc":{"start":{"line":2835,"column":2},"end":{"line":2835,"column":73}}},{"type":"Line","value":" out with Facebook. This allows app users to switch Facebook accounts.**","range":[82392,82466],"loc":{"start":{"line":2836,"column":2},"end":{"line":2836,"column":76}}}]},{"range":[82469,82881],"loc":{"start":{"line":2837,"column":2},"end":{"line":2852,"column":3}},"type":"FunctionDeclaration","id":{"range":[82478,82484],"loc":{"start":{"line":2837,"column":11},"end":{"line":2837,"column":17}},"type":"Identifier","name":"logout"},"params":[{"range":[82485,82489],"loc":{"start":{"line":2837,"column":18},"end":{"line":2837,"column":22}},"type":"Identifier","name":"type"},{"range":[82491,82506],"loc":{"start":{"line":2837,"column":24},"end":{"line":2837,"column":39}},"type":"Identifier","name":"successCallback"},{"range":[82508,82521],"loc":{"start":{"line":2837,"column":41},"end":{"line":2837,"column":54}},"type":"Identifier","name":"errorCallback"}],"defaults":[],"body":{"range":[82523,82881],"loc":{"start":{"line":2837,"column":56},"end":{"line":2852,"column":3}},"type":"BlockStatement","body":[{"range":[82530,82876],"loc":{"start":{"line":2839,"column":4},"end":{"line":2850,"column":5}},"type":"IfStatement","test":{"range":[82533,82561],"loc":{"start":{"line":2839,"column":7},"end":{"line":2839,"column":35}},"type":"LogicalExpression","operator":"&&","left":{"range":[82533,82537],"loc":{"start":{"line":2839,"column":7},"end":{"line":2839,"column":11}},"type":"Identifier","name":"type"},"right":{"range":[82541,82561],"loc":{"start":{"line":2839,"column":15},"end":{"line":2839,"column":35}},"type":"CallExpression","callee":{"range":[82541,82555],"loc":{"start":{"line":2839,"column":15},"end":{"line":2839,"column":29}},"type":"MemberExpression","computed":false,"object":{"range":[82541,82546],"loc":{"start":{"line":2839,"column":15},"end":{"line":2839,"column":20}},"type":"Identifier","name":"Utils"},"property":{"range":[82547,82555],"loc":{"start":{"line":2839,"column":21},"end":{"line":2839,"column":29}},"type":"Identifier","name":"isString"}},"arguments":[{"range":[82556,82560],"loc":{"start":{"line":2839,"column":30},"end":{"line":2839,"column":34}},"type":"Identifier","name":"type"}]}},"consequent":{"range":[82562,82801],"loc":{"start":{"line":2839,"column":36},"end":{"line":2848,"column":5}},"type":"BlockStatement","body":[{"range":[82571,82794],"loc":{"start":{"line":2841,"column":6},"end":{"line":2846,"column":7}},"type":"IfStatement","test":{"range":[82574,82593],"loc":{"start":{"line":2841,"column":9},"end":{"line":2841,"column":28}},"type":"BinaryExpression","operator":"===","left":{"range":[82574,82578],"loc":{"start":{"line":2841,"column":9},"end":{"line":2841,"column":13}},"type":"Identifier","name":"type"},"right":{"range":[82583,82593],"loc":{"start":{"line":2841,"column":18},"end":{"line":2841,"column":28}},"type":"Literal","value":"facebook","raw":"'facebook'"}},"consequent":{"range":[82595,82680],"loc":{"start":{"line":2841,"column":30},"end":{"line":2844,"column":7}},"type":"BlockStatement","body":[{"range":[82605,82671],"loc":{"start":{"line":2842,"column":8},"end":{"line":2842,"column":74}},"type":"ReturnStatement","argument":{"range":[82612,82670],"loc":{"start":{"line":2842,"column":15},"end":{"line":2842,"column":73}},"type":"CallExpression","callee":{"range":[82612,82632],"loc":{"start":{"line":2842,"column":15},"end":{"line":2842,"column":35}},"type":"MemberExpression","computed":false,"object":{"range":[82612,82627],"loc":{"start":{"line":2842,"column":15},"end":{"line":2842,"column":30}},"type":"Identifier","name":"_logoutFacebook"},"property":{"range":[82628,82632],"loc":{"start":{"line":2842,"column":31},"end":{"line":2842,"column":35}},"type":"Identifier","name":"call"}},"arguments":[{"range":[82633,82637],"loc":{"start":{"line":2842,"column":36},"end":{"line":2842,"column":40}},"type":"ThisExpression"},{"range":[82639,82654],"loc":{"start":{"line":2842,"column":42},"end":{"line":2842,"column":57}},"type":"Identifier","name":"successCallback"},{"range":[82656,82669],"loc":{"start":{"line":2842,"column":59},"end":{"line":2842,"column":72}},"type":"Identifier","name":"errorCallback"}]}}]},"alternate":{"range":[82686,82794],"loc":{"start":{"line":2844,"column":13},"end":{"line":2846,"column":7}},"type":"IfStatement","test":{"range":[82689,82708],"loc":{"start":{"line":2844,"column":16},"end":{"line":2844,"column":35}},"type":"BinaryExpression","operator":"===","left":{"range":[82689,82693],"loc":{"start":{"line":2844,"column":16},"end":{"line":2844,"column":20}},"type":"Identifier","name":"type"},"right":{"range":[82698,82708],"loc":{"start":{"line":2844,"column":25},"end":{"line":2844,"column":35}},"type":"Literal","value":"evrythng","raw":"'evrythng'"}},"consequent":{"range":[82710,82794],"loc":{"start":{"line":2844,"column":37},"end":{"line":2846,"column":7}},"type":"BlockStatement","body":[{"range":[82720,82786],"loc":{"start":{"line":2845,"column":8},"end":{"line":2845,"column":74}},"type":"ReturnStatement","argument":{"range":[82727,82785],"loc":{"start":{"line":2845,"column":15},"end":{"line":2845,"column":73}},"type":"CallExpression","callee":{"range":[82727,82747],"loc":{"start":{"line":2845,"column":15},"end":{"line":2845,"column":35}},"type":"MemberExpression","computed":false,"object":{"range":[82727,82742],"loc":{"start":{"line":2845,"column":15},"end":{"line":2845,"column":30}},"type":"Identifier","name":"_logoutEvrythng"},"property":{"range":[82743,82747],"loc":{"start":{"line":2845,"column":31},"end":{"line":2845,"column":35}},"type":"Identifier","name":"call"}},"arguments":[{"range":[82748,82752],"loc":{"start":{"line":2845,"column":36},"end":{"line":2845,"column":40}},"type":"ThisExpression"},{"range":[82754,82769],"loc":{"start":{"line":2845,"column":42},"end":{"line":2845,"column":57}},"type":"Identifier","name":"successCallback"},{"range":[82771,82784],"loc":{"start":{"line":2845,"column":59},"end":{"line":2845,"column":72}},"type":"Identifier","name":"errorCallback"}]}}]},"alternate":null}}]},"alternate":{"range":[82805,82876],"loc":{"start":{"line":2848,"column":9},"end":{"line":2850,"column":5}},"type":"BlockStatement","body":[{"range":[82813,82870],"loc":{"start":{"line":2849,"column":6},"end":{"line":2849,"column":63}},"type":"ReturnStatement","argument":{"range":[82820,82869],"loc":{"start":{"line":2849,"column":13},"end":{"line":2849,"column":62}},"type":"CallExpression","callee":{"range":[82820,82840],"loc":{"start":{"line":2849,"column":13},"end":{"line":2849,"column":33}},"type":"MemberExpression","computed":false,"object":{"range":[82820,82835],"loc":{"start":{"line":2849,"column":13},"end":{"line":2849,"column":28}},"type":"Identifier","name":"_logoutEvrythng"},"property":{"range":[82836,82840],"loc":{"start":{"line":2849,"column":29},"end":{"line":2849,"column":33}},"type":"Identifier","name":"call"}},"arguments":[{"range":[82841,82845],"loc":{"start":{"line":2849,"column":34},"end":{"line":2849,"column":38}},"type":"ThisExpression"},{"range":[82847,82851],"loc":{"start":{"line":2849,"column":40},"end":{"line":2849,"column":44}},"type":"Identifier","name":"type"},{"range":[82853,82868],"loc":{"start":{"line":2849,"column":46},"end":{"line":2849,"column":61}},"type":"Identifier","name":"successCallback"}]}}]}}]},"generator":false,"expression":false,"leadingComments":[{"type":"Line","value":" The *logout()* method behaves similarly to *login()*. The user should","range":[81959,82031],"loc":{"start":{"line":2828,"column":2},"end":{"line":2828,"column":74}}},{"type":"Line","value":" specify the type of logout they want (**_evrythng_ is default**).","range":[82034,82102],"loc":{"start":{"line":2829,"column":2},"end":{"line":2829,"column":70}}},{"type":"Line","value":" If an application logs in with Facebook, and simply logs out of","range":[82106,82172],"loc":{"start":{"line":2831,"column":2},"end":{"line":2831,"column":68}}},{"type":"Line","value":" Evrythng, then the Facebook user will continue connected until its FB","range":[82175,82247],"loc":{"start":{"line":2832,"column":2},"end":{"line":2832,"column":74}}},{"type":"Line","value":" token expires (which is most of the times not what you want).","range":[82250,82314],"loc":{"start":{"line":2833,"column":2},"end":{"line":2833,"column":66}}},{"type":"Line","value":" **As a good practice, if you log into an app with Facebook, also log","range":[82318,82389],"loc":{"start":{"line":2835,"column":2},"end":{"line":2835,"column":73}}},{"type":"Line","value":" out with Facebook. This allows app users to switch Facebook accounts.**","range":[82392,82466],"loc":{"start":{"line":2836,"column":2},"end":{"line":2836,"column":76}}}],"trailingComments":[{"type":"Line","value":" Logging out with Facebook, logs out out from Facebook and also from","range":[82885,82955],"loc":{"start":{"line":2854,"column":2},"end":{"line":2854,"column":72}}},{"type":"Line","value":" Evrythng.","range":[82958,82970],"loc":{"start":{"line":2855,"column":2},"end":{"line":2855,"column":14}}}]},{"range":[82973,83250],"loc":{"start":{"line":2856,"column":2},"end":{"line":2865,"column":3}},"type":"FunctionDeclaration","id":{"range":[82982,82997],"loc":{"start":{"line":2856,"column":11},"end":{"line":2856,"column":26}},"type":"Identifier","name":"_logoutFacebook"},"params":[{"range":[82998,83013],"loc":{"start":{"line":2856,"column":27},"end":{"line":2856,"column":42}},"type":"Identifier","name":"successCallback"},{"range":[83015,83028],"loc":{"start":{"line":2856,"column":44},"end":{"line":2856,"column":57}},"type":"Identifier","name":"errorCallback"}],"defaults":[],"body":{"range":[83030,83250],"loc":{"start":{"line":2856,"column":59},"end":{"line":2865,"column":3}},"type":"BlockStatement","body":[{"range":[83036,83053],"loc":{"start":{"line":2857,"column":4},"end":{"line":2857,"column":21}},"type":"VariableDeclaration","declarations":[{"range":[83040,83052],"loc":{"start":{"line":2857,"column":8},"end":{"line":2857,"column":20}},"type":"VariableDeclarator","id":{"range":[83040,83045],"loc":{"start":{"line":2857,"column":8},"end":{"line":2857,"column":13}},"type":"Identifier","name":"$this"},"init":{"range":[83048,83052],"loc":{"start":{"line":2857,"column":16},"end":{"line":2857,"column":20}},"type":"ThisExpression"}}],"kind":"var"},{"range":[83059,83246],"loc":{"start":{"line":2859,"column":4},"end":{"line":2864,"column":7}},"type":"ReturnStatement","argument":{"range":[83066,83245],"loc":{"start":{"line":2859,"column":11},"end":{"line":2864,"column":6}},"type":"CallExpression","callee":{"range":[83066,83088],"loc":{"start":{"line":2859,"column":11},"end":{"line":2859,"column":33}},"type":"MemberExpression","computed":false,"object":{"range":[83066,83083],"loc":{"start":{"line":2859,"column":11},"end":{"line":2859,"column":28}},"type":"CallExpression","callee":{"range":[83066,83081],"loc":{"start":{"line":2859,"column":11},"end":{"line":2859,"column":26}},"type":"MemberExpression","computed":false,"object":{"range":[83066,83074],"loc":{"start":{"line":2859,"column":11},"end":{"line":2859,"column":19}},"type":"Identifier","name":"Facebook"},"property":{"range":[83075,83081],"loc":{"start":{"line":2859,"column":20},"end":{"line":2859,"column":26}},"type":"Identifier","name":"logout"}},"arguments":[]},"property":{"range":[83084,83088],"loc":{"start":{"line":2859,"column":29},"end":{"line":2859,"column":33}},"type":"Identifier","name":"then"}},"arguments":[{"range":[83089,83244],"loc":{"start":{"line":2859,"column":34},"end":{"line":2864,"column":5}},"type":"FunctionExpression","id":null,"params":[],"defaults":[],"body":{"range":[83101,83244],"loc":{"start":{"line":2859,"column":46},"end":{"line":2864,"column":5}},"type":"BlockStatement","body":[{"range":[83170,83237],"loc":{"start":{"line":2862,"column":6},"end":{"line":2862,"column":73}},"type":"ReturnStatement","argument":{"range":[83177,83236],"loc":{"start":{"line":2862,"column":13},"end":{"line":2862,"column":72}},"type":"CallExpression","callee":{"range":[83177,83197],"loc":{"start":{"line":2862,"column":13},"end":{"line":2862,"column":33}},"type":"MemberExpression","computed":false,"object":{"range":[83177,83192],"loc":{"start":{"line":2862,"column":13},"end":{"line":2862,"column":28}},"type":"Identifier","name":"_logoutEvrythng"},"property":{"range":[83193,83197],"loc":{"start":{"line":2862,"column":29},"end":{"line":2862,"column":33}},"type":"Identifier","name":"call"}},"arguments":[{"range":[83198,83203],"loc":{"start":{"line":2862,"column":34},"end":{"line":2862,"column":39}},"type":"Identifier","name":"$this"},{"range":[83205,83220],"loc":{"start":{"line":2862,"column":41},"end":{"line":2862,"column":56}},"type":"Identifier","name":"successCallback"},{"range":[83222,83235],"loc":{"start":{"line":2862,"column":58},"end":{"line":2862,"column":71}},"type":"Identifier","name":"errorCallback"}]},"leadingComments":[{"type":"Line","value":" If successful (always), also logout from Evrythng.","range":[83110,83163],"loc":{"start":{"line":2861,"column":6},"end":{"line":2861,"column":59}}}]}]},"generator":false,"expression":false}]}}]},"generator":false,"expression":false,"leadingComments":[{"type":"Line","value":" Logging out with Facebook, logs out out from Facebook and also from","range":[82885,82955],"loc":{"start":{"line":2854,"column":2},"end":{"line":2854,"column":72}}},{"type":"Line","value":" Evrythng.","range":[82958,82970],"loc":{"start":{"line":2855,"column":2},"end":{"line":2855,"column":14}}}]},{"range":[83255,83781],"loc":{"start":{"line":2868,"column":2},"end":{"line":2888,"column":3}},"type":"FunctionDeclaration","id":{"range":[83264,83279],"loc":{"start":{"line":2868,"column":11},"end":{"line":2868,"column":26}},"type":"Identifier","name":"_logoutEvrythng"},"params":[{"range":[83280,83295],"loc":{"start":{"line":2868,"column":27},"end":{"line":2868,"column":42}},"type":"Identifier","name":"successCallback"},{"range":[83297,83310],"loc":{"start":{"line":2868,"column":44},"end":{"line":2868,"column":57}},"type":"Identifier","name":"errorCallback"}],"defaults":[],"body":{"range":[83312,83781],"loc":{"start":{"line":2868,"column":59},"end":{"line":2888,"column":3}},"type":"BlockStatement","body":[{"range":[83319,83777],"loc":{"start":{"line":2870,"column":4},"end":{"line":2887,"column":7}},"type":"ReturnStatement","argument":{"range":[83326,83776],"loc":{"start":{"line":2870,"column":11},"end":{"line":2887,"column":6}},"type":"CallExpression","callee":{"range":[83326,83434],"loc":{"start":{"line":2870,"column":11},"end":{"line":2875,"column":11}},"type":"MemberExpression","computed":false,"object":{"range":[83326,83429],"loc":{"start":{"line":2870,"column":11},"end":{"line":2875,"column":6}},"type":"CallExpression","callee":{"range":[83326,83333],"loc":{"start":{"line":2870,"column":11},"end":{"line":2870,"column":18}},"type":"MemberExpression","computed":false,"object":{"range":[83326,83329],"loc":{"start":{"line":2870,"column":11},"end":{"line":2870,"column":14}},"type":"Identifier","name":"EVT"},"property":{"range":[83330,83333],"loc":{"start":{"line":2870,"column":15},"end":{"line":2870,"column":18}},"type":"Identifier","name":"api"}},"arguments":[{"range":[83334,83428],"loc":{"start":{"line":2870,"column":19},"end":{"line":2875,"column":5}},"type":"ObjectExpression","properties":[{"range":[83342,83365],"loc":{"start":{"line":2871,"column":6},"end":{"line":2871,"column":29}},"type":"Property","key":{"range":[83342,83345],"loc":{"start":{"line":2871,"column":6},"end":{"line":2871,"column":9}},"type":"Identifier","name":"url"},"computed":false,"value":{"range":[83347,83365],"loc":{"start":{"line":2871,"column":11},"end":{"line":2871,"column":29}},"type":"Literal","value":"/auth/all/logout","raw":"'/auth/all/logout'"},"kind":"init","method":false,"shorthand":false},{"range":[83373,83387],"loc":{"start":{"line":2872,"column":6},"end":{"line":2872,"column":20}},"type":"Property","key":{"range":[83373,83379],"loc":{"start":{"line":2872,"column":6},"end":{"line":2872,"column":12}},"type":"Identifier","name":"method"},"computed":false,"value":{"range":[83381,83387],"loc":{"start":{"line":2872,"column":14},"end":{"line":2872,"column":20}},"type":"Literal","value":"post","raw":"'post'"},"kind":"init","method":false,"shorthand":false},{"range":[83395,83421],"loc":{"start":{"line":2873,"column":6},"end":{"line":2873,"column":32}},"type":"Property","key":{"range":[83395,83408],"loc":{"start":{"line":2873,"column":6},"end":{"line":2873,"column":19}},"type":"Identifier","name":"authorization"},"computed":false,"value":{"range":[83410,83421],"loc":{"start":{"line":2873,"column":21},"end":{"line":2873,"column":32}},"type":"MemberExpression","computed":false,"object":{"range":[83410,83414],"loc":{"start":{"line":2873,"column":21},"end":{"line":2873,"column":25}},"type":"ThisExpression"},"property":{"range":[83415,83421],"loc":{"start":{"line":2873,"column":26},"end":{"line":2873,"column":32}},"type":"Identifier","name":"apiKey"}},"kind":"init","method":false,"shorthand":false}]}]},"property":{"range":[83430,83434],"loc":{"start":{"line":2875,"column":7},"end":{"line":2875,"column":11}},"type":"Identifier","name":"then"}},"arguments":[{"range":[83435,83544],"loc":{"start":{"line":2875,"column":12},"end":{"line":2880,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[83445,83453],"loc":{"start":{"line":2875,"column":22},"end":{"line":2875,"column":30}},"type":"Identifier","name":"response"}],"defaults":[],"body":{"range":[83455,83544],"loc":{"start":{"line":2875,"column":32},"end":{"line":2880,"column":5}},"type":"BlockStatement","body":[{"range":[83464,83514],"loc":{"start":{"line":2877,"column":6},"end":{"line":2877,"column":56}},"type":"IfStatement","test":{"range":[83467,83482],"loc":{"start":{"line":2877,"column":9},"end":{"line":2877,"column":24}},"type":"Identifier","name":"successCallback"},"consequent":{"range":[83484,83514],"loc":{"start":{"line":2877,"column":26},"end":{"line":2877,"column":56}},"type":"BlockStatement","body":[{"range":[83486,83512],"loc":{"start":{"line":2877,"column":28},"end":{"line":2877,"column":54}},"type":"ExpressionStatement","expression":{"range":[83486,83511],"loc":{"start":{"line":2877,"column":28},"end":{"line":2877,"column":53}},"type":"CallExpression","callee":{"range":[83486,83501],"loc":{"start":{"line":2877,"column":28},"end":{"line":2877,"column":43}},"type":"Identifier","name":"successCallback"},"arguments":[{"range":[83502,83510],"loc":{"start":{"line":2877,"column":44},"end":{"line":2877,"column":52}},"type":"Identifier","name":"response"}]}}]},"alternate":null},{"range":[83521,83537],"loc":{"start":{"line":2878,"column":6},"end":{"line":2878,"column":22}},"type":"ReturnStatement","argument":{"range":[83528,83536],"loc":{"start":{"line":2878,"column":13},"end":{"line":2878,"column":21}},"type":"Identifier","name":"response"}}]},"generator":false,"expression":false},{"range":[83546,83775],"loc":{"start":{"line":2880,"column":7},"end":{"line":2887,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[83556,83559],"loc":{"start":{"line":2880,"column":17},"end":{"line":2880,"column":20}},"type":"Identifier","name":"err"}],"defaults":[],"body":{"range":[83561,83775],"loc":{"start":{"line":2880,"column":22},"end":{"line":2887,"column":5}},"type":"BlockStatement","body":[{"range":[83710,83751],"loc":{"start":{"line":2884,"column":6},"end":{"line":2884,"column":47}},"type":"IfStatement","test":{"range":[83713,83726],"loc":{"start":{"line":2884,"column":9},"end":{"line":2884,"column":22}},"type":"Identifier","name":"errorCallback"},"consequent":{"range":[83728,83751],"loc":{"start":{"line":2884,"column":24},"end":{"line":2884,"column":47}},"type":"BlockStatement","body":[{"range":[83730,83749],"loc":{"start":{"line":2884,"column":26},"end":{"line":2884,"column":45}},"type":"ExpressionStatement","expression":{"range":[83730,83748],"loc":{"start":{"line":2884,"column":26},"end":{"line":2884,"column":44}},"type":"CallExpression","callee":{"range":[83730,83743],"loc":{"start":{"line":2884,"column":26},"end":{"line":2884,"column":39}},"type":"Identifier","name":"errorCallback"},"arguments":[{"range":[83744,83747],"loc":{"start":{"line":2884,"column":40},"end":{"line":2884,"column":43}},"type":"Identifier","name":"err"}]}}]},"alternate":null,"leadingComments":[{"type":"Line","value":" If the logout from Evrythng fails, by some reason, throw error","range":[83570,83635],"loc":{"start":{"line":2882,"column":6},"end":{"line":2882,"column":71}}},{"type":"Line","value":" which would go to the promise error handler of the caller.","range":[83642,83703],"loc":{"start":{"line":2883,"column":6},"end":{"line":2883,"column":67}}}]},{"range":[83758,83768],"loc":{"start":{"line":2885,"column":6},"end":{"line":2885,"column":16}},"type":"ThrowStatement","argument":{"range":[83764,83767],"loc":{"start":{"line":2885,"column":12},"end":{"line":2885,"column":15}},"type":"Identifier","name":"err"}}]},"generator":false,"expression":false}]}}]},"generator":false,"expression":false,"trailingComments":[{"type":"Line","value":" Expose only the higher level methods.","range":[83785,83825],"loc":{"start":{"line":2890,"column":2},"end":{"line":2890,"column":42}}}]},{"range":[83828,83910],"loc":{"start":{"line":2891,"column":2},"end":{"line":2895,"column":4}},"type":"ReturnStatement","argument":{"range":[83835,83909],"loc":{"start":{"line":2891,"column":9},"end":{"line":2895,"column":3}},"type":"ObjectExpression","properties":[{"range":[83841,83853],"loc":{"start":{"line":2892,"column":4},"end":{"line":2892,"column":16}},"type":"Property","key":{"range":[83841,83846],"loc":{"start":{"line":2892,"column":4},"end":{"line":2892,"column":9}},"type":"Identifier","name":"login"},"computed":false,"value":{"range":[83848,83853],"loc":{"start":{"line":2892,"column":11},"end":{"line":2892,"column":16}},"type":"Identifier","name":"login"},"kind":"init","method":false,"shorthand":false},{"range":[83859,83873],"loc":{"start":{"line":2893,"column":4},"end":{"line":2893,"column":18}},"type":"Property","key":{"range":[83859,83865],"loc":{"start":{"line":2893,"column":4},"end":{"line":2893,"column":10}},"type":"Identifier","name":"logout"},"computed":false,"value":{"range":[83867,83873],"loc":{"start":{"line":2893,"column":12},"end":{"line":2893,"column":18}},"type":"Identifier","name":"logout"},"kind":"init","method":false,"shorthand":false},{"range":[83879,83905],"loc":{"start":{"line":2894,"column":4},"end":{"line":2894,"column":30}},"type":"Property","key":{"range":[83879,83891],"loc":{"start":{"line":2894,"column":4},"end":{"line":2894,"column":16}},"type":"Identifier","name":"authFacebook"},"computed":false,"value":{"range":[83893,83905],"loc":{"start":{"line":2894,"column":18},"end":{"line":2894,"column":30}},"type":"Identifier","name":"authFacebook"},"kind":"init","method":false,"shorthand":false}]},"leadingComments":[{"type":"Line","value":" Expose only the higher level methods.","range":[83785,83825],"loc":{"start":{"line":2890,"column":2},"end":{"line":2890,"column":42}}}]}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" ## AUTHENTICATION.JS","range":[74701,74724],"loc":{"start":{"line":2605,"column":0},"end":{"line":2605,"column":23}}},{"type":"Line","value":" **Authentication provides a complete abstraction layer on top of","range":[74726,74793],"loc":{"start":{"line":2607,"column":0},"end":{"line":2607,"column":67}}},{"type":"Line","value":" the provided *'/auth/...'* endpoints in the REST API. Logging in with","range":[74794,74866],"loc":{"start":{"line":2608,"column":0},"end":{"line":2608,"column":72}}},{"type":"Line","value":" Evrythng or Facebook uses the same method and provide a similar response.**","range":[74867,74945],"loc":{"start":{"line":2609,"column":0},"end":{"line":2609,"column":78}}},{"type":"Line","value":" **Authentication with Facebook needs an app that has been created using the","range":[74947,75025],"loc":{"start":{"line":2611,"column":0},"end":{"line":2611,"column":78}}},{"type":"Line","value":" `facebook: true` option, which will load and init the Facebook SDK.**","range":[75026,75098],"loc":{"start":{"line":2612,"column":0},"end":{"line":2612,"column":72}}}],"trailingComments":[{"type":"Line","value":" ## APPLICATION.JS","range":[83917,83937],"loc":{"start":{"line":2899,"column":0},"end":{"line":2899,"column":20}}},{"type":"Line","value":" **Here it is defined the ApplicationScope or `EVT.App`. EVT.App","range":[83939,84005],"loc":{"start":{"line":2901,"column":0},"end":{"line":2901,"column":66}}},{"type":"Line","value":" is a sub-class of scope and it defines the public API that an App Api Key","range":[84006,84082],"loc":{"start":{"line":2902,"column":0},"end":{"line":2902,"column":76}}},{"type":"Line","value":" can access to.**","range":[84083,84102],"loc":{"start":{"line":2903,"column":0},"end":{"line":2903,"column":19}}},{"type":"Line","value":" An Application scope currently has access to:","range":[84104,84152],"loc":{"start":{"line":2905,"column":0},"end":{"line":2905,"column":48}}},{"type":"Line","value":" - Product resource (`R`)","range":[84154,84181],"loc":{"start":{"line":2907,"column":0},"end":{"line":2907,"column":27}}},{"type":"Line","value":" - Action resource (`C`) - Scans only","range":[84182,84221],"loc":{"start":{"line":2908,"column":0},"end":{"line":2908,"column":39}}},{"type":"Line","value":" - App User resource (`C`)","range":[84222,84250],"loc":{"start":{"line":2909,"column":0},"end":{"line":2909,"column":28}}},{"type":"Line","value":" - Login","range":[84251,84261],"loc":{"start":{"line":2910,"column":0},"end":{"line":2910,"column":10}}}]},{"range":[84263,88933],"loc":{"start":{"line":2912,"column":0},"end":{"line":3058,"column":3}},"type":"ExpressionStatement","expression":{"range":[84263,88932],"loc":{"start":{"line":2912,"column":0},"end":{"line":3058,"column":2}},"type":"CallExpression","callee":{"range":[84263,84269],"loc":{"start":{"line":2912,"column":0},"end":{"line":2912,"column":6}},"type":"Identifier","name":"define"},"arguments":[{"range":[84270,84289],"loc":{"start":{"line":2912,"column":7},"end":{"line":2912,"column":26}},"type":"Literal","value":"scope/application","raw":"'scope/application'"},{"range":[84290,84453],"loc":{"start":{"line":2912,"column":27},"end":{"line":2923,"column":1}},"type":"ArrayExpression","elements":[{"range":[84294,84300],"loc":{"start":{"line":2913,"column":2},"end":{"line":2913,"column":8}},"type":"Literal","value":"core","raw":"'core'"},{"range":[84304,84313],"loc":{"start":{"line":2914,"column":2},"end":{"line":2914,"column":11}},"type":"Literal","value":"./scope","raw":"'./scope'"},{"range":[84317,84333],"loc":{"start":{"line":2915,"column":2},"end":{"line":2915,"column":18}},"type":"Literal","value":"entity/product","raw":"'entity/product'"},{"range":[84337,84352],"loc":{"start":{"line":2916,"column":2},"end":{"line":2916,"column":17}},"type":"Literal","value":"entity/action","raw":"'entity/action'"},{"range":[84356,84369],"loc":{"start":{"line":2917,"column":2},"end":{"line":2917,"column":15}},"type":"Literal","value":"entity/user","raw":"'entity/user'"},{"range":[84373,84387],"loc":{"start":{"line":2918,"column":2},"end":{"line":2918,"column":16}},"type":"Literal","value":"entity/place","raw":"'entity/place'"},{"range":[84391,84407],"loc":{"start":{"line":2919,"column":2},"end":{"line":2919,"column":18}},"type":"Literal","value":"authentication","raw":"'authentication'"},{"range":[84411,84428],"loc":{"start":{"line":2920,"column":2},"end":{"line":2920,"column":19}},"type":"Literal","value":"social/facebook","raw":"'social/facebook'"},{"range":[84432,84439],"loc":{"start":{"line":2921,"column":2},"end":{"line":2921,"column":9}},"type":"Literal","value":"utils","raw":"'utils'"},{"range":[84443,84451],"loc":{"start":{"line":2922,"column":2},"end":{"line":2922,"column":10}},"type":"Literal","value":"logger","raw":"'logger'"}]},{"range":[84455,88931],"loc":{"start":{"line":2923,"column":3},"end":{"line":3058,"column":1}},"type":"FunctionExpression","id":null,"params":[{"range":[84465,84468],"loc":{"start":{"line":2923,"column":13},"end":{"line":2923,"column":16}},"type":"Identifier","name":"EVT"},{"range":[84470,84475],"loc":{"start":{"line":2923,"column":18},"end":{"line":2923,"column":23}},"type":"Identifier","name":"Scope"},{"range":[84477,84484],"loc":{"start":{"line":2923,"column":25},"end":{"line":2923,"column":32}},"type":"Identifier","name":"Product"},{"range":[84486,84492],"loc":{"start":{"line":2923,"column":34},"end":{"line":2923,"column":40}},"type":"Identifier","name":"Action"},{"range":[84494,84498],"loc":{"start":{"line":2923,"column":42},"end":{"line":2923,"column":46}},"type":"Identifier","name":"User"},{"range":[84500,84505],"loc":{"start":{"line":2923,"column":48},"end":{"line":2923,"column":53}},"type":"Identifier","name":"Place"},{"range":[84507,84521],"loc":{"start":{"line":2923,"column":55},"end":{"line":2923,"column":69}},"type":"Identifier","name":"Authentication"},{"range":[84536,84544],"loc":{"start":{"line":2924,"column":13},"end":{"line":2924,"column":21}},"type":"Identifier","name":"Facebook"},{"range":[84546,84551],"loc":{"start":{"line":2924,"column":23},"end":{"line":2924,"column":28}},"type":"Identifier","name":"Utils"},{"range":[84553,84559],"loc":{"start":{"line":2924,"column":30},"end":{"line":2924,"column":36}},"type":"Identifier","name":"Logger"}],"defaults":[],"body":{"range":[84561,88931],"loc":{"start":{"line":2924,"column":38},"end":{"line":3058,"column":1}},"type":"BlockStatement","body":[{"range":[84565,84578],"loc":{"start":{"line":2925,"column":2},"end":{"line":2925,"column":15}},"type":"ExpressionStatement","expression":{"range":[84565,84577],"loc":{"start":{"line":2925,"column":2},"end":{"line":2925,"column":14}},"type":"Literal","value":"use strict","raw":"'use strict'"},"trailingComments":[{"type":"Line","value":" Application Scope constructor. It can be called with the parameters:","range":[84582,84653],"loc":{"start":{"line":2927,"column":2},"end":{"line":2927,"column":73}}},{"type":"Line","value":" - _**new EVT.App(apiKey)** - API Key string_","range":[84657,84704],"loc":{"start":{"line":2929,"column":2},"end":{"line":2929,"column":49}}},{"type":"Line","value":" - _**new EVT.App(options)** - Options object should contain `apiKey`,","range":[84707,84779],"loc":{"start":{"line":2930,"column":2},"end":{"line":2930,"column":74}}},{"type":"Line","value":" and optionally `facebook` boolean. Passing `facebook: true` automatically","range":[84782,84858],"loc":{"start":{"line":2931,"column":2},"end":{"line":2931,"column":78}}},{"type":"Line","value":" initializes Facebook SDK with this application's FB App Id - setup in","range":[84861,84933],"loc":{"start":{"line":2932,"column":2},"end":{"line":2932,"column":74}}},{"type":"Line","value":" EVRYTHNG's Dashboard Project Preferences._","range":[84936,84981],"loc":{"start":{"line":2933,"column":2},"end":{"line":2933,"column":47}}}]},{"range":[84984,87747],"loc":{"start":{"line":2934,"column":2},"end":{"line":3023,"column":4}},"type":"VariableDeclaration","declarations":[{"range":[84988,87746],"loc":{"start":{"line":2934,"column":6},"end":{"line":3023,"column":3}},"type":"VariableDeclarator","id":{"range":[84988,85004],"loc":{"start":{"line":2934,"column":6},"end":{"line":2934,"column":22}},"type":"Identifier","name":"ApplicationScope"},"init":{"range":[85007,87746],"loc":{"start":{"line":2934,"column":25},"end":{"line":3023,"column":3}},"type":"FunctionExpression","id":null,"params":[{"range":[85016,85019],"loc":{"start":{"line":2934,"column":34},"end":{"line":2934,"column":37}},"type":"Identifier","name":"obj"},{"range":[85021,85032],"loc":{"start":{"line":2934,"column":39},"end":{"line":2934,"column":50}},"type":"Identifier","name":"parentScope"}],"defaults":[],"body":{"range":[85033,87746],"loc":{"start":{"line":2934,"column":51},"end":{"line":3023,"column":3}},"type":"BlockStatement","body":[{"range":[85040,85057],"loc":{"start":{"line":2936,"column":4},"end":{"line":2936,"column":21}},"type":"VariableDeclaration","declarations":[{"range":[85044,85056],"loc":{"start":{"line":2936,"column":8},"end":{"line":2936,"column":20}},"type":"VariableDeclarator","id":{"range":[85044,85049],"loc":{"start":{"line":2936,"column":8},"end":{"line":2936,"column":13}},"type":"Identifier","name":"$this"},"init":{"range":[85052,85056],"loc":{"start":{"line":2936,"column":16},"end":{"line":2936,"column":20}},"type":"ThisExpression"}}],"kind":"var","trailingComments":[{"type":"Line","value":" Setup base Scope with the provided API Key.","range":[85063,85109],"loc":{"start":{"line":2938,"column":4},"end":{"line":2938,"column":50}}}]},{"range":[85114,85257],"loc":{"start":{"line":2939,"column":4},"end":{"line":2944,"column":5}},"type":"IfStatement","test":{"range":[85117,85136],"loc":{"start":{"line":2939,"column":7},"end":{"line":2939,"column":26}},"type":"CallExpression","callee":{"range":[85117,85131],"loc":{"start":{"line":2939,"column":7},"end":{"line":2939,"column":21}},"type":"MemberExpression","computed":false,"object":{"range":[85117,85122],"loc":{"start":{"line":2939,"column":7},"end":{"line":2939,"column":12}},"type":"Identifier","name":"Utils"},"property":{"range":[85123,85131],"loc":{"start":{"line":2939,"column":13},"end":{"line":2939,"column":21}},"type":"Identifier","name":"isObject"}},"arguments":[{"range":[85132,85135],"loc":{"start":{"line":2939,"column":22},"end":{"line":2939,"column":25}},"type":"Identifier","name":"obj"}]},"consequent":{"range":[85137,85217],"loc":{"start":{"line":2939,"column":27},"end":{"line":2942,"column":5}},"type":"BlockStatement","body":[{"range":[85145,85174],"loc":{"start":{"line":2940,"column":6},"end":{"line":2940,"column":35}},"type":"ExpressionStatement","expression":{"range":[85145,85173],"loc":{"start":{"line":2940,"column":6},"end":{"line":2940,"column":34}},"type":"CallExpression","callee":{"range":[85145,85155],"loc":{"start":{"line":2940,"column":6},"end":{"line":2940,"column":16}},"type":"MemberExpression","computed":false,"object":{"range":[85145,85150],"loc":{"start":{"line":2940,"column":6},"end":{"line":2940,"column":11}},"type":"Identifier","name":"Scope"},"property":{"range":[85151,85155],"loc":{"start":{"line":2940,"column":12},"end":{"line":2940,"column":16}},"type":"Identifier","name":"call"}},"arguments":[{"range":[85156,85160],"loc":{"start":{"line":2940,"column":17},"end":{"line":2940,"column":21}},"type":"ThisExpression"},{"range":[85162,85172],"loc":{"start":{"line":2940,"column":23},"end":{"line":2940,"column":33}},"type":"MemberExpression","computed":false,"object":{"range":[85162,85165],"loc":{"start":{"line":2940,"column":23},"end":{"line":2940,"column":26}},"type":"Identifier","name":"obj"},"property":{"range":[85166,85172],"loc":{"start":{"line":2940,"column":27},"end":{"line":2940,"column":33}},"type":"Identifier","name":"apiKey"}}]}},{"range":[85181,85211],"loc":{"start":{"line":2941,"column":6},"end":{"line":2941,"column":36}},"type":"ExpressionStatement","expression":{"range":[85181,85210],"loc":{"start":{"line":2941,"column":6},"end":{"line":2941,"column":35}},"type":"CallExpression","callee":{"range":[85181,85193],"loc":{"start":{"line":2941,"column":6},"end":{"line":2941,"column":18}},"type":"MemberExpression","computed":false,"object":{"range":[85181,85186],"loc":{"start":{"line":2941,"column":6},"end":{"line":2941,"column":11}},"type":"Identifier","name":"Utils"},"property":{"range":[85187,85193],"loc":{"start":{"line":2941,"column":12},"end":{"line":2941,"column":18}},"type":"Identifier","name":"extend"}},"arguments":[{"range":[85194,85198],"loc":{"start":{"line":2941,"column":19},"end":{"line":2941,"column":23}},"type":"ThisExpression"},{"range":[85200,85203],"loc":{"start":{"line":2941,"column":25},"end":{"line":2941,"column":28}},"type":"Identifier","name":"obj"},{"range":[85205,85209],"loc":{"start":{"line":2941,"column":30},"end":{"line":2941,"column":34}},"type":"Literal","value":true,"raw":"true"}]}}]},"alternate":{"range":[85221,85257],"loc":{"start":{"line":2942,"column":9},"end":{"line":2944,"column":5}},"type":"BlockStatement","body":[{"range":[85229,85251],"loc":{"start":{"line":2943,"column":6},"end":{"line":2943,"column":28}},"type":"ExpressionStatement","expression":{"range":[85229,85250],"loc":{"start":{"line":2943,"column":6},"end":{"line":2943,"column":27}},"type":"CallExpression","callee":{"range":[85229,85239],"loc":{"start":{"line":2943,"column":6},"end":{"line":2943,"column":16}},"type":"MemberExpression","computed":false,"object":{"range":[85229,85234],"loc":{"start":{"line":2943,"column":6},"end":{"line":2943,"column":11}},"type":"Identifier","name":"Scope"},"property":{"range":[85235,85239],"loc":{"start":{"line":2943,"column":12},"end":{"line":2943,"column":16}},"type":"Identifier","name":"call"}},"arguments":[{"range":[85240,85244],"loc":{"start":{"line":2943,"column":17},"end":{"line":2943,"column":21}},"type":"ThisExpression"},{"range":[85246,85249],"loc":{"start":{"line":2943,"column":23},"end":{"line":2943,"column":26}},"type":"Identifier","name":"obj"}]}}]},"leadingComments":[{"type":"Line","value":" Setup base Scope with the provided API Key.","range":[85063,85109],"loc":{"start":{"line":2938,"column":4},"end":{"line":2938,"column":50}}}],"trailingComments":[{"type":"Line","value":" Set parent scope","range":[85263,85282],"loc":{"start":{"line":2946,"column":4},"end":{"line":2946,"column":23}}}]},{"range":[85287,85366],"loc":{"start":{"line":2947,"column":4},"end":{"line":2949,"column":5}},"type":"IfStatement","test":{"range":[85291,85319],"loc":{"start":{"line":2947,"column":8},"end":{"line":2947,"column":36}},"type":"BinaryExpression","operator":"instanceof","left":{"range":[85291,85302],"loc":{"start":{"line":2947,"column":8},"end":{"line":2947,"column":19}},"type":"Identifier","name":"parentScope"},"right":{"range":[85314,85319],"loc":{"start":{"line":2947,"column":31},"end":{"line":2947,"column":36}},"type":"Identifier","name":"Scope"}},"consequent":{"range":[85321,85366],"loc":{"start":{"line":2947,"column":38},"end":{"line":2949,"column":5}},"type":"BlockStatement","body":[{"range":[85329,85360],"loc":{"start":{"line":2948,"column":6},"end":{"line":2948,"column":37}},"type":"ExpressionStatement","expression":{"range":[85329,85359],"loc":{"start":{"line":2948,"column":6},"end":{"line":2948,"column":36}},"type":"AssignmentExpression","operator":"=","left":{"range":[85329,85345],"loc":{"start":{"line":2948,"column":6},"end":{"line":2948,"column":22}},"type":"MemberExpression","computed":false,"object":{"range":[85329,85333],"loc":{"start":{"line":2948,"column":6},"end":{"line":2948,"column":10}},"type":"ThisExpression"},"property":{"range":[85334,85345],"loc":{"start":{"line":2948,"column":11},"end":{"line":2948,"column":22}},"type":"Identifier","name":"parentScope"}},"right":{"range":[85348,85359],"loc":{"start":{"line":2948,"column":25},"end":{"line":2948,"column":36}},"type":"Identifier","name":"parentScope"}}}]},"alternate":null,"leadingComments":[{"type":"Line","value":" Set parent scope","range":[85263,85282],"loc":{"start":{"line":2946,"column":4},"end":{"line":2946,"column":23}}}],"trailingComments":[{"type":"Line","value":" Get app information asynchronously from the Engine using already","range":[85372,85439],"loc":{"start":{"line":2951,"column":4},"end":{"line":2951,"column":71}}},{"type":"Line","value":" defined scope. Use **new EVT.App('apiKey').$init.then(success)** if need","range":[85444,85519],"loc":{"start":{"line":2952,"column":4},"end":{"line":2952,"column":79}}},{"type":"Line","value":" to wait for app information.","range":[85524,85555],"loc":{"start":{"line":2953,"column":4},"end":{"line":2953,"column":35}}}]},{"range":[85560,87741],"loc":{"start":{"line":2954,"column":4},"end":{"line":3021,"column":7}},"type":"ExpressionStatement","expression":{"range":[85560,87740],"loc":{"start":{"line":2954,"column":4},"end":{"line":3021,"column":6}},"type":"AssignmentExpression","operator":"=","left":{"range":[85560,85570],"loc":{"start":{"line":2954,"column":4},"end":{"line":2954,"column":14}},"type":"MemberExpression","computed":false,"object":{"range":[85560,85564],"loc":{"start":{"line":2954,"column":4},"end":{"line":2954,"column":8}},"type":"ThisExpression"},"property":{"range":[85565,85570],"loc":{"start":{"line":2954,"column":9},"end":{"line":2954,"column":14}},"type":"Identifier","name":"$init"}},"right":{"range":[85573,87740],"loc":{"start":{"line":2954,"column":17},"end":{"line":3021,"column":6}},"type":"CallExpression","callee":{"range":[85573,86169],"loc":{"start":{"line":2954,"column":17},"end":{"line":2969,"column":11}},"type":"MemberExpression","computed":false,"object":{"range":[85573,86164],"loc":{"start":{"line":2954,"column":17},"end":{"line":2969,"column":6}},"type":"CallExpression","callee":{"range":[85573,85658],"loc":{"start":{"line":2954,"column":17},"end":{"line":2957,"column":11}},"type":"MemberExpression","computed":false,"object":{"range":[85573,85653],"loc":{"start":{"line":2954,"column":17},"end":{"line":2957,"column":6}},"type":"CallExpression","callee":{"range":[85573,85580],"loc":{"start":{"line":2954,"column":17},"end":{"line":2954,"column":24}},"type":"MemberExpression","computed":false,"object":{"range":[85573,85576],"loc":{"start":{"line":2954,"column":17},"end":{"line":2954,"column":20}},"type":"Identifier","name":"EVT"},"property":{"range":[85577,85580],"loc":{"start":{"line":2954,"column":21},"end":{"line":2954,"column":24}},"type":"Identifier","name":"api"}},"arguments":[{"range":[85581,85652],"loc":{"start":{"line":2954,"column":25},"end":{"line":2957,"column":5}},"type":"ObjectExpression","properties":[{"range":[85589,85612],"loc":{"start":{"line":2955,"column":6},"end":{"line":2955,"column":29}},"type":"Property","key":{"range":[85589,85592],"loc":{"start":{"line":2955,"column":6},"end":{"line":2955,"column":9}},"type":"Identifier","name":"url"},"computed":false,"value":{"range":[85594,85612],"loc":{"start":{"line":2955,"column":11},"end":{"line":2955,"column":29}},"type":"Literal","value":"/applications/me","raw":"'/applications/me'"},"kind":"init","method":false,"shorthand":false},{"range":[85620,85646],"loc":{"start":{"line":2956,"column":6},"end":{"line":2956,"column":32}},"type":"Property","key":{"range":[85620,85633],"loc":{"start":{"line":2956,"column":6},"end":{"line":2956,"column":19}},"type":"Identifier","name":"authorization"},"computed":false,"value":{"range":[85635,85646],"loc":{"start":{"line":2956,"column":21},"end":{"line":2956,"column":32}},"type":"MemberExpression","computed":false,"object":{"range":[85635,85639],"loc":{"start":{"line":2956,"column":21},"end":{"line":2956,"column":25}},"type":"ThisExpression"},"property":{"range":[85640,85646],"loc":{"start":{"line":2956,"column":26},"end":{"line":2956,"column":32}},"type":"Identifier","name":"apiKey"}},"kind":"init","method":false,"shorthand":false}]}]},"property":{"range":[85654,85658],"loc":{"start":{"line":2957,"column":7},"end":{"line":2957,"column":11}},"type":"Identifier","name":"then"}},"arguments":[{"range":[85659,86075],"loc":{"start":{"line":2957,"column":12},"end":{"line":2966,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[85669,85680],"loc":{"start":{"line":2957,"column":22},"end":{"line":2957,"column":33}},"type":"Identifier","name":"application"}],"defaults":[],"body":{"range":[85682,86075],"loc":{"start":{"line":2957,"column":35},"end":{"line":2966,"column":5}},"type":"BlockStatement","body":[{"range":[85986,86015],"loc":{"start":{"line":2963,"column":6},"end":{"line":2963,"column":35}},"type":"ExpressionStatement","expression":{"range":[85986,86014],"loc":{"start":{"line":2963,"column":6},"end":{"line":2963,"column":34}},"type":"UnaryExpression","operator":"delete","argument":{"range":[85993,86014],"loc":{"start":{"line":2963,"column":13},"end":{"line":2963,"column":34}},"type":"MemberExpression","computed":false,"object":{"range":[85993,86004],"loc":{"start":{"line":2963,"column":13},"end":{"line":2963,"column":24}},"type":"Identifier","name":"application"},"property":{"range":[86005,86014],"loc":{"start":{"line":2963,"column":25},"end":{"line":2963,"column":34}},"type":"Identifier","name":"appApiKey"}},"prefix":true},"leadingComments":[{"type":"Line","value":" /applications/me returns a single application that matches this","range":[85691,85757],"loc":{"start":{"line":2959,"column":6},"end":{"line":2959,"column":72}}},{"type":"Line","value":" API Key. The response's API Key is defined in property `appApiKey`","range":[85764,85833],"loc":{"start":{"line":2960,"column":6},"end":{"line":2960,"column":75}}},{"type":"Line","value":" instead of `apiKey`, so remove it to prevent redundant apiKey","range":[85840,85904],"loc":{"start":{"line":2961,"column":6},"end":{"line":2961,"column":70}}},{"type":"Line","value":" properties in the scope. Also, attach app details into the scope.","range":[85911,85979],"loc":{"start":{"line":2962,"column":6},"end":{"line":2962,"column":74}}}]},{"range":[86022,86068],"loc":{"start":{"line":2964,"column":6},"end":{"line":2964,"column":52}},"type":"ReturnStatement","argument":{"range":[86029,86067],"loc":{"start":{"line":2964,"column":13},"end":{"line":2964,"column":51}},"type":"CallExpression","callee":{"range":[86029,86041],"loc":{"start":{"line":2964,"column":13},"end":{"line":2964,"column":25}},"type":"MemberExpression","computed":false,"object":{"range":[86029,86034],"loc":{"start":{"line":2964,"column":13},"end":{"line":2964,"column":18}},"type":"Identifier","name":"Utils"},"property":{"range":[86035,86041],"loc":{"start":{"line":2964,"column":19},"end":{"line":2964,"column":25}},"type":"Identifier","name":"extend"}},"arguments":[{"range":[86042,86047],"loc":{"start":{"line":2964,"column":26},"end":{"line":2964,"column":31}},"type":"Identifier","name":"$this"},{"range":[86049,86060],"loc":{"start":{"line":2964,"column":33},"end":{"line":2964,"column":44}},"type":"Identifier","name":"application"},{"range":[86062,86066],"loc":{"start":{"line":2964,"column":46},"end":{"line":2964,"column":50}},"type":"Literal","value":true,"raw":"true"}]}}]},"generator":false,"expression":false},{"range":[86077,86163],"loc":{"start":{"line":2966,"column":7},"end":{"line":2969,"column":5}},"type":"FunctionExpression","id":null,"params":[],"defaults":[],"body":{"range":[86089,86163],"loc":{"start":{"line":2966,"column":19},"end":{"line":2969,"column":5}},"type":"BlockStatement","body":[{"range":[86097,86156],"loc":{"start":{"line":2967,"column":6},"end":{"line":2967,"column":65}},"type":"ExpressionStatement","expression":{"range":[86097,86155],"loc":{"start":{"line":2967,"column":6},"end":{"line":2967,"column":64}},"type":"CallExpression","callee":{"range":[86097,86109],"loc":{"start":{"line":2967,"column":6},"end":{"line":2967,"column":18}},"type":"MemberExpression","computed":false,"object":{"range":[86097,86103],"loc":{"start":{"line":2967,"column":6},"end":{"line":2967,"column":12}},"type":"Identifier","name":"Logger"},"property":{"range":[86104,86109],"loc":{"start":{"line":2967,"column":13},"end":{"line":2967,"column":18}},"type":"Identifier","name":"error"}},"arguments":[{"range":[86110,86154],"loc":{"start":{"line":2967,"column":19},"end":{"line":2967,"column":63}},"type":"Literal","value":"There is no application with this API Key.","raw":"'There is no application with this API Key.'"}]}}]},"generator":false,"expression":false}]},"property":{"range":[86165,86169],"loc":{"start":{"line":2969,"column":7},"end":{"line":2969,"column":11}},"type":"Identifier","name":"then"}},"arguments":[{"range":[86170,87739],"loc":{"start":{"line":2969,"column":12},"end":{"line":3021,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[86180,86183],"loc":{"start":{"line":2969,"column":22},"end":{"line":2969,"column":25}},"type":"Identifier","name":"app"}],"defaults":[],"body":{"range":[86185,87739],"loc":{"start":{"line":2969,"column":27},"end":{"line":3021,"column":5}},"type":"BlockStatement","body":[{"range":[86767,87732],"loc":{"start":{"line":2988,"column":6},"end":{"line":3019,"column":7}},"type":"IfStatement","test":{"range":[86770,86782],"loc":{"start":{"line":2988,"column":9},"end":{"line":2988,"column":21}},"type":"MemberExpression","computed":false,"object":{"range":[86770,86773],"loc":{"start":{"line":2988,"column":9},"end":{"line":2988,"column":12}},"type":"Identifier","name":"obj"},"property":{"range":[86774,86782],"loc":{"start":{"line":2988,"column":13},"end":{"line":2988,"column":21}},"type":"Identifier","name":"facebook"}},"consequent":{"range":[86783,87613],"loc":{"start":{"line":2988,"column":22},"end":{"line":3015,"column":7}},"type":"BlockStatement","body":[{"range":[86794,86967],"loc":{"start":{"line":2990,"column":8},"end":{"line":2993,"column":9}},"type":"IfStatement","test":{"range":[86797,86848],"loc":{"start":{"line":2990,"column":11},"end":{"line":2990,"column":62}},"type":"LogicalExpression","operator":"||","left":{"range":[86797,86816],"loc":{"start":{"line":2990,"column":11},"end":{"line":2990,"column":30}},"type":"UnaryExpression","operator":"!","argument":{"range":[86798,86816],"loc":{"start":{"line":2990,"column":12},"end":{"line":2990,"column":30}},"type":"MemberExpression","computed":false,"object":{"range":[86798,86801],"loc":{"start":{"line":2990,"column":12},"end":{"line":2990,"column":15}},"type":"Identifier","name":"app"},"property":{"range":[86802,86816],"loc":{"start":{"line":2990,"column":16},"end":{"line":2990,"column":30}},"type":"Identifier","name":"socialNetworks"}},"prefix":true},"right":{"range":[86820,86848],"loc":{"start":{"line":2990,"column":34},"end":{"line":2990,"column":62}},"type":"UnaryExpression","operator":"!","argument":{"range":[86821,86848],"loc":{"start":{"line":2990,"column":35},"end":{"line":2990,"column":62}},"type":"MemberExpression","computed":false,"object":{"range":[86821,86839],"loc":{"start":{"line":2990,"column":35},"end":{"line":2990,"column":53}},"type":"MemberExpression","computed":false,"object":{"range":[86821,86824],"loc":{"start":{"line":2990,"column":35},"end":{"line":2990,"column":38}},"type":"Identifier","name":"app"},"property":{"range":[86825,86839],"loc":{"start":{"line":2990,"column":39},"end":{"line":2990,"column":53}},"type":"Identifier","name":"socialNetworks"}},"property":{"range":[86840,86848],"loc":{"start":{"line":2990,"column":54},"end":{"line":2990,"column":62}},"type":"Identifier","name":"facebook"}},"prefix":true}},"consequent":{"range":[86849,86967],"loc":{"start":{"line":2990,"column":63},"end":{"line":2993,"column":9}},"type":"BlockStatement","body":[{"range":[86861,86939],"loc":{"start":{"line":2991,"column":10},"end":{"line":2991,"column":88}},"type":"ExpressionStatement","expression":{"range":[86861,86938],"loc":{"start":{"line":2991,"column":10},"end":{"line":2991,"column":87}},"type":"CallExpression","callee":{"range":[86861,86873],"loc":{"start":{"line":2991,"column":10},"end":{"line":2991,"column":22}},"type":"MemberExpression","computed":false,"object":{"range":[86861,86867],"loc":{"start":{"line":2991,"column":10},"end":{"line":2991,"column":16}},"type":"Identifier","name":"Logger"},"property":{"range":[86868,86873],"loc":{"start":{"line":2991,"column":17},"end":{"line":2991,"column":22}},"type":"Identifier","name":"error"}},"arguments":[{"range":[86874,86937],"loc":{"start":{"line":2991,"column":23},"end":{"line":2991,"column":86}},"type":"Literal","value":"The Facebook configuration for this application is incorrect.","raw":"'The Facebook configuration for this application is incorrect.'"}]}},{"range":[86950,86957],"loc":{"start":{"line":2992,"column":10},"end":{"line":2992,"column":17}},"type":"ReturnStatement","argument":null}]},"alternate":null,"trailingComments":[{"type":"Line","value":" Get Facebook App ID from the Evrythng App social networks list.","range":[86977,87043],"loc":{"start":{"line":2995,"column":8},"end":{"line":2995,"column":74}}}]},{"range":[87052,87604],"loc":{"start":{"line":2996,"column":8},"end":{"line":3013,"column":13}},"type":"ReturnStatement","argument":{"range":[87059,87603],"loc":{"start":{"line":2996,"column":15},"end":{"line":3013,"column":12}},"type":"CallExpression","callee":{"range":[87059,87443],"loc":{"start":{"line":2996,"column":15},"end":{"line":3008,"column":17}},"type":"MemberExpression","computed":false,"object":{"range":[87059,87438],"loc":{"start":{"line":2996,"column":15},"end":{"line":3008,"column":12}},"type":"CallExpression","callee":{"range":[87059,87123],"loc":{"start":{"line":2996,"column":15},"end":{"line":2997,"column":15}},"type":"MemberExpression","computed":false,"object":{"range":[87059,87107],"loc":{"start":{"line":2996,"column":15},"end":{"line":2996,"column":63}},"type":"CallExpression","callee":{"range":[87059,87072],"loc":{"start":{"line":2996,"column":15},"end":{"line":2996,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[87059,87067],"loc":{"start":{"line":2996,"column":15},"end":{"line":2996,"column":23}},"type":"Identifier","name":"Facebook"},"property":{"range":[87068,87072],"loc":{"start":{"line":2996,"column":24},"end":{"line":2996,"column":28}},"type":"Identifier","name":"init"}},"arguments":[{"range":[87073,87106],"loc":{"start":{"line":2996,"column":29},"end":{"line":2996,"column":62}},"type":"MemberExpression","computed":false,"object":{"range":[87073,87100],"loc":{"start":{"line":2996,"column":29},"end":{"line":2996,"column":56}},"type":"MemberExpression","computed":false,"object":{"range":[87073,87091],"loc":{"start":{"line":2996,"column":29},"end":{"line":2996,"column":47}},"type":"MemberExpression","computed":false,"object":{"range":[87073,87076],"loc":{"start":{"line":2996,"column":29},"end":{"line":2996,"column":32}},"type":"Identifier","name":"app"},"property":{"range":[87077,87091],"loc":{"start":{"line":2996,"column":33},"end":{"line":2996,"column":47}},"type":"Identifier","name":"socialNetworks"}},"property":{"range":[87092,87100],"loc":{"start":{"line":2996,"column":48},"end":{"line":2996,"column":56}},"type":"Identifier","name":"facebook"}},"property":{"range":[87101,87106],"loc":{"start":{"line":2996,"column":57},"end":{"line":2996,"column":62}},"type":"Identifier","name":"appId"}}]},"property":{"range":[87119,87123],"loc":{"start":{"line":2997,"column":11},"end":{"line":2997,"column":15}},"type":"Identifier","name":"then"}},"arguments":[{"range":[87124,87437],"loc":{"start":{"line":2997,"column":16},"end":{"line":3008,"column":11}},"type":"FunctionExpression","id":null,"params":[{"range":[87134,87142],"loc":{"start":{"line":2997,"column":26},"end":{"line":2997,"column":34}},"type":"Identifier","name":"response"}],"defaults":[],"body":{"range":[87144,87437],"loc":{"start":{"line":2997,"column":36},"end":{"line":3008,"column":11}},"type":"BlockStatement","body":[{"range":[87159,87424],"loc":{"start":{"line":2999,"column":12},"end":{"line":3006,"column":13}},"type":"IfStatement","test":{"range":[87162,87193],"loc":{"start":{"line":2999,"column":15},"end":{"line":2999,"column":46}},"type":"BinaryExpression","operator":"===","left":{"range":[87162,87177],"loc":{"start":{"line":2999,"column":15},"end":{"line":2999,"column":30}},"type":"MemberExpression","computed":false,"object":{"range":[87162,87170],"loc":{"start":{"line":2999,"column":15},"end":{"line":2999,"column":23}},"type":"Identifier","name":"response"},"property":{"range":[87171,87177],"loc":{"start":{"line":2999,"column":24},"end":{"line":2999,"column":30}},"type":"Identifier","name":"status"}},"right":{"range":[87182,87193],"loc":{"start":{"line":2999,"column":35},"end":{"line":2999,"column":46}},"type":"Literal","value":"connected","raw":"'connected'"}},"consequent":{"range":[87195,87372],"loc":{"start":{"line":2999,"column":48},"end":{"line":3004,"column":13}},"type":"BlockStatement","body":[{"range":[87300,87357],"loc":{"start":{"line":3002,"column":14},"end":{"line":3002,"column":71}},"type":"ReturnStatement","argument":{"range":[87307,87356],"loc":{"start":{"line":3002,"column":21},"end":{"line":3002,"column":70}},"type":"CallExpression","callee":{"range":[87307,87339],"loc":{"start":{"line":3002,"column":21},"end":{"line":3002,"column":53}},"type":"MemberExpression","computed":false,"object":{"range":[87307,87334],"loc":{"start":{"line":3002,"column":21},"end":{"line":3002,"column":48}},"type":"MemberExpression","computed":false,"object":{"range":[87307,87321],"loc":{"start":{"line":3002,"column":21},"end":{"line":3002,"column":35}},"type":"Identifier","name":"Authentication"},"property":{"range":[87322,87334],"loc":{"start":{"line":3002,"column":36},"end":{"line":3002,"column":48}},"type":"Identifier","name":"authFacebook"}},"property":{"range":[87335,87339],"loc":{"start":{"line":3002,"column":49},"end":{"line":3002,"column":53}},"type":"Identifier","name":"call"}},"arguments":[{"range":[87340,87345],"loc":{"start":{"line":3002,"column":54},"end":{"line":3002,"column":59}},"type":"Identifier","name":"$this"},{"range":[87347,87355],"loc":{"start":{"line":3002,"column":61},"end":{"line":3002,"column":69}},"type":"Identifier","name":"response"}]},"leadingComments":[{"type":"Line","value":" If user is connected with Facebook, return a promise with his details.","range":[87212,87285],"loc":{"start":{"line":3001,"column":14},"end":{"line":3001,"column":87}}}]}]},"alternate":{"range":[87378,87424],"loc":{"start":{"line":3004,"column":19},"end":{"line":3006,"column":13}},"type":"BlockStatement","body":[{"range":[87394,87410],"loc":{"start":{"line":3005,"column":14},"end":{"line":3005,"column":30}},"type":"ReturnStatement","argument":{"range":[87401,87409],"loc":{"start":{"line":3005,"column":21},"end":{"line":3005,"column":29}},"type":"Identifier","name":"response"}}]}}]},"generator":false,"expression":false}]},"property":{"range":[87439,87443],"loc":{"start":{"line":3008,"column":13},"end":{"line":3008,"column":17}},"type":"Identifier","name":"then"}},"arguments":[{"range":[87444,87602],"loc":{"start":{"line":3008,"column":18},"end":{"line":3013,"column":11}},"type":"FunctionExpression","id":null,"params":[{"range":[87454,87462],"loc":{"start":{"line":3008,"column":28},"end":{"line":3008,"column":36}},"type":"Identifier","name":"response"}],"defaults":[],"body":{"range":[87464,87602],"loc":{"start":{"line":3008,"column":38},"end":{"line":3013,"column":11}},"type":"BlockStatement","body":[{"range":[87545,87589],"loc":{"start":{"line":3011,"column":12},"end":{"line":3011,"column":56}},"type":"ReturnStatement","argument":{"range":[87552,87588],"loc":{"start":{"line":3011,"column":19},"end":{"line":3011,"column":55}},"type":"CallExpression","callee":{"range":[87552,87564],"loc":{"start":{"line":3011,"column":19},"end":{"line":3011,"column":31}},"type":"MemberExpression","computed":false,"object":{"range":[87552,87557],"loc":{"start":{"line":3011,"column":19},"end":{"line":3011,"column":24}},"type":"Identifier","name":"Utils"},"property":{"range":[87558,87564],"loc":{"start":{"line":3011,"column":25},"end":{"line":3011,"column":31}},"type":"Identifier","name":"extend"}},"arguments":[{"range":[87565,87573],"loc":{"start":{"line":3011,"column":32},"end":{"line":3011,"column":40}},"type":"Identifier","name":"response"},{"range":[87575,87587],"loc":{"start":{"line":3011,"column":42},"end":{"line":3011,"column":54}},"type":"ObjectExpression","properties":[{"range":[87577,87585],"loc":{"start":{"line":3011,"column":44},"end":{"line":3011,"column":52}},"type":"Property","key":{"range":[87577,87580],"loc":{"start":{"line":3011,"column":44},"end":{"line":3011,"column":47}},"type":"Identifier","name":"app"},"computed":false,"value":{"range":[87582,87585],"loc":{"start":{"line":3011,"column":49},"end":{"line":3011,"column":52}},"type":"Identifier","name":"app"},"kind":"init","method":false,"shorthand":false}]}]},"leadingComments":[{"type":"Line","value":" Add app information to the already wrapped object.","range":[87479,87532],"loc":{"start":{"line":3010,"column":12},"end":{"line":3010,"column":65}}}]}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" Get Facebook App ID from the Evrythng App social networks list.","range":[86977,87043],"loc":{"start":{"line":2995,"column":8},"end":{"line":2995,"column":74}}}]}]},"alternate":{"range":[87617,87732],"loc":{"start":{"line":3015,"column":11},"end":{"line":3019,"column":7}},"type":"BlockStatement","body":[{"range":[87713,87724],"loc":{"start":{"line":3018,"column":8},"end":{"line":3018,"column":19}},"type":"ReturnStatement","argument":{"range":[87720,87723],"loc":{"start":{"line":3018,"column":15},"end":{"line":3018,"column":18}},"type":"Identifier","name":"app"},"leadingComments":[{"type":"Line","value":" If not using Facebook, simply return app details after they are received.","range":[87628,87704],"loc":{"start":{"line":3017,"column":8},"end":{"line":3017,"column":84}}}]}]},"leadingComments":[{"type":"Line","value":" If using Facebook, the $init promise is only resolved after FB","range":[86194,86259],"loc":{"start":{"line":2971,"column":6},"end":{"line":2971,"column":71}}},{"type":"Line","value":" is initialized and user login status is retrieved. In this situation,","range":[86266,86338],"loc":{"start":{"line":2972,"column":6},"end":{"line":2972,"column":78}}},{"type":"Line","value":" the resolved object of `$init` is a wrapped object:","range":[86345,86399],"loc":{"start":{"line":2973,"column":6},"end":{"line":2973,"column":60}}},{"type":"Line","value":" ```","range":[86407,86413],"loc":{"start":{"line":2975,"column":6},"end":{"line":2975,"column":12}}},{"type":"Line","value":"  {","range":[86420,86425],"loc":{"start":{"line":2976,"column":6},"end":{"line":2976,"column":11}}},{"type":"Line","value":"    status: <Facebook's connected status>,","range":[86432,86476],"loc":{"start":{"line":2977,"column":6},"end":{"line":2977,"column":50}}},{"type":"Line","value":"    authResponse: <Facebook's auth response>,","range":[86483,86530],"loc":{"start":{"line":2978,"column":6},"end":{"line":2978,"column":53}}},{"type":"Line","value":"    user: {","range":[86537,86550],"loc":{"start":{"line":2979,"column":6},"end":{"line":2979,"column":19}}},{"type":"Line","value":"      facebook: { <Facebook's user info>}","range":[86557,86600],"loc":{"start":{"line":2980,"column":6},"end":{"line":2980,"column":49}}},{"type":"Line","value":"      <Evrythng's user information>","range":[86607,86644],"loc":{"start":{"line":2981,"column":6},"end":{"line":2981,"column":43}}},{"type":"Line","value":"    },","range":[86651,86659],"loc":{"start":{"line":2982,"column":6},"end":{"line":2982,"column":14}}},{"type":"Line","value":"    app: {","range":[86666,86678],"loc":{"start":{"line":2983,"column":6},"end":{"line":2983,"column":18}}},{"type":"Line","value":"      <Evrythng's app information>","range":[86685,86721],"loc":{"start":{"line":2984,"column":6},"end":{"line":2984,"column":42}}},{"type":"Line","value":"    }","range":[86728,86735],"loc":{"start":{"line":2985,"column":6},"end":{"line":2985,"column":13}}},{"type":"Line","value":"  }","range":[86742,86747],"loc":{"start":{"line":2986,"column":6},"end":{"line":2986,"column":11}}},{"type":"Line","value":" ```","range":[86754,86760],"loc":{"start":{"line":2987,"column":6},"end":{"line":2987,"column":12}}}]}]},"generator":false,"expression":false}]}},"leadingComments":[{"type":"Line","value":" Get app information asynchronously from the Engine using already","range":[85372,85439],"loc":{"start":{"line":2951,"column":4},"end":{"line":2951,"column":71}}},{"type":"Line","value":" defined scope. Use **new EVT.App('apiKey').$init.then(success)** if need","range":[85444,85519],"loc":{"start":{"line":2952,"column":4},"end":{"line":2952,"column":79}}},{"type":"Line","value":" to wait for app information.","range":[85524,85555],"loc":{"start":{"line":2953,"column":4},"end":{"line":2953,"column":35}}}]}]},"generator":false,"expression":false}}],"kind":"var","leadingComments":[{"type":"Line","value":" Application Scope constructor. It can be called with the parameters:","range":[84582,84653],"loc":{"start":{"line":2927,"column":2},"end":{"line":2927,"column":73}}},{"type":"Line","value":" - _**new EVT.App(apiKey)** - API Key string_","range":[84657,84704],"loc":{"start":{"line":2929,"column":2},"end":{"line":2929,"column":49}}},{"type":"Line","value":" - _**new EVT.App(options)** - Options object should contain `apiKey`,","range":[84707,84779],"loc":{"start":{"line":2930,"column":2},"end":{"line":2930,"column":74}}},{"type":"Line","value":" and optionally `facebook` boolean. Passing `facebook: true` automatically","range":[84782,84858],"loc":{"start":{"line":2931,"column":2},"end":{"line":2931,"column":78}}},{"type":"Line","value":" initializes Facebook SDK with this application's FB App Id - setup in","range":[84861,84933],"loc":{"start":{"line":2932,"column":2},"end":{"line":2932,"column":74}}},{"type":"Line","value":" EVRYTHNG's Dashboard Project Preferences._","range":[84936,84981],"loc":{"start":{"line":2933,"column":2},"end":{"line":2933,"column":47}}}],"trailingComments":[{"type":"Line","value":" Setup Scope inheritance.","range":[87751,87778],"loc":{"start":{"line":3025,"column":2},"end":{"line":3025,"column":29}}}]},{"range":[87781,87841],"loc":{"start":{"line":3026,"column":2},"end":{"line":3026,"column":62}},"type":"ExpressionStatement","expression":{"range":[87781,87840],"loc":{"start":{"line":3026,"column":2},"end":{"line":3026,"column":61}},"type":"AssignmentExpression","operator":"=","left":{"range":[87781,87807],"loc":{"start":{"line":3026,"column":2},"end":{"line":3026,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[87781,87797],"loc":{"start":{"line":3026,"column":2},"end":{"line":3026,"column":18}},"type":"Identifier","name":"ApplicationScope"},"property":{"range":[87798,87807],"loc":{"start":{"line":3026,"column":19},"end":{"line":3026,"column":28}},"type":"Identifier","name":"prototype"}},"right":{"range":[87810,87840],"loc":{"start":{"line":3026,"column":31},"end":{"line":3026,"column":61}},"type":"CallExpression","callee":{"range":[87810,87823],"loc":{"start":{"line":3026,"column":31},"end":{"line":3026,"column":44}},"type":"MemberExpression","computed":false,"object":{"range":[87810,87816],"loc":{"start":{"line":3026,"column":31},"end":{"line":3026,"column":37}},"type":"Identifier","name":"Object"},"property":{"range":[87817,87823],"loc":{"start":{"line":3026,"column":38},"end":{"line":3026,"column":44}},"type":"Identifier","name":"create"}},"arguments":[{"range":[87824,87839],"loc":{"start":{"line":3026,"column":45},"end":{"line":3026,"column":60}},"type":"MemberExpression","computed":false,"object":{"range":[87824,87829],"loc":{"start":{"line":3026,"column":45},"end":{"line":3026,"column":50}},"type":"Identifier","name":"Scope"},"property":{"range":[87830,87839],"loc":{"start":{"line":3026,"column":51},"end":{"line":3026,"column":60}},"type":"Identifier","name":"prototype"}}]}},"leadingComments":[{"type":"Line","value":" Setup Scope inheritance.","range":[87751,87778],"loc":{"start":{"line":3025,"column":2},"end":{"line":3025,"column":29}}}]},{"range":[87844,87902],"loc":{"start":{"line":3027,"column":2},"end":{"line":3027,"column":60}},"type":"ExpressionStatement","expression":{"range":[87844,87901],"loc":{"start":{"line":3027,"column":2},"end":{"line":3027,"column":59}},"type":"AssignmentExpression","operator":"=","left":{"range":[87844,87882],"loc":{"start":{"line":3027,"column":2},"end":{"line":3027,"column":40}},"type":"MemberExpression","computed":false,"object":{"range":[87844,87870],"loc":{"start":{"line":3027,"column":2},"end":{"line":3027,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[87844,87860],"loc":{"start":{"line":3027,"column":2},"end":{"line":3027,"column":18}},"type":"Identifier","name":"ApplicationScope"},"property":{"range":[87861,87870],"loc":{"start":{"line":3027,"column":19},"end":{"line":3027,"column":28}},"type":"Identifier","name":"prototype"}},"property":{"range":[87871,87882],"loc":{"start":{"line":3027,"column":29},"end":{"line":3027,"column":40}},"type":"Identifier","name":"constructor"}},"right":{"range":[87885,87901],"loc":{"start":{"line":3027,"column":43},"end":{"line":3027,"column":59}},"type":"Identifier","name":"ApplicationScope"}},"trailingComments":[{"type":"Line","value":" Implement Public API by extending the prototype.","range":[87907,87958],"loc":{"start":{"line":3030,"column":2},"end":{"line":3030,"column":53}}},{"type":"Line","value":" By default all resource constructors are themselves factory functions","range":[87962,88034],"loc":{"start":{"line":3032,"column":2},"end":{"line":3032,"column":74}}},{"type":"Line","value":" that are called by the scopes, can receive an ID and return a Resource.","range":[88037,88111],"loc":{"start":{"line":3033,"column":2},"end":{"line":3033,"column":76}}},{"type":"Line","value":" However, in some situations in our API, the output of different endpoints can","range":[88114,88194],"loc":{"start":{"line":3034,"column":2},"end":{"line":3034,"column":82}}},{"type":"Line","value":" be the same. Thus we need to setup the resource constructor to use a certain","range":[88197,88276],"loc":{"start":{"line":3035,"column":2},"end":{"line":3035,"column":81}}},{"type":"Line","value":" path, and return the correct factory function. This is what happens here with the","range":[88279,88363],"loc":{"start":{"line":3036,"column":2},"end":{"line":3036,"column":86}}},{"type":"Line","value":" **appUser()** resource constructor.","range":[88366,88404],"loc":{"start":{"line":3037,"column":2},"end":{"line":3037,"column":40}}}]},{"range":[88407,88833],"loc":{"start":{"line":3038,"column":2},"end":{"line":3052,"column":11}},"type":"ExpressionStatement","expression":{"range":[88407,88832],"loc":{"start":{"line":3038,"column":2},"end":{"line":3052,"column":10}},"type":"CallExpression","callee":{"range":[88407,88419],"loc":{"start":{"line":3038,"column":2},"end":{"line":3038,"column":14}},"type":"MemberExpression","computed":false,"object":{"range":[88407,88412],"loc":{"start":{"line":3038,"column":2},"end":{"line":3038,"column":7}},"type":"Identifier","name":"Utils"},"property":{"range":[88413,88419],"loc":{"start":{"line":3038,"column":8},"end":{"line":3038,"column":14}},"type":"Identifier","name":"extend"}},"arguments":[{"range":[88420,88446],"loc":{"start":{"line":3038,"column":15},"end":{"line":3038,"column":41}},"type":"MemberExpression","computed":false,"object":{"range":[88420,88436],"loc":{"start":{"line":3038,"column":15},"end":{"line":3038,"column":31}},"type":"Identifier","name":"ApplicationScope"},"property":{"range":[88437,88446],"loc":{"start":{"line":3038,"column":32},"end":{"line":3038,"column":41}},"type":"Identifier","name":"prototype"}},{"range":[88448,88825],"loc":{"start":{"line":3038,"column":43},"end":{"line":3052,"column":3}},"type":"ObjectExpression","properties":[{"range":[88455,88491],"loc":{"start":{"line":3040,"column":4},"end":{"line":3040,"column":40}},"type":"Property","key":{"range":[88455,88462],"loc":{"start":{"line":3040,"column":4},"end":{"line":3040,"column":11}},"type":"Identifier","name":"product"},"computed":false,"value":{"range":[88464,88491],"loc":{"start":{"line":3040,"column":13},"end":{"line":3040,"column":40}},"type":"MemberExpression","computed":false,"object":{"range":[88464,88471],"loc":{"start":{"line":3040,"column":13},"end":{"line":3040,"column":20}},"type":"Identifier","name":"Product"},"property":{"range":[88472,88491],"loc":{"start":{"line":3040,"column":21},"end":{"line":3040,"column":40}},"type":"Identifier","name":"resourceConstructor"}},"kind":"init","method":false,"shorthand":false},{"range":[88498,88532],"loc":{"start":{"line":3042,"column":4},"end":{"line":3042,"column":38}},"type":"Property","key":{"range":[88498,88504],"loc":{"start":{"line":3042,"column":4},"end":{"line":3042,"column":10}},"type":"Identifier","name":"action"},"computed":false,"value":{"range":[88506,88532],"loc":{"start":{"line":3042,"column":12},"end":{"line":3042,"column":38}},"type":"MemberExpression","computed":false,"object":{"range":[88506,88512],"loc":{"start":{"line":3042,"column":12},"end":{"line":3042,"column":18}},"type":"Identifier","name":"Action"},"property":{"range":[88513,88532],"loc":{"start":{"line":3042,"column":19},"end":{"line":3042,"column":38}},"type":"Identifier","name":"resourceConstructor"}},"kind":"init","method":false,"shorthand":false},{"range":[88690,88747],"loc":{"start":{"line":3046,"column":4},"end":{"line":3046,"column":61}},"type":"Property","key":{"range":[88690,88697],"loc":{"start":{"line":3046,"column":4},"end":{"line":3046,"column":11}},"type":"Identifier","name":"appUser"},"computed":false,"value":{"range":[88699,88747],"loc":{"start":{"line":3046,"column":13},"end":{"line":3046,"column":61}},"type":"CallExpression","callee":{"range":[88699,88723],"loc":{"start":{"line":3046,"column":13},"end":{"line":3046,"column":37}},"type":"MemberExpression","computed":false,"object":{"range":[88699,88703],"loc":{"start":{"line":3046,"column":13},"end":{"line":3046,"column":17}},"type":"Identifier","name":"User"},"property":{"range":[88704,88723],"loc":{"start":{"line":3046,"column":18},"end":{"line":3046,"column":37}},"type":"Identifier","name":"resourceConstructor"}},"arguments":[{"range":[88724,88746],"loc":{"start":{"line":3046,"column":38},"end":{"line":3046,"column":60}},"type":"Literal","value":"/auth/evrythng/users","raw":"'/auth/evrythng/users'"}]},"kind":"init","method":false,"shorthand":false,"leadingComments":[{"type":"Line","value":" Setup AppUser resource to use *'/auth/evrythng/users'* instead","range":[88539,88604],"loc":{"start":{"line":3044,"column":4},"end":{"line":3044,"column":69}}},{"type":"Line","value":" of the default *'/users'*. Both endpoints return a list of User entities.","range":[88609,88685],"loc":{"start":{"line":3045,"column":4},"end":{"line":3045,"column":80}}}]},{"range":[88754,88786],"loc":{"start":{"line":3048,"column":4},"end":{"line":3048,"column":36}},"type":"Property","key":{"range":[88754,88759],"loc":{"start":{"line":3048,"column":4},"end":{"line":3048,"column":9}},"type":"Identifier","name":"place"},"computed":false,"value":{"range":[88761,88786],"loc":{"start":{"line":3048,"column":11},"end":{"line":3048,"column":36}},"type":"MemberExpression","computed":false,"object":{"range":[88761,88766],"loc":{"start":{"line":3048,"column":11},"end":{"line":3048,"column":16}},"type":"Identifier","name":"Place"},"property":{"range":[88767,88786],"loc":{"start":{"line":3048,"column":17},"end":{"line":3048,"column":36}},"type":"Identifier","name":"resourceConstructor"}},"kind":"init","method":false,"shorthand":false},{"range":[88793,88820],"loc":{"start":{"line":3050,"column":4},"end":{"line":3050,"column":31}},"type":"Property","key":{"range":[88793,88798],"loc":{"start":{"line":3050,"column":4},"end":{"line":3050,"column":9}},"type":"Identifier","name":"login"},"computed":false,"value":{"range":[88800,88820],"loc":{"start":{"line":3050,"column":11},"end":{"line":3050,"column":31}},"type":"MemberExpression","computed":false,"object":{"range":[88800,88814],"loc":{"start":{"line":3050,"column":11},"end":{"line":3050,"column":25}},"type":"Identifier","name":"Authentication"},"property":{"range":[88815,88820],"loc":{"start":{"line":3050,"column":26},"end":{"line":3050,"column":31}},"type":"Identifier","name":"login"}},"kind":"init","method":false,"shorthand":false}]},{"range":[88827,88831],"loc":{"start":{"line":3052,"column":5},"end":{"line":3052,"column":9}},"type":"Literal","value":true,"raw":"true"}]},"leadingComments":[{"type":"Line","value":" Implement Public API by extending the prototype.","range":[87907,87958],"loc":{"start":{"line":3030,"column":2},"end":{"line":3030,"column":53}}},{"type":"Line","value":" By default all resource constructors are themselves factory functions","range":[87962,88034],"loc":{"start":{"line":3032,"column":2},"end":{"line":3032,"column":74}}},{"type":"Line","value":" that are called by the scopes, can receive an ID and return a Resource.","range":[88037,88111],"loc":{"start":{"line":3033,"column":2},"end":{"line":3033,"column":76}}},{"type":"Line","value":" However, in some situations in our API, the output of different endpoints can","range":[88114,88194],"loc":{"start":{"line":3034,"column":2},"end":{"line":3034,"column":82}}},{"type":"Line","value":" be the same. Thus we need to setup the resource constructor to use a certain","range":[88197,88276],"loc":{"start":{"line":3035,"column":2},"end":{"line":3035,"column":81}}},{"type":"Line","value":" path, and return the correct factory function. This is what happens here with the","range":[88279,88363],"loc":{"start":{"line":3036,"column":2},"end":{"line":3036,"column":86}}},{"type":"Line","value":" **appUser()** resource constructor.","range":[88366,88404],"loc":{"start":{"line":3037,"column":2},"end":{"line":3037,"column":40}}}],"trailingComments":[{"type":"Line","value":" Attach ApplicationScope class to the EVT module.","range":[88838,88889],"loc":{"start":{"line":3055,"column":2},"end":{"line":3055,"column":53}}}]},{"range":[88892,88928],"loc":{"start":{"line":3056,"column":2},"end":{"line":3056,"column":38}},"type":"ReturnStatement","argument":{"range":[88900,88926],"loc":{"start":{"line":3056,"column":10},"end":{"line":3056,"column":36}},"type":"AssignmentExpression","operator":"=","left":{"range":[88900,88907],"loc":{"start":{"line":3056,"column":10},"end":{"line":3056,"column":17}},"type":"MemberExpression","computed":false,"object":{"range":[88900,88903],"loc":{"start":{"line":3056,"column":10},"end":{"line":3056,"column":13}},"type":"Identifier","name":"EVT"},"property":{"range":[88904,88907],"loc":{"start":{"line":3056,"column":14},"end":{"line":3056,"column":17}},"type":"Identifier","name":"App"}},"right":{"range":[88910,88926],"loc":{"start":{"line":3056,"column":20},"end":{"line":3056,"column":36}},"type":"Identifier","name":"ApplicationScope"}},"leadingComments":[{"type":"Line","value":" Attach ApplicationScope class to the EVT module.","range":[88838,88889],"loc":{"start":{"line":3055,"column":2},"end":{"line":3055,"column":53}}}]}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" ## APPLICATION.JS","range":[83917,83937],"loc":{"start":{"line":2899,"column":0},"end":{"line":2899,"column":20}}},{"type":"Line","value":" **Here it is defined the ApplicationScope or `EVT.App`. EVT.App","range":[83939,84005],"loc":{"start":{"line":2901,"column":0},"end":{"line":2901,"column":66}}},{"type":"Line","value":" is a sub-class of scope and it defines the public API that an App Api Key","range":[84006,84082],"loc":{"start":{"line":2902,"column":0},"end":{"line":2902,"column":76}}},{"type":"Line","value":" can access to.**","range":[84083,84102],"loc":{"start":{"line":2903,"column":0},"end":{"line":2903,"column":19}}},{"type":"Line","value":" An Application scope currently has access to:","range":[84104,84152],"loc":{"start":{"line":2905,"column":0},"end":{"line":2905,"column":48}}},{"type":"Line","value":" - Product resource (`R`)","range":[84154,84181],"loc":{"start":{"line":2907,"column":0},"end":{"line":2907,"column":27}}},{"type":"Line","value":" - Action resource (`C`) - Scans only","range":[84182,84221],"loc":{"start":{"line":2908,"column":0},"end":{"line":2908,"column":39}}},{"type":"Line","value":" - App User resource (`C`)","range":[84222,84250],"loc":{"start":{"line":2909,"column":0},"end":{"line":2909,"column":28}}},{"type":"Line","value":" - Login","range":[84251,84261],"loc":{"start":{"line":2910,"column":0},"end":{"line":2910,"column":10}}}],"trailingComments":[{"type":"Line","value":" ## LOCATION.JS","range":[88935,88952],"loc":{"start":{"line":3060,"column":0},"end":{"line":3060,"column":17}}},{"type":"Line","value":" **The Location Entity represents a location in the Engine. It inherits","range":[88954,89027],"loc":{"start":{"line":3062,"column":0},"end":{"line":3062,"column":73}}},{"type":"Line","value":" from Entity and overload the resource's *update()* method to allow","range":[89028,89097],"loc":{"start":{"line":3063,"column":0},"end":{"line":3063,"column":69}}},{"type":"Line","value":" empty parameters (no payload).**","range":[89098,89133],"loc":{"start":{"line":3064,"column":0},"end":{"line":3064,"column":35}}}]},{"range":[89135,91880],"loc":{"start":{"line":3066,"column":0},"end":{"line":3178,"column":3}},"type":"ExpressionStatement","expression":{"range":[89135,91879],"loc":{"start":{"line":3066,"column":0},"end":{"line":3178,"column":2}},"type":"CallExpression","callee":{"range":[89135,89141],"loc":{"start":{"line":3066,"column":0},"end":{"line":3066,"column":6}},"type":"Identifier","name":"define"},"arguments":[{"range":[89142,89159],"loc":{"start":{"line":3066,"column":7},"end":{"line":3066,"column":24}},"type":"Literal","value":"entity/location","raw":"'entity/location'"},{"range":[89160,89223],"loc":{"start":{"line":3066,"column":25},"end":{"line":3072,"column":1}},"type":"ArrayExpression","elements":[{"range":[89164,89170],"loc":{"start":{"line":3067,"column":2},"end":{"line":3067,"column":8}},"type":"Literal","value":"core","raw":"'core'"},{"range":[89174,89184],"loc":{"start":{"line":3068,"column":2},"end":{"line":3068,"column":12}},"type":"Literal","value":"./entity","raw":"'./entity'"},{"range":[89188,89198],"loc":{"start":{"line":3069,"column":2},"end":{"line":3069,"column":12}},"type":"Literal","value":"resource","raw":"'resource'"},{"range":[89202,89209],"loc":{"start":{"line":3070,"column":2},"end":{"line":3070,"column":9}},"type":"Literal","value":"utils","raw":"'utils'"},{"range":[89213,89221],"loc":{"start":{"line":3071,"column":2},"end":{"line":3071,"column":10}},"type":"Literal","value":"logger","raw":"'logger'"}]},{"range":[89225,91878],"loc":{"start":{"line":3072,"column":3},"end":{"line":3178,"column":1}},"type":"FunctionExpression","id":null,"params":[{"range":[89235,89238],"loc":{"start":{"line":3072,"column":13},"end":{"line":3072,"column":16}},"type":"Identifier","name":"EVT"},{"range":[89240,89246],"loc":{"start":{"line":3072,"column":18},"end":{"line":3072,"column":24}},"type":"Identifier","name":"Entity"},{"range":[89248,89256],"loc":{"start":{"line":3072,"column":26},"end":{"line":3072,"column":34}},"type":"Identifier","name":"Resource"},{"range":[89258,89263],"loc":{"start":{"line":3072,"column":36},"end":{"line":3072,"column":41}},"type":"Identifier","name":"Utils"},{"range":[89265,89271],"loc":{"start":{"line":3072,"column":43},"end":{"line":3072,"column":49}},"type":"Identifier","name":"Logger"}],"defaults":[],"body":{"range":[89273,91878],"loc":{"start":{"line":3072,"column":51},"end":{"line":3178,"column":1}},"type":"BlockStatement","body":[{"range":[89277,89290],"loc":{"start":{"line":3073,"column":2},"end":{"line":3073,"column":15}},"type":"ExpressionStatement","expression":{"range":[89277,89289],"loc":{"start":{"line":3073,"column":2},"end":{"line":3073,"column":14}},"type":"Literal","value":"use strict","raw":"'use strict'"},"trailingComments":[{"type":"Line","value":" Setup Location inheritance from Entity.","range":[89294,89336],"loc":{"start":{"line":3075,"column":2},"end":{"line":3075,"column":44}}}]},{"range":[89339,89407],"loc":{"start":{"line":3076,"column":2},"end":{"line":3078,"column":4}},"type":"VariableDeclaration","declarations":[{"range":[89343,89406],"loc":{"start":{"line":3076,"column":6},"end":{"line":3078,"column":3}},"type":"VariableDeclarator","id":{"range":[89343,89351],"loc":{"start":{"line":3076,"column":6},"end":{"line":3076,"column":14}},"type":"Identifier","name":"Location"},"init":{"range":[89354,89406],"loc":{"start":{"line":3076,"column":17},"end":{"line":3078,"column":3}},"type":"FunctionExpression","id":null,"params":[],"defaults":[],"body":{"range":[89366,89406],"loc":{"start":{"line":3076,"column":29},"end":{"line":3078,"column":3}},"type":"BlockStatement","body":[{"range":[89372,89402],"loc":{"start":{"line":3077,"column":4},"end":{"line":3077,"column":34}},"type":"ExpressionStatement","expression":{"range":[89372,89401],"loc":{"start":{"line":3077,"column":4},"end":{"line":3077,"column":33}},"type":"CallExpression","callee":{"range":[89372,89384],"loc":{"start":{"line":3077,"column":4},"end":{"line":3077,"column":16}},"type":"MemberExpression","computed":false,"object":{"range":[89372,89378],"loc":{"start":{"line":3077,"column":4},"end":{"line":3077,"column":10}},"type":"Identifier","name":"Entity"},"property":{"range":[89379,89384],"loc":{"start":{"line":3077,"column":11},"end":{"line":3077,"column":16}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[89385,89389],"loc":{"start":{"line":3077,"column":17},"end":{"line":3077,"column":21}},"type":"ThisExpression"},{"range":[89391,89400],"loc":{"start":{"line":3077,"column":23},"end":{"line":3077,"column":32}},"type":"Identifier","name":"arguments"}]}}]},"generator":false,"expression":false}}],"kind":"var","leadingComments":[{"type":"Line","value":" Setup Location inheritance from Entity.","range":[89294,89336],"loc":{"start":{"line":3075,"column":2},"end":{"line":3075,"column":44}}}]},{"range":[89411,89464],"loc":{"start":{"line":3080,"column":2},"end":{"line":3080,"column":55}},"type":"ExpressionStatement","expression":{"range":[89411,89463],"loc":{"start":{"line":3080,"column":2},"end":{"line":3080,"column":54}},"type":"AssignmentExpression","operator":"=","left":{"range":[89411,89429],"loc":{"start":{"line":3080,"column":2},"end":{"line":3080,"column":20}},"type":"MemberExpression","computed":false,"object":{"range":[89411,89419],"loc":{"start":{"line":3080,"column":2},"end":{"line":3080,"column":10}},"type":"Identifier","name":"Location"},"property":{"range":[89420,89429],"loc":{"start":{"line":3080,"column":11},"end":{"line":3080,"column":20}},"type":"Identifier","name":"prototype"}},"right":{"range":[89432,89463],"loc":{"start":{"line":3080,"column":23},"end":{"line":3080,"column":54}},"type":"CallExpression","callee":{"range":[89432,89445],"loc":{"start":{"line":3080,"column":23},"end":{"line":3080,"column":36}},"type":"MemberExpression","computed":false,"object":{"range":[89432,89438],"loc":{"start":{"line":3080,"column":23},"end":{"line":3080,"column":29}},"type":"Identifier","name":"Object"},"property":{"range":[89439,89445],"loc":{"start":{"line":3080,"column":30},"end":{"line":3080,"column":36}},"type":"Identifier","name":"create"}},"arguments":[{"range":[89446,89462],"loc":{"start":{"line":3080,"column":37},"end":{"line":3080,"column":53}},"type":"MemberExpression","computed":false,"object":{"range":[89446,89452],"loc":{"start":{"line":3080,"column":37},"end":{"line":3080,"column":43}},"type":"Identifier","name":"Entity"},"property":{"range":[89453,89462],"loc":{"start":{"line":3080,"column":44},"end":{"line":3080,"column":53}},"type":"Identifier","name":"prototype"}}]}}},{"range":[89467,89509],"loc":{"start":{"line":3081,"column":2},"end":{"line":3081,"column":44}},"type":"ExpressionStatement","expression":{"range":[89467,89508],"loc":{"start":{"line":3081,"column":2},"end":{"line":3081,"column":43}},"type":"AssignmentExpression","operator":"=","left":{"range":[89467,89497],"loc":{"start":{"line":3081,"column":2},"end":{"line":3081,"column":32}},"type":"MemberExpression","computed":false,"object":{"range":[89467,89485],"loc":{"start":{"line":3081,"column":2},"end":{"line":3081,"column":20}},"type":"MemberExpression","computed":false,"object":{"range":[89467,89475],"loc":{"start":{"line":3081,"column":2},"end":{"line":3081,"column":10}},"type":"Identifier","name":"Location"},"property":{"range":[89476,89485],"loc":{"start":{"line":3081,"column":11},"end":{"line":3081,"column":20}},"type":"Identifier","name":"prototype"}},"property":{"range":[89486,89497],"loc":{"start":{"line":3081,"column":21},"end":{"line":3081,"column":32}},"type":"Identifier","name":"constructor"}},"right":{"range":[89500,89508],"loc":{"start":{"line":3081,"column":35},"end":{"line":3081,"column":43}},"type":"Identifier","name":"Location"}},"trailingComments":[{"type":"Line","value":" Attach class to EVT module.","range":[89513,89543],"loc":{"start":{"line":3083,"column":2},"end":{"line":3083,"column":32}}}]},{"range":[89546,89577],"loc":{"start":{"line":3084,"column":2},"end":{"line":3084,"column":33}},"type":"ExpressionStatement","expression":{"range":[89546,89576],"loc":{"start":{"line":3084,"column":2},"end":{"line":3084,"column":32}},"type":"AssignmentExpression","operator":"=","left":{"range":[89546,89565],"loc":{"start":{"line":3084,"column":2},"end":{"line":3084,"column":21}},"type":"MemberExpression","computed":false,"object":{"range":[89546,89556],"loc":{"start":{"line":3084,"column":2},"end":{"line":3084,"column":12}},"type":"MemberExpression","computed":false,"object":{"range":[89546,89549],"loc":{"start":{"line":3084,"column":2},"end":{"line":3084,"column":5}},"type":"Identifier","name":"EVT"},"property":{"range":[89550,89556],"loc":{"start":{"line":3084,"column":6},"end":{"line":3084,"column":12}},"type":"Identifier","name":"Entity"}},"property":{"range":[89557,89565],"loc":{"start":{"line":3084,"column":13},"end":{"line":3084,"column":21}},"type":"Identifier","name":"Location"}},"right":{"range":[89568,89576],"loc":{"start":{"line":3084,"column":24},"end":{"line":3084,"column":32}},"type":"Identifier","name":"Location"}},"leadingComments":[{"type":"Line","value":" Attach class to EVT module.","range":[89513,89543],"loc":{"start":{"line":3083,"column":2},"end":{"line":3083,"column":32}}}],"trailingComments":[{"type":"Line","value":" The location update normalization of arguments allows to","range":[89581,89640],"loc":{"start":{"line":3086,"column":2},"end":{"line":3086,"column":61}}},{"type":"Line","value":" make easier and more intuitive calls, such as:","range":[89643,89692],"loc":{"start":{"line":3087,"column":2},"end":{"line":3087,"column":51}}},{"type":"Line","value":" - Single location update:","range":[89696,89724],"loc":{"start":{"line":3089,"column":2},"end":{"line":3089,"column":30}}},{"type":"Line","value":" ```","range":[89728,89734],"loc":{"start":{"line":3091,"column":2},"end":{"line":3091,"column":8}}},{"type":"Line","value":"  thng.location().update({","range":[89737,89765],"loc":{"start":{"line":3092,"column":2},"end":{"line":3092,"column":30}}},{"type":"Line","value":"    position: GeoJSON","range":[89768,89791],"loc":{"start":{"line":3093,"column":2},"end":{"line":3093,"column":25}}},{"type":"Line","value":"  });","range":[89794,89801],"loc":{"start":{"line":3094,"column":2},"end":{"line":3094,"column":9}}},{"type":"Line","value":" ```","range":[89804,89810],"loc":{"start":{"line":3095,"column":2},"end":{"line":3095,"column":8}}},{"type":"Line","value":" - Multi location update:","range":[89814,89841],"loc":{"start":{"line":3097,"column":2},"end":{"line":3097,"column":29}}},{"type":"Line","value":" ```","range":[89845,89851],"loc":{"start":{"line":3099,"column":2},"end":{"line":3099,"column":8}}},{"type":"Line","value":"  thng.location().update([","range":[89854,89882],"loc":{"start":{"line":3100,"column":2},"end":{"line":3100,"column":30}}},{"type":"Line","value":"    {","range":[89885,89892],"loc":{"start":{"line":3101,"column":2},"end":{"line":3101,"column":9}}},{"type":"Line","value":"      position: GeoJSON","range":[89895,89920],"loc":{"start":{"line":3102,"column":2},"end":{"line":3102,"column":27}}},{"type":"Line","value":"    },","range":[89923,89931],"loc":{"start":{"line":3103,"column":2},"end":{"line":3103,"column":10}}},{"type":"Line","value":"    {","range":[89934,89941],"loc":{"start":{"line":3104,"column":2},"end":{"line":3104,"column":9}}},{"type":"Line","value":"      position: GeoJSON,","range":[89944,89970],"loc":{"start":{"line":3105,"column":2},"end":{"line":3105,"column":28}}},{"type":"Line","value":"      timestamp: Timestamp","range":[89973,90001],"loc":{"start":{"line":3106,"column":2},"end":{"line":3106,"column":30}}},{"type":"Line","value":"    }","range":[90004,90011],"loc":{"start":{"line":3107,"column":2},"end":{"line":3107,"column":9}}},{"type":"Line","value":" ]);","range":[90014,90020],"loc":{"start":{"line":3108,"column":2},"end":{"line":3108,"column":8}}},{"type":"Line","value":" ```","range":[90023,90029],"loc":{"start":{"line":3109,"column":2},"end":{"line":3109,"column":8}}}]},{"range":[90033,90372],"loc":{"start":{"line":3111,"column":2},"end":{"line":3124,"column":3}},"type":"FunctionDeclaration","id":{"range":[90042,90061],"loc":{"start":{"line":3111,"column":11},"end":{"line":3111,"column":30}},"type":"Identifier","name":"_normalizeArguments"},"params":[{"range":[90062,90066],"loc":{"start":{"line":3111,"column":31},"end":{"line":3111,"column":35}},"type":"Identifier","name":"args"}],"defaults":[],"body":{"range":[90068,90372],"loc":{"start":{"line":3111,"column":37},"end":{"line":3124,"column":3}},"type":"BlockStatement","body":[{"range":[90074,90093],"loc":{"start":{"line":3112,"column":4},"end":{"line":3112,"column":23}},"type":"VariableDeclaration","declarations":[{"range":[90078,90092],"loc":{"start":{"line":3112,"column":8},"end":{"line":3112,"column":22}},"type":"VariableDeclarator","id":{"range":[90078,90082],"loc":{"start":{"line":3112,"column":8},"end":{"line":3112,"column":12}},"type":"Identifier","name":"data"},"init":{"range":[90085,90092],"loc":{"start":{"line":3112,"column":15},"end":{"line":3112,"column":22}},"type":"MemberExpression","computed":true,"object":{"range":[90085,90089],"loc":{"start":{"line":3112,"column":15},"end":{"line":3112,"column":19}},"type":"Identifier","name":"args"},"property":{"range":[90090,90091],"loc":{"start":{"line":3112,"column":20},"end":{"line":3112,"column":21}},"type":"Literal","value":0,"raw":"0"}}}],"kind":"var"},{"range":[90099,90350],"loc":{"start":{"line":3114,"column":4},"end":{"line":3121,"column":5}},"type":"IfStatement","test":{"range":[90103,90123],"loc":{"start":{"line":3114,"column":8},"end":{"line":3114,"column":28}},"type":"CallExpression","callee":{"range":[90103,90117],"loc":{"start":{"line":3114,"column":8},"end":{"line":3114,"column":22}},"type":"MemberExpression","computed":false,"object":{"range":[90103,90108],"loc":{"start":{"line":3114,"column":8},"end":{"line":3114,"column":13}},"type":"Identifier","name":"Utils"},"property":{"range":[90109,90117],"loc":{"start":{"line":3114,"column":14},"end":{"line":3114,"column":22}},"type":"Identifier","name":"isObject"}},"arguments":[{"range":[90118,90122],"loc":{"start":{"line":3114,"column":23},"end":{"line":3114,"column":27}},"type":"Identifier","name":"data"}]},"consequent":{"range":[90124,90195],"loc":{"start":{"line":3114,"column":29},"end":{"line":3117,"column":5}},"type":"BlockStatement","body":[{"range":[90172,90189],"loc":{"start":{"line":3116,"column":6},"end":{"line":3116,"column":23}},"type":"ExpressionStatement","expression":{"range":[90172,90188],"loc":{"start":{"line":3116,"column":6},"end":{"line":3116,"column":22}},"type":"AssignmentExpression","operator":"=","left":{"range":[90172,90179],"loc":{"start":{"line":3116,"column":6},"end":{"line":3116,"column":13}},"type":"MemberExpression","computed":true,"object":{"range":[90172,90176],"loc":{"start":{"line":3116,"column":6},"end":{"line":3116,"column":10}},"type":"Identifier","name":"args"},"property":{"range":[90177,90178],"loc":{"start":{"line":3116,"column":11},"end":{"line":3116,"column":12}},"type":"Literal","value":0,"raw":"0"}},"right":{"range":[90182,90188],"loc":{"start":{"line":3116,"column":16},"end":{"line":3116,"column":22}},"type":"ArrayExpression","elements":[{"range":[90183,90187],"loc":{"start":{"line":3116,"column":17},"end":{"line":3116,"column":21}},"type":"Identifier","name":"data"}]}},"leadingComments":[{"type":"Line","value":" Convert single object to array","range":[90132,90165],"loc":{"start":{"line":3115,"column":6},"end":{"line":3115,"column":39}}}]}]},"alternate":{"range":[90201,90350],"loc":{"start":{"line":3117,"column":11},"end":{"line":3121,"column":5}},"type":"IfStatement","test":{"range":[90205,90236],"loc":{"start":{"line":3117,"column":15},"end":{"line":3117,"column":46}},"type":"LogicalExpression","operator":"||","left":{"range":[90205,90210],"loc":{"start":{"line":3117,"column":15},"end":{"line":3117,"column":20}},"type":"UnaryExpression","operator":"!","argument":{"range":[90206,90210],"loc":{"start":{"line":3117,"column":16},"end":{"line":3117,"column":20}},"type":"Identifier","name":"data"},"prefix":true},"right":{"range":[90214,90236],"loc":{"start":{"line":3117,"column":24},"end":{"line":3117,"column":46}},"type":"CallExpression","callee":{"range":[90214,90230],"loc":{"start":{"line":3117,"column":24},"end":{"line":3117,"column":40}},"type":"MemberExpression","computed":false,"object":{"range":[90214,90219],"loc":{"start":{"line":3117,"column":24},"end":{"line":3117,"column":29}},"type":"Identifier","name":"Utils"},"property":{"range":[90220,90230],"loc":{"start":{"line":3117,"column":30},"end":{"line":3117,"column":40}},"type":"Identifier","name":"isFunction"}},"arguments":[{"range":[90231,90235],"loc":{"start":{"line":3117,"column":41},"end":{"line":3117,"column":45}},"type":"Identifier","name":"data"}]}},"consequent":{"range":[90238,90350],"loc":{"start":{"line":3117,"column":48},"end":{"line":3121,"column":5}},"type":"BlockStatement","body":[{"range":[90277,90320],"loc":{"start":{"line":3119,"column":6},"end":{"line":3119,"column":49}},"type":"ExpressionStatement","expression":{"range":[90277,90319],"loc":{"start":{"line":3119,"column":6},"end":{"line":3119,"column":48}},"type":"AssignmentExpression","operator":"=","left":{"range":[90277,90281],"loc":{"start":{"line":3119,"column":6},"end":{"line":3119,"column":10}},"type":"Identifier","name":"args"},"right":{"range":[90284,90319],"loc":{"start":{"line":3119,"column":13},"end":{"line":3119,"column":48}},"type":"CallExpression","callee":{"range":[90284,90310],"loc":{"start":{"line":3119,"column":13},"end":{"line":3119,"column":39}},"type":"MemberExpression","computed":false,"object":{"range":[90284,90305],"loc":{"start":{"line":3119,"column":13},"end":{"line":3119,"column":34}},"type":"MemberExpression","computed":false,"object":{"range":[90284,90299],"loc":{"start":{"line":3119,"column":13},"end":{"line":3119,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[90284,90289],"loc":{"start":{"line":3119,"column":13},"end":{"line":3119,"column":18}},"type":"Identifier","name":"Array"},"property":{"range":[90290,90299],"loc":{"start":{"line":3119,"column":19},"end":{"line":3119,"column":28}},"type":"Identifier","name":"prototype"}},"property":{"range":[90300,90305],"loc":{"start":{"line":3119,"column":29},"end":{"line":3119,"column":34}},"type":"Identifier","name":"slice"}},"property":{"range":[90306,90310],"loc":{"start":{"line":3119,"column":35},"end":{"line":3119,"column":39}},"type":"Identifier","name":"call"}},"arguments":[{"range":[90311,90315],"loc":{"start":{"line":3119,"column":40},"end":{"line":3119,"column":44}},"type":"Identifier","name":"args"},{"range":[90317,90318],"loc":{"start":{"line":3119,"column":46},"end":{"line":3119,"column":47}},"type":"Literal","value":0,"raw":"0"}]}},"leadingComments":[{"type":"Line","value":" Add empty data object","range":[90246,90270],"loc":{"start":{"line":3118,"column":6},"end":{"line":3118,"column":30}}}]},{"range":[90327,90344],"loc":{"start":{"line":3120,"column":6},"end":{"line":3120,"column":23}},"type":"ExpressionStatement","expression":{"range":[90327,90343],"loc":{"start":{"line":3120,"column":6},"end":{"line":3120,"column":22}},"type":"CallExpression","callee":{"range":[90327,90339],"loc":{"start":{"line":3120,"column":6},"end":{"line":3120,"column":18}},"type":"MemberExpression","computed":false,"object":{"range":[90327,90331],"loc":{"start":{"line":3120,"column":6},"end":{"line":3120,"column":10}},"type":"Identifier","name":"args"},"property":{"range":[90332,90339],"loc":{"start":{"line":3120,"column":11},"end":{"line":3120,"column":18}},"type":"Identifier","name":"unshift"}},"arguments":[{"range":[90340,90342],"loc":{"start":{"line":3120,"column":19},"end":{"line":3120,"column":21}},"type":"ArrayExpression","elements":[]}]}}]},"alternate":null}},{"range":[90356,90368],"loc":{"start":{"line":3123,"column":4},"end":{"line":3123,"column":16}},"type":"ReturnStatement","argument":{"range":[90363,90367],"loc":{"start":{"line":3123,"column":11},"end":{"line":3123,"column":15}},"type":"Identifier","name":"args"}}]},"generator":false,"expression":false,"leadingComments":[{"type":"Line","value":" The location update normalization of arguments allows to","range":[89581,89640],"loc":{"start":{"line":3086,"column":2},"end":{"line":3086,"column":61}}},{"type":"Line","value":" make easier and more intuitive calls, such as:","range":[89643,89692],"loc":{"start":{"line":3087,"column":2},"end":{"line":3087,"column":51}}},{"type":"Line","value":" - Single location update:","range":[89696,89724],"loc":{"start":{"line":3089,"column":2},"end":{"line":3089,"column":30}}},{"type":"Line","value":" ```","range":[89728,89734],"loc":{"start":{"line":3091,"column":2},"end":{"line":3091,"column":8}}},{"type":"Line","value":"  thng.location().update({","range":[89737,89765],"loc":{"start":{"line":3092,"column":2},"end":{"line":3092,"column":30}}},{"type":"Line","value":"    position: GeoJSON","range":[89768,89791],"loc":{"start":{"line":3093,"column":2},"end":{"line":3093,"column":25}}},{"type":"Line","value":"  });","range":[89794,89801],"loc":{"start":{"line":3094,"column":2},"end":{"line":3094,"column":9}}},{"type":"Line","value":" ```","range":[89804,89810],"loc":{"start":{"line":3095,"column":2},"end":{"line":3095,"column":8}}},{"type":"Line","value":" - Multi location update:","range":[89814,89841],"loc":{"start":{"line":3097,"column":2},"end":{"line":3097,"column":29}}},{"type":"Line","value":" ```","range":[89845,89851],"loc":{"start":{"line":3099,"column":2},"end":{"line":3099,"column":8}}},{"type":"Line","value":"  thng.location().update([","range":[89854,89882],"loc":{"start":{"line":3100,"column":2},"end":{"line":3100,"column":30}}},{"type":"Line","value":"    {","range":[89885,89892],"loc":{"start":{"line":3101,"column":2},"end":{"line":3101,"column":9}}},{"type":"Line","value":"      position: GeoJSON","range":[89895,89920],"loc":{"start":{"line":3102,"column":2},"end":{"line":3102,"column":27}}},{"type":"Line","value":"    },","range":[89923,89931],"loc":{"start":{"line":3103,"column":2},"end":{"line":3103,"column":10}}},{"type":"Line","value":"    {","range":[89934,89941],"loc":{"start":{"line":3104,"column":2},"end":{"line":3104,"column":9}}},{"type":"Line","value":"      position: GeoJSON,","range":[89944,89970],"loc":{"start":{"line":3105,"column":2},"end":{"line":3105,"column":28}}},{"type":"Line","value":"      timestamp: Timestamp","range":[89973,90001],"loc":{"start":{"line":3106,"column":2},"end":{"line":3106,"column":30}}},{"type":"Line","value":"    }","range":[90004,90011],"loc":{"start":{"line":3107,"column":2},"end":{"line":3107,"column":9}}},{"type":"Line","value":" ]);","range":[90014,90020],"loc":{"start":{"line":3108,"column":2},"end":{"line":3108,"column":8}}},{"type":"Line","value":" ```","range":[90023,90029],"loc":{"start":{"line":3109,"column":2},"end":{"line":3109,"column":8}}}]},{"range":[90376,91876],"loc":{"start":{"line":3126,"column":2},"end":{"line":3177,"column":4}},"type":"ReturnStatement","argument":{"range":[90383,91875],"loc":{"start":{"line":3126,"column":9},"end":{"line":3177,"column":3}},"type":"ObjectExpression","properties":[{"range":[90390,90407],"loc":{"start":{"line":3128,"column":4},"end":{"line":3128,"column":21}},"type":"Property","key":{"range":[90390,90397],"loc":{"start":{"line":3128,"column":4},"end":{"line":3128,"column":11}},"type":"Literal","value":"class","raw":"'class'"},"computed":false,"value":{"range":[90399,90407],"loc":{"start":{"line":3128,"column":13},"end":{"line":3128,"column":21}},"type":"Identifier","name":"Location"},"kind":"init","method":false,"shorthand":false},{"range":[90414,91870],"loc":{"start":{"line":3130,"column":4},"end":{"line":3175,"column":5}},"type":"Property","key":{"range":[90414,90433],"loc":{"start":{"line":3130,"column":4},"end":{"line":3130,"column":23}},"type":"Identifier","name":"resourceConstructor"},"computed":false,"value":{"range":[90435,91870],"loc":{"start":{"line":3130,"column":25},"end":{"line":3175,"column":5}},"type":"FunctionExpression","id":null,"params":[],"defaults":[],"body":{"range":[90447,91870],"loc":{"start":{"line":3130,"column":37},"end":{"line":3175,"column":5}},"type":"BlockStatement","body":[{"range":[90455,90536],"loc":{"start":{"line":3131,"column":6},"end":{"line":3132,"column":36}},"type":"VariableDeclaration","declarations":[{"range":[90459,90498],"loc":{"start":{"line":3131,"column":10},"end":{"line":3131,"column":49}},"type":"VariableDeclarator","id":{"range":[90459,90463],"loc":{"start":{"line":3131,"column":10},"end":{"line":3131,"column":14}},"type":"Identifier","name":"path"},"init":{"range":[90466,90498],"loc":{"start":{"line":3131,"column":17},"end":{"line":3131,"column":49}},"type":"BinaryExpression","operator":"+","left":{"range":[90466,90484],"loc":{"start":{"line":3131,"column":17},"end":{"line":3131,"column":35}},"type":"MemberExpression","computed":false,"object":{"range":[90466,90479],"loc":{"start":{"line":3131,"column":17},"end":{"line":3131,"column":30}},"type":"MemberExpression","computed":false,"object":{"range":[90466,90470],"loc":{"start":{"line":3131,"column":17},"end":{"line":3131,"column":21}},"type":"ThisExpression"},"property":{"range":[90471,90479],"loc":{"start":{"line":3131,"column":22},"end":{"line":3131,"column":30}},"type":"Identifier","name":"resource"}},"property":{"range":[90480,90484],"loc":{"start":{"line":3131,"column":31},"end":{"line":3131,"column":35}},"type":"Identifier","name":"path"}},"right":{"range":[90487,90498],"loc":{"start":{"line":3131,"column":38},"end":{"line":3131,"column":49}},"type":"Literal","value":"/location","raw":"'/location'"}}},{"range":[90510,90535],"loc":{"start":{"line":3132,"column":10},"end":{"line":3132,"column":35}},"type":"VariableDeclarator","id":{"range":[90510,90514],"loc":{"start":{"line":3132,"column":10},"end":{"line":3132,"column":14}},"type":"Identifier","name":"args"},"init":{"range":[90517,90535],"loc":{"start":{"line":3132,"column":17},"end":{"line":3132,"column":35}},"type":"LogicalExpression","operator":"||","left":{"range":[90517,90529],"loc":{"start":{"line":3132,"column":17},"end":{"line":3132,"column":29}},"type":"MemberExpression","computed":true,"object":{"range":[90517,90526],"loc":{"start":{"line":3132,"column":17},"end":{"line":3132,"column":26}},"type":"Identifier","name":"arguments"},"property":{"range":[90527,90528],"loc":{"start":{"line":3132,"column":27},"end":{"line":3132,"column":28}},"type":"Literal","value":0,"raw":"0"}},"right":{"range":[90533,90535],"loc":{"start":{"line":3132,"column":33},"end":{"line":3132,"column":35}},"type":"ArrayExpression","elements":[]}}}],"kind":"var","trailingComments":[{"type":"Line","value":" This endpoint is a bit special, does not allow getting location by ID","range":[90544,90616],"loc":{"start":{"line":3134,"column":6},"end":{"line":3134,"column":78}}}]},{"range":[90623,90770],"loc":{"start":{"line":3135,"column":6},"end":{"line":3138,"column":7}},"type":"IfStatement","test":{"range":[90627,90706],"loc":{"start":{"line":3135,"column":10},"end":{"line":3136,"column":55}},"type":"LogicalExpression","operator":"||","left":{"range":[90627,90647],"loc":{"start":{"line":3135,"column":10},"end":{"line":3135,"column":30}},"type":"CallExpression","callee":{"range":[90627,90641],"loc":{"start":{"line":3135,"column":10},"end":{"line":3135,"column":24}},"type":"MemberExpression","computed":false,"object":{"range":[90627,90632],"loc":{"start":{"line":3135,"column":10},"end":{"line":3135,"column":15}},"type":"Identifier","name":"Utils"},"property":{"range":[90633,90641],"loc":{"start":{"line":3135,"column":16},"end":{"line":3135,"column":24}},"type":"Identifier","name":"isString"}},"arguments":[{"range":[90642,90646],"loc":{"start":{"line":3135,"column":25},"end":{"line":3135,"column":29}},"type":"Identifier","name":"args"}]},"right":{"range":[90659,90706],"loc":{"start":{"line":3136,"column":8},"end":{"line":3136,"column":55}},"type":"LogicalExpression","operator":"&&","left":{"range":[90659,90679],"loc":{"start":{"line":3136,"column":8},"end":{"line":3136,"column":28}},"type":"CallExpression","callee":{"range":[90659,90673],"loc":{"start":{"line":3136,"column":8},"end":{"line":3136,"column":22}},"type":"MemberExpression","computed":false,"object":{"range":[90659,90664],"loc":{"start":{"line":3136,"column":8},"end":{"line":3136,"column":13}},"type":"Identifier","name":"Utils"},"property":{"range":[90665,90673],"loc":{"start":{"line":3136,"column":14},"end":{"line":3136,"column":22}},"type":"Identifier","name":"isObject"}},"arguments":[{"range":[90674,90678],"loc":{"start":{"line":3136,"column":23},"end":{"line":3136,"column":27}},"type":"Identifier","name":"args"}]},"right":{"range":[90683,90706],"loc":{"start":{"line":3136,"column":32},"end":{"line":3136,"column":55}},"type":"CallExpression","callee":{"range":[90683,90697],"loc":{"start":{"line":3136,"column":32},"end":{"line":3136,"column":46}},"type":"MemberExpression","computed":false,"object":{"range":[90683,90688],"loc":{"start":{"line":3136,"column":32},"end":{"line":3136,"column":37}},"type":"Identifier","name":"Utils"},"property":{"range":[90689,90697],"loc":{"start":{"line":3136,"column":38},"end":{"line":3136,"column":46}},"type":"Identifier","name":"isString"}},"arguments":[{"range":[90698,90705],"loc":{"start":{"line":3136,"column":47},"end":{"line":3136,"column":54}},"type":"MemberExpression","computed":false,"object":{"range":[90698,90702],"loc":{"start":{"line":3136,"column":47},"end":{"line":3136,"column":51}},"type":"Identifier","name":"args"},"property":{"range":[90703,90705],"loc":{"start":{"line":3136,"column":52},"end":{"line":3136,"column":54}},"type":"Identifier","name":"id"}}]}}},"consequent":{"range":[90708,90770],"loc":{"start":{"line":3136,"column":57},"end":{"line":3138,"column":7}},"type":"BlockStatement","body":[{"range":[90718,90762],"loc":{"start":{"line":3137,"column":8},"end":{"line":3137,"column":52}},"type":"ThrowStatement","argument":{"range":[90724,90761],"loc":{"start":{"line":3137,"column":14},"end":{"line":3137,"column":51}},"type":"NewExpression","callee":{"range":[90728,90737],"loc":{"start":{"line":3137,"column":18},"end":{"line":3137,"column":27}},"type":"Identifier","name":"TypeError"},"arguments":[{"range":[90738,90760],"loc":{"start":{"line":3137,"column":28},"end":{"line":3137,"column":50}},"type":"Literal","value":"IDs not allowed here","raw":"'IDs not allowed here'"}]}}]},"alternate":null,"leadingComments":[{"type":"Line","value":" This endpoint is a bit special, does not allow getting location by ID","range":[90544,90616],"loc":{"start":{"line":3134,"column":6},"end":{"line":3134,"column":78}}}]},{"range":[90778,90854],"loc":{"start":{"line":3140,"column":6},"end":{"line":3140,"column":82}},"type":"VariableDeclaration","declarations":[{"range":[90782,90853],"loc":{"start":{"line":3140,"column":10},"end":{"line":3140,"column":81}},"type":"VariableDeclarator","id":{"range":[90782,90790],"loc":{"start":{"line":3140,"column":10},"end":{"line":3140,"column":18}},"type":"Identifier","name":"resource"},"init":{"range":[90793,90853],"loc":{"start":{"line":3140,"column":21},"end":{"line":3140,"column":81}},"type":"NewExpression","callee":{"range":[90797,90805],"loc":{"start":{"line":3140,"column":25},"end":{"line":3140,"column":33}},"type":"Identifier","name":"Resource"},"arguments":[{"range":[90806,90825],"loc":{"start":{"line":3140,"column":34},"end":{"line":3140,"column":53}},"type":"MemberExpression","computed":false,"object":{"range":[90806,90819],"loc":{"start":{"line":3140,"column":34},"end":{"line":3140,"column":47}},"type":"MemberExpression","computed":false,"object":{"range":[90806,90810],"loc":{"start":{"line":3140,"column":34},"end":{"line":3140,"column":38}},"type":"ThisExpression"},"property":{"range":[90811,90819],"loc":{"start":{"line":3140,"column":39},"end":{"line":3140,"column":47}},"type":"Identifier","name":"resource"}},"property":{"range":[90820,90825],"loc":{"start":{"line":3140,"column":48},"end":{"line":3140,"column":53}},"type":"Identifier","name":"scope"}},{"range":[90827,90831],"loc":{"start":{"line":3140,"column":55},"end":{"line":3140,"column":59}},"type":"Identifier","name":"path"},{"range":[90833,90852],"loc":{"start":{"line":3140,"column":61},"end":{"line":3140,"column":80}},"type":"MemberExpression","computed":false,"object":{"range":[90833,90843],"loc":{"start":{"line":3140,"column":61},"end":{"line":3140,"column":71}},"type":"MemberExpression","computed":false,"object":{"range":[90833,90836],"loc":{"start":{"line":3140,"column":61},"end":{"line":3140,"column":64}},"type":"Identifier","name":"EVT"},"property":{"range":[90837,90843],"loc":{"start":{"line":3140,"column":65},"end":{"line":3140,"column":71}},"type":"Identifier","name":"Entity"}},"property":{"range":[90844,90852],"loc":{"start":{"line":3140,"column":72},"end":{"line":3140,"column":80}},"type":"Identifier","name":"Location"}}]}}],"kind":"var","trailingComments":[{"type":"Line","value":" Overload resource update() to send current location if none provided","range":[90862,90933],"loc":{"start":{"line":3142,"column":6},"end":{"line":3142,"column":77}}}]},{"range":[90940,91840],"loc":{"start":{"line":3143,"column":6},"end":{"line":3172,"column":8}},"type":"ExpressionStatement","expression":{"range":[90940,91839],"loc":{"start":{"line":3143,"column":6},"end":{"line":3172,"column":7}},"type":"AssignmentExpression","operator":"=","left":{"range":[90940,90955],"loc":{"start":{"line":3143,"column":6},"end":{"line":3143,"column":21}},"type":"MemberExpression","computed":false,"object":{"range":[90940,90948],"loc":{"start":{"line":3143,"column":6},"end":{"line":3143,"column":14}},"type":"Identifier","name":"resource"},"property":{"range":[90949,90955],"loc":{"start":{"line":3143,"column":15},"end":{"line":3143,"column":21}},"type":"Identifier","name":"update"}},"right":{"range":[90958,91839],"loc":{"start":{"line":3143,"column":24},"end":{"line":3172,"column":7}},"type":"FunctionExpression","id":null,"params":[],"defaults":[],"body":{"range":[90970,91839],"loc":{"start":{"line":3143,"column":36},"end":{"line":3172,"column":7}},"type":"BlockStatement","body":[{"range":[90980,91048],"loc":{"start":{"line":3144,"column":8},"end":{"line":3145,"column":50}},"type":"VariableDeclaration","declarations":[{"range":[90984,90996],"loc":{"start":{"line":3144,"column":12},"end":{"line":3144,"column":24}},"type":"VariableDeclarator","id":{"range":[90984,90989],"loc":{"start":{"line":3144,"column":12},"end":{"line":3144,"column":17}},"type":"Identifier","name":"$this"},"init":{"range":[90992,90996],"loc":{"start":{"line":3144,"column":20},"end":{"line":3144,"column":24}},"type":"ThisExpression"}},{"range":[91010,91047],"loc":{"start":{"line":3145,"column":12},"end":{"line":3145,"column":49}},"type":"VariableDeclarator","id":{"range":[91010,91014],"loc":{"start":{"line":3145,"column":12},"end":{"line":3145,"column":16}},"type":"Identifier","name":"args"},"init":{"range":[91017,91047],"loc":{"start":{"line":3145,"column":19},"end":{"line":3145,"column":49}},"type":"CallExpression","callee":{"range":[91017,91036],"loc":{"start":{"line":3145,"column":19},"end":{"line":3145,"column":38}},"type":"Identifier","name":"_normalizeArguments"},"arguments":[{"range":[91037,91046],"loc":{"start":{"line":3145,"column":39},"end":{"line":3145,"column":48}},"type":"Identifier","name":"arguments"}]}}],"kind":"var"},{"range":[91058,91831],"loc":{"start":{"line":3147,"column":8},"end":{"line":3171,"column":9}},"type":"IfStatement","test":{"range":[91062,91110],"loc":{"start":{"line":3147,"column":12},"end":{"line":3147,"column":60}},"type":"LogicalExpression","operator":"&&","left":{"range":[91062,91082],"loc":{"start":{"line":3147,"column":12},"end":{"line":3147,"column":32}},"type":"BinaryExpression","operator":"===","left":{"range":[91062,91076],"loc":{"start":{"line":3147,"column":12},"end":{"line":3147,"column":26}},"type":"MemberExpression","computed":false,"object":{"range":[91062,91069],"loc":{"start":{"line":3147,"column":12},"end":{"line":3147,"column":19}},"type":"MemberExpression","computed":true,"object":{"range":[91062,91066],"loc":{"start":{"line":3147,"column":12},"end":{"line":3147,"column":16}},"type":"Identifier","name":"args"},"property":{"range":[91067,91068],"loc":{"start":{"line":3147,"column":17},"end":{"line":3147,"column":18}},"type":"Literal","value":0,"raw":"0"}},"property":{"range":[91070,91076],"loc":{"start":{"line":3147,"column":20},"end":{"line":3147,"column":26}},"type":"Identifier","name":"length"}},"right":{"range":[91081,91082],"loc":{"start":{"line":3147,"column":31},"end":{"line":3147,"column":32}},"type":"Literal","value":0,"raw":"0"}},"right":{"range":[91086,91110],"loc":{"start":{"line":3147,"column":36},"end":{"line":3147,"column":60}},"type":"MemberExpression","computed":false,"object":{"range":[91086,91098],"loc":{"start":{"line":3147,"column":36},"end":{"line":3147,"column":48}},"type":"MemberExpression","computed":false,"object":{"range":[91086,91089],"loc":{"start":{"line":3147,"column":36},"end":{"line":3147,"column":39}},"type":"Identifier","name":"EVT"},"property":{"range":[91090,91098],"loc":{"start":{"line":3147,"column":40},"end":{"line":3147,"column":48}},"type":"Identifier","name":"settings"}},"property":{"range":[91099,91110],"loc":{"start":{"line":3147,"column":49},"end":{"line":3147,"column":60}},"type":"Identifier","name":"geolocation"}}},"consequent":{"range":[91112,91751],"loc":{"start":{"line":3147,"column":62},"end":{"line":3169,"column":9}},"type":"BlockStatement","body":[{"range":[91195,91740],"loc":{"start":{"line":3149,"column":10},"end":{"line":3167,"column":13}},"type":"ReturnStatement","argument":{"range":[91202,91739],"loc":{"start":{"line":3149,"column":17},"end":{"line":3167,"column":12}},"type":"CallExpression","callee":{"range":[91202,91233],"loc":{"start":{"line":3149,"column":17},"end":{"line":3149,"column":48}},"type":"MemberExpression","computed":false,"object":{"range":[91202,91228],"loc":{"start":{"line":3149,"column":17},"end":{"line":3149,"column":43}},"type":"CallExpression","callee":{"range":[91202,91226],"loc":{"start":{"line":3149,"column":17},"end":{"line":3149,"column":41}},"type":"MemberExpression","computed":false,"object":{"range":[91202,91207],"loc":{"start":{"line":3149,"column":17},"end":{"line":3149,"column":22}},"type":"Identifier","name":"Utils"},"property":{"range":[91208,91226],"loc":{"start":{"line":3149,"column":23},"end":{"line":3149,"column":41}},"type":"Identifier","name":"getCurrentPosition"}},"arguments":[]},"property":{"range":[91229,91233],"loc":{"start":{"line":3149,"column":44},"end":{"line":3149,"column":48}},"type":"Identifier","name":"then"}},"arguments":[{"range":[91234,91532],"loc":{"start":{"line":3149,"column":49},"end":{"line":3160,"column":11}},"type":"FunctionExpression","id":null,"params":[{"range":[91244,91252],"loc":{"start":{"line":3149,"column":59},"end":{"line":3149,"column":67}},"type":"Identifier","name":"position"}],"defaults":[],"body":{"range":[91254,91532],"loc":{"start":{"line":3149,"column":69},"end":{"line":3160,"column":11}},"type":"BlockStatement","body":[{"range":[91269,91453],"loc":{"start":{"line":3151,"column":12},"end":{"line":3156,"column":15}},"type":"ExpressionStatement","expression":{"range":[91269,91452],"loc":{"start":{"line":3151,"column":12},"end":{"line":3156,"column":14}},"type":"AssignmentExpression","operator":"=","left":{"range":[91269,91276],"loc":{"start":{"line":3151,"column":12},"end":{"line":3151,"column":19}},"type":"MemberExpression","computed":true,"object":{"range":[91269,91273],"loc":{"start":{"line":3151,"column":12},"end":{"line":3151,"column":16}},"type":"Identifier","name":"args"},"property":{"range":[91274,91275],"loc":{"start":{"line":3151,"column":17},"end":{"line":3151,"column":18}},"type":"Literal","value":0,"raw":"0"}},"right":{"range":[91278,91452],"loc":{"start":{"line":3151,"column":21},"end":{"line":3156,"column":14}},"type":"ArrayExpression","elements":[{"range":[91279,91451],"loc":{"start":{"line":3151,"column":22},"end":{"line":3156,"column":13}},"type":"ObjectExpression","properties":[{"range":[91295,91437],"loc":{"start":{"line":3152,"column":14},"end":{"line":3155,"column":15}},"type":"Property","key":{"range":[91295,91303],"loc":{"start":{"line":3152,"column":14},"end":{"line":3152,"column":22}},"type":"Identifier","name":"position"},"computed":false,"value":{"range":[91305,91437],"loc":{"start":{"line":3152,"column":24},"end":{"line":3155,"column":15}},"type":"ObjectExpression","properties":[{"range":[91323,91336],"loc":{"start":{"line":3153,"column":16},"end":{"line":3153,"column":29}},"type":"Property","key":{"range":[91323,91327],"loc":{"start":{"line":3153,"column":16},"end":{"line":3153,"column":20}},"type":"Identifier","name":"type"},"computed":false,"value":{"range":[91329,91336],"loc":{"start":{"line":3153,"column":22},"end":{"line":3153,"column":29}},"type":"Literal","value":"Point","raw":"\"Point\""},"kind":"init","method":false,"shorthand":false},{"range":[91354,91421],"loc":{"start":{"line":3154,"column":16},"end":{"line":3154,"column":83}},"type":"Property","key":{"range":[91354,91365],"loc":{"start":{"line":3154,"column":16},"end":{"line":3154,"column":27}},"type":"Identifier","name":"coordinates"},"computed":false,"value":{"range":[91367,91421],"loc":{"start":{"line":3154,"column":29},"end":{"line":3154,"column":83}},"type":"ArrayExpression","elements":[{"range":[91369,91394],"loc":{"start":{"line":3154,"column":31},"end":{"line":3154,"column":56}},"type":"MemberExpression","computed":false,"object":{"range":[91369,91384],"loc":{"start":{"line":3154,"column":31},"end":{"line":3154,"column":46}},"type":"MemberExpression","computed":false,"object":{"range":[91369,91377],"loc":{"start":{"line":3154,"column":31},"end":{"line":3154,"column":39}},"type":"Identifier","name":"position"},"property":{"range":[91378,91384],"loc":{"start":{"line":3154,"column":40},"end":{"line":3154,"column":46}},"type":"Identifier","name":"coords"}},"property":{"range":[91385,91394],"loc":{"start":{"line":3154,"column":47},"end":{"line":3154,"column":56}},"type":"Identifier","name":"longitude"}},{"range":[91396,91420],"loc":{"start":{"line":3154,"column":58},"end":{"line":3154,"column":82}},"type":"MemberExpression","computed":false,"object":{"range":[91396,91411],"loc":{"start":{"line":3154,"column":58},"end":{"line":3154,"column":73}},"type":"MemberExpression","computed":false,"object":{"range":[91396,91404],"loc":{"start":{"line":3154,"column":58},"end":{"line":3154,"column":66}},"type":"Identifier","name":"position"},"property":{"range":[91405,91411],"loc":{"start":{"line":3154,"column":67},"end":{"line":3154,"column":73}},"type":"Identifier","name":"coords"}},"property":{"range":[91412,91420],"loc":{"start":{"line":3154,"column":74},"end":{"line":3154,"column":82}},"type":"Identifier","name":"latitude"}}]},"kind":"init","method":false,"shorthand":false}]},"kind":"init","method":false,"shorthand":false}]}]}}},{"range":[91467,91519],"loc":{"start":{"line":3158,"column":12},"end":{"line":3158,"column":64}},"type":"ReturnStatement","argument":{"range":[91474,91518],"loc":{"start":{"line":3158,"column":19},"end":{"line":3158,"column":63}},"type":"CallExpression","callee":{"range":[91474,91505],"loc":{"start":{"line":3158,"column":19},"end":{"line":3158,"column":50}},"type":"MemberExpression","computed":false,"object":{"range":[91474,91499],"loc":{"start":{"line":3158,"column":19},"end":{"line":3158,"column":44}},"type":"MemberExpression","computed":false,"object":{"range":[91474,91492],"loc":{"start":{"line":3158,"column":19},"end":{"line":3158,"column":37}},"type":"MemberExpression","computed":false,"object":{"range":[91474,91482],"loc":{"start":{"line":3158,"column":19},"end":{"line":3158,"column":27}},"type":"Identifier","name":"Resource"},"property":{"range":[91483,91492],"loc":{"start":{"line":3158,"column":28},"end":{"line":3158,"column":37}},"type":"Identifier","name":"prototype"}},"property":{"range":[91493,91499],"loc":{"start":{"line":3158,"column":38},"end":{"line":3158,"column":44}},"type":"Identifier","name":"update"}},"property":{"range":[91500,91505],"loc":{"start":{"line":3158,"column":45},"end":{"line":3158,"column":50}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[91506,91511],"loc":{"start":{"line":3158,"column":51},"end":{"line":3158,"column":56}},"type":"Identifier","name":"$this"},{"range":[91513,91517],"loc":{"start":{"line":3158,"column":58},"end":{"line":3158,"column":62}},"type":"Identifier","name":"args"}]}}]},"generator":false,"expression":false},{"range":[91534,91738],"loc":{"start":{"line":3160,"column":13},"end":{"line":3167,"column":11}},"type":"FunctionExpression","id":null,"params":[{"range":[91544,91547],"loc":{"start":{"line":3160,"column":23},"end":{"line":3160,"column":26}},"type":"Identifier","name":"err"}],"defaults":[],"body":{"range":[91549,91738],"loc":{"start":{"line":3160,"column":28},"end":{"line":3167,"column":11}},"type":"BlockStatement","body":[{"range":[91642,91659],"loc":{"start":{"line":3163,"column":12},"end":{"line":3163,"column":29}},"type":"ExpressionStatement","expression":{"range":[91642,91658],"loc":{"start":{"line":3163,"column":12},"end":{"line":3163,"column":28}},"type":"CallExpression","callee":{"range":[91642,91653],"loc":{"start":{"line":3163,"column":12},"end":{"line":3163,"column":23}},"type":"MemberExpression","computed":false,"object":{"range":[91642,91648],"loc":{"start":{"line":3163,"column":12},"end":{"line":3163,"column":18}},"type":"Identifier","name":"Logger"},"property":{"range":[91649,91653],"loc":{"start":{"line":3163,"column":19},"end":{"line":3163,"column":23}},"type":"Identifier","name":"info"}},"arguments":[{"range":[91654,91657],"loc":{"start":{"line":3163,"column":24},"end":{"line":3163,"column":27}},"type":"Identifier","name":"err"}]},"leadingComments":[{"type":"Line","value":" Unable to get position, just inform the reason in the console.","range":[91564,91629],"loc":{"start":{"line":3162,"column":12},"end":{"line":3162,"column":77}}}]},{"range":[91673,91725],"loc":{"start":{"line":3165,"column":12},"end":{"line":3165,"column":64}},"type":"ReturnStatement","argument":{"range":[91680,91724],"loc":{"start":{"line":3165,"column":19},"end":{"line":3165,"column":63}},"type":"CallExpression","callee":{"range":[91680,91711],"loc":{"start":{"line":3165,"column":19},"end":{"line":3165,"column":50}},"type":"MemberExpression","computed":false,"object":{"range":[91680,91705],"loc":{"start":{"line":3165,"column":19},"end":{"line":3165,"column":44}},"type":"MemberExpression","computed":false,"object":{"range":[91680,91698],"loc":{"start":{"line":3165,"column":19},"end":{"line":3165,"column":37}},"type":"MemberExpression","computed":false,"object":{"range":[91680,91688],"loc":{"start":{"line":3165,"column":19},"end":{"line":3165,"column":27}},"type":"Identifier","name":"Resource"},"property":{"range":[91689,91698],"loc":{"start":{"line":3165,"column":28},"end":{"line":3165,"column":37}},"type":"Identifier","name":"prototype"}},"property":{"range":[91699,91705],"loc":{"start":{"line":3165,"column":38},"end":{"line":3165,"column":44}},"type":"Identifier","name":"update"}},"property":{"range":[91706,91711],"loc":{"start":{"line":3165,"column":45},"end":{"line":3165,"column":50}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[91712,91717],"loc":{"start":{"line":3165,"column":51},"end":{"line":3165,"column":56}},"type":"Identifier","name":"$this"},{"range":[91719,91723],"loc":{"start":{"line":3165,"column":58},"end":{"line":3165,"column":62}},"type":"Identifier","name":"args"}]}}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" If geolocation setting is turned on, get current position","range":[91124,91184],"loc":{"start":{"line":3148,"column":10},"end":{"line":3148,"column":70}}}]}]},"alternate":{"range":[91757,91831],"loc":{"start":{"line":3169,"column":15},"end":{"line":3171,"column":9}},"type":"BlockStatement","body":[{"range":[91769,91821],"loc":{"start":{"line":3170,"column":10},"end":{"line":3170,"column":62}},"type":"ReturnStatement","argument":{"range":[91776,91820],"loc":{"start":{"line":3170,"column":17},"end":{"line":3170,"column":61}},"type":"CallExpression","callee":{"range":[91776,91807],"loc":{"start":{"line":3170,"column":17},"end":{"line":3170,"column":48}},"type":"MemberExpression","computed":false,"object":{"range":[91776,91801],"loc":{"start":{"line":3170,"column":17},"end":{"line":3170,"column":42}},"type":"MemberExpression","computed":false,"object":{"range":[91776,91794],"loc":{"start":{"line":3170,"column":17},"end":{"line":3170,"column":35}},"type":"MemberExpression","computed":false,"object":{"range":[91776,91784],"loc":{"start":{"line":3170,"column":17},"end":{"line":3170,"column":25}},"type":"Identifier","name":"Resource"},"property":{"range":[91785,91794],"loc":{"start":{"line":3170,"column":26},"end":{"line":3170,"column":35}},"type":"Identifier","name":"prototype"}},"property":{"range":[91795,91801],"loc":{"start":{"line":3170,"column":36},"end":{"line":3170,"column":42}},"type":"Identifier","name":"update"}},"property":{"range":[91802,91807],"loc":{"start":{"line":3170,"column":43},"end":{"line":3170,"column":48}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[91808,91813],"loc":{"start":{"line":3170,"column":49},"end":{"line":3170,"column":54}},"type":"Identifier","name":"$this"},{"range":[91815,91819],"loc":{"start":{"line":3170,"column":56},"end":{"line":3170,"column":60}},"type":"Identifier","name":"args"}]}}]}}]},"generator":false,"expression":false}},"leadingComments":[{"type":"Line","value":" Overload resource update() to send current location if none provided","range":[90862,90933],"loc":{"start":{"line":3142,"column":6},"end":{"line":3142,"column":77}}}]},{"range":[91848,91864],"loc":{"start":{"line":3174,"column":6},"end":{"line":3174,"column":22}},"type":"ReturnStatement","argument":{"range":[91855,91863],"loc":{"start":{"line":3174,"column":13},"end":{"line":3174,"column":21}},"type":"Identifier","name":"resource"}}]},"generator":false,"expression":false},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" ## LOCATION.JS","range":[88935,88952],"loc":{"start":{"line":3060,"column":0},"end":{"line":3060,"column":17}}},{"type":"Line","value":" **The Location Entity represents a location in the Engine. It inherits","range":[88954,89027],"loc":{"start":{"line":3062,"column":0},"end":{"line":3062,"column":73}}},{"type":"Line","value":" from Entity and overload the resource's *update()* method to allow","range":[89028,89097],"loc":{"start":{"line":3063,"column":0},"end":{"line":3063,"column":69}}},{"type":"Line","value":" empty parameters (no payload).**","range":[89098,89133],"loc":{"start":{"line":3064,"column":0},"end":{"line":3064,"column":35}}}],"trailingComments":[{"type":"Line","value":" ## THNG.JS","range":[91882,91895],"loc":{"start":{"line":3180,"column":0},"end":{"line":3180,"column":13}}},{"type":"Line","value":" **The Thng is a simple Entity subclass that provides a nested","range":[91897,91961],"loc":{"start":{"line":3182,"column":0},"end":{"line":3182,"column":64}}},{"type":"Line","value":" Property Resource and a direct method to read the Thng's Product.**","range":[91962,92032],"loc":{"start":{"line":3183,"column":0},"end":{"line":3183,"column":70}}}]},{"range":[92034,93653],"loc":{"start":{"line":3185,"column":0},"end":{"line":3251,"column":3}},"type":"ExpressionStatement","expression":{"range":[92034,93652],"loc":{"start":{"line":3185,"column":0},"end":{"line":3251,"column":2}},"type":"CallExpression","callee":{"range":[92034,92040],"loc":{"start":{"line":3185,"column":0},"end":{"line":3185,"column":6}},"type":"Identifier","name":"define"},"arguments":[{"range":[92041,92054],"loc":{"start":{"line":3185,"column":7},"end":{"line":3185,"column":20}},"type":"Literal","value":"entity/thng","raw":"'entity/thng'"},{"range":[92055,92152],"loc":{"start":{"line":3185,"column":21},"end":{"line":3193,"column":1}},"type":"ArrayExpression","elements":[{"range":[92059,92065],"loc":{"start":{"line":3186,"column":2},"end":{"line":3186,"column":8}},"type":"Literal","value":"core","raw":"'core'"},{"range":[92069,92079],"loc":{"start":{"line":3187,"column":2},"end":{"line":3187,"column":12}},"type":"Literal","value":"./entity","raw":"'./entity'"},{"range":[92083,92093],"loc":{"start":{"line":3188,"column":2},"end":{"line":3188,"column":12}},"type":"Literal","value":"resource","raw":"'resource'"},{"range":[92097,92109],"loc":{"start":{"line":3189,"column":2},"end":{"line":3189,"column":14}},"type":"Literal","value":"./property","raw":"'./property'"},{"range":[92113,92123],"loc":{"start":{"line":3190,"column":2},"end":{"line":3190,"column":12}},"type":"Literal","value":"./action","raw":"'./action'"},{"range":[92127,92139],"loc":{"start":{"line":3191,"column":2},"end":{"line":3191,"column":14}},"type":"Literal","value":"./location","raw":"'./location'"},{"range":[92143,92150],"loc":{"start":{"line":3192,"column":2},"end":{"line":3192,"column":9}},"type":"Literal","value":"utils","raw":"'utils'"}]},{"range":[92154,93651],"loc":{"start":{"line":3193,"column":3},"end":{"line":3251,"column":1}},"type":"FunctionExpression","id":null,"params":[{"range":[92164,92167],"loc":{"start":{"line":3193,"column":13},"end":{"line":3193,"column":16}},"type":"Identifier","name":"EVT"},{"range":[92169,92175],"loc":{"start":{"line":3193,"column":18},"end":{"line":3193,"column":24}},"type":"Identifier","name":"Entity"},{"range":[92177,92185],"loc":{"start":{"line":3193,"column":26},"end":{"line":3193,"column":34}},"type":"Identifier","name":"Resource"},{"range":[92187,92195],"loc":{"start":{"line":3193,"column":36},"end":{"line":3193,"column":44}},"type":"Identifier","name":"Property"},{"range":[92197,92203],"loc":{"start":{"line":3193,"column":46},"end":{"line":3193,"column":52}},"type":"Identifier","name":"Action"},{"range":[92205,92213],"loc":{"start":{"line":3193,"column":54},"end":{"line":3193,"column":62}},"type":"Identifier","name":"Location"},{"range":[92215,92220],"loc":{"start":{"line":3193,"column":64},"end":{"line":3193,"column":69}},"type":"Identifier","name":"Utils"}],"defaults":[],"body":{"range":[92222,93651],"loc":{"start":{"line":3193,"column":71},"end":{"line":3251,"column":1}},"type":"BlockStatement","body":[{"range":[92226,92239],"loc":{"start":{"line":3194,"column":2},"end":{"line":3194,"column":15}},"type":"ExpressionStatement","expression":{"range":[92226,92238],"loc":{"start":{"line":3194,"column":2},"end":{"line":3194,"column":14}},"type":"Literal","value":"use strict","raw":"'use strict'"},"trailingComments":[{"type":"Line","value":" Setup Thng inheritance from Entity.","range":[92243,92281],"loc":{"start":{"line":3196,"column":2},"end":{"line":3196,"column":40}}}]},{"range":[92284,92348],"loc":{"start":{"line":3197,"column":2},"end":{"line":3199,"column":4}},"type":"VariableDeclaration","declarations":[{"range":[92288,92347],"loc":{"start":{"line":3197,"column":6},"end":{"line":3199,"column":3}},"type":"VariableDeclarator","id":{"range":[92288,92292],"loc":{"start":{"line":3197,"column":6},"end":{"line":3197,"column":10}},"type":"Identifier","name":"Thng"},"init":{"range":[92295,92347],"loc":{"start":{"line":3197,"column":13},"end":{"line":3199,"column":3}},"type":"FunctionExpression","id":null,"params":[],"defaults":[],"body":{"range":[92307,92347],"loc":{"start":{"line":3197,"column":25},"end":{"line":3199,"column":3}},"type":"BlockStatement","body":[{"range":[92313,92343],"loc":{"start":{"line":3198,"column":4},"end":{"line":3198,"column":34}},"type":"ExpressionStatement","expression":{"range":[92313,92342],"loc":{"start":{"line":3198,"column":4},"end":{"line":3198,"column":33}},"type":"CallExpression","callee":{"range":[92313,92325],"loc":{"start":{"line":3198,"column":4},"end":{"line":3198,"column":16}},"type":"MemberExpression","computed":false,"object":{"range":[92313,92319],"loc":{"start":{"line":3198,"column":4},"end":{"line":3198,"column":10}},"type":"Identifier","name":"Entity"},"property":{"range":[92320,92325],"loc":{"start":{"line":3198,"column":11},"end":{"line":3198,"column":16}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[92326,92330],"loc":{"start":{"line":3198,"column":17},"end":{"line":3198,"column":21}},"type":"ThisExpression"},{"range":[92332,92341],"loc":{"start":{"line":3198,"column":23},"end":{"line":3198,"column":32}},"type":"Identifier","name":"arguments"}]}}]},"generator":false,"expression":false}}],"kind":"var","leadingComments":[{"type":"Line","value":" Setup Thng inheritance from Entity.","range":[92243,92281],"loc":{"start":{"line":3196,"column":2},"end":{"line":3196,"column":40}}}]},{"range":[92352,92401],"loc":{"start":{"line":3201,"column":2},"end":{"line":3201,"column":51}},"type":"ExpressionStatement","expression":{"range":[92352,92400],"loc":{"start":{"line":3201,"column":2},"end":{"line":3201,"column":50}},"type":"AssignmentExpression","operator":"=","left":{"range":[92352,92366],"loc":{"start":{"line":3201,"column":2},"end":{"line":3201,"column":16}},"type":"MemberExpression","computed":false,"object":{"range":[92352,92356],"loc":{"start":{"line":3201,"column":2},"end":{"line":3201,"column":6}},"type":"Identifier","name":"Thng"},"property":{"range":[92357,92366],"loc":{"start":{"line":3201,"column":7},"end":{"line":3201,"column":16}},"type":"Identifier","name":"prototype"}},"right":{"range":[92369,92400],"loc":{"start":{"line":3201,"column":19},"end":{"line":3201,"column":50}},"type":"CallExpression","callee":{"range":[92369,92382],"loc":{"start":{"line":3201,"column":19},"end":{"line":3201,"column":32}},"type":"MemberExpression","computed":false,"object":{"range":[92369,92375],"loc":{"start":{"line":3201,"column":19},"end":{"line":3201,"column":25}},"type":"Identifier","name":"Object"},"property":{"range":[92376,92382],"loc":{"start":{"line":3201,"column":26},"end":{"line":3201,"column":32}},"type":"Identifier","name":"create"}},"arguments":[{"range":[92383,92399],"loc":{"start":{"line":3201,"column":33},"end":{"line":3201,"column":49}},"type":"MemberExpression","computed":false,"object":{"range":[92383,92389],"loc":{"start":{"line":3201,"column":33},"end":{"line":3201,"column":39}},"type":"Identifier","name":"Entity"},"property":{"range":[92390,92399],"loc":{"start":{"line":3201,"column":40},"end":{"line":3201,"column":49}},"type":"Identifier","name":"prototype"}}]}}},{"range":[92404,92438],"loc":{"start":{"line":3202,"column":2},"end":{"line":3202,"column":36}},"type":"ExpressionStatement","expression":{"range":[92404,92437],"loc":{"start":{"line":3202,"column":2},"end":{"line":3202,"column":35}},"type":"AssignmentExpression","operator":"=","left":{"range":[92404,92430],"loc":{"start":{"line":3202,"column":2},"end":{"line":3202,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[92404,92418],"loc":{"start":{"line":3202,"column":2},"end":{"line":3202,"column":16}},"type":"MemberExpression","computed":false,"object":{"range":[92404,92408],"loc":{"start":{"line":3202,"column":2},"end":{"line":3202,"column":6}},"type":"Identifier","name":"Thng"},"property":{"range":[92409,92418],"loc":{"start":{"line":3202,"column":7},"end":{"line":3202,"column":16}},"type":"Identifier","name":"prototype"}},"property":{"range":[92419,92430],"loc":{"start":{"line":3202,"column":17},"end":{"line":3202,"column":28}},"type":"Identifier","name":"constructor"}},"right":{"range":[92433,92437],"loc":{"start":{"line":3202,"column":31},"end":{"line":3202,"column":35}},"type":"Identifier","name":"Thng"}},"trailingComments":[{"type":"Line","value":" When not using `fetchCascade`, this method allows to easily","range":[92443,92505],"loc":{"start":{"line":3205,"column":2},"end":{"line":3205,"column":64}}},{"type":"Line","value":" fetch the Product entity of this Thng. It fowards the call","range":[92508,92569],"loc":{"start":{"line":3206,"column":2},"end":{"line":3206,"column":63}}},{"type":"Line","value":" to this thng's scope's product resource.","range":[92572,92615],"loc":{"start":{"line":3207,"column":2},"end":{"line":3207,"column":45}}}]},{"range":[92618,92886],"loc":{"start":{"line":3208,"column":2},"end":{"line":3219,"column":3}},"type":"FunctionDeclaration","id":{"range":[92627,92638],"loc":{"start":{"line":3208,"column":11},"end":{"line":3208,"column":22}},"type":"Identifier","name":"readProduct"},"params":[],"defaults":[],"body":{"range":[92641,92886],"loc":{"start":{"line":3208,"column":25},"end":{"line":3219,"column":3}},"type":"BlockStatement","body":[{"range":[92648,92730],"loc":{"start":{"line":3210,"column":4},"end":{"line":3212,"column":5}},"type":"IfStatement","test":{"range":[92652,92665],"loc":{"start":{"line":3210,"column":8},"end":{"line":3210,"column":21}},"type":"UnaryExpression","operator":"!","argument":{"range":[92653,92665],"loc":{"start":{"line":3210,"column":9},"end":{"line":3210,"column":21}},"type":"MemberExpression","computed":false,"object":{"range":[92653,92657],"loc":{"start":{"line":3210,"column":9},"end":{"line":3210,"column":13}},"type":"ThisExpression"},"property":{"range":[92658,92665],"loc":{"start":{"line":3210,"column":14},"end":{"line":3210,"column":21}},"type":"Identifier","name":"product"}},"prefix":true},"consequent":{"range":[92667,92730],"loc":{"start":{"line":3210,"column":23},"end":{"line":3212,"column":5}},"type":"BlockStatement","body":[{"range":[92675,92724],"loc":{"start":{"line":3211,"column":6},"end":{"line":3211,"column":55}},"type":"ThrowStatement","argument":{"range":[92681,92723],"loc":{"start":{"line":3211,"column":12},"end":{"line":3211,"column":54}},"type":"NewExpression","callee":{"range":[92685,92690],"loc":{"start":{"line":3211,"column":16},"end":{"line":3211,"column":21}},"type":"Identifier","name":"Error"},"arguments":[{"range":[92691,92722],"loc":{"start":{"line":3211,"column":22},"end":{"line":3211,"column":53}},"type":"Literal","value":"Thng does not have a product.","raw":"'Thng does not have a product.'"}]}}]},"alternate":null},{"range":[92736,92820],"loc":{"start":{"line":3214,"column":4},"end":{"line":3216,"column":5}},"type":"IfStatement","test":{"range":[92740,92754],"loc":{"start":{"line":3214,"column":8},"end":{"line":3214,"column":22}},"type":"UnaryExpression","operator":"!","argument":{"range":[92741,92754],"loc":{"start":{"line":3214,"column":9},"end":{"line":3214,"column":22}},"type":"MemberExpression","computed":false,"object":{"range":[92741,92745],"loc":{"start":{"line":3214,"column":9},"end":{"line":3214,"column":13}},"type":"ThisExpression"},"property":{"range":[92746,92754],"loc":{"start":{"line":3214,"column":14},"end":{"line":3214,"column":22}},"type":"Identifier","name":"resource"}},"prefix":true},"consequent":{"range":[92756,92820],"loc":{"start":{"line":3214,"column":24},"end":{"line":3216,"column":5}},"type":"BlockStatement","body":[{"range":[92764,92814],"loc":{"start":{"line":3215,"column":6},"end":{"line":3215,"column":56}},"type":"ThrowStatement","argument":{"range":[92770,92813],"loc":{"start":{"line":3215,"column":12},"end":{"line":3215,"column":55}},"type":"NewExpression","callee":{"range":[92774,92779],"loc":{"start":{"line":3215,"column":16},"end":{"line":3215,"column":21}},"type":"Identifier","name":"Error"},"arguments":[{"range":[92780,92812],"loc":{"start":{"line":3215,"column":22},"end":{"line":3215,"column":54}},"type":"Literal","value":"Thng does not have a resource.","raw":"'Thng does not have a resource.'"}]}}]},"alternate":null},{"range":[92826,92882],"loc":{"start":{"line":3218,"column":4},"end":{"line":3218,"column":60}},"type":"ReturnStatement","argument":{"range":[92833,92881],"loc":{"start":{"line":3218,"column":11},"end":{"line":3218,"column":59}},"type":"CallExpression","callee":{"range":[92833,92879],"loc":{"start":{"line":3218,"column":11},"end":{"line":3218,"column":57}},"type":"MemberExpression","computed":false,"object":{"range":[92833,92874],"loc":{"start":{"line":3218,"column":11},"end":{"line":3218,"column":52}},"type":"CallExpression","callee":{"range":[92833,92860],"loc":{"start":{"line":3218,"column":11},"end":{"line":3218,"column":38}},"type":"MemberExpression","computed":false,"object":{"range":[92833,92852],"loc":{"start":{"line":3218,"column":11},"end":{"line":3218,"column":30}},"type":"MemberExpression","computed":false,"object":{"range":[92833,92846],"loc":{"start":{"line":3218,"column":11},"end":{"line":3218,"column":24}},"type":"MemberExpression","computed":false,"object":{"range":[92833,92837],"loc":{"start":{"line":3218,"column":11},"end":{"line":3218,"column":15}},"type":"ThisExpression"},"property":{"range":[92838,92846],"loc":{"start":{"line":3218,"column":16},"end":{"line":3218,"column":24}},"type":"Identifier","name":"resource"}},"property":{"range":[92847,92852],"loc":{"start":{"line":3218,"column":25},"end":{"line":3218,"column":30}},"type":"Identifier","name":"scope"}},"property":{"range":[92853,92860],"loc":{"start":{"line":3218,"column":31},"end":{"line":3218,"column":38}},"type":"Identifier","name":"product"}},"arguments":[{"range":[92861,92873],"loc":{"start":{"line":3218,"column":39},"end":{"line":3218,"column":51}},"type":"MemberExpression","computed":false,"object":{"range":[92861,92865],"loc":{"start":{"line":3218,"column":39},"end":{"line":3218,"column":43}},"type":"ThisExpression"},"property":{"range":[92866,92873],"loc":{"start":{"line":3218,"column":44},"end":{"line":3218,"column":51}},"type":"Identifier","name":"product"}}]},"property":{"range":[92875,92879],"loc":{"start":{"line":3218,"column":53},"end":{"line":3218,"column":57}},"type":"Identifier","name":"read"}},"arguments":[]}}]},"generator":false,"expression":false,"leadingComments":[{"type":"Line","value":" When not using `fetchCascade`, this method allows to easily","range":[92443,92505],"loc":{"start":{"line":3205,"column":2},"end":{"line":3205,"column":64}}},{"type":"Line","value":" fetch the Product entity of this Thng. It fowards the call","range":[92508,92569],"loc":{"start":{"line":3206,"column":2},"end":{"line":3206,"column":63}}},{"type":"Line","value":" to this thng's scope's product resource.","range":[92572,92615],"loc":{"start":{"line":3207,"column":2},"end":{"line":3207,"column":45}}}],"trailingComments":[{"type":"Line","value":" Extend Thng API by exposing a Property Resource, allowing to","range":[92891,92954],"loc":{"start":{"line":3222,"column":2},"end":{"line":3222,"column":65}}},{"type":"Line","value":" manage the properties of this product with a resource pattern.","range":[92957,93022],"loc":{"start":{"line":3223,"column":2},"end":{"line":3223,"column":67}}},{"type":"Line","value":" Expose an Action resource as well, for managing Thngs actions.","range":[93025,93090],"loc":{"start":{"line":3224,"column":2},"end":{"line":3224,"column":67}}},{"type":"Line","value":" Also attach the *readProduct()* method to every Thng.","range":[93093,93149],"loc":{"start":{"line":3225,"column":2},"end":{"line":3225,"column":58}}}]},{"range":[93152,93432],"loc":{"start":{"line":3226,"column":2},"end":{"line":3237,"column":11}},"type":"ExpressionStatement","expression":{"range":[93152,93431],"loc":{"start":{"line":3226,"column":2},"end":{"line":3237,"column":10}},"type":"CallExpression","callee":{"range":[93152,93164],"loc":{"start":{"line":3226,"column":2},"end":{"line":3226,"column":14}},"type":"MemberExpression","computed":false,"object":{"range":[93152,93157],"loc":{"start":{"line":3226,"column":2},"end":{"line":3226,"column":7}},"type":"Identifier","name":"Utils"},"property":{"range":[93158,93164],"loc":{"start":{"line":3226,"column":8},"end":{"line":3226,"column":14}},"type":"Identifier","name":"extend"}},"arguments":[{"range":[93165,93179],"loc":{"start":{"line":3226,"column":15},"end":{"line":3226,"column":29}},"type":"MemberExpression","computed":false,"object":{"range":[93165,93169],"loc":{"start":{"line":3226,"column":15},"end":{"line":3226,"column":19}},"type":"Identifier","name":"Thng"},"property":{"range":[93170,93179],"loc":{"start":{"line":3226,"column":20},"end":{"line":3226,"column":29}},"type":"Identifier","name":"prototype"}},{"range":[93181,93424],"loc":{"start":{"line":3226,"column":31},"end":{"line":3237,"column":3}},"type":"ObjectExpression","properties":[{"range":[93188,93226],"loc":{"start":{"line":3228,"column":4},"end":{"line":3228,"column":42}},"type":"Property","key":{"range":[93188,93196],"loc":{"start":{"line":3228,"column":4},"end":{"line":3228,"column":12}},"type":"Identifier","name":"property"},"computed":false,"value":{"range":[93198,93226],"loc":{"start":{"line":3228,"column":14},"end":{"line":3228,"column":42}},"type":"MemberExpression","computed":false,"object":{"range":[93198,93206],"loc":{"start":{"line":3228,"column":14},"end":{"line":3228,"column":22}},"type":"Identifier","name":"Property"},"property":{"range":[93207,93226],"loc":{"start":{"line":3228,"column":23},"end":{"line":3228,"column":42}},"type":"Identifier","name":"resourceConstructor"}},"kind":"init","method":false,"shorthand":false},{"range":[93233,93267],"loc":{"start":{"line":3230,"column":4},"end":{"line":3230,"column":38}},"type":"Property","key":{"range":[93233,93239],"loc":{"start":{"line":3230,"column":4},"end":{"line":3230,"column":10}},"type":"Identifier","name":"action"},"computed":false,"value":{"range":[93241,93267],"loc":{"start":{"line":3230,"column":12},"end":{"line":3230,"column":38}},"type":"MemberExpression","computed":false,"object":{"range":[93241,93247],"loc":{"start":{"line":3230,"column":12},"end":{"line":3230,"column":18}},"type":"Identifier","name":"Action"},"property":{"range":[93248,93267],"loc":{"start":{"line":3230,"column":19},"end":{"line":3230,"column":38}},"type":"Identifier","name":"resourceConstructor"}},"kind":"init","method":false,"shorthand":false},{"range":[93274,93312],"loc":{"start":{"line":3232,"column":4},"end":{"line":3232,"column":42}},"type":"Property","key":{"range":[93274,93282],"loc":{"start":{"line":3232,"column":4},"end":{"line":3232,"column":12}},"type":"Identifier","name":"location"},"computed":false,"value":{"range":[93284,93312],"loc":{"start":{"line":3232,"column":14},"end":{"line":3232,"column":42}},"type":"MemberExpression","computed":false,"object":{"range":[93284,93292],"loc":{"start":{"line":3232,"column":14},"end":{"line":3232,"column":22}},"type":"Identifier","name":"Location"},"property":{"range":[93293,93312],"loc":{"start":{"line":3232,"column":23},"end":{"line":3232,"column":42}},"type":"Identifier","name":"resourceConstructor"}},"kind":"init","method":false,"shorthand":false},{"range":[93395,93419],"loc":{"start":{"line":3235,"column":4},"end":{"line":3235,"column":28}},"type":"Property","key":{"range":[93395,93406],"loc":{"start":{"line":3235,"column":4},"end":{"line":3235,"column":15}},"type":"Identifier","name":"readProduct"},"computed":false,"value":{"range":[93408,93419],"loc":{"start":{"line":3235,"column":17},"end":{"line":3235,"column":28}},"type":"Identifier","name":"readProduct"},"kind":"init","method":false,"shorthand":false,"leadingComments":[{"type":"Block","value":"TODO API not very consistent - thng.product().read/update() better?","range":[93319,93390],"loc":{"start":{"line":3234,"column":4},"end":{"line":3234,"column":75}}}]}]},{"range":[93426,93430],"loc":{"start":{"line":3237,"column":5},"end":{"line":3237,"column":9}},"type":"Literal","value":true,"raw":"true"}]},"leadingComments":[{"type":"Line","value":" Extend Thng API by exposing a Property Resource, allowing to","range":[92891,92954],"loc":{"start":{"line":3222,"column":2},"end":{"line":3222,"column":65}}},{"type":"Line","value":" manage the properties of this product with a resource pattern.","range":[92957,93022],"loc":{"start":{"line":3223,"column":2},"end":{"line":3223,"column":67}}},{"type":"Line","value":" Expose an Action resource as well, for managing Thngs actions.","range":[93025,93090],"loc":{"start":{"line":3224,"column":2},"end":{"line":3224,"column":67}}},{"type":"Line","value":" Also attach the *readProduct()* method to every Thng.","range":[93093,93149],"loc":{"start":{"line":3225,"column":2},"end":{"line":3225,"column":58}}}],"trailingComments":[{"type":"Line","value":" Attach class to EVT module.","range":[93437,93467],"loc":{"start":{"line":3240,"column":2},"end":{"line":3240,"column":32}}}]},{"range":[93470,93493],"loc":{"start":{"line":3241,"column":2},"end":{"line":3241,"column":25}},"type":"ExpressionStatement","expression":{"range":[93470,93492],"loc":{"start":{"line":3241,"column":2},"end":{"line":3241,"column":24}},"type":"AssignmentExpression","operator":"=","left":{"range":[93470,93485],"loc":{"start":{"line":3241,"column":2},"end":{"line":3241,"column":17}},"type":"MemberExpression","computed":false,"object":{"range":[93470,93480],"loc":{"start":{"line":3241,"column":2},"end":{"line":3241,"column":12}},"type":"MemberExpression","computed":false,"object":{"range":[93470,93473],"loc":{"start":{"line":3241,"column":2},"end":{"line":3241,"column":5}},"type":"Identifier","name":"EVT"},"property":{"range":[93474,93480],"loc":{"start":{"line":3241,"column":6},"end":{"line":3241,"column":12}},"type":"Identifier","name":"Entity"}},"property":{"range":[93481,93485],"loc":{"start":{"line":3241,"column":13},"end":{"line":3241,"column":17}},"type":"Identifier","name":"Thng"}},"right":{"range":[93488,93492],"loc":{"start":{"line":3241,"column":20},"end":{"line":3241,"column":24}},"type":"Identifier","name":"Thng"}},"leadingComments":[{"type":"Line","value":" Attach class to EVT module.","range":[93437,93467],"loc":{"start":{"line":3240,"column":2},"end":{"line":3240,"column":32}}}]},{"range":[93498,93649],"loc":{"start":{"line":3244,"column":2},"end":{"line":3250,"column":4}},"type":"ReturnStatement","argument":{"range":[93505,93648],"loc":{"start":{"line":3244,"column":9},"end":{"line":3250,"column":3}},"type":"ObjectExpression","properties":[{"range":[93512,93525],"loc":{"start":{"line":3246,"column":4},"end":{"line":3246,"column":17}},"type":"Property","key":{"range":[93512,93519],"loc":{"start":{"line":3246,"column":4},"end":{"line":3246,"column":11}},"type":"Literal","value":"class","raw":"'class'"},"computed":false,"value":{"range":[93521,93525],"loc":{"start":{"line":3246,"column":13},"end":{"line":3246,"column":17}},"type":"Identifier","name":"Thng"},"kind":"init","method":false,"shorthand":false},{"range":[93532,93643],"loc":{"start":{"line":3248,"column":4},"end":{"line":3248,"column":115}},"type":"Property","key":{"range":[93532,93551],"loc":{"start":{"line":3248,"column":4},"end":{"line":3248,"column":23}},"type":"Identifier","name":"resourceConstructor"},"computed":false,"value":{"range":[93553,93643],"loc":{"start":{"line":3248,"column":25},"end":{"line":3248,"column":115}},"type":"CallExpression","callee":{"range":[93553,93580],"loc":{"start":{"line":3248,"column":25},"end":{"line":3248,"column":52}},"type":"MemberExpression","computed":false,"object":{"range":[93553,93561],"loc":{"start":{"line":3248,"column":25},"end":{"line":3248,"column":33}},"type":"Identifier","name":"Resource"},"property":{"range":[93562,93580],"loc":{"start":{"line":3248,"column":34},"end":{"line":3248,"column":52}},"type":"Identifier","name":"constructorFactory"}},"arguments":[{"range":[93581,93589],"loc":{"start":{"line":3248,"column":53},"end":{"line":3248,"column":61}},"type":"Literal","value":"/thngs","raw":"'/thngs'"},{"range":[93591,93606],"loc":{"start":{"line":3248,"column":63},"end":{"line":3248,"column":78}},"type":"MemberExpression","computed":false,"object":{"range":[93591,93601],"loc":{"start":{"line":3248,"column":63},"end":{"line":3248,"column":73}},"type":"MemberExpression","computed":false,"object":{"range":[93591,93594],"loc":{"start":{"line":3248,"column":63},"end":{"line":3248,"column":66}},"type":"Identifier","name":"EVT"},"property":{"range":[93595,93601],"loc":{"start":{"line":3248,"column":67},"end":{"line":3248,"column":73}},"type":"Identifier","name":"Entity"}},"property":{"range":[93602,93606],"loc":{"start":{"line":3248,"column":74},"end":{"line":3248,"column":78}},"type":"Identifier","name":"Thng"}},{"range":[93608,93642],"loc":{"start":{"line":3248,"column":80},"end":{"line":3248,"column":114}},"type":"ArrayExpression","elements":[{"range":[93609,93619],"loc":{"start":{"line":3248,"column":81},"end":{"line":3248,"column":91}},"type":"Literal","value":"property","raw":"'property'"},{"range":[93621,93629],"loc":{"start":{"line":3248,"column":93},"end":{"line":3248,"column":101}},"type":"Literal","value":"action","raw":"'action'"},{"range":[93631,93641],"loc":{"start":{"line":3248,"column":103},"end":{"line":3248,"column":113}},"type":"Literal","value":"location","raw":"'location'"}]}]},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" ## THNG.JS","range":[91882,91895],"loc":{"start":{"line":3180,"column":0},"end":{"line":3180,"column":13}}},{"type":"Line","value":" **The Thng is a simple Entity subclass that provides a nested","range":[91897,91961],"loc":{"start":{"line":3182,"column":0},"end":{"line":3182,"column":64}}},{"type":"Line","value":" Property Resource and a direct method to read the Thng's Product.**","range":[91962,92032],"loc":{"start":{"line":3183,"column":0},"end":{"line":3183,"column":70}}}],"trailingComments":[{"type":"Line","value":" ## ACTIONTYPE.JS","range":[93655,93674],"loc":{"start":{"line":3253,"column":0},"end":{"line":3253,"column":19}}},{"type":"Line","value":" **The ActionType Entity represents an action type in the Engine. It inherits","range":[93676,93755],"loc":{"start":{"line":3255,"column":0},"end":{"line":3255,"column":79}}},{"type":"Line","value":" from Entity and overload the resource's *create()* method to allow","range":[93756,93825],"loc":{"start":{"line":3256,"column":0},"end":{"line":3256,"column":69}}},{"type":"Line","value":" empty parameters (no payload).**","range":[93826,93861],"loc":{"start":{"line":3257,"column":0},"end":{"line":3257,"column":35}}}]},{"range":[93863,96442],"loc":{"start":{"line":3259,"column":0},"end":{"line":3351,"column":3}},"type":"ExpressionStatement","expression":{"range":[93863,96441],"loc":{"start":{"line":3259,"column":0},"end":{"line":3351,"column":2}},"type":"CallExpression","callee":{"range":[93863,93869],"loc":{"start":{"line":3259,"column":0},"end":{"line":3259,"column":6}},"type":"Identifier","name":"define"},"arguments":[{"range":[93870,93889],"loc":{"start":{"line":3259,"column":7},"end":{"line":3259,"column":26}},"type":"Literal","value":"entity/actionType","raw":"'entity/actionType'"},{"range":[93890,93953],"loc":{"start":{"line":3259,"column":27},"end":{"line":3265,"column":1}},"type":"ArrayExpression","elements":[{"range":[93894,93900],"loc":{"start":{"line":3260,"column":2},"end":{"line":3260,"column":8}},"type":"Literal","value":"core","raw":"'core'"},{"range":[93904,93914],"loc":{"start":{"line":3261,"column":2},"end":{"line":3261,"column":12}},"type":"Literal","value":"./entity","raw":"'./entity'"},{"range":[93918,93928],"loc":{"start":{"line":3262,"column":2},"end":{"line":3262,"column":12}},"type":"Literal","value":"resource","raw":"'resource'"},{"range":[93932,93939],"loc":{"start":{"line":3263,"column":2},"end":{"line":3263,"column":9}},"type":"Literal","value":"utils","raw":"'utils'"},{"range":[93943,93951],"loc":{"start":{"line":3264,"column":2},"end":{"line":3264,"column":10}},"type":"Literal","value":"logger","raw":"'logger'"}]},{"range":[93955,96440],"loc":{"start":{"line":3265,"column":3},"end":{"line":3351,"column":1}},"type":"FunctionExpression","id":null,"params":[{"range":[93965,93968],"loc":{"start":{"line":3265,"column":13},"end":{"line":3265,"column":16}},"type":"Identifier","name":"EVT"},{"range":[93970,93976],"loc":{"start":{"line":3265,"column":18},"end":{"line":3265,"column":24}},"type":"Identifier","name":"Entity"},{"range":[93978,93986],"loc":{"start":{"line":3265,"column":26},"end":{"line":3265,"column":34}},"type":"Identifier","name":"Resource"},{"range":[93988,93993],"loc":{"start":{"line":3265,"column":36},"end":{"line":3265,"column":41}},"type":"Identifier","name":"Utils"},{"range":[93995,94001],"loc":{"start":{"line":3265,"column":43},"end":{"line":3265,"column":49}},"type":"Identifier","name":"Logger"}],"defaults":[],"body":{"range":[94003,96440],"loc":{"start":{"line":3265,"column":51},"end":{"line":3351,"column":1}},"type":"BlockStatement","body":[{"range":[94007,94020],"loc":{"start":{"line":3266,"column":2},"end":{"line":3266,"column":15}},"type":"ExpressionStatement","expression":{"range":[94007,94019],"loc":{"start":{"line":3266,"column":2},"end":{"line":3266,"column":14}},"type":"Literal","value":"use strict","raw":"'use strict'"},"trailingComments":[{"type":"Line","value":" Setup Action inheritance from Entity.","range":[94024,94064],"loc":{"start":{"line":3268,"column":2},"end":{"line":3268,"column":42}}}]},{"range":[94067,94137],"loc":{"start":{"line":3269,"column":2},"end":{"line":3271,"column":4}},"type":"VariableDeclaration","declarations":[{"range":[94071,94136],"loc":{"start":{"line":3269,"column":6},"end":{"line":3271,"column":3}},"type":"VariableDeclarator","id":{"range":[94071,94081],"loc":{"start":{"line":3269,"column":6},"end":{"line":3269,"column":16}},"type":"Identifier","name":"ActionType"},"init":{"range":[94084,94136],"loc":{"start":{"line":3269,"column":19},"end":{"line":3271,"column":3}},"type":"FunctionExpression","id":null,"params":[],"defaults":[],"body":{"range":[94096,94136],"loc":{"start":{"line":3269,"column":31},"end":{"line":3271,"column":3}},"type":"BlockStatement","body":[{"range":[94102,94132],"loc":{"start":{"line":3270,"column":4},"end":{"line":3270,"column":34}},"type":"ExpressionStatement","expression":{"range":[94102,94131],"loc":{"start":{"line":3270,"column":4},"end":{"line":3270,"column":33}},"type":"CallExpression","callee":{"range":[94102,94114],"loc":{"start":{"line":3270,"column":4},"end":{"line":3270,"column":16}},"type":"MemberExpression","computed":false,"object":{"range":[94102,94108],"loc":{"start":{"line":3270,"column":4},"end":{"line":3270,"column":10}},"type":"Identifier","name":"Entity"},"property":{"range":[94109,94114],"loc":{"start":{"line":3270,"column":11},"end":{"line":3270,"column":16}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[94115,94119],"loc":{"start":{"line":3270,"column":17},"end":{"line":3270,"column":21}},"type":"ThisExpression"},{"range":[94121,94130],"loc":{"start":{"line":3270,"column":23},"end":{"line":3270,"column":32}},"type":"Identifier","name":"arguments"}]}}]},"generator":false,"expression":false}}],"kind":"var","leadingComments":[{"type":"Line","value":" Setup Action inheritance from Entity.","range":[94024,94064],"loc":{"start":{"line":3268,"column":2},"end":{"line":3268,"column":42}}}]},{"range":[94141,94196],"loc":{"start":{"line":3273,"column":2},"end":{"line":3273,"column":57}},"type":"ExpressionStatement","expression":{"range":[94141,94195],"loc":{"start":{"line":3273,"column":2},"end":{"line":3273,"column":56}},"type":"AssignmentExpression","operator":"=","left":{"range":[94141,94161],"loc":{"start":{"line":3273,"column":2},"end":{"line":3273,"column":22}},"type":"MemberExpression","computed":false,"object":{"range":[94141,94151],"loc":{"start":{"line":3273,"column":2},"end":{"line":3273,"column":12}},"type":"Identifier","name":"ActionType"},"property":{"range":[94152,94161],"loc":{"start":{"line":3273,"column":13},"end":{"line":3273,"column":22}},"type":"Identifier","name":"prototype"}},"right":{"range":[94164,94195],"loc":{"start":{"line":3273,"column":25},"end":{"line":3273,"column":56}},"type":"CallExpression","callee":{"range":[94164,94177],"loc":{"start":{"line":3273,"column":25},"end":{"line":3273,"column":38}},"type":"MemberExpression","computed":false,"object":{"range":[94164,94170],"loc":{"start":{"line":3273,"column":25},"end":{"line":3273,"column":31}},"type":"Identifier","name":"Object"},"property":{"range":[94171,94177],"loc":{"start":{"line":3273,"column":32},"end":{"line":3273,"column":38}},"type":"Identifier","name":"create"}},"arguments":[{"range":[94178,94194],"loc":{"start":{"line":3273,"column":39},"end":{"line":3273,"column":55}},"type":"MemberExpression","computed":false,"object":{"range":[94178,94184],"loc":{"start":{"line":3273,"column":39},"end":{"line":3273,"column":45}},"type":"Identifier","name":"Entity"},"property":{"range":[94185,94194],"loc":{"start":{"line":3273,"column":46},"end":{"line":3273,"column":55}},"type":"Identifier","name":"prototype"}}]}}},{"range":[94199,94245],"loc":{"start":{"line":3274,"column":2},"end":{"line":3274,"column":48}},"type":"ExpressionStatement","expression":{"range":[94199,94244],"loc":{"start":{"line":3274,"column":2},"end":{"line":3274,"column":47}},"type":"AssignmentExpression","operator":"=","left":{"range":[94199,94231],"loc":{"start":{"line":3274,"column":2},"end":{"line":3274,"column":34}},"type":"MemberExpression","computed":false,"object":{"range":[94199,94219],"loc":{"start":{"line":3274,"column":2},"end":{"line":3274,"column":22}},"type":"MemberExpression","computed":false,"object":{"range":[94199,94209],"loc":{"start":{"line":3274,"column":2},"end":{"line":3274,"column":12}},"type":"Identifier","name":"ActionType"},"property":{"range":[94210,94219],"loc":{"start":{"line":3274,"column":13},"end":{"line":3274,"column":22}},"type":"Identifier","name":"prototype"}},"property":{"range":[94220,94231],"loc":{"start":{"line":3274,"column":23},"end":{"line":3274,"column":34}},"type":"Identifier","name":"constructor"}},"right":{"range":[94234,94244],"loc":{"start":{"line":3274,"column":37},"end":{"line":3274,"column":47}},"type":"Identifier","name":"ActionType"}},"trailingComments":[{"type":"Line","value":" Normalize arguments for single request. Override resource","range":[94249,94309],"loc":{"start":{"line":3276,"column":2},"end":{"line":3276,"column":62}}},{"type":"Line","value":" url to use action types root path and use name filter.","range":[94312,94369],"loc":{"start":{"line":3277,"column":2},"end":{"line":3277,"column":59}}},{"type":"Line","value":" Extend params if user defines other params.","range":[94372,94418],"loc":{"start":{"line":3278,"column":2},"end":{"line":3278,"column":48}}}]},{"range":[94421,94952],"loc":{"start":{"line":3279,"column":2},"end":{"line":3299,"column":3}},"type":"FunctionDeclaration","id":{"range":[94430,94449],"loc":{"start":{"line":3279,"column":11},"end":{"line":3279,"column":30}},"type":"Identifier","name":"_normalizeArguments"},"params":[{"range":[94450,94453],"loc":{"start":{"line":3279,"column":31},"end":{"line":3279,"column":34}},"type":"Identifier","name":"obj"}],"defaults":[],"body":{"range":[94455,94952],"loc":{"start":{"line":3279,"column":36},"end":{"line":3299,"column":3}},"type":"BlockStatement","body":[{"range":[94461,94482],"loc":{"start":{"line":3280,"column":4},"end":{"line":3280,"column":25}},"type":"VariableDeclaration","declarations":[{"range":[94465,94481],"loc":{"start":{"line":3280,"column":8},"end":{"line":3280,"column":24}},"type":"VariableDeclarator","id":{"range":[94465,94469],"loc":{"start":{"line":3280,"column":8},"end":{"line":3280,"column":12}},"type":"Identifier","name":"args"},"init":{"range":[94472,94481],"loc":{"start":{"line":3280,"column":15},"end":{"line":3280,"column":24}},"type":"Identifier","name":"arguments"}}],"kind":"var"},{"range":[94488,94609],"loc":{"start":{"line":3282,"column":4},"end":{"line":3285,"column":5}},"type":"IfStatement","test":{"range":[94492,94521],"loc":{"start":{"line":3282,"column":8},"end":{"line":3282,"column":37}},"type":"LogicalExpression","operator":"||","left":{"range":[94492,94496],"loc":{"start":{"line":3282,"column":8},"end":{"line":3282,"column":12}},"type":"UnaryExpression","operator":"!","argument":{"range":[94493,94496],"loc":{"start":{"line":3282,"column":9},"end":{"line":3282,"column":12}},"type":"Identifier","name":"obj"},"prefix":true},"right":{"range":[94500,94521],"loc":{"start":{"line":3282,"column":16},"end":{"line":3282,"column":37}},"type":"CallExpression","callee":{"range":[94500,94516],"loc":{"start":{"line":3282,"column":16},"end":{"line":3282,"column":32}},"type":"MemberExpression","computed":false,"object":{"range":[94500,94505],"loc":{"start":{"line":3282,"column":16},"end":{"line":3282,"column":21}},"type":"Identifier","name":"Utils"},"property":{"range":[94506,94516],"loc":{"start":{"line":3282,"column":22},"end":{"line":3282,"column":32}},"type":"Identifier","name":"isFunction"}},"arguments":[{"range":[94517,94520],"loc":{"start":{"line":3282,"column":33},"end":{"line":3282,"column":36}},"type":"Identifier","name":"obj"}]}},"consequent":{"range":[94523,94609],"loc":{"start":{"line":3282,"column":39},"end":{"line":3285,"column":5}},"type":"BlockStatement","body":[{"range":[94531,94579],"loc":{"start":{"line":3283,"column":6},"end":{"line":3283,"column":54}},"type":"ExpressionStatement","expression":{"range":[94531,94578],"loc":{"start":{"line":3283,"column":6},"end":{"line":3283,"column":53}},"type":"AssignmentExpression","operator":"=","left":{"range":[94531,94535],"loc":{"start":{"line":3283,"column":6},"end":{"line":3283,"column":10}},"type":"Identifier","name":"args"},"right":{"range":[94538,94578],"loc":{"start":{"line":3283,"column":13},"end":{"line":3283,"column":53}},"type":"CallExpression","callee":{"range":[94538,94564],"loc":{"start":{"line":3283,"column":13},"end":{"line":3283,"column":39}},"type":"MemberExpression","computed":false,"object":{"range":[94538,94559],"loc":{"start":{"line":3283,"column":13},"end":{"line":3283,"column":34}},"type":"MemberExpression","computed":false,"object":{"range":[94538,94553],"loc":{"start":{"line":3283,"column":13},"end":{"line":3283,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[94538,94543],"loc":{"start":{"line":3283,"column":13},"end":{"line":3283,"column":18}},"type":"Identifier","name":"Array"},"property":{"range":[94544,94553],"loc":{"start":{"line":3283,"column":19},"end":{"line":3283,"column":28}},"type":"Identifier","name":"prototype"}},"property":{"range":[94554,94559],"loc":{"start":{"line":3283,"column":29},"end":{"line":3283,"column":34}},"type":"Identifier","name":"slice"}},"property":{"range":[94560,94564],"loc":{"start":{"line":3283,"column":35},"end":{"line":3283,"column":39}},"type":"Identifier","name":"call"}},"arguments":[{"range":[94565,94574],"loc":{"start":{"line":3283,"column":40},"end":{"line":3283,"column":49}},"type":"Identifier","name":"arguments"},{"range":[94576,94577],"loc":{"start":{"line":3283,"column":51},"end":{"line":3283,"column":52}},"type":"Literal","value":0,"raw":"0"}]}}},{"range":[94586,94603],"loc":{"start":{"line":3284,"column":6},"end":{"line":3284,"column":23}},"type":"ExpressionStatement","expression":{"range":[94586,94602],"loc":{"start":{"line":3284,"column":6},"end":{"line":3284,"column":22}},"type":"CallExpression","callee":{"range":[94586,94598],"loc":{"start":{"line":3284,"column":6},"end":{"line":3284,"column":18}},"type":"MemberExpression","computed":false,"object":{"range":[94586,94590],"loc":{"start":{"line":3284,"column":6},"end":{"line":3284,"column":10}},"type":"Identifier","name":"args"},"property":{"range":[94591,94598],"loc":{"start":{"line":3284,"column":11},"end":{"line":3284,"column":18}},"type":"Identifier","name":"unshift"}},"arguments":[{"range":[94599,94601],"loc":{"start":{"line":3284,"column":19},"end":{"line":3284,"column":21}},"type":"ObjectExpression","properties":[]}]}}]},"alternate":null,"trailingComments":[{"type":"Line","value":" Split full path (/actions/_custom) - we get three parts:","range":[94615,94674],"loc":{"start":{"line":3287,"column":4},"end":{"line":3287,"column":63}}},{"type":"Line","value":" 1) empty, 2) root path and 3) encoded action type name","range":[94679,94736],"loc":{"start":{"line":3288,"column":4},"end":{"line":3288,"column":61}}}]},{"range":[94741,94772],"loc":{"start":{"line":3289,"column":4},"end":{"line":3289,"column":35}},"type":"VariableDeclaration","declarations":[{"range":[94745,94771],"loc":{"start":{"line":3289,"column":8},"end":{"line":3289,"column":34}},"type":"VariableDeclarator","id":{"range":[94745,94748],"loc":{"start":{"line":3289,"column":8},"end":{"line":3289,"column":11}},"type":"Identifier","name":"url"},"init":{"range":[94751,94771],"loc":{"start":{"line":3289,"column":14},"end":{"line":3289,"column":34}},"type":"CallExpression","callee":{"range":[94751,94766],"loc":{"start":{"line":3289,"column":14},"end":{"line":3289,"column":29}},"type":"MemberExpression","computed":false,"object":{"range":[94751,94760],"loc":{"start":{"line":3289,"column":14},"end":{"line":3289,"column":23}},"type":"MemberExpression","computed":false,"object":{"range":[94751,94755],"loc":{"start":{"line":3289,"column":14},"end":{"line":3289,"column":18}},"type":"ThisExpression"},"property":{"range":[94756,94760],"loc":{"start":{"line":3289,"column":19},"end":{"line":3289,"column":23}},"type":"Identifier","name":"path"}},"property":{"range":[94761,94766],"loc":{"start":{"line":3289,"column":24},"end":{"line":3289,"column":29}},"type":"Identifier","name":"split"}},"arguments":[{"range":[94767,94770],"loc":{"start":{"line":3289,"column":30},"end":{"line":3289,"column":33}},"type":"Literal","value":"/","raw":"'/'"}]}}],"kind":"var","leadingComments":[{"type":"Line","value":" Split full path (/actions/_custom) - we get three parts:","range":[94615,94674],"loc":{"start":{"line":3287,"column":4},"end":{"line":3287,"column":63}}},{"type":"Line","value":" 1) empty, 2) root path and 3) encoded action type name","range":[94679,94736],"loc":{"start":{"line":3288,"column":4},"end":{"line":3288,"column":61}}}]},{"range":[94778,94805],"loc":{"start":{"line":3291,"column":4},"end":{"line":3291,"column":31}},"type":"ExpressionStatement","expression":{"range":[94778,94804],"loc":{"start":{"line":3291,"column":4},"end":{"line":3291,"column":30}},"type":"AssignmentExpression","operator":"=","left":{"range":[94778,94789],"loc":{"start":{"line":3291,"column":4},"end":{"line":3291,"column":15}},"type":"MemberExpression","computed":false,"object":{"range":[94778,94785],"loc":{"start":{"line":3291,"column":4},"end":{"line":3291,"column":11}},"type":"MemberExpression","computed":true,"object":{"range":[94778,94782],"loc":{"start":{"line":3291,"column":4},"end":{"line":3291,"column":8}},"type":"Identifier","name":"args"},"property":{"range":[94783,94784],"loc":{"start":{"line":3291,"column":9},"end":{"line":3291,"column":10}},"type":"Literal","value":0,"raw":"0"}},"property":{"range":[94786,94789],"loc":{"start":{"line":3291,"column":12},"end":{"line":3291,"column":15}},"type":"Identifier","name":"url"}},"right":{"range":[94792,94804],"loc":{"start":{"line":3291,"column":18},"end":{"line":3291,"column":30}},"type":"BinaryExpression","operator":"+","left":{"range":[94792,94795],"loc":{"start":{"line":3291,"column":18},"end":{"line":3291,"column":21}},"type":"Literal","value":"/","raw":"'/'"},"right":{"range":[94798,94804],"loc":{"start":{"line":3291,"column":24},"end":{"line":3291,"column":30}},"type":"MemberExpression","computed":true,"object":{"range":[94798,94801],"loc":{"start":{"line":3291,"column":24},"end":{"line":3291,"column":27}},"type":"Identifier","name":"url"},"property":{"range":[94802,94803],"loc":{"start":{"line":3291,"column":28},"end":{"line":3291,"column":29}},"type":"Literal","value":1,"raw":"1"}}}}},{"range":[94810,94930],"loc":{"start":{"line":3292,"column":4},"end":{"line":3296,"column":7}},"type":"ExpressionStatement","expression":{"range":[94810,94929],"loc":{"start":{"line":3292,"column":4},"end":{"line":3296,"column":6}},"type":"AssignmentExpression","operator":"=","left":{"range":[94810,94824],"loc":{"start":{"line":3292,"column":4},"end":{"line":3292,"column":18}},"type":"MemberExpression","computed":false,"object":{"range":[94810,94817],"loc":{"start":{"line":3292,"column":4},"end":{"line":3292,"column":11}},"type":"MemberExpression","computed":true,"object":{"range":[94810,94814],"loc":{"start":{"line":3292,"column":4},"end":{"line":3292,"column":8}},"type":"Identifier","name":"args"},"property":{"range":[94815,94816],"loc":{"start":{"line":3292,"column":9},"end":{"line":3292,"column":10}},"type":"Literal","value":0,"raw":"0"}},"property":{"range":[94818,94824],"loc":{"start":{"line":3292,"column":12},"end":{"line":3292,"column":18}},"type":"Identifier","name":"params"}},"right":{"range":[94827,94929],"loc":{"start":{"line":3292,"column":21},"end":{"line":3296,"column":6}},"type":"CallExpression","callee":{"range":[94827,94839],"loc":{"start":{"line":3292,"column":21},"end":{"line":3292,"column":33}},"type":"MemberExpression","computed":false,"object":{"range":[94827,94832],"loc":{"start":{"line":3292,"column":21},"end":{"line":3292,"column":26}},"type":"Identifier","name":"Utils"},"property":{"range":[94833,94839],"loc":{"start":{"line":3292,"column":27},"end":{"line":3292,"column":33}},"type":"Identifier","name":"extend"}},"arguments":[{"range":[94840,94854],"loc":{"start":{"line":3292,"column":34},"end":{"line":3292,"column":48}},"type":"MemberExpression","computed":false,"object":{"range":[94840,94847],"loc":{"start":{"line":3292,"column":34},"end":{"line":3292,"column":41}},"type":"MemberExpression","computed":true,"object":{"range":[94840,94844],"loc":{"start":{"line":3292,"column":34},"end":{"line":3292,"column":38}},"type":"Identifier","name":"args"},"property":{"range":[94845,94846],"loc":{"start":{"line":3292,"column":39},"end":{"line":3292,"column":40}},"type":"Literal","value":0,"raw":"0"}},"property":{"range":[94848,94854],"loc":{"start":{"line":3292,"column":42},"end":{"line":3292,"column":48}},"type":"Identifier","name":"params"}},{"range":[94856,94928],"loc":{"start":{"line":3292,"column":50},"end":{"line":3296,"column":5}},"type":"ObjectExpression","properties":[{"range":[94864,94922],"loc":{"start":{"line":3293,"column":6},"end":{"line":3295,"column":7}},"type":"Property","key":{"range":[94864,94870],"loc":{"start":{"line":3293,"column":6},"end":{"line":3293,"column":12}},"type":"Identifier","name":"filter"},"computed":false,"value":{"range":[94872,94922],"loc":{"start":{"line":3293,"column":14},"end":{"line":3295,"column":7}},"type":"ObjectExpression","properties":[{"range":[94882,94914],"loc":{"start":{"line":3294,"column":8},"end":{"line":3294,"column":40}},"type":"Property","key":{"range":[94882,94886],"loc":{"start":{"line":3294,"column":8},"end":{"line":3294,"column":12}},"type":"Identifier","name":"name"},"computed":false,"value":{"range":[94888,94914],"loc":{"start":{"line":3294,"column":14},"end":{"line":3294,"column":40}},"type":"CallExpression","callee":{"range":[94888,94906],"loc":{"start":{"line":3294,"column":14},"end":{"line":3294,"column":32}},"type":"Identifier","name":"decodeURIComponent"},"arguments":[{"range":[94907,94913],"loc":{"start":{"line":3294,"column":33},"end":{"line":3294,"column":39}},"type":"MemberExpression","computed":true,"object":{"range":[94907,94910],"loc":{"start":{"line":3294,"column":33},"end":{"line":3294,"column":36}},"type":"Identifier","name":"url"},"property":{"range":[94911,94912],"loc":{"start":{"line":3294,"column":37},"end":{"line":3294,"column":38}},"type":"Literal","value":2,"raw":"2"}}]},"kind":"init","method":false,"shorthand":false}]},"kind":"init","method":false,"shorthand":false}]}]}}},{"range":[94936,94948],"loc":{"start":{"line":3298,"column":4},"end":{"line":3298,"column":16}},"type":"ReturnStatement","argument":{"range":[94943,94947],"loc":{"start":{"line":3298,"column":11},"end":{"line":3298,"column":15}},"type":"Identifier","name":"args"}}]},"generator":false,"expression":false,"leadingComments":[{"type":"Line","value":" Normalize arguments for single request. Override resource","range":[94249,94309],"loc":{"start":{"line":3276,"column":2},"end":{"line":3276,"column":62}}},{"type":"Line","value":" url to use action types root path and use name filter.","range":[94312,94369],"loc":{"start":{"line":3277,"column":2},"end":{"line":3277,"column":59}}},{"type":"Line","value":" Extend params if user defines other params.","range":[94372,94418],"loc":{"start":{"line":3278,"column":2},"end":{"line":3278,"column":48}}}],"trailingComments":[{"type":"Line","value":" Attach class to EVT module.","range":[94956,94986],"loc":{"start":{"line":3301,"column":2},"end":{"line":3301,"column":32}}}]},{"range":[94989,95024],"loc":{"start":{"line":3302,"column":2},"end":{"line":3302,"column":37}},"type":"ExpressionStatement","expression":{"range":[94989,95023],"loc":{"start":{"line":3302,"column":2},"end":{"line":3302,"column":36}},"type":"AssignmentExpression","operator":"=","left":{"range":[94989,95010],"loc":{"start":{"line":3302,"column":2},"end":{"line":3302,"column":23}},"type":"MemberExpression","computed":false,"object":{"range":[94989,94999],"loc":{"start":{"line":3302,"column":2},"end":{"line":3302,"column":12}},"type":"MemberExpression","computed":false,"object":{"range":[94989,94992],"loc":{"start":{"line":3302,"column":2},"end":{"line":3302,"column":5}},"type":"Identifier","name":"EVT"},"property":{"range":[94993,94999],"loc":{"start":{"line":3302,"column":6},"end":{"line":3302,"column":12}},"type":"Identifier","name":"Entity"}},"property":{"range":[95000,95010],"loc":{"start":{"line":3302,"column":13},"end":{"line":3302,"column":23}},"type":"Identifier","name":"ActionType"}},"right":{"range":[95013,95023],"loc":{"start":{"line":3302,"column":26},"end":{"line":3302,"column":36}},"type":"Identifier","name":"ActionType"}},"leadingComments":[{"type":"Line","value":" Attach class to EVT module.","range":[94956,94986],"loc":{"start":{"line":3301,"column":2},"end":{"line":3301,"column":32}}}]},{"range":[95028,96438],"loc":{"start":{"line":3304,"column":2},"end":{"line":3350,"column":4}},"type":"ReturnStatement","argument":{"range":[95035,96437],"loc":{"start":{"line":3304,"column":9},"end":{"line":3350,"column":3}},"type":"ObjectExpression","properties":[{"range":[95042,95061],"loc":{"start":{"line":3306,"column":4},"end":{"line":3306,"column":23}},"type":"Property","key":{"range":[95042,95049],"loc":{"start":{"line":3306,"column":4},"end":{"line":3306,"column":11}},"type":"Literal","value":"class","raw":"'class'"},"computed":false,"value":{"range":[95051,95061],"loc":{"start":{"line":3306,"column":13},"end":{"line":3306,"column":23}},"type":"Identifier","name":"ActionType"},"kind":"init","method":false,"shorthand":false},{"range":[95068,96432],"loc":{"start":{"line":3308,"column":4},"end":{"line":3348,"column":5}},"type":"Property","key":{"range":[95068,95087],"loc":{"start":{"line":3308,"column":4},"end":{"line":3308,"column":23}},"type":"Identifier","name":"resourceConstructor"},"computed":false,"value":{"range":[95089,96432],"loc":{"start":{"line":3308,"column":25},"end":{"line":3348,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[95099,95113],"loc":{"start":{"line":3308,"column":35},"end":{"line":3308,"column":49}},"type":"Identifier","name":"actionTypeName"}],"defaults":[],"body":{"range":[95115,96432],"loc":{"start":{"line":3308,"column":51},"end":{"line":3348,"column":5}},"type":"BlockStatement","body":[{"range":[95123,95155],"loc":{"start":{"line":3309,"column":6},"end":{"line":3309,"column":38}},"type":"VariableDeclaration","declarations":[{"range":[95127,95144],"loc":{"start":{"line":3309,"column":10},"end":{"line":3309,"column":27}},"type":"VariableDeclarator","id":{"range":[95127,95131],"loc":{"start":{"line":3309,"column":10},"end":{"line":3309,"column":14}},"type":"Identifier","name":"path"},"init":{"range":[95134,95144],"loc":{"start":{"line":3309,"column":17},"end":{"line":3309,"column":27}},"type":"Literal","value":"/actions","raw":"'/actions'"}},{"range":[95146,95154],"loc":{"start":{"line":3309,"column":29},"end":{"line":3309,"column":37}},"type":"VariableDeclarator","id":{"range":[95146,95154],"loc":{"start":{"line":3309,"column":29},"end":{"line":3309,"column":37}},"type":"Identifier","name":"resource"},"init":null}],"kind":"var"},{"range":[95163,95397],"loc":{"start":{"line":3311,"column":6},"end":{"line":3317,"column":7}},"type":"IfStatement","test":{"range":[95167,95181],"loc":{"start":{"line":3311,"column":10},"end":{"line":3311,"column":24}},"type":"Identifier","name":"actionTypeName"},"consequent":{"range":[95183,95397],"loc":{"start":{"line":3311,"column":26},"end":{"line":3317,"column":7}},"type":"BlockStatement","body":[{"range":[95193,95389],"loc":{"start":{"line":3312,"column":8},"end":{"line":3316,"column":9}},"type":"IfStatement","test":{"range":[95197,95227],"loc":{"start":{"line":3312,"column":12},"end":{"line":3312,"column":42}},"type":"CallExpression","callee":{"range":[95197,95211],"loc":{"start":{"line":3312,"column":12},"end":{"line":3312,"column":26}},"type":"MemberExpression","computed":false,"object":{"range":[95197,95202],"loc":{"start":{"line":3312,"column":12},"end":{"line":3312,"column":17}},"type":"Identifier","name":"Utils"},"property":{"range":[95203,95211],"loc":{"start":{"line":3312,"column":18},"end":{"line":3312,"column":26}},"type":"Identifier","name":"isString"}},"arguments":[{"range":[95212,95226],"loc":{"start":{"line":3312,"column":27},"end":{"line":3312,"column":41}},"type":"Identifier","name":"actionTypeName"}]},"consequent":{"range":[95229,95300],"loc":{"start":{"line":3312,"column":44},"end":{"line":3314,"column":9}},"type":"BlockStatement","body":[{"range":[95241,95290],"loc":{"start":{"line":3313,"column":10},"end":{"line":3313,"column":59}},"type":"ExpressionStatement","expression":{"range":[95241,95289],"loc":{"start":{"line":3313,"column":10},"end":{"line":3313,"column":58}},"type":"AssignmentExpression","operator":"+=","left":{"range":[95241,95245],"loc":{"start":{"line":3313,"column":10},"end":{"line":3313,"column":14}},"type":"Identifier","name":"path"},"right":{"range":[95249,95289],"loc":{"start":{"line":3313,"column":18},"end":{"line":3313,"column":58}},"type":"BinaryExpression","operator":"+","left":{"range":[95249,95252],"loc":{"start":{"line":3313,"column":18},"end":{"line":3313,"column":21}},"type":"Literal","value":"/","raw":"'/'"},"right":{"range":[95255,95289],"loc":{"start":{"line":3313,"column":24},"end":{"line":3313,"column":58}},"type":"CallExpression","callee":{"range":[95255,95273],"loc":{"start":{"line":3313,"column":24},"end":{"line":3313,"column":42}},"type":"Identifier","name":"encodeURIComponent"},"arguments":[{"range":[95274,95288],"loc":{"start":{"line":3313,"column":43},"end":{"line":3313,"column":57}},"type":"Identifier","name":"actionTypeName"}]}}}}]},"alternate":{"range":[95306,95389],"loc":{"start":{"line":3314,"column":15},"end":{"line":3316,"column":9}},"type":"BlockStatement","body":[{"range":[95318,95379],"loc":{"start":{"line":3315,"column":10},"end":{"line":3315,"column":71}},"type":"ThrowStatement","argument":{"range":[95324,95378],"loc":{"start":{"line":3315,"column":16},"end":{"line":3315,"column":70}},"type":"NewExpression","callee":{"range":[95328,95337],"loc":{"start":{"line":3315,"column":20},"end":{"line":3315,"column":29}},"type":"Identifier","name":"TypeError"},"arguments":[{"range":[95338,95377],"loc":{"start":{"line":3315,"column":30},"end":{"line":3315,"column":69}},"type":"Literal","value":"Action type must be a key/name string","raw":"'Action type must be a key/name string'"}]}}]}}]},"alternate":null},{"range":[95405,95464],"loc":{"start":{"line":3319,"column":6},"end":{"line":3319,"column":65}},"type":"ExpressionStatement","expression":{"range":[95405,95463],"loc":{"start":{"line":3319,"column":6},"end":{"line":3319,"column":64}},"type":"AssignmentExpression","operator":"=","left":{"range":[95405,95413],"loc":{"start":{"line":3319,"column":6},"end":{"line":3319,"column":14}},"type":"Identifier","name":"resource"},"right":{"range":[95416,95463],"loc":{"start":{"line":3319,"column":17},"end":{"line":3319,"column":64}},"type":"NewExpression","callee":{"range":[95420,95428],"loc":{"start":{"line":3319,"column":21},"end":{"line":3319,"column":29}},"type":"Identifier","name":"Resource"},"arguments":[{"range":[95429,95433],"loc":{"start":{"line":3319,"column":30},"end":{"line":3319,"column":34}},"type":"ThisExpression"},{"range":[95435,95439],"loc":{"start":{"line":3319,"column":36},"end":{"line":3319,"column":40}},"type":"Identifier","name":"path"},{"range":[95441,95462],"loc":{"start":{"line":3319,"column":42},"end":{"line":3319,"column":63}},"type":"MemberExpression","computed":false,"object":{"range":[95441,95451],"loc":{"start":{"line":3319,"column":42},"end":{"line":3319,"column":52}},"type":"MemberExpression","computed":false,"object":{"range":[95441,95444],"loc":{"start":{"line":3319,"column":42},"end":{"line":3319,"column":45}},"type":"Identifier","name":"EVT"},"property":{"range":[95445,95451],"loc":{"start":{"line":3319,"column":46},"end":{"line":3319,"column":52}},"type":"Identifier","name":"Entity"}},"property":{"range":[95452,95462],"loc":{"start":{"line":3319,"column":53},"end":{"line":3319,"column":63}},"type":"Identifier","name":"ActionType"}}]}},"trailingComments":[{"type":"Line","value":" Action types are a bit special, has there is no GET method available.","range":[95472,95544],"loc":{"start":{"line":3321,"column":6},"end":{"line":3321,"column":78}}},{"type":"Line","value":" In order to do so, we need to make a filtered request to the root path,","range":[95551,95625],"loc":{"start":{"line":3322,"column":6},"end":{"line":3322,"column":80}}},{"type":"Line","value":" and parse the response normally. An empty result list, means not found.","range":[95632,95706],"loc":{"start":{"line":3323,"column":6},"end":{"line":3323,"column":80}}}]},{"range":[95713,96402],"loc":{"start":{"line":3324,"column":6},"end":{"line":3345,"column":8}},"type":"ExpressionStatement","expression":{"range":[95713,96401],"loc":{"start":{"line":3324,"column":6},"end":{"line":3345,"column":7}},"type":"AssignmentExpression","operator":"=","left":{"range":[95713,95726],"loc":{"start":{"line":3324,"column":6},"end":{"line":3324,"column":19}},"type":"MemberExpression","computed":false,"object":{"range":[95713,95721],"loc":{"start":{"line":3324,"column":6},"end":{"line":3324,"column":14}},"type":"Identifier","name":"resource"},"property":{"range":[95722,95726],"loc":{"start":{"line":3324,"column":15},"end":{"line":3324,"column":19}},"type":"Identifier","name":"read"}},"right":{"range":[95729,96401],"loc":{"start":{"line":3324,"column":22},"end":{"line":3345,"column":7}},"type":"FunctionExpression","id":null,"params":[],"defaults":[],"body":{"range":[95741,96401],"loc":{"start":{"line":3324,"column":34},"end":{"line":3345,"column":7}},"type":"BlockStatement","body":[{"range":[95751,96393],"loc":{"start":{"line":3325,"column":8},"end":{"line":3344,"column":9}},"type":"IfStatement","test":{"range":[95755,95770],"loc":{"start":{"line":3325,"column":12},"end":{"line":3325,"column":27}},"type":"UnaryExpression","operator":"!","argument":{"range":[95756,95770],"loc":{"start":{"line":3325,"column":13},"end":{"line":3325,"column":27}},"type":"Identifier","name":"actionTypeName"},"prefix":true},"consequent":{"range":[95772,95848],"loc":{"start":{"line":3325,"column":29},"end":{"line":3327,"column":9}},"type":"BlockStatement","body":[{"range":[95784,95838],"loc":{"start":{"line":3326,"column":10},"end":{"line":3326,"column":64}},"type":"ReturnStatement","argument":{"range":[95791,95837],"loc":{"start":{"line":3326,"column":17},"end":{"line":3326,"column":63}},"type":"CallExpression","callee":{"range":[95791,95820],"loc":{"start":{"line":3326,"column":17},"end":{"line":3326,"column":46}},"type":"MemberExpression","computed":false,"object":{"range":[95791,95814],"loc":{"start":{"line":3326,"column":17},"end":{"line":3326,"column":40}},"type":"MemberExpression","computed":false,"object":{"range":[95791,95809],"loc":{"start":{"line":3326,"column":17},"end":{"line":3326,"column":35}},"type":"MemberExpression","computed":false,"object":{"range":[95791,95799],"loc":{"start":{"line":3326,"column":17},"end":{"line":3326,"column":25}},"type":"Identifier","name":"Resource"},"property":{"range":[95800,95809],"loc":{"start":{"line":3326,"column":26},"end":{"line":3326,"column":35}},"type":"Identifier","name":"prototype"}},"property":{"range":[95810,95814],"loc":{"start":{"line":3326,"column":36},"end":{"line":3326,"column":40}},"type":"Identifier","name":"read"}},"property":{"range":[95815,95820],"loc":{"start":{"line":3326,"column":41},"end":{"line":3326,"column":46}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[95821,95825],"loc":{"start":{"line":3326,"column":47},"end":{"line":3326,"column":51}},"type":"ThisExpression"},{"range":[95827,95836],"loc":{"start":{"line":3326,"column":53},"end":{"line":3326,"column":62}},"type":"Identifier","name":"arguments"}]}}]},"alternate":{"range":[95854,96393],"loc":{"start":{"line":3327,"column":15},"end":{"line":3344,"column":9}},"type":"BlockStatement","body":[{"range":[95866,95920],"loc":{"start":{"line":3328,"column":10},"end":{"line":3328,"column":64}},"type":"VariableDeclaration","declarations":[{"range":[95870,95919],"loc":{"start":{"line":3328,"column":14},"end":{"line":3328,"column":63}},"type":"VariableDeclarator","id":{"range":[95870,95874],"loc":{"start":{"line":3328,"column":14},"end":{"line":3328,"column":18}},"type":"Identifier","name":"args"},"init":{"range":[95877,95919],"loc":{"start":{"line":3328,"column":21},"end":{"line":3328,"column":63}},"type":"CallExpression","callee":{"range":[95877,95902],"loc":{"start":{"line":3328,"column":21},"end":{"line":3328,"column":46}},"type":"MemberExpression","computed":false,"object":{"range":[95877,95896],"loc":{"start":{"line":3328,"column":21},"end":{"line":3328,"column":40}},"type":"Identifier","name":"_normalizeArguments"},"property":{"range":[95897,95902],"loc":{"start":{"line":3328,"column":41},"end":{"line":3328,"column":46}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[95903,95907],"loc":{"start":{"line":3328,"column":47},"end":{"line":3328,"column":51}},"type":"ThisExpression"},{"range":[95909,95918],"loc":{"start":{"line":3328,"column":53},"end":{"line":3328,"column":62}},"type":"Identifier","name":"arguments"}]}}],"kind":"var"},{"range":[95931,96383],"loc":{"start":{"line":3329,"column":10},"end":{"line":3343,"column":13}},"type":"ReturnStatement","argument":{"range":[95938,96382],"loc":{"start":{"line":3329,"column":17},"end":{"line":3343,"column":12}},"type":"CallExpression","callee":{"range":[95938,95984],"loc":{"start":{"line":3329,"column":17},"end":{"line":3329,"column":63}},"type":"MemberExpression","computed":false,"object":{"range":[95938,95979],"loc":{"start":{"line":3329,"column":17},"end":{"line":3329,"column":58}},"type":"CallExpression","callee":{"range":[95938,95967],"loc":{"start":{"line":3329,"column":17},"end":{"line":3329,"column":46}},"type":"MemberExpression","computed":false,"object":{"range":[95938,95961],"loc":{"start":{"line":3329,"column":17},"end":{"line":3329,"column":40}},"type":"MemberExpression","computed":false,"object":{"range":[95938,95956],"loc":{"start":{"line":3329,"column":17},"end":{"line":3329,"column":35}},"type":"MemberExpression","computed":false,"object":{"range":[95938,95946],"loc":{"start":{"line":3329,"column":17},"end":{"line":3329,"column":25}},"type":"Identifier","name":"Resource"},"property":{"range":[95947,95956],"loc":{"start":{"line":3329,"column":26},"end":{"line":3329,"column":35}},"type":"Identifier","name":"prototype"}},"property":{"range":[95957,95961],"loc":{"start":{"line":3329,"column":36},"end":{"line":3329,"column":40}},"type":"Identifier","name":"read"}},"property":{"range":[95962,95967],"loc":{"start":{"line":3329,"column":41},"end":{"line":3329,"column":46}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[95968,95972],"loc":{"start":{"line":3329,"column":47},"end":{"line":3329,"column":51}},"type":"ThisExpression"},{"range":[95974,95978],"loc":{"start":{"line":3329,"column":53},"end":{"line":3329,"column":57}},"type":"Identifier","name":"args"}]},"property":{"range":[95980,95984],"loc":{"start":{"line":3329,"column":59},"end":{"line":3329,"column":63}},"type":"Identifier","name":"then"}},"arguments":[{"range":[95985,96381],"loc":{"start":{"line":3329,"column":64},"end":{"line":3343,"column":11}},"type":"FunctionExpression","id":null,"params":[{"range":[95995,96006],"loc":{"start":{"line":3329,"column":74},"end":{"line":3329,"column":85}},"type":"Identifier","name":"actionTypes"}],"defaults":[],"body":{"range":[96008,96381],"loc":{"start":{"line":3329,"column":87},"end":{"line":3343,"column":11}},"type":"BlockStatement","body":[{"range":[96022,96369],"loc":{"start":{"line":3330,"column":12},"end":{"line":3342,"column":13}},"type":"IfStatement","test":{"range":[96026,96045],"loc":{"start":{"line":3330,"column":16},"end":{"line":3330,"column":35}},"type":"UnaryExpression","operator":"!","argument":{"range":[96027,96045],"loc":{"start":{"line":3330,"column":17},"end":{"line":3330,"column":35}},"type":"MemberExpression","computed":false,"object":{"range":[96027,96038],"loc":{"start":{"line":3330,"column":17},"end":{"line":3330,"column":28}},"type":"Identifier","name":"actionTypes"},"property":{"range":[96039,96045],"loc":{"start":{"line":3330,"column":29},"end":{"line":3330,"column":35}},"type":"Identifier","name":"length"}},"prefix":true},"consequent":{"range":[96047,96311],"loc":{"start":{"line":3330,"column":37},"end":{"line":3340,"column":13}},"type":"BlockStatement","body":[{"range":[96089,96234],"loc":{"start":{"line":3332,"column":14},"end":{"line":3336,"column":16}},"type":"VariableDeclaration","declarations":[{"range":[96093,96233],"loc":{"start":{"line":3332,"column":18},"end":{"line":3336,"column":15}},"type":"VariableDeclarator","id":{"range":[96093,96098],"loc":{"start":{"line":3332,"column":18},"end":{"line":3332,"column":23}},"type":"Identifier","name":"error"},"init":{"range":[96101,96233],"loc":{"start":{"line":3332,"column":26},"end":{"line":3336,"column":15}},"type":"ObjectExpression","properties":[{"range":[96119,96130],"loc":{"start":{"line":3333,"column":16},"end":{"line":3333,"column":27}},"type":"Property","key":{"range":[96119,96125],"loc":{"start":{"line":3333,"column":16},"end":{"line":3333,"column":22}},"type":"Identifier","name":"status"},"computed":false,"value":{"range":[96127,96130],"loc":{"start":{"line":3333,"column":24},"end":{"line":3333,"column":27}},"type":"Literal","value":404,"raw":"404"},"kind":"init","method":false,"shorthand":false},{"range":[96148,96190],"loc":{"start":{"line":3334,"column":16},"end":{"line":3334,"column":58}},"type":"Property","key":{"range":[96148,96154],"loc":{"start":{"line":3334,"column":16},"end":{"line":3334,"column":22}},"type":"Identifier","name":"errors"},"computed":false,"value":{"range":[96156,96190],"loc":{"start":{"line":3334,"column":24},"end":{"line":3334,"column":58}},"type":"ArrayExpression","elements":[{"range":[96157,96189],"loc":{"start":{"line":3334,"column":25},"end":{"line":3334,"column":57}},"type":"Literal","value":"The action type was not found.","raw":"\"The action type was not found.\""}]},"kind":"init","method":false,"shorthand":false},{"range":[96208,96217],"loc":{"start":{"line":3335,"column":16},"end":{"line":3335,"column":25}},"type":"Property","key":{"range":[96208,96211],"loc":{"start":{"line":3335,"column":16},"end":{"line":3335,"column":19}},"type":"Identifier","name":"url"},"computed":false,"value":{"range":[96213,96217],"loc":{"start":{"line":3335,"column":21},"end":{"line":3335,"column":25}},"type":"Identifier","name":"path"},"kind":"init","method":false,"shorthand":false}]}}],"kind":"var","leadingComments":[{"type":"Line","value":" Fake 404","range":[96063,96074],"loc":{"start":{"line":3331,"column":14},"end":{"line":3331,"column":25}}}]},{"range":[96250,96270],"loc":{"start":{"line":3338,"column":14},"end":{"line":3338,"column":34}},"type":"ExpressionStatement","expression":{"range":[96250,96269],"loc":{"start":{"line":3338,"column":14},"end":{"line":3338,"column":33}},"type":"CallExpression","callee":{"range":[96250,96262],"loc":{"start":{"line":3338,"column":14},"end":{"line":3338,"column":26}},"type":"MemberExpression","computed":false,"object":{"range":[96250,96256],"loc":{"start":{"line":3338,"column":14},"end":{"line":3338,"column":20}},"type":"Identifier","name":"Logger"},"property":{"range":[96257,96262],"loc":{"start":{"line":3338,"column":21},"end":{"line":3338,"column":26}},"type":"Identifier","name":"error"}},"arguments":[{"range":[96263,96268],"loc":{"start":{"line":3338,"column":27},"end":{"line":3338,"column":32}},"type":"Identifier","name":"error"}]}},{"range":[96285,96297],"loc":{"start":{"line":3339,"column":14},"end":{"line":3339,"column":26}},"type":"ThrowStatement","argument":{"range":[96291,96296],"loc":{"start":{"line":3339,"column":20},"end":{"line":3339,"column":25}},"type":"Identifier","name":"error"}}]},"alternate":{"range":[96317,96369],"loc":{"start":{"line":3340,"column":19},"end":{"line":3342,"column":13}},"type":"BlockStatement","body":[{"range":[96333,96355],"loc":{"start":{"line":3341,"column":14},"end":{"line":3341,"column":36}},"type":"ReturnStatement","argument":{"range":[96340,96354],"loc":{"start":{"line":3341,"column":21},"end":{"line":3341,"column":35}},"type":"MemberExpression","computed":true,"object":{"range":[96340,96351],"loc":{"start":{"line":3341,"column":21},"end":{"line":3341,"column":32}},"type":"Identifier","name":"actionTypes"},"property":{"range":[96352,96353],"loc":{"start":{"line":3341,"column":33},"end":{"line":3341,"column":34}},"type":"Literal","value":0,"raw":"0"}}}]}}]},"generator":false,"expression":false}]}}]}}]},"generator":false,"expression":false}},"leadingComments":[{"type":"Line","value":" Action types are a bit special, has there is no GET method available.","range":[95472,95544],"loc":{"start":{"line":3321,"column":6},"end":{"line":3321,"column":78}}},{"type":"Line","value":" In order to do so, we need to make a filtered request to the root path,","range":[95551,95625],"loc":{"start":{"line":3322,"column":6},"end":{"line":3322,"column":80}}},{"type":"Line","value":" and parse the response normally. An empty result list, means not found.","range":[95632,95706],"loc":{"start":{"line":3323,"column":6},"end":{"line":3323,"column":80}}}]},{"range":[96410,96426],"loc":{"start":{"line":3347,"column":6},"end":{"line":3347,"column":22}},"type":"ReturnStatement","argument":{"range":[96417,96425],"loc":{"start":{"line":3347,"column":13},"end":{"line":3347,"column":21}},"type":"Identifier","name":"resource"}}]},"generator":false,"expression":false},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" ## ACTIONTYPE.JS","range":[93655,93674],"loc":{"start":{"line":3253,"column":0},"end":{"line":3253,"column":19}}},{"type":"Line","value":" **The ActionType Entity represents an action type in the Engine. It inherits","range":[93676,93755],"loc":{"start":{"line":3255,"column":0},"end":{"line":3255,"column":79}}},{"type":"Line","value":" from Entity and overload the resource's *create()* method to allow","range":[93756,93825],"loc":{"start":{"line":3256,"column":0},"end":{"line":3256,"column":69}}},{"type":"Line","value":" empty parameters (no payload).**","range":[93826,93861],"loc":{"start":{"line":3257,"column":0},"end":{"line":3257,"column":35}}}],"trailingComments":[{"type":"Line","value":" ## COLLECTION.JS","range":[96444,96463],"loc":{"start":{"line":3353,"column":0},"end":{"line":3353,"column":19}}},{"type":"Line","value":" **The Collection is a simple Entity subclass that provides a nested","range":[96465,96535],"loc":{"start":{"line":3355,"column":0},"end":{"line":3355,"column":70}}},{"type":"Line","value":" Thng Resource.**","range":[96536,96555],"loc":{"start":{"line":3356,"column":0},"end":{"line":3356,"column":19}}}]},{"range":[96557,97845],"loc":{"start":{"line":3358,"column":0},"end":{"line":3413,"column":3}},"type":"ExpressionStatement","expression":{"range":[96557,97844],"loc":{"start":{"line":3358,"column":0},"end":{"line":3413,"column":2}},"type":"CallExpression","callee":{"range":[96557,96563],"loc":{"start":{"line":3358,"column":0},"end":{"line":3358,"column":6}},"type":"Identifier","name":"define"},"arguments":[{"range":[96564,96583],"loc":{"start":{"line":3358,"column":7},"end":{"line":3358,"column":26}},"type":"Literal","value":"entity/collection","raw":"'entity/collection'"},{"range":[96584,96649],"loc":{"start":{"line":3358,"column":27},"end":{"line":3364,"column":1}},"type":"ArrayExpression","elements":[{"range":[96588,96594],"loc":{"start":{"line":3359,"column":2},"end":{"line":3359,"column":8}},"type":"Literal","value":"core","raw":"'core'"},{"range":[96598,96608],"loc":{"start":{"line":3360,"column":2},"end":{"line":3360,"column":12}},"type":"Literal","value":"./entity","raw":"'./entity'"},{"range":[96612,96622],"loc":{"start":{"line":3361,"column":2},"end":{"line":3361,"column":12}},"type":"Literal","value":"resource","raw":"'resource'"},{"range":[96626,96636],"loc":{"start":{"line":3362,"column":2},"end":{"line":3362,"column":12}},"type":"Literal","value":"./action","raw":"'./action'"},{"range":[96640,96647],"loc":{"start":{"line":3363,"column":2},"end":{"line":3363,"column":9}},"type":"Literal","value":"utils","raw":"'utils'"}]},{"range":[96651,97843],"loc":{"start":{"line":3364,"column":3},"end":{"line":3413,"column":1}},"type":"FunctionExpression","id":null,"params":[{"range":[96661,96664],"loc":{"start":{"line":3364,"column":13},"end":{"line":3364,"column":16}},"type":"Identifier","name":"EVT"},{"range":[96666,96672],"loc":{"start":{"line":3364,"column":18},"end":{"line":3364,"column":24}},"type":"Identifier","name":"Entity"},{"range":[96674,96682],"loc":{"start":{"line":3364,"column":26},"end":{"line":3364,"column":34}},"type":"Identifier","name":"Resource"},{"range":[96684,96690],"loc":{"start":{"line":3364,"column":36},"end":{"line":3364,"column":42}},"type":"Identifier","name":"Action"},{"range":[96692,96697],"loc":{"start":{"line":3364,"column":44},"end":{"line":3364,"column":49}},"type":"Identifier","name":"Utils"}],"defaults":[],"body":{"range":[96699,97843],"loc":{"start":{"line":3364,"column":51},"end":{"line":3413,"column":1}},"type":"BlockStatement","body":[{"range":[96703,96716],"loc":{"start":{"line":3365,"column":2},"end":{"line":3365,"column":15}},"type":"ExpressionStatement","expression":{"range":[96703,96715],"loc":{"start":{"line":3365,"column":2},"end":{"line":3365,"column":14}},"type":"Literal","value":"use strict","raw":"'use strict'"},"trailingComments":[{"type":"Line","value":" Setup Collection inheritance from Entity.","range":[96720,96764],"loc":{"start":{"line":3367,"column":2},"end":{"line":3367,"column":46}}}]},{"range":[96767,96837],"loc":{"start":{"line":3368,"column":2},"end":{"line":3370,"column":4}},"type":"VariableDeclaration","declarations":[{"range":[96771,96836],"loc":{"start":{"line":3368,"column":6},"end":{"line":3370,"column":3}},"type":"VariableDeclarator","id":{"range":[96771,96781],"loc":{"start":{"line":3368,"column":6},"end":{"line":3368,"column":16}},"type":"Identifier","name":"Collection"},"init":{"range":[96784,96836],"loc":{"start":{"line":3368,"column":19},"end":{"line":3370,"column":3}},"type":"FunctionExpression","id":null,"params":[],"defaults":[],"body":{"range":[96796,96836],"loc":{"start":{"line":3368,"column":31},"end":{"line":3370,"column":3}},"type":"BlockStatement","body":[{"range":[96802,96832],"loc":{"start":{"line":3369,"column":4},"end":{"line":3369,"column":34}},"type":"ExpressionStatement","expression":{"range":[96802,96831],"loc":{"start":{"line":3369,"column":4},"end":{"line":3369,"column":33}},"type":"CallExpression","callee":{"range":[96802,96814],"loc":{"start":{"line":3369,"column":4},"end":{"line":3369,"column":16}},"type":"MemberExpression","computed":false,"object":{"range":[96802,96808],"loc":{"start":{"line":3369,"column":4},"end":{"line":3369,"column":10}},"type":"Identifier","name":"Entity"},"property":{"range":[96809,96814],"loc":{"start":{"line":3369,"column":11},"end":{"line":3369,"column":16}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[96815,96819],"loc":{"start":{"line":3369,"column":17},"end":{"line":3369,"column":21}},"type":"ThisExpression"},{"range":[96821,96830],"loc":{"start":{"line":3369,"column":23},"end":{"line":3369,"column":32}},"type":"Identifier","name":"arguments"}]}}]},"generator":false,"expression":false}}],"kind":"var","leadingComments":[{"type":"Line","value":" Setup Collection inheritance from Entity.","range":[96720,96764],"loc":{"start":{"line":3367,"column":2},"end":{"line":3367,"column":46}}}]},{"range":[96841,96896],"loc":{"start":{"line":3372,"column":2},"end":{"line":3372,"column":57}},"type":"ExpressionStatement","expression":{"range":[96841,96895],"loc":{"start":{"line":3372,"column":2},"end":{"line":3372,"column":56}},"type":"AssignmentExpression","operator":"=","left":{"range":[96841,96861],"loc":{"start":{"line":3372,"column":2},"end":{"line":3372,"column":22}},"type":"MemberExpression","computed":false,"object":{"range":[96841,96851],"loc":{"start":{"line":3372,"column":2},"end":{"line":3372,"column":12}},"type":"Identifier","name":"Collection"},"property":{"range":[96852,96861],"loc":{"start":{"line":3372,"column":13},"end":{"line":3372,"column":22}},"type":"Identifier","name":"prototype"}},"right":{"range":[96864,96895],"loc":{"start":{"line":3372,"column":25},"end":{"line":3372,"column":56}},"type":"CallExpression","callee":{"range":[96864,96877],"loc":{"start":{"line":3372,"column":25},"end":{"line":3372,"column":38}},"type":"MemberExpression","computed":false,"object":{"range":[96864,96870],"loc":{"start":{"line":3372,"column":25},"end":{"line":3372,"column":31}},"type":"Identifier","name":"Object"},"property":{"range":[96871,96877],"loc":{"start":{"line":3372,"column":32},"end":{"line":3372,"column":38}},"type":"Identifier","name":"create"}},"arguments":[{"range":[96878,96894],"loc":{"start":{"line":3372,"column":39},"end":{"line":3372,"column":55}},"type":"MemberExpression","computed":false,"object":{"range":[96878,96884],"loc":{"start":{"line":3372,"column":39},"end":{"line":3372,"column":45}},"type":"Identifier","name":"Entity"},"property":{"range":[96885,96894],"loc":{"start":{"line":3372,"column":46},"end":{"line":3372,"column":55}},"type":"Identifier","name":"prototype"}}]}}},{"range":[96899,96945],"loc":{"start":{"line":3373,"column":2},"end":{"line":3373,"column":48}},"type":"ExpressionStatement","expression":{"range":[96899,96944],"loc":{"start":{"line":3373,"column":2},"end":{"line":3373,"column":47}},"type":"AssignmentExpression","operator":"=","left":{"range":[96899,96931],"loc":{"start":{"line":3373,"column":2},"end":{"line":3373,"column":34}},"type":"MemberExpression","computed":false,"object":{"range":[96899,96919],"loc":{"start":{"line":3373,"column":2},"end":{"line":3373,"column":22}},"type":"MemberExpression","computed":false,"object":{"range":[96899,96909],"loc":{"start":{"line":3373,"column":2},"end":{"line":3373,"column":12}},"type":"Identifier","name":"Collection"},"property":{"range":[96910,96919],"loc":{"start":{"line":3373,"column":13},"end":{"line":3373,"column":22}},"type":"Identifier","name":"prototype"}},"property":{"range":[96920,96931],"loc":{"start":{"line":3373,"column":23},"end":{"line":3373,"column":34}},"type":"Identifier","name":"constructor"}},"right":{"range":[96934,96944],"loc":{"start":{"line":3373,"column":37},"end":{"line":3373,"column":47}},"type":"Identifier","name":"Collection"}},"trailingComments":[{"type":"Line","value":" Custom nested resource constructor for Thngs of a Collection.","range":[96950,97014],"loc":{"start":{"line":3376,"column":2},"end":{"line":3376,"column":66}}},{"type":"Line","value":" To create this nested resource, the collection itself needs","range":[97017,97079],"loc":{"start":{"line":3377,"column":2},"end":{"line":3377,"column":64}}},{"type":"Line","value":" a resource.","range":[97082,97096],"loc":{"start":{"line":3378,"column":2},"end":{"line":3378,"column":16}}}]},{"range":[97099,97375],"loc":{"start":{"line":3379,"column":2},"end":{"line":3388,"column":3}},"type":"FunctionDeclaration","id":{"range":[97108,97122],"loc":{"start":{"line":3379,"column":11},"end":{"line":3379,"column":25}},"type":"Identifier","name":"collectionThng"},"params":[{"range":[97123,97125],"loc":{"start":{"line":3379,"column":26},"end":{"line":3379,"column":28}},"type":"Identifier","name":"id"}],"defaults":[],"body":{"range":[97127,97375],"loc":{"start":{"line":3379,"column":30},"end":{"line":3388,"column":3}},"type":"BlockStatement","body":[{"range":[97133,97223],"loc":{"start":{"line":3380,"column":4},"end":{"line":3382,"column":5}},"type":"IfStatement","test":{"range":[97136,97150],"loc":{"start":{"line":3380,"column":7},"end":{"line":3380,"column":21}},"type":"UnaryExpression","operator":"!","argument":{"range":[97137,97150],"loc":{"start":{"line":3380,"column":8},"end":{"line":3380,"column":21}},"type":"MemberExpression","computed":false,"object":{"range":[97137,97141],"loc":{"start":{"line":3380,"column":8},"end":{"line":3380,"column":12}},"type":"ThisExpression"},"property":{"range":[97142,97150],"loc":{"start":{"line":3380,"column":13},"end":{"line":3380,"column":21}},"type":"Identifier","name":"resource"}},"prefix":true},"consequent":{"range":[97152,97223],"loc":{"start":{"line":3380,"column":23},"end":{"line":3382,"column":5}},"type":"BlockStatement","body":[{"range":[97160,97217],"loc":{"start":{"line":3381,"column":6},"end":{"line":3381,"column":63}},"type":"ThrowStatement","argument":{"range":[97166,97216],"loc":{"start":{"line":3381,"column":12},"end":{"line":3381,"column":62}},"type":"NewExpression","callee":{"range":[97170,97175],"loc":{"start":{"line":3381,"column":16},"end":{"line":3381,"column":21}},"type":"Identifier","name":"Error"},"arguments":[{"range":[97176,97215],"loc":{"start":{"line":3381,"column":22},"end":{"line":3381,"column":61}},"type":"Literal","value":"This Entity does not have a Resource.","raw":"'This Entity does not have a Resource.'"}]}}]},"alternate":null},{"range":[97229,97270],"loc":{"start":{"line":3384,"column":4},"end":{"line":3384,"column":45}},"type":"VariableDeclaration","declarations":[{"range":[97233,97269],"loc":{"start":{"line":3384,"column":8},"end":{"line":3384,"column":44}},"type":"VariableDeclarator","id":{"range":[97233,97237],"loc":{"start":{"line":3384,"column":8},"end":{"line":3384,"column":12}},"type":"Identifier","name":"path"},"init":{"range":[97240,97269],"loc":{"start":{"line":3384,"column":15},"end":{"line":3384,"column":44}},"type":"BinaryExpression","operator":"+","left":{"range":[97240,97258],"loc":{"start":{"line":3384,"column":15},"end":{"line":3384,"column":33}},"type":"MemberExpression","computed":false,"object":{"range":[97240,97253],"loc":{"start":{"line":3384,"column":15},"end":{"line":3384,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[97240,97244],"loc":{"start":{"line":3384,"column":15},"end":{"line":3384,"column":19}},"type":"ThisExpression"},"property":{"range":[97245,97253],"loc":{"start":{"line":3384,"column":20},"end":{"line":3384,"column":28}},"type":"Identifier","name":"resource"}},"property":{"range":[97254,97258],"loc":{"start":{"line":3384,"column":29},"end":{"line":3384,"column":33}},"type":"Identifier","name":"path"}},"right":{"range":[97261,97269],"loc":{"start":{"line":3384,"column":36},"end":{"line":3384,"column":44}},"type":"Literal","value":"/thngs","raw":"'/thngs'"}}}],"kind":"var"},{"range":[97276,97371],"loc":{"start":{"line":3386,"column":4},"end":{"line":3387,"column":37}},"type":"ReturnStatement","argument":{"range":[97283,97370],"loc":{"start":{"line":3386,"column":11},"end":{"line":3387,"column":36}},"type":"CallExpression","callee":{"range":[97283,97345],"loc":{"start":{"line":3386,"column":11},"end":{"line":3387,"column":11}},"type":"MemberExpression","computed":false,"object":{"range":[97283,97333],"loc":{"start":{"line":3386,"column":11},"end":{"line":3386,"column":61}},"type":"CallExpression","callee":{"range":[97283,97310],"loc":{"start":{"line":3386,"column":11},"end":{"line":3386,"column":38}},"type":"MemberExpression","computed":false,"object":{"range":[97283,97291],"loc":{"start":{"line":3386,"column":11},"end":{"line":3386,"column":19}},"type":"Identifier","name":"Resource"},"property":{"range":[97292,97310],"loc":{"start":{"line":3386,"column":20},"end":{"line":3386,"column":38}},"type":"Identifier","name":"constructorFactory"}},"arguments":[{"range":[97311,97315],"loc":{"start":{"line":3386,"column":39},"end":{"line":3386,"column":43}},"type":"Identifier","name":"path"},{"range":[97317,97332],"loc":{"start":{"line":3386,"column":45},"end":{"line":3386,"column":60}},"type":"MemberExpression","computed":false,"object":{"range":[97317,97327],"loc":{"start":{"line":3386,"column":45},"end":{"line":3386,"column":55}},"type":"MemberExpression","computed":false,"object":{"range":[97317,97320],"loc":{"start":{"line":3386,"column":45},"end":{"line":3386,"column":48}},"type":"Identifier","name":"EVT"},"property":{"range":[97321,97327],"loc":{"start":{"line":3386,"column":49},"end":{"line":3386,"column":55}},"type":"Identifier","name":"Entity"}},"property":{"range":[97328,97332],"loc":{"start":{"line":3386,"column":56},"end":{"line":3386,"column":60}},"type":"Identifier","name":"Thng"}}]},"property":{"range":[97341,97345],"loc":{"start":{"line":3387,"column":7},"end":{"line":3387,"column":11}},"type":"Identifier","name":"call"}},"arguments":[{"range":[97346,97365],"loc":{"start":{"line":3387,"column":12},"end":{"line":3387,"column":31}},"type":"MemberExpression","computed":false,"object":{"range":[97346,97359],"loc":{"start":{"line":3387,"column":12},"end":{"line":3387,"column":25}},"type":"MemberExpression","computed":false,"object":{"range":[97346,97350],"loc":{"start":{"line":3387,"column":12},"end":{"line":3387,"column":16}},"type":"ThisExpression"},"property":{"range":[97351,97359],"loc":{"start":{"line":3387,"column":17},"end":{"line":3387,"column":25}},"type":"Identifier","name":"resource"}},"property":{"range":[97360,97365],"loc":{"start":{"line":3387,"column":26},"end":{"line":3387,"column":31}},"type":"Identifier","name":"scope"}},{"range":[97367,97369],"loc":{"start":{"line":3387,"column":33},"end":{"line":3387,"column":35}},"type":"Identifier","name":"id"}]}}]},"generator":false,"expression":false,"leadingComments":[{"type":"Line","value":" Custom nested resource constructor for Thngs of a Collection.","range":[96950,97014],"loc":{"start":{"line":3376,"column":2},"end":{"line":3376,"column":66}}},{"type":"Line","value":" To create this nested resource, the collection itself needs","range":[97017,97079],"loc":{"start":{"line":3377,"column":2},"end":{"line":3377,"column":64}}},{"type":"Line","value":" a resource.","range":[97082,97096],"loc":{"start":{"line":3378,"column":2},"end":{"line":3378,"column":16}}}],"trailingComments":[{"type":"Line","value":" Extend Collection API by exposing a Thng Resource, allowing to","range":[97380,97445],"loc":{"start":{"line":3391,"column":2},"end":{"line":3391,"column":67}}},{"type":"Line","value":" manage Thngs directly from a Collection.","range":[97448,97491],"loc":{"start":{"line":3392,"column":2},"end":{"line":3392,"column":45}}}]},{"range":[97494,97610],"loc":{"start":{"line":3393,"column":2},"end":{"line":3399,"column":11}},"type":"ExpressionStatement","expression":{"range":[97494,97609],"loc":{"start":{"line":3393,"column":2},"end":{"line":3399,"column":10}},"type":"CallExpression","callee":{"range":[97494,97506],"loc":{"start":{"line":3393,"column":2},"end":{"line":3393,"column":14}},"type":"MemberExpression","computed":false,"object":{"range":[97494,97499],"loc":{"start":{"line":3393,"column":2},"end":{"line":3393,"column":7}},"type":"Identifier","name":"Utils"},"property":{"range":[97500,97506],"loc":{"start":{"line":3393,"column":8},"end":{"line":3393,"column":14}},"type":"Identifier","name":"extend"}},"arguments":[{"range":[97507,97527],"loc":{"start":{"line":3393,"column":15},"end":{"line":3393,"column":35}},"type":"MemberExpression","computed":false,"object":{"range":[97507,97517],"loc":{"start":{"line":3393,"column":15},"end":{"line":3393,"column":25}},"type":"Identifier","name":"Collection"},"property":{"range":[97518,97527],"loc":{"start":{"line":3393,"column":26},"end":{"line":3393,"column":35}},"type":"Identifier","name":"prototype"}},{"range":[97529,97602],"loc":{"start":{"line":3393,"column":37},"end":{"line":3399,"column":3}},"type":"ObjectExpression","properties":[{"range":[97536,97556],"loc":{"start":{"line":3395,"column":4},"end":{"line":3395,"column":24}},"type":"Property","key":{"range":[97536,97540],"loc":{"start":{"line":3395,"column":4},"end":{"line":3395,"column":8}},"type":"Identifier","name":"thng"},"computed":false,"value":{"range":[97542,97556],"loc":{"start":{"line":3395,"column":10},"end":{"line":3395,"column":24}},"type":"Identifier","name":"collectionThng"},"kind":"init","method":false,"shorthand":false},{"range":[97563,97597],"loc":{"start":{"line":3397,"column":4},"end":{"line":3397,"column":38}},"type":"Property","key":{"range":[97563,97569],"loc":{"start":{"line":3397,"column":4},"end":{"line":3397,"column":10}},"type":"Identifier","name":"action"},"computed":false,"value":{"range":[97571,97597],"loc":{"start":{"line":3397,"column":12},"end":{"line":3397,"column":38}},"type":"MemberExpression","computed":false,"object":{"range":[97571,97577],"loc":{"start":{"line":3397,"column":12},"end":{"line":3397,"column":18}},"type":"Identifier","name":"Action"},"property":{"range":[97578,97597],"loc":{"start":{"line":3397,"column":19},"end":{"line":3397,"column":38}},"type":"Identifier","name":"resourceConstructor"}},"kind":"init","method":false,"shorthand":false}]},{"range":[97604,97608],"loc":{"start":{"line":3399,"column":5},"end":{"line":3399,"column":9}},"type":"Literal","value":true,"raw":"true"}]},"leadingComments":[{"type":"Line","value":" Extend Collection API by exposing a Thng Resource, allowing to","range":[97380,97445],"loc":{"start":{"line":3391,"column":2},"end":{"line":3391,"column":67}}},{"type":"Line","value":" manage Thngs directly from a Collection.","range":[97448,97491],"loc":{"start":{"line":3392,"column":2},"end":{"line":3392,"column":45}}}],"trailingComments":[{"type":"Line","value":" Attach class to EVT module.","range":[97615,97645],"loc":{"start":{"line":3402,"column":2},"end":{"line":3402,"column":32}}}]},{"range":[97648,97683],"loc":{"start":{"line":3403,"column":2},"end":{"line":3403,"column":37}},"type":"ExpressionStatement","expression":{"range":[97648,97682],"loc":{"start":{"line":3403,"column":2},"end":{"line":3403,"column":36}},"type":"AssignmentExpression","operator":"=","left":{"range":[97648,97669],"loc":{"start":{"line":3403,"column":2},"end":{"line":3403,"column":23}},"type":"MemberExpression","computed":false,"object":{"range":[97648,97658],"loc":{"start":{"line":3403,"column":2},"end":{"line":3403,"column":12}},"type":"MemberExpression","computed":false,"object":{"range":[97648,97651],"loc":{"start":{"line":3403,"column":2},"end":{"line":3403,"column":5}},"type":"Identifier","name":"EVT"},"property":{"range":[97652,97658],"loc":{"start":{"line":3403,"column":6},"end":{"line":3403,"column":12}},"type":"Identifier","name":"Entity"}},"property":{"range":[97659,97669],"loc":{"start":{"line":3403,"column":13},"end":{"line":3403,"column":23}},"type":"Identifier","name":"Collection"}},"right":{"range":[97672,97682],"loc":{"start":{"line":3403,"column":26},"end":{"line":3403,"column":36}},"type":"Identifier","name":"Collection"}},"leadingComments":[{"type":"Line","value":" Attach class to EVT module.","range":[97615,97645],"loc":{"start":{"line":3402,"column":2},"end":{"line":3402,"column":32}}}]},{"range":[97688,97841],"loc":{"start":{"line":3406,"column":2},"end":{"line":3412,"column":4}},"type":"ReturnStatement","argument":{"range":[97695,97840],"loc":{"start":{"line":3406,"column":9},"end":{"line":3412,"column":3}},"type":"ObjectExpression","properties":[{"range":[97702,97721],"loc":{"start":{"line":3408,"column":4},"end":{"line":3408,"column":23}},"type":"Property","key":{"range":[97702,97709],"loc":{"start":{"line":3408,"column":4},"end":{"line":3408,"column":11}},"type":"Literal","value":"class","raw":"'class'"},"computed":false,"value":{"range":[97711,97721],"loc":{"start":{"line":3408,"column":13},"end":{"line":3408,"column":23}},"type":"Identifier","name":"Collection"},"kind":"init","method":false,"shorthand":false},{"range":[97728,97835],"loc":{"start":{"line":3410,"column":4},"end":{"line":3410,"column":111}},"type":"Property","key":{"range":[97728,97747],"loc":{"start":{"line":3410,"column":4},"end":{"line":3410,"column":23}},"type":"Identifier","name":"resourceConstructor"},"computed":false,"value":{"range":[97749,97835],"loc":{"start":{"line":3410,"column":25},"end":{"line":3410,"column":111}},"type":"CallExpression","callee":{"range":[97749,97776],"loc":{"start":{"line":3410,"column":25},"end":{"line":3410,"column":52}},"type":"MemberExpression","computed":false,"object":{"range":[97749,97757],"loc":{"start":{"line":3410,"column":25},"end":{"line":3410,"column":33}},"type":"Identifier","name":"Resource"},"property":{"range":[97758,97776],"loc":{"start":{"line":3410,"column":34},"end":{"line":3410,"column":52}},"type":"Identifier","name":"constructorFactory"}},"arguments":[{"range":[97777,97791],"loc":{"start":{"line":3410,"column":53},"end":{"line":3410,"column":67}},"type":"Literal","value":"/collections","raw":"'/collections'"},{"range":[97793,97814],"loc":{"start":{"line":3410,"column":69},"end":{"line":3410,"column":90}},"type":"MemberExpression","computed":false,"object":{"range":[97793,97803],"loc":{"start":{"line":3410,"column":69},"end":{"line":3410,"column":79}},"type":"MemberExpression","computed":false,"object":{"range":[97793,97796],"loc":{"start":{"line":3410,"column":69},"end":{"line":3410,"column":72}},"type":"Identifier","name":"EVT"},"property":{"range":[97797,97803],"loc":{"start":{"line":3410,"column":73},"end":{"line":3410,"column":79}},"type":"Identifier","name":"Entity"}},"property":{"range":[97804,97814],"loc":{"start":{"line":3410,"column":80},"end":{"line":3410,"column":90}},"type":"Identifier","name":"Collection"}},{"range":[97816,97834],"loc":{"start":{"line":3410,"column":92},"end":{"line":3410,"column":110}},"type":"ArrayExpression","elements":[{"range":[97817,97823],"loc":{"start":{"line":3410,"column":93},"end":{"line":3410,"column":99}},"type":"Literal","value":"thng","raw":"'thng'"},{"range":[97825,97833],"loc":{"start":{"line":3410,"column":101},"end":{"line":3410,"column":109}},"type":"Literal","value":"action","raw":"'action'"}]}]},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" ## COLLECTION.JS","range":[96444,96463],"loc":{"start":{"line":3353,"column":0},"end":{"line":3353,"column":19}}},{"type":"Line","value":" **The Collection is a simple Entity subclass that provides a nested","range":[96465,96535],"loc":{"start":{"line":3355,"column":0},"end":{"line":3355,"column":70}}},{"type":"Line","value":" Thng Resource.**","range":[96536,96555],"loc":{"start":{"line":3356,"column":0},"end":{"line":3356,"column":19}}}],"trailingComments":[{"type":"Line","value":" ## MULTIMEDIA.JS","range":[97847,97866],"loc":{"start":{"line":3415,"column":0},"end":{"line":3415,"column":19}}},{"type":"Line","value":" **The Multimedia is a simple Entity subclass representing the REST API","range":[97868,97941],"loc":{"start":{"line":3417,"column":0},"end":{"line":3417,"column":73}}},{"type":"Line","value":" Multimedia Content object.**","range":[97942,97973],"loc":{"start":{"line":3418,"column":0},"end":{"line":3418,"column":31}}}]},{"range":[97975,98546],"loc":{"start":{"line":3420,"column":0},"end":{"line":3447,"column":3}},"type":"ExpressionStatement","expression":{"range":[97975,98545],"loc":{"start":{"line":3420,"column":0},"end":{"line":3447,"column":2}},"type":"CallExpression","callee":{"range":[97975,97981],"loc":{"start":{"line":3420,"column":0},"end":{"line":3420,"column":6}},"type":"Identifier","name":"define"},"arguments":[{"range":[97982,98001],"loc":{"start":{"line":3420,"column":7},"end":{"line":3420,"column":26}},"type":"Literal","value":"entity/multimedia","raw":"'entity/multimedia'"},{"range":[98002,98042],"loc":{"start":{"line":3420,"column":27},"end":{"line":3424,"column":1}},"type":"ArrayExpression","elements":[{"range":[98006,98012],"loc":{"start":{"line":3421,"column":2},"end":{"line":3421,"column":8}},"type":"Literal","value":"core","raw":"'core'"},{"range":[98016,98026],"loc":{"start":{"line":3422,"column":2},"end":{"line":3422,"column":12}},"type":"Literal","value":"./entity","raw":"'./entity'"},{"range":[98030,98040],"loc":{"start":{"line":3423,"column":2},"end":{"line":3423,"column":12}},"type":"Literal","value":"resource","raw":"'resource'"}]},{"range":[98044,98544],"loc":{"start":{"line":3424,"column":3},"end":{"line":3447,"column":1}},"type":"FunctionExpression","id":null,"params":[{"range":[98054,98057],"loc":{"start":{"line":3424,"column":13},"end":{"line":3424,"column":16}},"type":"Identifier","name":"EVT"},{"range":[98059,98065],"loc":{"start":{"line":3424,"column":18},"end":{"line":3424,"column":24}},"type":"Identifier","name":"Entity"},{"range":[98067,98075],"loc":{"start":{"line":3424,"column":26},"end":{"line":3424,"column":34}},"type":"Identifier","name":"Resource"}],"defaults":[],"body":{"range":[98077,98544],"loc":{"start":{"line":3424,"column":36},"end":{"line":3447,"column":1}},"type":"BlockStatement","body":[{"range":[98081,98094],"loc":{"start":{"line":3425,"column":2},"end":{"line":3425,"column":15}},"type":"ExpressionStatement","expression":{"range":[98081,98093],"loc":{"start":{"line":3425,"column":2},"end":{"line":3425,"column":14}},"type":"Literal","value":"use strict","raw":"'use strict'"},"trailingComments":[{"type":"Line","value":" Setup Multimedia inheritance from Entity.","range":[98098,98142],"loc":{"start":{"line":3427,"column":2},"end":{"line":3427,"column":46}}}]},{"range":[98145,98215],"loc":{"start":{"line":3428,"column":2},"end":{"line":3430,"column":4}},"type":"VariableDeclaration","declarations":[{"range":[98149,98214],"loc":{"start":{"line":3428,"column":6},"end":{"line":3430,"column":3}},"type":"VariableDeclarator","id":{"range":[98149,98159],"loc":{"start":{"line":3428,"column":6},"end":{"line":3428,"column":16}},"type":"Identifier","name":"Multimedia"},"init":{"range":[98162,98214],"loc":{"start":{"line":3428,"column":19},"end":{"line":3430,"column":3}},"type":"FunctionExpression","id":null,"params":[],"defaults":[],"body":{"range":[98174,98214],"loc":{"start":{"line":3428,"column":31},"end":{"line":3430,"column":3}},"type":"BlockStatement","body":[{"range":[98180,98210],"loc":{"start":{"line":3429,"column":4},"end":{"line":3429,"column":34}},"type":"ExpressionStatement","expression":{"range":[98180,98209],"loc":{"start":{"line":3429,"column":4},"end":{"line":3429,"column":33}},"type":"CallExpression","callee":{"range":[98180,98192],"loc":{"start":{"line":3429,"column":4},"end":{"line":3429,"column":16}},"type":"MemberExpression","computed":false,"object":{"range":[98180,98186],"loc":{"start":{"line":3429,"column":4},"end":{"line":3429,"column":10}},"type":"Identifier","name":"Entity"},"property":{"range":[98187,98192],"loc":{"start":{"line":3429,"column":11},"end":{"line":3429,"column":16}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[98193,98197],"loc":{"start":{"line":3429,"column":17},"end":{"line":3429,"column":21}},"type":"ThisExpression"},{"range":[98199,98208],"loc":{"start":{"line":3429,"column":23},"end":{"line":3429,"column":32}},"type":"Identifier","name":"arguments"}]}}]},"generator":false,"expression":false}}],"kind":"var","leadingComments":[{"type":"Line","value":" Setup Multimedia inheritance from Entity.","range":[98098,98142],"loc":{"start":{"line":3427,"column":2},"end":{"line":3427,"column":46}}}]},{"range":[98219,98274],"loc":{"start":{"line":3432,"column":2},"end":{"line":3432,"column":57}},"type":"ExpressionStatement","expression":{"range":[98219,98273],"loc":{"start":{"line":3432,"column":2},"end":{"line":3432,"column":56}},"type":"AssignmentExpression","operator":"=","left":{"range":[98219,98239],"loc":{"start":{"line":3432,"column":2},"end":{"line":3432,"column":22}},"type":"MemberExpression","computed":false,"object":{"range":[98219,98229],"loc":{"start":{"line":3432,"column":2},"end":{"line":3432,"column":12}},"type":"Identifier","name":"Multimedia"},"property":{"range":[98230,98239],"loc":{"start":{"line":3432,"column":13},"end":{"line":3432,"column":22}},"type":"Identifier","name":"prototype"}},"right":{"range":[98242,98273],"loc":{"start":{"line":3432,"column":25},"end":{"line":3432,"column":56}},"type":"CallExpression","callee":{"range":[98242,98255],"loc":{"start":{"line":3432,"column":25},"end":{"line":3432,"column":38}},"type":"MemberExpression","computed":false,"object":{"range":[98242,98248],"loc":{"start":{"line":3432,"column":25},"end":{"line":3432,"column":31}},"type":"Identifier","name":"Object"},"property":{"range":[98249,98255],"loc":{"start":{"line":3432,"column":32},"end":{"line":3432,"column":38}},"type":"Identifier","name":"create"}},"arguments":[{"range":[98256,98272],"loc":{"start":{"line":3432,"column":39},"end":{"line":3432,"column":55}},"type":"MemberExpression","computed":false,"object":{"range":[98256,98262],"loc":{"start":{"line":3432,"column":39},"end":{"line":3432,"column":45}},"type":"Identifier","name":"Entity"},"property":{"range":[98263,98272],"loc":{"start":{"line":3432,"column":46},"end":{"line":3432,"column":55}},"type":"Identifier","name":"prototype"}}]}}},{"range":[98277,98323],"loc":{"start":{"line":3433,"column":2},"end":{"line":3433,"column":48}},"type":"ExpressionStatement","expression":{"range":[98277,98322],"loc":{"start":{"line":3433,"column":2},"end":{"line":3433,"column":47}},"type":"AssignmentExpression","operator":"=","left":{"range":[98277,98309],"loc":{"start":{"line":3433,"column":2},"end":{"line":3433,"column":34}},"type":"MemberExpression","computed":false,"object":{"range":[98277,98297],"loc":{"start":{"line":3433,"column":2},"end":{"line":3433,"column":22}},"type":"MemberExpression","computed":false,"object":{"range":[98277,98287],"loc":{"start":{"line":3433,"column":2},"end":{"line":3433,"column":12}},"type":"Identifier","name":"Multimedia"},"property":{"range":[98288,98297],"loc":{"start":{"line":3433,"column":13},"end":{"line":3433,"column":22}},"type":"Identifier","name":"prototype"}},"property":{"range":[98298,98309],"loc":{"start":{"line":3433,"column":23},"end":{"line":3433,"column":34}},"type":"Identifier","name":"constructor"}},"right":{"range":[98312,98322],"loc":{"start":{"line":3433,"column":37},"end":{"line":3433,"column":47}},"type":"Identifier","name":"Multimedia"}},"trailingComments":[{"type":"Line","value":" Attach class to EVT module.","range":[98328,98358],"loc":{"start":{"line":3436,"column":2},"end":{"line":3436,"column":32}}}]},{"range":[98361,98396],"loc":{"start":{"line":3437,"column":2},"end":{"line":3437,"column":37}},"type":"ExpressionStatement","expression":{"range":[98361,98395],"loc":{"start":{"line":3437,"column":2},"end":{"line":3437,"column":36}},"type":"AssignmentExpression","operator":"=","left":{"range":[98361,98382],"loc":{"start":{"line":3437,"column":2},"end":{"line":3437,"column":23}},"type":"MemberExpression","computed":false,"object":{"range":[98361,98371],"loc":{"start":{"line":3437,"column":2},"end":{"line":3437,"column":12}},"type":"MemberExpression","computed":false,"object":{"range":[98361,98364],"loc":{"start":{"line":3437,"column":2},"end":{"line":3437,"column":5}},"type":"Identifier","name":"EVT"},"property":{"range":[98365,98371],"loc":{"start":{"line":3437,"column":6},"end":{"line":3437,"column":12}},"type":"Identifier","name":"Entity"}},"property":{"range":[98372,98382],"loc":{"start":{"line":3437,"column":13},"end":{"line":3437,"column":23}},"type":"Identifier","name":"Multimedia"}},"right":{"range":[98385,98395],"loc":{"start":{"line":3437,"column":26},"end":{"line":3437,"column":36}},"type":"Identifier","name":"Multimedia"}},"leadingComments":[{"type":"Line","value":" Attach class to EVT module.","range":[98328,98358],"loc":{"start":{"line":3436,"column":2},"end":{"line":3436,"column":32}}}]},{"range":[98401,98542],"loc":{"start":{"line":3440,"column":2},"end":{"line":3446,"column":4}},"type":"ReturnStatement","argument":{"range":[98408,98541],"loc":{"start":{"line":3440,"column":9},"end":{"line":3446,"column":3}},"type":"ObjectExpression","properties":[{"range":[98415,98434],"loc":{"start":{"line":3442,"column":4},"end":{"line":3442,"column":23}},"type":"Property","key":{"range":[98415,98422],"loc":{"start":{"line":3442,"column":4},"end":{"line":3442,"column":11}},"type":"Literal","value":"class","raw":"'class'"},"computed":false,"value":{"range":[98424,98434],"loc":{"start":{"line":3442,"column":13},"end":{"line":3442,"column":23}},"type":"Identifier","name":"Multimedia"},"kind":"init","method":false,"shorthand":false},{"range":[98441,98536],"loc":{"start":{"line":3444,"column":4},"end":{"line":3444,"column":99}},"type":"Property","key":{"range":[98441,98460],"loc":{"start":{"line":3444,"column":4},"end":{"line":3444,"column":23}},"type":"Identifier","name":"resourceConstructor"},"computed":false,"value":{"range":[98462,98536],"loc":{"start":{"line":3444,"column":25},"end":{"line":3444,"column":99}},"type":"CallExpression","callee":{"range":[98462,98489],"loc":{"start":{"line":3444,"column":25},"end":{"line":3444,"column":52}},"type":"MemberExpression","computed":false,"object":{"range":[98462,98470],"loc":{"start":{"line":3444,"column":25},"end":{"line":3444,"column":33}},"type":"Identifier","name":"Resource"},"property":{"range":[98471,98489],"loc":{"start":{"line":3444,"column":34},"end":{"line":3444,"column":52}},"type":"Identifier","name":"constructorFactory"}},"arguments":[{"range":[98490,98512],"loc":{"start":{"line":3444,"column":53},"end":{"line":3444,"column":75}},"type":"Literal","value":"/contents/multimedia","raw":"'/contents/multimedia'"},{"range":[98514,98535],"loc":{"start":{"line":3444,"column":77},"end":{"line":3444,"column":98}},"type":"MemberExpression","computed":false,"object":{"range":[98514,98524],"loc":{"start":{"line":3444,"column":77},"end":{"line":3444,"column":87}},"type":"MemberExpression","computed":false,"object":{"range":[98514,98517],"loc":{"start":{"line":3444,"column":77},"end":{"line":3444,"column":80}},"type":"Identifier","name":"EVT"},"property":{"range":[98518,98524],"loc":{"start":{"line":3444,"column":81},"end":{"line":3444,"column":87}},"type":"Identifier","name":"Entity"}},"property":{"range":[98525,98535],"loc":{"start":{"line":3444,"column":88},"end":{"line":3444,"column":98}},"type":"Identifier","name":"Multimedia"}}]},"kind":"init","method":false,"shorthand":false}]}}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" ## MULTIMEDIA.JS","range":[97847,97866],"loc":{"start":{"line":3415,"column":0},"end":{"line":3415,"column":19}}},{"type":"Line","value":" **The Multimedia is a simple Entity subclass representing the REST API","range":[97868,97941],"loc":{"start":{"line":3417,"column":0},"end":{"line":3417,"column":73}}},{"type":"Line","value":" Multimedia Content object.**","range":[97942,97973],"loc":{"start":{"line":3418,"column":0},"end":{"line":3418,"column":31}}}],"trailingComments":[{"type":"Line","value":" ## SEARCH.JS","range":[98548,98563],"loc":{"start":{"line":3449,"column":0},"end":{"line":3449,"column":15}}},{"type":"Line","value":" **Search API simplifies the search requests to the API, by","range":[98565,98626],"loc":{"start":{"line":3451,"column":0},"end":{"line":3451,"column":61}}},{"type":"Line","value":" splitting the actual query and additional options.**","range":[98627,98682],"loc":{"start":{"line":3452,"column":0},"end":{"line":3452,"column":55}}}]},{"range":[98684,100220],"loc":{"start":{"line":3454,"column":0},"end":{"line":3519,"column":3}},"type":"ExpressionStatement","expression":{"range":[98684,100219],"loc":{"start":{"line":3454,"column":0},"end":{"line":3519,"column":2}},"type":"CallExpression","callee":{"range":[98684,98690],"loc":{"start":{"line":3454,"column":0},"end":{"line":3454,"column":6}},"type":"Identifier","name":"define"},"arguments":[{"range":[98691,98699],"loc":{"start":{"line":3454,"column":7},"end":{"line":3454,"column":15}},"type":"Literal","value":"search","raw":"'search'"},{"range":[98700,98723],"loc":{"start":{"line":3454,"column":16},"end":{"line":3457,"column":1}},"type":"ArrayExpression","elements":[{"range":[98704,98710],"loc":{"start":{"line":3455,"column":2},"end":{"line":3455,"column":8}},"type":"Literal","value":"core","raw":"'core'"},{"range":[98714,98721],"loc":{"start":{"line":3456,"column":2},"end":{"line":3456,"column":9}},"type":"Literal","value":"utils","raw":"'utils'"}]},{"range":[98725,100218],"loc":{"start":{"line":3457,"column":3},"end":{"line":3519,"column":1}},"type":"FunctionExpression","id":null,"params":[{"range":[98735,98738],"loc":{"start":{"line":3457,"column":13},"end":{"line":3457,"column":16}},"type":"Identifier","name":"EVT"},{"range":[98740,98745],"loc":{"start":{"line":3457,"column":18},"end":{"line":3457,"column":23}},"type":"Identifier","name":"Utils"}],"defaults":[],"body":{"range":[98747,100218],"loc":{"start":{"line":3457,"column":25},"end":{"line":3519,"column":1}},"type":"BlockStatement","body":[{"range":[98751,98764],"loc":{"start":{"line":3458,"column":2},"end":{"line":3458,"column":15}},"type":"ExpressionStatement","expression":{"range":[98751,98763],"loc":{"start":{"line":3458,"column":2},"end":{"line":3458,"column":14}},"type":"Literal","value":"use strict","raw":"'use strict'"},"trailingComments":[{"type":"Line","value":" Wrap the search API call in the search() method. Check the","range":[98768,98829],"loc":{"start":{"line":3460,"column":2},"end":{"line":3460,"column":63}}},{"type":"Line","value":" [search API in Evrythng Documentation](https://dashboard.evrythng.com/developers/apidoc#search).","range":[98832,98931],"loc":{"start":{"line":3461,"column":2},"end":{"line":3461,"column":101}}},{"type":"Line","value":" .search() allows the following parameters:","range":[98934,98979],"loc":{"start":{"line":3462,"column":2},"end":{"line":3462,"column":47}}},{"type":"Line","value":" - _**search(queryString, options)** - ?q=queryString. Options object represent","range":[98983,99064],"loc":{"start":{"line":3464,"column":2},"end":{"line":3464,"column":83}}},{"type":"Line","value":" the additional search parameters. Such as:_","range":[99067,99113],"loc":{"start":{"line":3465,"column":2},"end":{"line":3465,"column":48}}},{"type":"Line","value":" ```","range":[99117,99123],"loc":{"start":{"line":3467,"column":2},"end":{"line":3467,"column":8}}},{"type":"Line","value":"  {","range":[99126,99131],"loc":{"start":{"line":3468,"column":2},"end":{"line":3468,"column":7}}},{"type":"Line","value":"    types: 'thng,product'","range":[99134,99161],"loc":{"start":{"line":3469,"column":2},"end":{"line":3469,"column":29}}},{"type":"Line","value":"  }","range":[99164,99169],"loc":{"start":{"line":3470,"column":2},"end":{"line":3470,"column":7}}},{"type":"Line","value":" ```","range":[99172,99178],"loc":{"start":{"line":3471,"column":2},"end":{"line":3471,"column":8}}},{"type":"Line","value":" - _**search(queryObj, options)** - Apply field or geographic search. Such as:_","range":[99182,99263],"loc":{"start":{"line":3473,"column":2},"end":{"line":3473,"column":83}}},{"type":"Line","value":" ```","range":[99267,99273],"loc":{"start":{"line":3475,"column":2},"end":{"line":3475,"column":8}}},{"type":"Line","value":"  {","range":[99276,99281],"loc":{"start":{"line":3476,"column":2},"end":{"line":3476,"column":7}}},{"type":"Line","value":"    name: 'tv',","range":[99284,99301],"loc":{"start":{"line":3477,"column":2},"end":{"line":3477,"column":19}}},{"type":"Line","value":"    description: 'plasma'","range":[99304,99331],"loc":{"start":{"line":3478,"column":2},"end":{"line":3478,"column":29}}},{"type":"Line","value":"  }","range":[99334,99339],"loc":{"start":{"line":3479,"column":2},"end":{"line":3479,"column":7}}},{"type":"Line","value":" ```","range":[99342,99348],"loc":{"start":{"line":3480,"column":2},"end":{"line":3480,"column":8}}},{"type":"Line","value":" ```","range":[99352,99358],"loc":{"start":{"line":3482,"column":2},"end":{"line":3482,"column":8}}},{"type":"Line","value":"  {","range":[99361,99366],"loc":{"start":{"line":3483,"column":2},"end":{"line":3483,"column":7}}},{"type":"Line","value":"    lat: 72,000","range":[99369,99386],"loc":{"start":{"line":3484,"column":2},"end":{"line":3484,"column":19}}},{"type":"Line","value":"    long: -0,190","range":[99389,99407],"loc":{"start":{"line":3485,"column":2},"end":{"line":3485,"column":20}}},{"type":"Line","value":"    maxDistance: 5","range":[99410,99430],"loc":{"start":{"line":3486,"column":2},"end":{"line":3486,"column":22}}},{"type":"Line","value":"  }","range":[99433,99438],"loc":{"start":{"line":3487,"column":2},"end":{"line":3487,"column":7}}},{"type":"Line","value":" ```","range":[99441,99447],"loc":{"start":{"line":3488,"column":2},"end":{"line":3488,"column":8}}},{"type":"Line","value":" - _**search(queryOptions)** - Merge all search parameters in a single object_","range":[99451,99531],"loc":{"start":{"line":3490,"column":2},"end":{"line":3490,"column":82}}}]},{"range":[99534,100197],"loc":{"start":{"line":3491,"column":2},"end":{"line":3515,"column":3}},"type":"FunctionDeclaration","id":{"range":[99543,99549],"loc":{"start":{"line":3491,"column":11},"end":{"line":3491,"column":17}},"type":"Identifier","name":"search"},"params":[{"range":[99550,99555],"loc":{"start":{"line":3491,"column":18},"end":{"line":3491,"column":23}},"type":"Identifier","name":"query"},{"range":[99557,99564],"loc":{"start":{"line":3491,"column":25},"end":{"line":3491,"column":32}},"type":"Identifier","name":"options"}],"defaults":[],"body":{"range":[99566,100197],"loc":{"start":{"line":3491,"column":34},"end":{"line":3515,"column":3}},"type":"BlockStatement","body":[{"range":[99572,99588],"loc":{"start":{"line":3492,"column":4},"end":{"line":3492,"column":20}},"type":"VariableDeclaration","declarations":[{"range":[99576,99587],"loc":{"start":{"line":3492,"column":8},"end":{"line":3492,"column":19}},"type":"VariableDeclarator","id":{"range":[99576,99582],"loc":{"start":{"line":3492,"column":8},"end":{"line":3492,"column":14}},"type":"Identifier","name":"params"},"init":{"range":[99585,99587],"loc":{"start":{"line":3492,"column":17},"end":{"line":3492,"column":19}},"type":"ObjectExpression","properties":[]}}],"kind":"var","trailingComments":[{"type":"Line","value":" Use Free-text search using query string and additional parameters.","range":[99594,99663],"loc":{"start":{"line":3494,"column":4},"end":{"line":3494,"column":73}}}]},{"range":[99668,99961],"loc":{"start":{"line":3495,"column":4},"end":{"line":3506,"column":5}},"type":"IfStatement","test":{"range":[99671,99692],"loc":{"start":{"line":3495,"column":7},"end":{"line":3495,"column":28}},"type":"CallExpression","callee":{"range":[99671,99685],"loc":{"start":{"line":3495,"column":7},"end":{"line":3495,"column":21}},"type":"MemberExpression","computed":false,"object":{"range":[99671,99676],"loc":{"start":{"line":3495,"column":7},"end":{"line":3495,"column":12}},"type":"Identifier","name":"Utils"},"property":{"range":[99677,99685],"loc":{"start":{"line":3495,"column":13},"end":{"line":3495,"column":21}},"type":"Identifier","name":"isString"}},"arguments":[{"range":[99686,99691],"loc":{"start":{"line":3495,"column":22},"end":{"line":3495,"column":27}},"type":"Identifier","name":"query"}]},"consequent":{"range":[99694,99772],"loc":{"start":{"line":3495,"column":30},"end":{"line":3499,"column":5}},"type":"BlockStatement","body":[{"range":[99702,99719],"loc":{"start":{"line":3496,"column":6},"end":{"line":3496,"column":23}},"type":"ExpressionStatement","expression":{"range":[99702,99718],"loc":{"start":{"line":3496,"column":6},"end":{"line":3496,"column":22}},"type":"AssignmentExpression","operator":"=","left":{"range":[99702,99710],"loc":{"start":{"line":3496,"column":6},"end":{"line":3496,"column":14}},"type":"MemberExpression","computed":false,"object":{"range":[99702,99708],"loc":{"start":{"line":3496,"column":6},"end":{"line":3496,"column":12}},"type":"Identifier","name":"params"},"property":{"range":[99709,99710],"loc":{"start":{"line":3496,"column":13},"end":{"line":3496,"column":14}},"type":"Identifier","name":"q"}},"right":{"range":[99713,99718],"loc":{"start":{"line":3496,"column":17},"end":{"line":3496,"column":22}},"type":"Identifier","name":"query"}}},{"range":[99726,99765],"loc":{"start":{"line":3497,"column":6},"end":{"line":3497,"column":45}},"type":"ExpressionStatement","expression":{"range":[99726,99764],"loc":{"start":{"line":3497,"column":6},"end":{"line":3497,"column":44}},"type":"AssignmentExpression","operator":"=","left":{"range":[99726,99732],"loc":{"start":{"line":3497,"column":6},"end":{"line":3497,"column":12}},"type":"Identifier","name":"params"},"right":{"range":[99735,99764],"loc":{"start":{"line":3497,"column":15},"end":{"line":3497,"column":44}},"type":"CallExpression","callee":{"range":[99735,99747],"loc":{"start":{"line":3497,"column":15},"end":{"line":3497,"column":27}},"type":"MemberExpression","computed":false,"object":{"range":[99735,99740],"loc":{"start":{"line":3497,"column":15},"end":{"line":3497,"column":20}},"type":"Identifier","name":"Utils"},"property":{"range":[99741,99747],"loc":{"start":{"line":3497,"column":21},"end":{"line":3497,"column":27}},"type":"Identifier","name":"extend"}},"arguments":[{"range":[99748,99754],"loc":{"start":{"line":3497,"column":28},"end":{"line":3497,"column":34}},"type":"Identifier","name":"params"},{"range":[99756,99763],"loc":{"start":{"line":3497,"column":36},"end":{"line":3497,"column":43}},"type":"Identifier","name":"options"}]}}}]},"alternate":{"range":[99778,99961],"loc":{"start":{"line":3499,"column":11},"end":{"line":3506,"column":5}},"type":"BlockStatement","body":[{"range":[99786,99801],"loc":{"start":{"line":3500,"column":6},"end":{"line":3500,"column":21}},"type":"ExpressionStatement","expression":{"range":[99786,99800],"loc":{"start":{"line":3500,"column":6},"end":{"line":3500,"column":20}},"type":"AssignmentExpression","operator":"=","left":{"range":[99786,99792],"loc":{"start":{"line":3500,"column":6},"end":{"line":3500,"column":12}},"type":"Identifier","name":"params"},"right":{"range":[99795,99800],"loc":{"start":{"line":3500,"column":15},"end":{"line":3500,"column":20}},"type":"Identifier","name":"query"}},"trailingComments":[{"type":"Line","value":" Merge query and additional options in a single object for the request.","range":[99809,99882],"loc":{"start":{"line":3502,"column":6},"end":{"line":3502,"column":79}}}]},{"range":[99889,99955],"loc":{"start":{"line":3503,"column":6},"end":{"line":3505,"column":7}},"type":"IfStatement","test":{"range":[99892,99899],"loc":{"start":{"line":3503,"column":9},"end":{"line":3503,"column":16}},"type":"Identifier","name":"options"},"consequent":{"range":[99901,99955],"loc":{"start":{"line":3503,"column":18},"end":{"line":3505,"column":7}},"type":"BlockStatement","body":[{"range":[99911,99947],"loc":{"start":{"line":3504,"column":8},"end":{"line":3504,"column":44}},"type":"ExpressionStatement","expression":{"range":[99911,99946],"loc":{"start":{"line":3504,"column":8},"end":{"line":3504,"column":43}},"type":"CallExpression","callee":{"range":[99911,99923],"loc":{"start":{"line":3504,"column":8},"end":{"line":3504,"column":20}},"type":"MemberExpression","computed":false,"object":{"range":[99911,99916],"loc":{"start":{"line":3504,"column":8},"end":{"line":3504,"column":13}},"type":"Identifier","name":"Utils"},"property":{"range":[99917,99923],"loc":{"start":{"line":3504,"column":14},"end":{"line":3504,"column":20}},"type":"Identifier","name":"extend"}},"arguments":[{"range":[99924,99930],"loc":{"start":{"line":3504,"column":21},"end":{"line":3504,"column":27}},"type":"Identifier","name":"params"},{"range":[99932,99939],"loc":{"start":{"line":3504,"column":29},"end":{"line":3504,"column":36}},"type":"Identifier","name":"options"},{"range":[99941,99945],"loc":{"start":{"line":3504,"column":38},"end":{"line":3504,"column":42}},"type":"Literal","value":true,"raw":"true"}]}}]},"alternate":null,"leadingComments":[{"type":"Line","value":" Merge query and additional options in a single object for the request.","range":[99809,99882],"loc":{"start":{"line":3502,"column":6},"end":{"line":3502,"column":79}}}]}]},"leadingComments":[{"type":"Line","value":" Use Free-text search using query string and additional parameters.","range":[99594,99663],"loc":{"start":{"line":3494,"column":4},"end":{"line":3494,"column":73}}}],"trailingComments":[{"type":"Line","value":" \"this\" represents the scope, since the search method will always be","range":[99967,100037],"loc":{"start":{"line":3508,"column":4},"end":{"line":3508,"column":74}}},{"type":"Line","value":" attached to a scope (e.g. user, operator).","range":[100042,100087],"loc":{"start":{"line":3509,"column":4},"end":{"line":3509,"column":49}}}]},{"range":[100092,100193],"loc":{"start":{"line":3510,"column":4},"end":{"line":3514,"column":7}},"type":"ReturnStatement","argument":{"range":[100099,100192],"loc":{"start":{"line":3510,"column":11},"end":{"line":3514,"column":6}},"type":"CallExpression","callee":{"range":[100099,100106],"loc":{"start":{"line":3510,"column":11},"end":{"line":3510,"column":18}},"type":"MemberExpression","computed":false,"object":{"range":[100099,100102],"loc":{"start":{"line":3510,"column":11},"end":{"line":3510,"column":14}},"type":"Identifier","name":"EVT"},"property":{"range":[100103,100106],"loc":{"start":{"line":3510,"column":15},"end":{"line":3510,"column":18}},"type":"Identifier","name":"api"}},"arguments":[{"range":[100107,100191],"loc":{"start":{"line":3510,"column":19},"end":{"line":3514,"column":5}},"type":"ObjectExpression","properties":[{"range":[100115,100129],"loc":{"start":{"line":3511,"column":6},"end":{"line":3511,"column":20}},"type":"Property","key":{"range":[100115,100118],"loc":{"start":{"line":3511,"column":6},"end":{"line":3511,"column":9}},"type":"Identifier","name":"url"},"computed":false,"value":{"range":[100120,100129],"loc":{"start":{"line":3511,"column":11},"end":{"line":3511,"column":20}},"type":"Literal","value":"/search","raw":"'/search'"},"kind":"init","method":false,"shorthand":false},{"range":[100137,100151],"loc":{"start":{"line":3512,"column":6},"end":{"line":3512,"column":20}},"type":"Property","key":{"range":[100137,100143],"loc":{"start":{"line":3512,"column":6},"end":{"line":3512,"column":12}},"type":"Identifier","name":"params"},"computed":false,"value":{"range":[100145,100151],"loc":{"start":{"line":3512,"column":14},"end":{"line":3512,"column":20}},"type":"Identifier","name":"params"},"kind":"init","method":false,"shorthand":false},{"range":[100159,100185],"loc":{"start":{"line":3513,"column":6},"end":{"line":3513,"column":32}},"type":"Property","key":{"range":[100159,100172],"loc":{"start":{"line":3513,"column":6},"end":{"line":3513,"column":19}},"type":"Identifier","name":"authorization"},"computed":false,"value":{"range":[100174,100185],"loc":{"start":{"line":3513,"column":21},"end":{"line":3513,"column":32}},"type":"MemberExpression","computed":false,"object":{"range":[100174,100178],"loc":{"start":{"line":3513,"column":21},"end":{"line":3513,"column":25}},"type":"ThisExpression"},"property":{"range":[100179,100185],"loc":{"start":{"line":3513,"column":26},"end":{"line":3513,"column":32}},"type":"Identifier","name":"apiKey"}},"kind":"init","method":false,"shorthand":false}]}]},"leadingComments":[{"type":"Line","value":" \"this\" represents the scope, since the search method will always be","range":[99967,100037],"loc":{"start":{"line":3508,"column":4},"end":{"line":3508,"column":74}}},{"type":"Line","value":" attached to a scope (e.g. user, operator).","range":[100042,100087],"loc":{"start":{"line":3509,"column":4},"end":{"line":3509,"column":49}}}]}]},"generator":false,"expression":false,"leadingComments":[{"type":"Line","value":" Wrap the search API call in the search() method. Check the","range":[98768,98829],"loc":{"start":{"line":3460,"column":2},"end":{"line":3460,"column":63}}},{"type":"Line","value":" [search API in Evrythng Documentation](https://dashboard.evrythng.com/developers/apidoc#search).","range":[98832,98931],"loc":{"start":{"line":3461,"column":2},"end":{"line":3461,"column":101}}},{"type":"Line","value":" .search() allows the following parameters:","range":[98934,98979],"loc":{"start":{"line":3462,"column":2},"end":{"line":3462,"column":47}}},{"type":"Line","value":" - _**search(queryString, options)** - ?q=queryString. Options object represent","range":[98983,99064],"loc":{"start":{"line":3464,"column":2},"end":{"line":3464,"column":83}}},{"type":"Line","value":" the additional search parameters. Such as:_","range":[99067,99113],"loc":{"start":{"line":3465,"column":2},"end":{"line":3465,"column":48}}},{"type":"Line","value":" ```","range":[99117,99123],"loc":{"start":{"line":3467,"column":2},"end":{"line":3467,"column":8}}},{"type":"Line","value":"  {","range":[99126,99131],"loc":{"start":{"line":3468,"column":2},"end":{"line":3468,"column":7}}},{"type":"Line","value":"    types: 'thng,product'","range":[99134,99161],"loc":{"start":{"line":3469,"column":2},"end":{"line":3469,"column":29}}},{"type":"Line","value":"  }","range":[99164,99169],"loc":{"start":{"line":3470,"column":2},"end":{"line":3470,"column":7}}},{"type":"Line","value":" ```","range":[99172,99178],"loc":{"start":{"line":3471,"column":2},"end":{"line":3471,"column":8}}},{"type":"Line","value":" - _**search(queryObj, options)** - Apply field or geographic search. Such as:_","range":[99182,99263],"loc":{"start":{"line":3473,"column":2},"end":{"line":3473,"column":83}}},{"type":"Line","value":" ```","range":[99267,99273],"loc":{"start":{"line":3475,"column":2},"end":{"line":3475,"column":8}}},{"type":"Line","value":"  {","range":[99276,99281],"loc":{"start":{"line":3476,"column":2},"end":{"line":3476,"column":7}}},{"type":"Line","value":"    name: 'tv',","range":[99284,99301],"loc":{"start":{"line":3477,"column":2},"end":{"line":3477,"column":19}}},{"type":"Line","value":"    description: 'plasma'","range":[99304,99331],"loc":{"start":{"line":3478,"column":2},"end":{"line":3478,"column":29}}},{"type":"Line","value":"  }","range":[99334,99339],"loc":{"start":{"line":3479,"column":2},"end":{"line":3479,"column":7}}},{"type":"Line","value":" ```","range":[99342,99348],"loc":{"start":{"line":3480,"column":2},"end":{"line":3480,"column":8}}},{"type":"Line","value":" ```","range":[99352,99358],"loc":{"start":{"line":3482,"column":2},"end":{"line":3482,"column":8}}},{"type":"Line","value":"  {","range":[99361,99366],"loc":{"start":{"line":3483,"column":2},"end":{"line":3483,"column":7}}},{"type":"Line","value":"    lat: 72,000","range":[99369,99386],"loc":{"start":{"line":3484,"column":2},"end":{"line":3484,"column":19}}},{"type":"Line","value":"    long: -0,190","range":[99389,99407],"loc":{"start":{"line":3485,"column":2},"end":{"line":3485,"column":20}}},{"type":"Line","value":"    maxDistance: 5","range":[99410,99430],"loc":{"start":{"line":3486,"column":2},"end":{"line":3486,"column":22}}},{"type":"Line","value":"  }","range":[99433,99438],"loc":{"start":{"line":3487,"column":2},"end":{"line":3487,"column":7}}},{"type":"Line","value":" ```","range":[99441,99447],"loc":{"start":{"line":3488,"column":2},"end":{"line":3488,"column":8}}},{"type":"Line","value":" - _**search(queryOptions)** - Merge all search parameters in a single object_","range":[99451,99531],"loc":{"start":{"line":3490,"column":2},"end":{"line":3490,"column":82}}}]},{"range":[100201,100215],"loc":{"start":{"line":3517,"column":2},"end":{"line":3517,"column":16}},"type":"ReturnStatement","argument":{"range":[100208,100214],"loc":{"start":{"line":3517,"column":9},"end":{"line":3517,"column":15}},"type":"Identifier","name":"search"}}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" ## SEARCH.JS","range":[98548,98563],"loc":{"start":{"line":3449,"column":0},"end":{"line":3449,"column":15}}},{"type":"Line","value":" **Search API simplifies the search requests to the API, by","range":[98565,98626],"loc":{"start":{"line":3451,"column":0},"end":{"line":3451,"column":61}}},{"type":"Line","value":" splitting the actual query and additional options.**","range":[98627,98682],"loc":{"start":{"line":3452,"column":0},"end":{"line":3452,"column":55}}}],"trailingComments":[{"type":"Line","value":" ## USER.JS","range":[100222,100235],"loc":{"start":{"line":3521,"column":0},"end":{"line":3521,"column":13}}},{"type":"Line","value":" **Here it is defined the UserScope or `EVT.User`. EVT.User","range":[100237,100298],"loc":{"start":{"line":3523,"column":0},"end":{"line":3523,"column":61}}},{"type":"Line","value":" is a sub-class of scope and it defines the public API that the","range":[100299,100364],"loc":{"start":{"line":3524,"column":0},"end":{"line":3524,"column":65}}},{"type":"Line","value":" user and its API Keys can access to.**","range":[100365,100406],"loc":{"start":{"line":3525,"column":0},"end":{"line":3525,"column":41}}},{"type":"Line","value":" A User scope currently has access to:","range":[100408,100448],"loc":{"start":{"line":3527,"column":0},"end":{"line":3527,"column":40}}},{"type":"Line","value":" - Product resource (`C`, `R`, `U`)","range":[100450,100487],"loc":{"start":{"line":3529,"column":0},"end":{"line":3529,"column":37}}},{"type":"Line","value":" - Thng resource (`C`, `R`, `U`)","range":[100488,100522],"loc":{"start":{"line":3530,"column":0},"end":{"line":3530,"column":34}}},{"type":"Line","value":" - ActionType resource (`R`)","range":[100523,100553],"loc":{"start":{"line":3531,"column":0},"end":{"line":3531,"column":30}}},{"type":"Line","value":" - Action resource (`C`, `R`)","range":[100554,100585],"loc":{"start":{"line":3532,"column":0},"end":{"line":3532,"column":31}}},{"type":"Line","value":" - Collection resource (`C`, `R`, `U`)","range":[100586,100626],"loc":{"start":{"line":3533,"column":0},"end":{"line":3533,"column":40}}},{"type":"Line","value":" - Multimedia resource (`R`)","range":[100627,100657],"loc":{"start":{"line":3534,"column":0},"end":{"line":3534,"column":30}}},{"type":"Line","value":" - Logout","range":[100658,100669],"loc":{"start":{"line":3535,"column":0},"end":{"line":3535,"column":11}}},{"type":"Line","value":" - Search","range":[100670,100681],"loc":{"start":{"line":3536,"column":0},"end":{"line":3536,"column":11}}},{"type":"Line","value":" - Update itself (the user information)","range":[100682,100723],"loc":{"start":{"line":3537,"column":0},"end":{"line":3537,"column":41}}},{"type":"Line","value":" - (`C`, `R`, `U` actions via products/thngs)","range":[100724,100771],"loc":{"start":{"line":3538,"column":0},"end":{"line":3538,"column":47}}}]},{"range":[100773,103354],"loc":{"start":{"line":3540,"column":0},"end":{"line":3637,"column":3}},"type":"ExpressionStatement","expression":{"range":[100773,103353],"loc":{"start":{"line":3540,"column":0},"end":{"line":3637,"column":2}},"type":"CallExpression","callee":{"range":[100773,100779],"loc":{"start":{"line":3540,"column":0},"end":{"line":3540,"column":6}},"type":"Identifier","name":"define"},"arguments":[{"range":[100780,100792],"loc":{"start":{"line":3540,"column":7},"end":{"line":3540,"column":19}},"type":"Literal","value":"scope/user","raw":"'scope/user'"},{"range":[100793,101021],"loc":{"start":{"line":3540,"column":20},"end":{"line":3554,"column":1}},"type":"ArrayExpression","elements":[{"range":[100797,100803],"loc":{"start":{"line":3541,"column":2},"end":{"line":3541,"column":8}},"type":"Literal","value":"core","raw":"'core'"},{"range":[100807,100816],"loc":{"start":{"line":3542,"column":2},"end":{"line":3542,"column":11}},"type":"Literal","value":"./scope","raw":"'./scope'"},{"range":[100820,100836],"loc":{"start":{"line":3543,"column":2},"end":{"line":3543,"column":18}},"type":"Literal","value":"entity/product","raw":"'entity/product'"},{"range":[100840,100853],"loc":{"start":{"line":3544,"column":2},"end":{"line":3544,"column":15}},"type":"Literal","value":"entity/thng","raw":"'entity/thng'"},{"range":[100857,100870],"loc":{"start":{"line":3545,"column":2},"end":{"line":3545,"column":15}},"type":"Literal","value":"entity/user","raw":"'entity/user'"},{"range":[100874,100893],"loc":{"start":{"line":3546,"column":2},"end":{"line":3546,"column":21}},"type":"Literal","value":"entity/actionType","raw":"'entity/actionType'"},{"range":[100897,100912],"loc":{"start":{"line":3547,"column":2},"end":{"line":3547,"column":17}},"type":"Literal","value":"entity/action","raw":"'entity/action'"},{"range":[100916,100935],"loc":{"start":{"line":3548,"column":2},"end":{"line":3548,"column":21}},"type":"Literal","value":"entity/collection","raw":"'entity/collection'"},{"range":[100939,100958],"loc":{"start":{"line":3549,"column":2},"end":{"line":3549,"column":21}},"type":"Literal","value":"entity/multimedia","raw":"'entity/multimedia'"},{"range":[100962,100976],"loc":{"start":{"line":3550,"column":2},"end":{"line":3550,"column":16}},"type":"Literal","value":"entity/place","raw":"'entity/place'"},{"range":[100980,100996],"loc":{"start":{"line":3551,"column":2},"end":{"line":3551,"column":18}},"type":"Literal","value":"authentication","raw":"'authentication'"},{"range":[101000,101007],"loc":{"start":{"line":3552,"column":2},"end":{"line":3552,"column":9}},"type":"Literal","value":"utils","raw":"'utils'"},{"range":[101011,101019],"loc":{"start":{"line":3553,"column":2},"end":{"line":3553,"column":10}},"type":"Literal","value":"search","raw":"'search'"}]},{"range":[101023,103352],"loc":{"start":{"line":3554,"column":3},"end":{"line":3637,"column":1}},"type":"FunctionExpression","id":null,"params":[{"range":[101033,101036],"loc":{"start":{"line":3554,"column":13},"end":{"line":3554,"column":16}},"type":"Identifier","name":"EVT"},{"range":[101038,101043],"loc":{"start":{"line":3554,"column":18},"end":{"line":3554,"column":23}},"type":"Identifier","name":"Scope"},{"range":[101045,101052],"loc":{"start":{"line":3554,"column":25},"end":{"line":3554,"column":32}},"type":"Identifier","name":"Product"},{"range":[101054,101058],"loc":{"start":{"line":3554,"column":34},"end":{"line":3554,"column":38}},"type":"Identifier","name":"Thng"},{"range":[101060,101064],"loc":{"start":{"line":3554,"column":40},"end":{"line":3554,"column":44}},"type":"Identifier","name":"User"},{"range":[101066,101076],"loc":{"start":{"line":3554,"column":46},"end":{"line":3554,"column":56}},"type":"Identifier","name":"ActionType"},{"range":[101078,101084],"loc":{"start":{"line":3554,"column":58},"end":{"line":3554,"column":64}},"type":"Identifier","name":"Action"},{"range":[101086,101096],"loc":{"start":{"line":3554,"column":66},"end":{"line":3554,"column":76}},"type":"Identifier","name":"Collection"},{"range":[101111,101121],"loc":{"start":{"line":3555,"column":13},"end":{"line":3555,"column":23}},"type":"Identifier","name":"Multimedia"},{"range":[101123,101128],"loc":{"start":{"line":3555,"column":25},"end":{"line":3555,"column":30}},"type":"Identifier","name":"Place"},{"range":[101130,101144],"loc":{"start":{"line":3555,"column":32},"end":{"line":3555,"column":46}},"type":"Identifier","name":"Authentication"},{"range":[101146,101151],"loc":{"start":{"line":3555,"column":48},"end":{"line":3555,"column":53}},"type":"Identifier","name":"Utils"},{"range":[101153,101159],"loc":{"start":{"line":3555,"column":55},"end":{"line":3555,"column":61}},"type":"Identifier","name":"search"}],"defaults":[],"body":{"range":[101161,103352],"loc":{"start":{"line":3555,"column":63},"end":{"line":3637,"column":1}},"type":"BlockStatement","body":[{"range":[101165,101178],"loc":{"start":{"line":3556,"column":2},"end":{"line":3556,"column":15}},"type":"ExpressionStatement","expression":{"range":[101165,101177],"loc":{"start":{"line":3556,"column":2},"end":{"line":3556,"column":14}},"type":"Literal","value":"use strict","raw":"'use strict'"},"trailingComments":[{"type":"Line","value":" User Scope constructor. It can be called with the parameters:","range":[101182,101246],"loc":{"start":{"line":3558,"column":2},"end":{"line":3558,"column":66}}},{"type":"Line","value":" - _**new EVT.User(apiKey, parentScope)** - API Key string.","range":[101250,101311],"loc":{"start":{"line":3560,"column":2},"end":{"line":3560,"column":63}}},{"type":"Line","value":" Optional parent scope._","range":[101314,101340],"loc":{"start":{"line":3561,"column":2},"end":{"line":3561,"column":28}}},{"type":"Line","value":" - _**new EVT.User(options, parentScope)** - Options object should","range":[101343,101411],"loc":{"start":{"line":3562,"column":2},"end":{"line":3562,"column":70}}},{"type":"Line","value":" contain `apiKey` and optionally user information (user entity retrieved","range":[101414,101488],"loc":{"start":{"line":3563,"column":2},"end":{"line":3563,"column":76}}},{"type":"Line","value":" from the engine). Optional parent scope._","range":[101491,101535],"loc":{"start":{"line":3564,"column":2},"end":{"line":3564,"column":46}}}]},{"range":[101538,102006],"loc":{"start":{"line":3565,"column":2},"end":{"line":3583,"column":4}},"type":"VariableDeclaration","declarations":[{"range":[101542,102005],"loc":{"start":{"line":3565,"column":6},"end":{"line":3583,"column":3}},"type":"VariableDeclarator","id":{"range":[101542,101551],"loc":{"start":{"line":3565,"column":6},"end":{"line":3565,"column":15}},"type":"Identifier","name":"UserScope"},"init":{"range":[101554,102005],"loc":{"start":{"line":3565,"column":18},"end":{"line":3583,"column":3}},"type":"FunctionExpression","id":null,"params":[{"range":[101563,101566],"loc":{"start":{"line":3565,"column":27},"end":{"line":3565,"column":30}},"type":"Identifier","name":"obj"},{"range":[101568,101579],"loc":{"start":{"line":3565,"column":32},"end":{"line":3565,"column":43}},"type":"Identifier","name":"parentScope"}],"defaults":[],"body":{"range":[101580,102005],"loc":{"start":{"line":3565,"column":44},"end":{"line":3583,"column":3}},"type":"BlockStatement","body":[{"range":[101638,101867],"loc":{"start":{"line":3568,"column":4},"end":{"line":3576,"column":5}},"type":"IfStatement","test":{"range":[101641,101660],"loc":{"start":{"line":3568,"column":7},"end":{"line":3568,"column":26}},"type":"CallExpression","callee":{"range":[101641,101655],"loc":{"start":{"line":3568,"column":7},"end":{"line":3568,"column":21}},"type":"MemberExpression","computed":false,"object":{"range":[101641,101646],"loc":{"start":{"line":3568,"column":7},"end":{"line":3568,"column":12}},"type":"Identifier","name":"Utils"},"property":{"range":[101647,101655],"loc":{"start":{"line":3568,"column":13},"end":{"line":3568,"column":21}},"type":"Identifier","name":"isObject"}},"arguments":[{"range":[101656,101659],"loc":{"start":{"line":3568,"column":22},"end":{"line":3568,"column":25}},"type":"Identifier","name":"obj"}]},"consequent":{"range":[101661,101827],"loc":{"start":{"line":3568,"column":27},"end":{"line":3574,"column":5}},"type":"BlockStatement","body":[{"range":[101669,101698],"loc":{"start":{"line":3569,"column":6},"end":{"line":3569,"column":35}},"type":"ExpressionStatement","expression":{"range":[101669,101697],"loc":{"start":{"line":3569,"column":6},"end":{"line":3569,"column":34}},"type":"CallExpression","callee":{"range":[101669,101679],"loc":{"start":{"line":3569,"column":6},"end":{"line":3569,"column":16}},"type":"MemberExpression","computed":false,"object":{"range":[101669,101674],"loc":{"start":{"line":3569,"column":6},"end":{"line":3569,"column":11}},"type":"Identifier","name":"Scope"},"property":{"range":[101675,101679],"loc":{"start":{"line":3569,"column":12},"end":{"line":3569,"column":16}},"type":"Identifier","name":"call"}},"arguments":[{"range":[101680,101684],"loc":{"start":{"line":3569,"column":17},"end":{"line":3569,"column":21}},"type":"ThisExpression"},{"range":[101686,101696],"loc":{"start":{"line":3569,"column":23},"end":{"line":3569,"column":33}},"type":"MemberExpression","computed":false,"object":{"range":[101686,101689],"loc":{"start":{"line":3569,"column":23},"end":{"line":3569,"column":26}},"type":"Identifier","name":"obj"},"property":{"range":[101690,101696],"loc":{"start":{"line":3569,"column":27},"end":{"line":3569,"column":33}},"type":"Identifier","name":"apiKey"}}]},"trailingComments":[{"type":"Line","value":" Merge user information into the scope, as we do with the ApplicationScope.","range":[101706,101783],"loc":{"start":{"line":3571,"column":6},"end":{"line":3571,"column":83}}}]},{"range":[101790,101820],"loc":{"start":{"line":3572,"column":6},"end":{"line":3572,"column":36}},"type":"ExpressionStatement","expression":{"range":[101790,101819],"loc":{"start":{"line":3572,"column":6},"end":{"line":3572,"column":35}},"type":"CallExpression","callee":{"range":[101790,101802],"loc":{"start":{"line":3572,"column":6},"end":{"line":3572,"column":18}},"type":"MemberExpression","computed":false,"object":{"range":[101790,101795],"loc":{"start":{"line":3572,"column":6},"end":{"line":3572,"column":11}},"type":"Identifier","name":"Utils"},"property":{"range":[101796,101802],"loc":{"start":{"line":3572,"column":12},"end":{"line":3572,"column":18}},"type":"Identifier","name":"extend"}},"arguments":[{"range":[101803,101807],"loc":{"start":{"line":3572,"column":19},"end":{"line":3572,"column":23}},"type":"ThisExpression"},{"range":[101809,101812],"loc":{"start":{"line":3572,"column":25},"end":{"line":3572,"column":28}},"type":"Identifier","name":"obj"},{"range":[101814,101818],"loc":{"start":{"line":3572,"column":30},"end":{"line":3572,"column":34}},"type":"Literal","value":true,"raw":"true"}]},"leadingComments":[{"type":"Line","value":" Merge user information into the scope, as we do with the ApplicationScope.","range":[101706,101783],"loc":{"start":{"line":3571,"column":6},"end":{"line":3571,"column":83}}}]}]},"alternate":{"range":[101831,101867],"loc":{"start":{"line":3574,"column":9},"end":{"line":3576,"column":5}},"type":"BlockStatement","body":[{"range":[101839,101861],"loc":{"start":{"line":3575,"column":6},"end":{"line":3575,"column":28}},"type":"ExpressionStatement","expression":{"range":[101839,101860],"loc":{"start":{"line":3575,"column":6},"end":{"line":3575,"column":27}},"type":"CallExpression","callee":{"range":[101839,101849],"loc":{"start":{"line":3575,"column":6},"end":{"line":3575,"column":16}},"type":"MemberExpression","computed":false,"object":{"range":[101839,101844],"loc":{"start":{"line":3575,"column":6},"end":{"line":3575,"column":11}},"type":"Identifier","name":"Scope"},"property":{"range":[101845,101849],"loc":{"start":{"line":3575,"column":12},"end":{"line":3575,"column":16}},"type":"Identifier","name":"call"}},"arguments":[{"range":[101850,101854],"loc":{"start":{"line":3575,"column":17},"end":{"line":3575,"column":21}},"type":"ThisExpression"},{"range":[101856,101859],"loc":{"start":{"line":3575,"column":23},"end":{"line":3575,"column":26}},"type":"Identifier","name":"obj"}]}}]},"leadingComments":[{"type":"Line","value":" Setup base Scope with the provided API Key.","range":[101587,101633],"loc":{"start":{"line":3567,"column":4},"end":{"line":3567,"column":50}}}],"trailingComments":[{"type":"Line","value":" Store parent scope. *Currently not used.*","range":[101873,101917],"loc":{"start":{"line":3578,"column":4},"end":{"line":3578,"column":48}}}]},{"range":[101922,102000],"loc":{"start":{"line":3579,"column":4},"end":{"line":3581,"column":5}},"type":"IfStatement","test":{"range":[101925,101953],"loc":{"start":{"line":3579,"column":7},"end":{"line":3579,"column":35}},"type":"BinaryExpression","operator":"instanceof","left":{"range":[101925,101936],"loc":{"start":{"line":3579,"column":7},"end":{"line":3579,"column":18}},"type":"Identifier","name":"parentScope"},"right":{"range":[101948,101953],"loc":{"start":{"line":3579,"column":30},"end":{"line":3579,"column":35}},"type":"Identifier","name":"Scope"}},"consequent":{"range":[101955,102000],"loc":{"start":{"line":3579,"column":37},"end":{"line":3581,"column":5}},"type":"BlockStatement","body":[{"range":[101963,101994],"loc":{"start":{"line":3580,"column":6},"end":{"line":3580,"column":37}},"type":"ExpressionStatement","expression":{"range":[101963,101993],"loc":{"start":{"line":3580,"column":6},"end":{"line":3580,"column":36}},"type":"AssignmentExpression","operator":"=","left":{"range":[101963,101979],"loc":{"start":{"line":3580,"column":6},"end":{"line":3580,"column":22}},"type":"MemberExpression","computed":false,"object":{"range":[101963,101967],"loc":{"start":{"line":3580,"column":6},"end":{"line":3580,"column":10}},"type":"ThisExpression"},"property":{"range":[101968,101979],"loc":{"start":{"line":3580,"column":11},"end":{"line":3580,"column":22}},"type":"Identifier","name":"parentScope"}},"right":{"range":[101982,101993],"loc":{"start":{"line":3580,"column":25},"end":{"line":3580,"column":36}},"type":"Identifier","name":"parentScope"}}}]},"alternate":null,"leadingComments":[{"type":"Line","value":" Store parent scope. *Currently not used.*","range":[101873,101917],"loc":{"start":{"line":3578,"column":4},"end":{"line":3578,"column":48}}}]}]},"generator":false,"expression":false}}],"kind":"var","leadingComments":[{"type":"Line","value":" User Scope constructor. It can be called with the parameters:","range":[101182,101246],"loc":{"start":{"line":3558,"column":2},"end":{"line":3558,"column":66}}},{"type":"Line","value":" - _**new EVT.User(apiKey, parentScope)** - API Key string.","range":[101250,101311],"loc":{"start":{"line":3560,"column":2},"end":{"line":3560,"column":63}}},{"type":"Line","value":" Optional parent scope._","range":[101314,101340],"loc":{"start":{"line":3561,"column":2},"end":{"line":3561,"column":28}}},{"type":"Line","value":" - _**new EVT.User(options, parentScope)** - Options object should","range":[101343,101411],"loc":{"start":{"line":3562,"column":2},"end":{"line":3562,"column":70}}},{"type":"Line","value":" contain `apiKey` and optionally user information (user entity retrieved","range":[101414,101488],"loc":{"start":{"line":3563,"column":2},"end":{"line":3563,"column":76}}},{"type":"Line","value":" from the engine). Optional parent scope._","range":[101491,101535],"loc":{"start":{"line":3564,"column":2},"end":{"line":3564,"column":46}}}],"trailingComments":[{"type":"Line","value":" Setup Scope inheritance.","range":[102010,102037],"loc":{"start":{"line":3585,"column":2},"end":{"line":3585,"column":29}}}]},{"range":[102040,102093],"loc":{"start":{"line":3586,"column":2},"end":{"line":3586,"column":55}},"type":"ExpressionStatement","expression":{"range":[102040,102092],"loc":{"start":{"line":3586,"column":2},"end":{"line":3586,"column":54}},"type":"AssignmentExpression","operator":"=","left":{"range":[102040,102059],"loc":{"start":{"line":3586,"column":2},"end":{"line":3586,"column":21}},"type":"MemberExpression","computed":false,"object":{"range":[102040,102049],"loc":{"start":{"line":3586,"column":2},"end":{"line":3586,"column":11}},"type":"Identifier","name":"UserScope"},"property":{"range":[102050,102059],"loc":{"start":{"line":3586,"column":12},"end":{"line":3586,"column":21}},"type":"Identifier","name":"prototype"}},"right":{"range":[102062,102092],"loc":{"start":{"line":3586,"column":24},"end":{"line":3586,"column":54}},"type":"CallExpression","callee":{"range":[102062,102075],"loc":{"start":{"line":3586,"column":24},"end":{"line":3586,"column":37}},"type":"MemberExpression","computed":false,"object":{"range":[102062,102068],"loc":{"start":{"line":3586,"column":24},"end":{"line":3586,"column":30}},"type":"Identifier","name":"Object"},"property":{"range":[102069,102075],"loc":{"start":{"line":3586,"column":31},"end":{"line":3586,"column":37}},"type":"Identifier","name":"create"}},"arguments":[{"range":[102076,102091],"loc":{"start":{"line":3586,"column":38},"end":{"line":3586,"column":53}},"type":"MemberExpression","computed":false,"object":{"range":[102076,102081],"loc":{"start":{"line":3586,"column":38},"end":{"line":3586,"column":43}},"type":"Identifier","name":"Scope"},"property":{"range":[102082,102091],"loc":{"start":{"line":3586,"column":44},"end":{"line":3586,"column":53}},"type":"Identifier","name":"prototype"}}]}},"leadingComments":[{"type":"Line","value":" Setup Scope inheritance.","range":[102010,102037],"loc":{"start":{"line":3585,"column":2},"end":{"line":3585,"column":29}}}]},{"range":[102096,102140],"loc":{"start":{"line":3587,"column":2},"end":{"line":3587,"column":46}},"type":"ExpressionStatement","expression":{"range":[102096,102139],"loc":{"start":{"line":3587,"column":2},"end":{"line":3587,"column":45}},"type":"AssignmentExpression","operator":"=","left":{"range":[102096,102127],"loc":{"start":{"line":3587,"column":2},"end":{"line":3587,"column":33}},"type":"MemberExpression","computed":false,"object":{"range":[102096,102115],"loc":{"start":{"line":3587,"column":2},"end":{"line":3587,"column":21}},"type":"MemberExpression","computed":false,"object":{"range":[102096,102105],"loc":{"start":{"line":3587,"column":2},"end":{"line":3587,"column":11}},"type":"Identifier","name":"UserScope"},"property":{"range":[102106,102115],"loc":{"start":{"line":3587,"column":12},"end":{"line":3587,"column":21}},"type":"Identifier","name":"prototype"}},"property":{"range":[102116,102127],"loc":{"start":{"line":3587,"column":22},"end":{"line":3587,"column":33}},"type":"Identifier","name":"constructor"}},"right":{"range":[102130,102139],"loc":{"start":{"line":3587,"column":36},"end":{"line":3587,"column":45}},"type":"Identifier","name":"UserScope"}},"trailingComments":[{"type":"Line","value":" Allow to update the current user without an explicit API call. Simply update","range":[102145,102224],"loc":{"start":{"line":3590,"column":2},"end":{"line":3590,"column":81}}},{"type":"Line","value":" the user scope object and call update will make the request to update the user","range":[102227,102308],"loc":{"start":{"line":3591,"column":2},"end":{"line":3591,"column":83}}},{"type":"Line","value":" in the *'/users'* endpoint.","range":[102311,102341],"loc":{"start":{"line":3592,"column":2},"end":{"line":3592,"column":32}}}]},{"range":[102344,102595],"loc":{"start":{"line":3593,"column":2},"end":{"line":3601,"column":3}},"type":"FunctionDeclaration","id":{"range":[102353,102359],"loc":{"start":{"line":3593,"column":11},"end":{"line":3593,"column":17}},"type":"Identifier","name":"update"},"params":[],"defaults":[],"body":{"range":[102362,102595],"loc":{"start":{"line":3593,"column":20},"end":{"line":3601,"column":3}},"type":"BlockStatement","body":[{"range":[102368,102446],"loc":{"start":{"line":3594,"column":4},"end":{"line":3595,"column":60}},"type":"VariableDeclaration","declarations":[{"range":[102372,102384],"loc":{"start":{"line":3594,"column":8},"end":{"line":3594,"column":20}},"type":"VariableDeclarator","id":{"range":[102372,102377],"loc":{"start":{"line":3594,"column":8},"end":{"line":3594,"column":13}},"type":"Identifier","name":"$this"},"init":{"range":[102380,102384],"loc":{"start":{"line":3594,"column":16},"end":{"line":3594,"column":20}},"type":"ThisExpression"}},{"range":[102392,102445],"loc":{"start":{"line":3595,"column":6},"end":{"line":3595,"column":59}},"type":"VariableDeclarator","id":{"range":[102392,102396],"loc":{"start":{"line":3595,"column":6},"end":{"line":3595,"column":10}},"type":"Identifier","name":"self"},"init":{"range":[102399,102445],"loc":{"start":{"line":3595,"column":13},"end":{"line":3595,"column":59}},"type":"CallExpression","callee":{"range":[102399,102430],"loc":{"start":{"line":3595,"column":13},"end":{"line":3595,"column":44}},"type":"MemberExpression","computed":false,"object":{"range":[102399,102425],"loc":{"start":{"line":3595,"column":13},"end":{"line":3595,"column":39}},"type":"CallExpression","callee":{"range":[102399,102423],"loc":{"start":{"line":3595,"column":13},"end":{"line":3595,"column":37}},"type":"MemberExpression","computed":false,"object":{"range":[102399,102403],"loc":{"start":{"line":3595,"column":13},"end":{"line":3595,"column":17}},"type":"Identifier","name":"User"},"property":{"range":[102404,102423],"loc":{"start":{"line":3595,"column":18},"end":{"line":3595,"column":37}},"type":"Identifier","name":"resourceConstructor"}},"arguments":[]},"property":{"range":[102426,102430],"loc":{"start":{"line":3595,"column":40},"end":{"line":3595,"column":44}},"type":"Identifier","name":"call"}},"arguments":[{"range":[102431,102435],"loc":{"start":{"line":3595,"column":45},"end":{"line":3595,"column":49}},"type":"ThisExpression"},{"range":[102437,102444],"loc":{"start":{"line":3595,"column":51},"end":{"line":3595,"column":58}},"type":"MemberExpression","computed":false,"object":{"range":[102437,102441],"loc":{"start":{"line":3595,"column":51},"end":{"line":3595,"column":55}},"type":"ThisExpression"},"property":{"range":[102442,102444],"loc":{"start":{"line":3595,"column":56},"end":{"line":3595,"column":58}},"type":"Identifier","name":"id"}}]}}],"kind":"var"},{"range":[102452,102591],"loc":{"start":{"line":3597,"column":4},"end":{"line":3600,"column":7}},"type":"ReturnStatement","argument":{"range":[102459,102590],"loc":{"start":{"line":3597,"column":11},"end":{"line":3600,"column":6}},"type":"CallExpression","callee":{"range":[102459,102498],"loc":{"start":{"line":3597,"column":11},"end":{"line":3597,"column":50}},"type":"MemberExpression","computed":false,"object":{"range":[102459,102493],"loc":{"start":{"line":3597,"column":11},"end":{"line":3597,"column":45}},"type":"CallExpression","callee":{"range":[102459,102476],"loc":{"start":{"line":3597,"column":11},"end":{"line":3597,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[102459,102470],"loc":{"start":{"line":3597,"column":11},"end":{"line":3597,"column":22}},"type":"MemberExpression","computed":false,"object":{"range":[102459,102463],"loc":{"start":{"line":3597,"column":11},"end":{"line":3597,"column":15}},"type":"Identifier","name":"self"},"property":{"range":[102464,102470],"loc":{"start":{"line":3597,"column":16},"end":{"line":3597,"column":22}},"type":"Identifier","name":"update"}},"property":{"range":[102471,102476],"loc":{"start":{"line":3597,"column":23},"end":{"line":3597,"column":28}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[102477,102481],"loc":{"start":{"line":3597,"column":29},"end":{"line":3597,"column":33}},"type":"Identifier","name":"self"},{"range":[102483,102492],"loc":{"start":{"line":3597,"column":35},"end":{"line":3597,"column":44}},"type":"Identifier","name":"arguments"}]},"property":{"range":[102494,102498],"loc":{"start":{"line":3597,"column":46},"end":{"line":3597,"column":50}},"type":"Identifier","name":"then"}},"arguments":[{"range":[102499,102589],"loc":{"start":{"line":3597,"column":51},"end":{"line":3600,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[102509,102516],"loc":{"start":{"line":3597,"column":61},"end":{"line":3597,"column":68}},"type":"Identifier","name":"updated"}],"defaults":[],"body":{"range":[102518,102589],"loc":{"start":{"line":3597,"column":70},"end":{"line":3600,"column":5}},"type":"BlockStatement","body":[{"range":[102526,102561],"loc":{"start":{"line":3598,"column":6},"end":{"line":3598,"column":41}},"type":"ExpressionStatement","expression":{"range":[102526,102560],"loc":{"start":{"line":3598,"column":6},"end":{"line":3598,"column":40}},"type":"CallExpression","callee":{"range":[102526,102538],"loc":{"start":{"line":3598,"column":6},"end":{"line":3598,"column":18}},"type":"MemberExpression","computed":false,"object":{"range":[102526,102531],"loc":{"start":{"line":3598,"column":6},"end":{"line":3598,"column":11}},"type":"Identifier","name":"Utils"},"property":{"range":[102532,102538],"loc":{"start":{"line":3598,"column":12},"end":{"line":3598,"column":18}},"type":"Identifier","name":"extend"}},"arguments":[{"range":[102539,102544],"loc":{"start":{"line":3598,"column":19},"end":{"line":3598,"column":24}},"type":"Identifier","name":"$this"},{"range":[102546,102553],"loc":{"start":{"line":3598,"column":26},"end":{"line":3598,"column":33}},"type":"Identifier","name":"updated"},{"range":[102555,102559],"loc":{"start":{"line":3598,"column":35},"end":{"line":3598,"column":39}},"type":"Literal","value":true,"raw":"true"}]}},{"range":[102568,102583],"loc":{"start":{"line":3599,"column":6},"end":{"line":3599,"column":21}},"type":"ReturnStatement","argument":{"range":[102575,102582],"loc":{"start":{"line":3599,"column":13},"end":{"line":3599,"column":20}},"type":"Identifier","name":"updated"}}]},"generator":false,"expression":false}]}}]},"generator":false,"expression":false,"leadingComments":[{"type":"Line","value":" Allow to update the current user without an explicit API call. Simply update","range":[102145,102224],"loc":{"start":{"line":3590,"column":2},"end":{"line":3590,"column":81}}},{"type":"Line","value":" the user scope object and call update will make the request to update the user","range":[102227,102308],"loc":{"start":{"line":3591,"column":2},"end":{"line":3591,"column":83}}},{"type":"Line","value":" in the *'/users'* endpoint.","range":[102311,102341],"loc":{"start":{"line":3592,"column":2},"end":{"line":3592,"column":32}}}],"trailingComments":[{"type":"Line","value":" Implement Public API by extending the prototype.","range":[102600,102651],"loc":{"start":{"line":3604,"column":2},"end":{"line":3604,"column":53}}},{"type":"Line","value":" See explanation of resource constructors in ApplicationScope. The","range":[102655,102723],"loc":{"start":{"line":3606,"column":2},"end":{"line":3606,"column":70}}},{"type":"Line","value":" **thng()** resource builds a custom resource constructor by using","range":[102726,102794],"loc":{"start":{"line":3607,"column":2},"end":{"line":3607,"column":70}}},{"type":"Line","value":" the default *'/thngs'* endpoint.","range":[102797,102832],"loc":{"start":{"line":3608,"column":2},"end":{"line":3608,"column":37}}}]},{"range":[102835,103267],"loc":{"start":{"line":3609,"column":2},"end":{"line":3631,"column":11}},"type":"ExpressionStatement","expression":{"range":[102835,103266],"loc":{"start":{"line":3609,"column":2},"end":{"line":3631,"column":10}},"type":"CallExpression","callee":{"range":[102835,102847],"loc":{"start":{"line":3609,"column":2},"end":{"line":3609,"column":14}},"type":"MemberExpression","computed":false,"object":{"range":[102835,102840],"loc":{"start":{"line":3609,"column":2},"end":{"line":3609,"column":7}},"type":"Identifier","name":"Utils"},"property":{"range":[102841,102847],"loc":{"start":{"line":3609,"column":8},"end":{"line":3609,"column":14}},"type":"Identifier","name":"extend"}},"arguments":[{"range":[102848,102867],"loc":{"start":{"line":3609,"column":15},"end":{"line":3609,"column":34}},"type":"MemberExpression","computed":false,"object":{"range":[102848,102857],"loc":{"start":{"line":3609,"column":15},"end":{"line":3609,"column":24}},"type":"Identifier","name":"UserScope"},"property":{"range":[102858,102867],"loc":{"start":{"line":3609,"column":25},"end":{"line":3609,"column":34}},"type":"Identifier","name":"prototype"}},{"range":[102869,103259],"loc":{"start":{"line":3609,"column":36},"end":{"line":3631,"column":3}},"type":"ObjectExpression","properties":[{"range":[102876,102912],"loc":{"start":{"line":3611,"column":4},"end":{"line":3611,"column":40}},"type":"Property","key":{"range":[102876,102883],"loc":{"start":{"line":3611,"column":4},"end":{"line":3611,"column":11}},"type":"Identifier","name":"product"},"computed":false,"value":{"range":[102885,102912],"loc":{"start":{"line":3611,"column":13},"end":{"line":3611,"column":40}},"type":"MemberExpression","computed":false,"object":{"range":[102885,102892],"loc":{"start":{"line":3611,"column":13},"end":{"line":3611,"column":20}},"type":"Identifier","name":"Product"},"property":{"range":[102893,102912],"loc":{"start":{"line":3611,"column":21},"end":{"line":3611,"column":40}},"type":"Identifier","name":"resourceConstructor"}},"kind":"init","method":false,"shorthand":false},{"range":[102919,102949],"loc":{"start":{"line":3613,"column":4},"end":{"line":3613,"column":34}},"type":"Property","key":{"range":[102919,102923],"loc":{"start":{"line":3613,"column":4},"end":{"line":3613,"column":8}},"type":"Identifier","name":"thng"},"computed":false,"value":{"range":[102925,102949],"loc":{"start":{"line":3613,"column":10},"end":{"line":3613,"column":34}},"type":"MemberExpression","computed":false,"object":{"range":[102925,102929],"loc":{"start":{"line":3613,"column":10},"end":{"line":3613,"column":14}},"type":"Identifier","name":"Thng"},"property":{"range":[102930,102949],"loc":{"start":{"line":3613,"column":15},"end":{"line":3613,"column":34}},"type":"Identifier","name":"resourceConstructor"}},"kind":"init","method":false,"shorthand":false},{"range":[102956,102998],"loc":{"start":{"line":3615,"column":4},"end":{"line":3615,"column":46}},"type":"Property","key":{"range":[102956,102966],"loc":{"start":{"line":3615,"column":4},"end":{"line":3615,"column":14}},"type":"Identifier","name":"actionType"},"computed":false,"value":{"range":[102968,102998],"loc":{"start":{"line":3615,"column":16},"end":{"line":3615,"column":46}},"type":"MemberExpression","computed":false,"object":{"range":[102968,102978],"loc":{"start":{"line":3615,"column":16},"end":{"line":3615,"column":26}},"type":"Identifier","name":"ActionType"},"property":{"range":[102979,102998],"loc":{"start":{"line":3615,"column":27},"end":{"line":3615,"column":46}},"type":"Identifier","name":"resourceConstructor"}},"kind":"init","method":false,"shorthand":false},{"range":[103005,103039],"loc":{"start":{"line":3617,"column":4},"end":{"line":3617,"column":38}},"type":"Property","key":{"range":[103005,103011],"loc":{"start":{"line":3617,"column":4},"end":{"line":3617,"column":10}},"type":"Identifier","name":"action"},"computed":false,"value":{"range":[103013,103039],"loc":{"start":{"line":3617,"column":12},"end":{"line":3617,"column":38}},"type":"MemberExpression","computed":false,"object":{"range":[103013,103019],"loc":{"start":{"line":3617,"column":12},"end":{"line":3617,"column":18}},"type":"Identifier","name":"Action"},"property":{"range":[103020,103039],"loc":{"start":{"line":3617,"column":19},"end":{"line":3617,"column":38}},"type":"Identifier","name":"resourceConstructor"}},"kind":"init","method":false,"shorthand":false},{"range":[103046,103088],"loc":{"start":{"line":3619,"column":4},"end":{"line":3619,"column":46}},"type":"Property","key":{"range":[103046,103056],"loc":{"start":{"line":3619,"column":4},"end":{"line":3619,"column":14}},"type":"Identifier","name":"collection"},"computed":false,"value":{"range":[103058,103088],"loc":{"start":{"line":3619,"column":16},"end":{"line":3619,"column":46}},"type":"MemberExpression","computed":false,"object":{"range":[103058,103068],"loc":{"start":{"line":3619,"column":16},"end":{"line":3619,"column":26}},"type":"Identifier","name":"Collection"},"property":{"range":[103069,103088],"loc":{"start":{"line":3619,"column":27},"end":{"line":3619,"column":46}},"type":"Identifier","name":"resourceConstructor"}},"kind":"init","method":false,"shorthand":false},{"range":[103095,103137],"loc":{"start":{"line":3621,"column":4},"end":{"line":3621,"column":46}},"type":"Property","key":{"range":[103095,103105],"loc":{"start":{"line":3621,"column":4},"end":{"line":3621,"column":14}},"type":"Identifier","name":"multimedia"},"computed":false,"value":{"range":[103107,103137],"loc":{"start":{"line":3621,"column":16},"end":{"line":3621,"column":46}},"type":"MemberExpression","computed":false,"object":{"range":[103107,103117],"loc":{"start":{"line":3621,"column":16},"end":{"line":3621,"column":26}},"type":"Identifier","name":"Multimedia"},"property":{"range":[103118,103137],"loc":{"start":{"line":3621,"column":27},"end":{"line":3621,"column":46}},"type":"Identifier","name":"resourceConstructor"}},"kind":"init","method":false,"shorthand":false},{"range":[103144,103176],"loc":{"start":{"line":3623,"column":4},"end":{"line":3623,"column":36}},"type":"Property","key":{"range":[103144,103149],"loc":{"start":{"line":3623,"column":4},"end":{"line":3623,"column":9}},"type":"Identifier","name":"place"},"computed":false,"value":{"range":[103151,103176],"loc":{"start":{"line":3623,"column":11},"end":{"line":3623,"column":36}},"type":"MemberExpression","computed":false,"object":{"range":[103151,103156],"loc":{"start":{"line":3623,"column":11},"end":{"line":3623,"column":16}},"type":"Identifier","name":"Place"},"property":{"range":[103157,103176],"loc":{"start":{"line":3623,"column":17},"end":{"line":3623,"column":36}},"type":"Identifier","name":"resourceConstructor"}},"kind":"init","method":false,"shorthand":false},{"range":[103183,103212],"loc":{"start":{"line":3625,"column":4},"end":{"line":3625,"column":33}},"type":"Property","key":{"range":[103183,103189],"loc":{"start":{"line":3625,"column":4},"end":{"line":3625,"column":10}},"type":"Identifier","name":"logout"},"computed":false,"value":{"range":[103191,103212],"loc":{"start":{"line":3625,"column":12},"end":{"line":3625,"column":33}},"type":"MemberExpression","computed":false,"object":{"range":[103191,103205],"loc":{"start":{"line":3625,"column":12},"end":{"line":3625,"column":26}},"type":"Identifier","name":"Authentication"},"property":{"range":[103206,103212],"loc":{"start":{"line":3625,"column":27},"end":{"line":3625,"column":33}},"type":"Identifier","name":"logout"}},"kind":"init","method":false,"shorthand":false},{"range":[103219,103233],"loc":{"start":{"line":3627,"column":4},"end":{"line":3627,"column":18}},"type":"Property","key":{"range":[103219,103225],"loc":{"start":{"line":3627,"column":4},"end":{"line":3627,"column":10}},"type":"Identifier","name":"search"},"computed":false,"value":{"range":[103227,103233],"loc":{"start":{"line":3627,"column":12},"end":{"line":3627,"column":18}},"type":"Identifier","name":"search"},"kind":"init","method":false,"shorthand":false},{"range":[103240,103254],"loc":{"start":{"line":3629,"column":4},"end":{"line":3629,"column":18}},"type":"Property","key":{"range":[103240,103246],"loc":{"start":{"line":3629,"column":4},"end":{"line":3629,"column":10}},"type":"Identifier","name":"update"},"computed":false,"value":{"range":[103248,103254],"loc":{"start":{"line":3629,"column":12},"end":{"line":3629,"column":18}},"type":"Identifier","name":"update"},"kind":"init","method":false,"shorthand":false}]},{"range":[103261,103265],"loc":{"start":{"line":3631,"column":5},"end":{"line":3631,"column":9}},"type":"Literal","value":true,"raw":"true"}]},"leadingComments":[{"type":"Line","value":" Implement Public API by extending the prototype.","range":[102600,102651],"loc":{"start":{"line":3604,"column":2},"end":{"line":3604,"column":53}}},{"type":"Line","value":" See explanation of resource constructors in ApplicationScope. The","range":[102655,102723],"loc":{"start":{"line":3606,"column":2},"end":{"line":3606,"column":70}}},{"type":"Line","value":" **thng()** resource builds a custom resource constructor by using","range":[102726,102794],"loc":{"start":{"line":3607,"column":2},"end":{"line":3607,"column":70}}},{"type":"Line","value":" the default *'/thngs'* endpoint.","range":[102797,102832],"loc":{"start":{"line":3608,"column":2},"end":{"line":3608,"column":37}}}],"trailingComments":[{"type":"Line","value":" Attach UserScope class to the EVT module.","range":[103272,103316],"loc":{"start":{"line":3634,"column":2},"end":{"line":3634,"column":46}}}]},{"range":[103319,103349],"loc":{"start":{"line":3635,"column":2},"end":{"line":3635,"column":32}},"type":"ReturnStatement","argument":{"range":[103327,103347],"loc":{"start":{"line":3635,"column":10},"end":{"line":3635,"column":30}},"type":"AssignmentExpression","operator":"=","left":{"range":[103327,103335],"loc":{"start":{"line":3635,"column":10},"end":{"line":3635,"column":18}},"type":"MemberExpression","computed":false,"object":{"range":[103327,103330],"loc":{"start":{"line":3635,"column":10},"end":{"line":3635,"column":13}},"type":"Identifier","name":"EVT"},"property":{"range":[103331,103335],"loc":{"start":{"line":3635,"column":14},"end":{"line":3635,"column":18}},"type":"Identifier","name":"User"}},"right":{"range":[103338,103347],"loc":{"start":{"line":3635,"column":21},"end":{"line":3635,"column":30}},"type":"Identifier","name":"UserScope"}},"leadingComments":[{"type":"Line","value":" Attach UserScope class to the EVT module.","range":[103272,103316],"loc":{"start":{"line":3634,"column":2},"end":{"line":3634,"column":46}}}]}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" ## USER.JS","range":[100222,100235],"loc":{"start":{"line":3521,"column":0},"end":{"line":3521,"column":13}}},{"type":"Line","value":" **Here it is defined the UserScope or `EVT.User`. EVT.User","range":[100237,100298],"loc":{"start":{"line":3523,"column":0},"end":{"line":3523,"column":61}}},{"type":"Line","value":" is a sub-class of scope and it defines the public API that the","range":[100299,100364],"loc":{"start":{"line":3524,"column":0},"end":{"line":3524,"column":65}}},{"type":"Line","value":" user and its API Keys can access to.**","range":[100365,100406],"loc":{"start":{"line":3525,"column":0},"end":{"line":3525,"column":41}}},{"type":"Line","value":" A User scope currently has access to:","range":[100408,100448],"loc":{"start":{"line":3527,"column":0},"end":{"line":3527,"column":40}}},{"type":"Line","value":" - Product resource (`C`, `R`, `U`)","range":[100450,100487],"loc":{"start":{"line":3529,"column":0},"end":{"line":3529,"column":37}}},{"type":"Line","value":" - Thng resource (`C`, `R`, `U`)","range":[100488,100522],"loc":{"start":{"line":3530,"column":0},"end":{"line":3530,"column":34}}},{"type":"Line","value":" - ActionType resource (`R`)","range":[100523,100553],"loc":{"start":{"line":3531,"column":0},"end":{"line":3531,"column":30}}},{"type":"Line","value":" - Action resource (`C`, `R`)","range":[100554,100585],"loc":{"start":{"line":3532,"column":0},"end":{"line":3532,"column":31}}},{"type":"Line","value":" - Collection resource (`C`, `R`, `U`)","range":[100586,100626],"loc":{"start":{"line":3533,"column":0},"end":{"line":3533,"column":40}}},{"type":"Line","value":" - Multimedia resource (`R`)","range":[100627,100657],"loc":{"start":{"line":3534,"column":0},"end":{"line":3534,"column":30}}},{"type":"Line","value":" - Logout","range":[100658,100669],"loc":{"start":{"line":3535,"column":0},"end":{"line":3535,"column":11}}},{"type":"Line","value":" - Search","range":[100670,100681],"loc":{"start":{"line":3536,"column":0},"end":{"line":3536,"column":11}}},{"type":"Line","value":" - Update itself (the user information)","range":[100682,100723],"loc":{"start":{"line":3537,"column":0},"end":{"line":3537,"column":41}}},{"type":"Line","value":" - (`C`, `R`, `U` actions via products/thngs)","range":[100724,100771],"loc":{"start":{"line":3538,"column":0},"end":{"line":3538,"column":47}}}],"trailingComments":[{"type":"Line","value":" ## DEVICE.JS","range":[103356,103371],"loc":{"start":{"line":3639,"column":0},"end":{"line":3639,"column":15}}},{"type":"Line","value":" **Here it is defined the DeviceScope or `EVT.Device`. EVT.Device","range":[103373,103440],"loc":{"start":{"line":3641,"column":0},"end":{"line":3641,"column":67}}},{"type":"Line","value":" is a sub-class of scope and it defines the public API that the","range":[103441,103506],"loc":{"start":{"line":3642,"column":0},"end":{"line":3642,"column":65}}},{"type":"Line","value":" device can access to.**","range":[103507,103533],"loc":{"start":{"line":3643,"column":0},"end":{"line":3643,"column":26}}},{"type":"Line","value":" A Device scope currently has access to:","range":[103535,103577],"loc":{"start":{"line":3645,"column":0},"end":{"line":3645,"column":42}}},{"type":"Line","value":" - Thng resource (`R`, `U`)","range":[103579,103608],"loc":{"start":{"line":3647,"column":0},"end":{"line":3647,"column":29}}},{"type":"Line","value":" - (`C`, `R`, `U` properties/actions via thngs)","range":[103609,103658],"loc":{"start":{"line":3648,"column":0},"end":{"line":3648,"column":49}}}]},{"range":[103660,106163],"loc":{"start":{"line":3650,"column":0},"end":{"line":3736,"column":3}},"type":"ExpressionStatement","expression":{"range":[103660,106162],"loc":{"start":{"line":3650,"column":0},"end":{"line":3736,"column":2}},"type":"CallExpression","callee":{"range":[103660,103666],"loc":{"start":{"line":3650,"column":0},"end":{"line":3650,"column":6}},"type":"Identifier","name":"define"},"arguments":[{"range":[103667,103681],"loc":{"start":{"line":3650,"column":7},"end":{"line":3650,"column":21}},"type":"Literal","value":"scope/device","raw":"'scope/device'"},{"range":[103682,103735],"loc":{"start":{"line":3650,"column":22},"end":{"line":3655,"column":1}},"type":"ArrayExpression","elements":[{"range":[103686,103692],"loc":{"start":{"line":3651,"column":2},"end":{"line":3651,"column":8}},"type":"Literal","value":"core","raw":"'core'"},{"range":[103696,103705],"loc":{"start":{"line":3652,"column":2},"end":{"line":3652,"column":11}},"type":"Literal","value":"./scope","raw":"'./scope'"},{"range":[103709,103722],"loc":{"start":{"line":3653,"column":2},"end":{"line":3653,"column":15}},"type":"Literal","value":"entity/thng","raw":"'entity/thng'"},{"range":[103726,103733],"loc":{"start":{"line":3654,"column":2},"end":{"line":3654,"column":9}},"type":"Literal","value":"utils","raw":"'utils'"}]},{"range":[103737,106161],"loc":{"start":{"line":3655,"column":3},"end":{"line":3736,"column":1}},"type":"FunctionExpression","id":null,"params":[{"range":[103747,103750],"loc":{"start":{"line":3655,"column":13},"end":{"line":3655,"column":16}},"type":"Identifier","name":"EVT"},{"range":[103752,103757],"loc":{"start":{"line":3655,"column":18},"end":{"line":3655,"column":23}},"type":"Identifier","name":"Scope"},{"range":[103759,103763],"loc":{"start":{"line":3655,"column":25},"end":{"line":3655,"column":29}},"type":"Identifier","name":"Thng"},{"range":[103765,103770],"loc":{"start":{"line":3655,"column":31},"end":{"line":3655,"column":36}},"type":"Identifier","name":"Utils"}],"defaults":[],"body":{"range":[103772,106161],"loc":{"start":{"line":3655,"column":38},"end":{"line":3736,"column":1}},"type":"BlockStatement","body":[{"range":[103776,103789],"loc":{"start":{"line":3656,"column":2},"end":{"line":3656,"column":15}},"type":"ExpressionStatement","expression":{"range":[103776,103788],"loc":{"start":{"line":3656,"column":2},"end":{"line":3656,"column":14}},"type":"Literal","value":"use strict","raw":"'use strict'"},"trailingComments":[{"type":"Line","value":" Device Scope constructor. It can be called with the parameters:","range":[103793,103859],"loc":{"start":{"line":3658,"column":2},"end":{"line":3658,"column":68}}},{"type":"Line","value":" - _**new EVT.Device(options, parentScope)** - Options object should","range":[103863,103933],"loc":{"start":{"line":3660,"column":2},"end":{"line":3660,"column":72}}},{"type":"Line","value":" contain `apiKey` and optionally device information (thng entity retrieved","range":[103936,104012],"loc":{"start":{"line":3661,"column":2},"end":{"line":3661,"column":78}}},{"type":"Line","value":" from the engine). Optional parent scope._","range":[104015,104059],"loc":{"start":{"line":3662,"column":2},"end":{"line":3662,"column":46}}}]},{"range":[104062,104629],"loc":{"start":{"line":3663,"column":2},"end":{"line":3682,"column":4}},"type":"VariableDeclaration","declarations":[{"range":[104066,104628],"loc":{"start":{"line":3663,"column":6},"end":{"line":3682,"column":3}},"type":"VariableDeclarator","id":{"range":[104066,104077],"loc":{"start":{"line":3663,"column":6},"end":{"line":3663,"column":17}},"type":"Identifier","name":"DeviceScope"},"init":{"range":[104080,104628],"loc":{"start":{"line":3663,"column":20},"end":{"line":3682,"column":3}},"type":"FunctionExpression","id":null,"params":[{"range":[104089,104092],"loc":{"start":{"line":3663,"column":29},"end":{"line":3663,"column":32}},"type":"Identifier","name":"obj"},{"range":[104094,104105],"loc":{"start":{"line":3663,"column":34},"end":{"line":3663,"column":45}},"type":"Identifier","name":"parentScope"}],"defaults":[],"body":{"range":[104106,104628],"loc":{"start":{"line":3663,"column":46},"end":{"line":3682,"column":3}},"type":"BlockStatement","body":[{"range":[104164,104490],"loc":{"start":{"line":3666,"column":4},"end":{"line":3675,"column":5}},"type":"IfStatement","test":{"range":[104167,104186],"loc":{"start":{"line":3666,"column":7},"end":{"line":3666,"column":26}},"type":"CallExpression","callee":{"range":[104167,104181],"loc":{"start":{"line":3666,"column":7},"end":{"line":3666,"column":21}},"type":"MemberExpression","computed":false,"object":{"range":[104167,104172],"loc":{"start":{"line":3666,"column":7},"end":{"line":3666,"column":12}},"type":"Identifier","name":"Utils"},"property":{"range":[104173,104181],"loc":{"start":{"line":3666,"column":13},"end":{"line":3666,"column":21}},"type":"Identifier","name":"isObject"}},"arguments":[{"range":[104182,104185],"loc":{"start":{"line":3666,"column":22},"end":{"line":3666,"column":25}},"type":"Identifier","name":"obj"}]},"consequent":{"range":[104187,104348],"loc":{"start":{"line":3666,"column":27},"end":{"line":3672,"column":5}},"type":"BlockStatement","body":[{"range":[104195,104224],"loc":{"start":{"line":3667,"column":6},"end":{"line":3667,"column":35}},"type":"ExpressionStatement","expression":{"range":[104195,104223],"loc":{"start":{"line":3667,"column":6},"end":{"line":3667,"column":34}},"type":"CallExpression","callee":{"range":[104195,104205],"loc":{"start":{"line":3667,"column":6},"end":{"line":3667,"column":16}},"type":"MemberExpression","computed":false,"object":{"range":[104195,104200],"loc":{"start":{"line":3667,"column":6},"end":{"line":3667,"column":11}},"type":"Identifier","name":"Scope"},"property":{"range":[104201,104205],"loc":{"start":{"line":3667,"column":12},"end":{"line":3667,"column":16}},"type":"Identifier","name":"call"}},"arguments":[{"range":[104206,104210],"loc":{"start":{"line":3667,"column":17},"end":{"line":3667,"column":21}},"type":"ThisExpression"},{"range":[104212,104222],"loc":{"start":{"line":3667,"column":23},"end":{"line":3667,"column":33}},"type":"MemberExpression","computed":false,"object":{"range":[104212,104215],"loc":{"start":{"line":3667,"column":23},"end":{"line":3667,"column":26}},"type":"Identifier","name":"obj"},"property":{"range":[104216,104222],"loc":{"start":{"line":3667,"column":27},"end":{"line":3667,"column":33}},"type":"Identifier","name":"apiKey"}}]},"trailingComments":[{"type":"Line","value":" Merge device information into the scope, as we do with the UserScope.","range":[104232,104304],"loc":{"start":{"line":3669,"column":6},"end":{"line":3669,"column":78}}}]},{"range":[104311,104341],"loc":{"start":{"line":3670,"column":6},"end":{"line":3670,"column":36}},"type":"ExpressionStatement","expression":{"range":[104311,104340],"loc":{"start":{"line":3670,"column":6},"end":{"line":3670,"column":35}},"type":"CallExpression","callee":{"range":[104311,104323],"loc":{"start":{"line":3670,"column":6},"end":{"line":3670,"column":18}},"type":"MemberExpression","computed":false,"object":{"range":[104311,104316],"loc":{"start":{"line":3670,"column":6},"end":{"line":3670,"column":11}},"type":"Identifier","name":"Utils"},"property":{"range":[104317,104323],"loc":{"start":{"line":3670,"column":12},"end":{"line":3670,"column":18}},"type":"Identifier","name":"extend"}},"arguments":[{"range":[104324,104328],"loc":{"start":{"line":3670,"column":19},"end":{"line":3670,"column":23}},"type":"ThisExpression"},{"range":[104330,104333],"loc":{"start":{"line":3670,"column":25},"end":{"line":3670,"column":28}},"type":"Identifier","name":"obj"},{"range":[104335,104339],"loc":{"start":{"line":3670,"column":30},"end":{"line":3670,"column":34}},"type":"Literal","value":true,"raw":"true"}]},"leadingComments":[{"type":"Line","value":" Merge device information into the scope, as we do with the UserScope.","range":[104232,104304],"loc":{"start":{"line":3669,"column":6},"end":{"line":3669,"column":78}}}]}]},"alternate":{"range":[104352,104490],"loc":{"start":{"line":3672,"column":9},"end":{"line":3675,"column":5}},"type":"BlockStatement","body":[{"range":[104360,104484],"loc":{"start":{"line":3673,"column":6},"end":{"line":3674,"column":47}},"type":"ThrowStatement","argument":{"range":[104366,104483],"loc":{"start":{"line":3673,"column":12},"end":{"line":3674,"column":46}},"type":"NewExpression","callee":{"range":[104370,104379],"loc":{"start":{"line":3673,"column":16},"end":{"line":3673,"column":25}},"type":"Identifier","name":"TypeError"},"arguments":[{"range":[104380,104482],"loc":{"start":{"line":3673,"column":26},"end":{"line":3674,"column":45}},"type":"BinaryExpression","operator":"+","left":{"range":[104380,104434],"loc":{"start":{"line":3673,"column":26},"end":{"line":3673,"column":80}},"type":"Literal","value":"DeviceScope constructor should be called with object","raw":"'DeviceScope constructor should be called with object'"},"right":{"range":[104443,104482],"loc":{"start":{"line":3674,"column":6},"end":{"line":3674,"column":45}},"type":"Literal","value":" containing API Key and ID of device.","raw":"' containing API Key and ID of device.'"}}]}}]},"leadingComments":[{"type":"Line","value":" Setup base Scope with the provided API Key.","range":[104113,104159],"loc":{"start":{"line":3665,"column":4},"end":{"line":3665,"column":50}}}],"trailingComments":[{"type":"Line","value":" Store parent scope. *Currently not used.*","range":[104496,104540],"loc":{"start":{"line":3677,"column":4},"end":{"line":3677,"column":48}}}]},{"range":[104545,104623],"loc":{"start":{"line":3678,"column":4},"end":{"line":3680,"column":5}},"type":"IfStatement","test":{"range":[104548,104576],"loc":{"start":{"line":3678,"column":7},"end":{"line":3678,"column":35}},"type":"BinaryExpression","operator":"instanceof","left":{"range":[104548,104559],"loc":{"start":{"line":3678,"column":7},"end":{"line":3678,"column":18}},"type":"Identifier","name":"parentScope"},"right":{"range":[104571,104576],"loc":{"start":{"line":3678,"column":30},"end":{"line":3678,"column":35}},"type":"Identifier","name":"Scope"}},"consequent":{"range":[104578,104623],"loc":{"start":{"line":3678,"column":37},"end":{"line":3680,"column":5}},"type":"BlockStatement","body":[{"range":[104586,104617],"loc":{"start":{"line":3679,"column":6},"end":{"line":3679,"column":37}},"type":"ExpressionStatement","expression":{"range":[104586,104616],"loc":{"start":{"line":3679,"column":6},"end":{"line":3679,"column":36}},"type":"AssignmentExpression","operator":"=","left":{"range":[104586,104602],"loc":{"start":{"line":3679,"column":6},"end":{"line":3679,"column":22}},"type":"MemberExpression","computed":false,"object":{"range":[104586,104590],"loc":{"start":{"line":3679,"column":6},"end":{"line":3679,"column":10}},"type":"ThisExpression"},"property":{"range":[104591,104602],"loc":{"start":{"line":3679,"column":11},"end":{"line":3679,"column":22}},"type":"Identifier","name":"parentScope"}},"right":{"range":[104605,104616],"loc":{"start":{"line":3679,"column":25},"end":{"line":3679,"column":36}},"type":"Identifier","name":"parentScope"}}}]},"alternate":null,"leadingComments":[{"type":"Line","value":" Store parent scope. *Currently not used.*","range":[104496,104540],"loc":{"start":{"line":3677,"column":4},"end":{"line":3677,"column":48}}}]}]},"generator":false,"expression":false}}],"kind":"var","leadingComments":[{"type":"Line","value":" Device Scope constructor. It can be called with the parameters:","range":[103793,103859],"loc":{"start":{"line":3658,"column":2},"end":{"line":3658,"column":68}}},{"type":"Line","value":" - _**new EVT.Device(options, parentScope)** - Options object should","range":[103863,103933],"loc":{"start":{"line":3660,"column":2},"end":{"line":3660,"column":72}}},{"type":"Line","value":" contain `apiKey` and optionally device information (thng entity retrieved","range":[103936,104012],"loc":{"start":{"line":3661,"column":2},"end":{"line":3661,"column":78}}},{"type":"Line","value":" from the engine). Optional parent scope._","range":[104015,104059],"loc":{"start":{"line":3662,"column":2},"end":{"line":3662,"column":46}}}],"trailingComments":[{"type":"Line","value":" Setup Scope inheritance.","range":[104633,104660],"loc":{"start":{"line":3684,"column":2},"end":{"line":3684,"column":29}}}]},{"range":[104663,104718],"loc":{"start":{"line":3685,"column":2},"end":{"line":3685,"column":57}},"type":"ExpressionStatement","expression":{"range":[104663,104717],"loc":{"start":{"line":3685,"column":2},"end":{"line":3685,"column":56}},"type":"AssignmentExpression","operator":"=","left":{"range":[104663,104684],"loc":{"start":{"line":3685,"column":2},"end":{"line":3685,"column":23}},"type":"MemberExpression","computed":false,"object":{"range":[104663,104674],"loc":{"start":{"line":3685,"column":2},"end":{"line":3685,"column":13}},"type":"Identifier","name":"DeviceScope"},"property":{"range":[104675,104684],"loc":{"start":{"line":3685,"column":14},"end":{"line":3685,"column":23}},"type":"Identifier","name":"prototype"}},"right":{"range":[104687,104717],"loc":{"start":{"line":3685,"column":26},"end":{"line":3685,"column":56}},"type":"CallExpression","callee":{"range":[104687,104700],"loc":{"start":{"line":3685,"column":26},"end":{"line":3685,"column":39}},"type":"MemberExpression","computed":false,"object":{"range":[104687,104693],"loc":{"start":{"line":3685,"column":26},"end":{"line":3685,"column":32}},"type":"Identifier","name":"Object"},"property":{"range":[104694,104700],"loc":{"start":{"line":3685,"column":33},"end":{"line":3685,"column":39}},"type":"Identifier","name":"create"}},"arguments":[{"range":[104701,104716],"loc":{"start":{"line":3685,"column":40},"end":{"line":3685,"column":55}},"type":"MemberExpression","computed":false,"object":{"range":[104701,104706],"loc":{"start":{"line":3685,"column":40},"end":{"line":3685,"column":45}},"type":"Identifier","name":"Scope"},"property":{"range":[104707,104716],"loc":{"start":{"line":3685,"column":46},"end":{"line":3685,"column":55}},"type":"Identifier","name":"prototype"}}]}},"leadingComments":[{"type":"Line","value":" Setup Scope inheritance.","range":[104633,104660],"loc":{"start":{"line":3684,"column":2},"end":{"line":3684,"column":29}}}]},{"range":[104721,104769],"loc":{"start":{"line":3686,"column":2},"end":{"line":3686,"column":50}},"type":"ExpressionStatement","expression":{"range":[104721,104768],"loc":{"start":{"line":3686,"column":2},"end":{"line":3686,"column":49}},"type":"AssignmentExpression","operator":"=","left":{"range":[104721,104754],"loc":{"start":{"line":3686,"column":2},"end":{"line":3686,"column":35}},"type":"MemberExpression","computed":false,"object":{"range":[104721,104742],"loc":{"start":{"line":3686,"column":2},"end":{"line":3686,"column":23}},"type":"MemberExpression","computed":false,"object":{"range":[104721,104732],"loc":{"start":{"line":3686,"column":2},"end":{"line":3686,"column":13}},"type":"Identifier","name":"DeviceScope"},"property":{"range":[104733,104742],"loc":{"start":{"line":3686,"column":14},"end":{"line":3686,"column":23}},"type":"Identifier","name":"prototype"}},"property":{"range":[104743,104754],"loc":{"start":{"line":3686,"column":24},"end":{"line":3686,"column":35}},"type":"Identifier","name":"constructor"}},"right":{"range":[104757,104768],"loc":{"start":{"line":3686,"column":38},"end":{"line":3686,"column":49}},"type":"Identifier","name":"DeviceScope"}},"trailingComments":[{"type":"Line","value":" Allow to update the current device without an explicit API call. Simply update","range":[104774,104855],"loc":{"start":{"line":3689,"column":2},"end":{"line":3689,"column":83}}},{"type":"Line","value":" the device scope object and call update will make the request to update the device","range":[104858,104943],"loc":{"start":{"line":3690,"column":2},"end":{"line":3690,"column":87}}},{"type":"Line","value":" in the *'/thngs'* endpoint.","range":[104946,104976],"loc":{"start":{"line":3691,"column":2},"end":{"line":3691,"column":32}}}]},{"range":[104979,105228],"loc":{"start":{"line":3692,"column":2},"end":{"line":3700,"column":3}},"type":"FunctionDeclaration","id":{"range":[104988,104994],"loc":{"start":{"line":3692,"column":11},"end":{"line":3692,"column":17}},"type":"Identifier","name":"update"},"params":[],"defaults":[],"body":{"range":[104997,105228],"loc":{"start":{"line":3692,"column":20},"end":{"line":3700,"column":3}},"type":"BlockStatement","body":[{"range":[105003,105079],"loc":{"start":{"line":3693,"column":4},"end":{"line":3694,"column":58}},"type":"VariableDeclaration","declarations":[{"range":[105007,105019],"loc":{"start":{"line":3693,"column":8},"end":{"line":3693,"column":20}},"type":"VariableDeclarator","id":{"range":[105007,105012],"loc":{"start":{"line":3693,"column":8},"end":{"line":3693,"column":13}},"type":"Identifier","name":"$this"},"init":{"range":[105015,105019],"loc":{"start":{"line":3693,"column":16},"end":{"line":3693,"column":20}},"type":"ThisExpression"}},{"range":[105027,105078],"loc":{"start":{"line":3694,"column":6},"end":{"line":3694,"column":57}},"type":"VariableDeclarator","id":{"range":[105027,105031],"loc":{"start":{"line":3694,"column":6},"end":{"line":3694,"column":10}},"type":"Identifier","name":"self"},"init":{"range":[105034,105078],"loc":{"start":{"line":3694,"column":13},"end":{"line":3694,"column":57}},"type":"CallExpression","callee":{"range":[105034,105063],"loc":{"start":{"line":3694,"column":13},"end":{"line":3694,"column":42}},"type":"MemberExpression","computed":false,"object":{"range":[105034,105058],"loc":{"start":{"line":3694,"column":13},"end":{"line":3694,"column":37}},"type":"MemberExpression","computed":false,"object":{"range":[105034,105038],"loc":{"start":{"line":3694,"column":13},"end":{"line":3694,"column":17}},"type":"Identifier","name":"Thng"},"property":{"range":[105039,105058],"loc":{"start":{"line":3694,"column":18},"end":{"line":3694,"column":37}},"type":"Identifier","name":"resourceConstructor"}},"property":{"range":[105059,105063],"loc":{"start":{"line":3694,"column":38},"end":{"line":3694,"column":42}},"type":"Identifier","name":"call"}},"arguments":[{"range":[105064,105068],"loc":{"start":{"line":3694,"column":43},"end":{"line":3694,"column":47}},"type":"ThisExpression"},{"range":[105070,105077],"loc":{"start":{"line":3694,"column":49},"end":{"line":3694,"column":56}},"type":"MemberExpression","computed":false,"object":{"range":[105070,105074],"loc":{"start":{"line":3694,"column":49},"end":{"line":3694,"column":53}},"type":"ThisExpression"},"property":{"range":[105075,105077],"loc":{"start":{"line":3694,"column":54},"end":{"line":3694,"column":56}},"type":"Identifier","name":"id"}}]}}],"kind":"var"},{"range":[105085,105224],"loc":{"start":{"line":3696,"column":4},"end":{"line":3699,"column":7}},"type":"ReturnStatement","argument":{"range":[105092,105223],"loc":{"start":{"line":3696,"column":11},"end":{"line":3699,"column":6}},"type":"CallExpression","callee":{"range":[105092,105131],"loc":{"start":{"line":3696,"column":11},"end":{"line":3696,"column":50}},"type":"MemberExpression","computed":false,"object":{"range":[105092,105126],"loc":{"start":{"line":3696,"column":11},"end":{"line":3696,"column":45}},"type":"CallExpression","callee":{"range":[105092,105109],"loc":{"start":{"line":3696,"column":11},"end":{"line":3696,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[105092,105103],"loc":{"start":{"line":3696,"column":11},"end":{"line":3696,"column":22}},"type":"MemberExpression","computed":false,"object":{"range":[105092,105096],"loc":{"start":{"line":3696,"column":11},"end":{"line":3696,"column":15}},"type":"Identifier","name":"self"},"property":{"range":[105097,105103],"loc":{"start":{"line":3696,"column":16},"end":{"line":3696,"column":22}},"type":"Identifier","name":"update"}},"property":{"range":[105104,105109],"loc":{"start":{"line":3696,"column":23},"end":{"line":3696,"column":28}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[105110,105114],"loc":{"start":{"line":3696,"column":29},"end":{"line":3696,"column":33}},"type":"Identifier","name":"self"},{"range":[105116,105125],"loc":{"start":{"line":3696,"column":35},"end":{"line":3696,"column":44}},"type":"Identifier","name":"arguments"}]},"property":{"range":[105127,105131],"loc":{"start":{"line":3696,"column":46},"end":{"line":3696,"column":50}},"type":"Identifier","name":"then"}},"arguments":[{"range":[105132,105222],"loc":{"start":{"line":3696,"column":51},"end":{"line":3699,"column":5}},"type":"FunctionExpression","id":null,"params":[{"range":[105142,105149],"loc":{"start":{"line":3696,"column":61},"end":{"line":3696,"column":68}},"type":"Identifier","name":"updated"}],"defaults":[],"body":{"range":[105151,105222],"loc":{"start":{"line":3696,"column":70},"end":{"line":3699,"column":5}},"type":"BlockStatement","body":[{"range":[105159,105194],"loc":{"start":{"line":3697,"column":6},"end":{"line":3697,"column":41}},"type":"ExpressionStatement","expression":{"range":[105159,105193],"loc":{"start":{"line":3697,"column":6},"end":{"line":3697,"column":40}},"type":"CallExpression","callee":{"range":[105159,105171],"loc":{"start":{"line":3697,"column":6},"end":{"line":3697,"column":18}},"type":"MemberExpression","computed":false,"object":{"range":[105159,105164],"loc":{"start":{"line":3697,"column":6},"end":{"line":3697,"column":11}},"type":"Identifier","name":"Utils"},"property":{"range":[105165,105171],"loc":{"start":{"line":3697,"column":12},"end":{"line":3697,"column":18}},"type":"Identifier","name":"extend"}},"arguments":[{"range":[105172,105177],"loc":{"start":{"line":3697,"column":19},"end":{"line":3697,"column":24}},"type":"Identifier","name":"$this"},{"range":[105179,105186],"loc":{"start":{"line":3697,"column":26},"end":{"line":3697,"column":33}},"type":"Identifier","name":"updated"},{"range":[105188,105192],"loc":{"start":{"line":3697,"column":35},"end":{"line":3697,"column":39}},"type":"Literal","value":true,"raw":"true"}]}},{"range":[105201,105216],"loc":{"start":{"line":3698,"column":6},"end":{"line":3698,"column":21}},"type":"ReturnStatement","argument":{"range":[105208,105215],"loc":{"start":{"line":3698,"column":13},"end":{"line":3698,"column":20}},"type":"Identifier","name":"updated"}}]},"generator":false,"expression":false}]}}]},"generator":false,"expression":false,"leadingComments":[{"type":"Line","value":" Allow to update the current device without an explicit API call. Simply update","range":[104774,104855],"loc":{"start":{"line":3689,"column":2},"end":{"line":3689,"column":83}}},{"type":"Line","value":" the device scope object and call update will make the request to update the device","range":[104858,104943],"loc":{"start":{"line":3690,"column":2},"end":{"line":3690,"column":87}}},{"type":"Line","value":" in the *'/thngs'* endpoint.","range":[104946,104976],"loc":{"start":{"line":3691,"column":2},"end":{"line":3691,"column":32}}}],"trailingComments":[{"type":"Line","value":" The device property resource is in fact just an alias for the","range":[105232,105296],"loc":{"start":{"line":3702,"column":2},"end":{"line":3702,"column":66}}},{"type":"Line","value":" inherited Thng.property() resource.","range":[105299,105337],"loc":{"start":{"line":3703,"column":2},"end":{"line":3703,"column":40}}}]},{"range":[105340,105475],"loc":{"start":{"line":3704,"column":2},"end":{"line":3707,"column":3}},"type":"FunctionDeclaration","id":{"range":[105349,105357],"loc":{"start":{"line":3704,"column":11},"end":{"line":3704,"column":19}},"type":"Identifier","name":"property"},"params":[],"defaults":[],"body":{"range":[105360,105475],"loc":{"start":{"line":3704,"column":22},"end":{"line":3707,"column":3}},"type":"BlockStatement","body":[{"range":[105366,105422],"loc":{"start":{"line":3705,"column":4},"end":{"line":3705,"column":60}},"type":"VariableDeclaration","declarations":[{"range":[105370,105421],"loc":{"start":{"line":3705,"column":8},"end":{"line":3705,"column":59}},"type":"VariableDeclarator","id":{"range":[105370,105374],"loc":{"start":{"line":3705,"column":8},"end":{"line":3705,"column":12}},"type":"Identifier","name":"self"},"init":{"range":[105377,105421],"loc":{"start":{"line":3705,"column":15},"end":{"line":3705,"column":59}},"type":"CallExpression","callee":{"range":[105377,105406],"loc":{"start":{"line":3705,"column":15},"end":{"line":3705,"column":44}},"type":"MemberExpression","computed":false,"object":{"range":[105377,105401],"loc":{"start":{"line":3705,"column":15},"end":{"line":3705,"column":39}},"type":"MemberExpression","computed":false,"object":{"range":[105377,105381],"loc":{"start":{"line":3705,"column":15},"end":{"line":3705,"column":19}},"type":"Identifier","name":"Thng"},"property":{"range":[105382,105401],"loc":{"start":{"line":3705,"column":20},"end":{"line":3705,"column":39}},"type":"Identifier","name":"resourceConstructor"}},"property":{"range":[105402,105406],"loc":{"start":{"line":3705,"column":40},"end":{"line":3705,"column":44}},"type":"Identifier","name":"call"}},"arguments":[{"range":[105407,105411],"loc":{"start":{"line":3705,"column":45},"end":{"line":3705,"column":49}},"type":"ThisExpression"},{"range":[105413,105420],"loc":{"start":{"line":3705,"column":51},"end":{"line":3705,"column":58}},"type":"MemberExpression","computed":false,"object":{"range":[105413,105417],"loc":{"start":{"line":3705,"column":51},"end":{"line":3705,"column":55}},"type":"ThisExpression"},"property":{"range":[105418,105420],"loc":{"start":{"line":3705,"column":56},"end":{"line":3705,"column":58}},"type":"Identifier","name":"id"}}]}}],"kind":"var"},{"range":[105427,105471],"loc":{"start":{"line":3706,"column":4},"end":{"line":3706,"column":48}},"type":"ReturnStatement","argument":{"range":[105434,105470],"loc":{"start":{"line":3706,"column":11},"end":{"line":3706,"column":47}},"type":"CallExpression","callee":{"range":[105434,105453],"loc":{"start":{"line":3706,"column":11},"end":{"line":3706,"column":30}},"type":"MemberExpression","computed":false,"object":{"range":[105434,105447],"loc":{"start":{"line":3706,"column":11},"end":{"line":3706,"column":24}},"type":"MemberExpression","computed":false,"object":{"range":[105434,105438],"loc":{"start":{"line":3706,"column":11},"end":{"line":3706,"column":15}},"type":"Identifier","name":"self"},"property":{"range":[105439,105447],"loc":{"start":{"line":3706,"column":16},"end":{"line":3706,"column":24}},"type":"Identifier","name":"property"}},"property":{"range":[105448,105453],"loc":{"start":{"line":3706,"column":25},"end":{"line":3706,"column":30}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[105454,105458],"loc":{"start":{"line":3706,"column":31},"end":{"line":3706,"column":35}},"type":"Identifier","name":"self"},{"range":[105460,105469],"loc":{"start":{"line":3706,"column":37},"end":{"line":3706,"column":46}},"type":"Identifier","name":"arguments"}]}}]},"generator":false,"expression":false,"leadingComments":[{"type":"Line","value":" The device property resource is in fact just an alias for the","range":[105232,105296],"loc":{"start":{"line":3702,"column":2},"end":{"line":3702,"column":66}}},{"type":"Line","value":" inherited Thng.property() resource.","range":[105299,105337],"loc":{"start":{"line":3703,"column":2},"end":{"line":3703,"column":40}}}],"trailingComments":[{"type":"Line","value":" The device action resource is in fact just an alias for the","range":[105479,105541],"loc":{"start":{"line":3709,"column":2},"end":{"line":3709,"column":64}}},{"type":"Line","value":" inherited Thng.action() resource.","range":[105544,105580],"loc":{"start":{"line":3710,"column":2},"end":{"line":3710,"column":38}}}]},{"range":[105583,105714],"loc":{"start":{"line":3711,"column":2},"end":{"line":3714,"column":3}},"type":"FunctionDeclaration","id":{"range":[105592,105598],"loc":{"start":{"line":3711,"column":11},"end":{"line":3711,"column":17}},"type":"Identifier","name":"action"},"params":[],"defaults":[],"body":{"range":[105601,105714],"loc":{"start":{"line":3711,"column":20},"end":{"line":3714,"column":3}},"type":"BlockStatement","body":[{"range":[105607,105663],"loc":{"start":{"line":3712,"column":4},"end":{"line":3712,"column":60}},"type":"VariableDeclaration","declarations":[{"range":[105611,105662],"loc":{"start":{"line":3712,"column":8},"end":{"line":3712,"column":59}},"type":"VariableDeclarator","id":{"range":[105611,105615],"loc":{"start":{"line":3712,"column":8},"end":{"line":3712,"column":12}},"type":"Identifier","name":"self"},"init":{"range":[105618,105662],"loc":{"start":{"line":3712,"column":15},"end":{"line":3712,"column":59}},"type":"CallExpression","callee":{"range":[105618,105647],"loc":{"start":{"line":3712,"column":15},"end":{"line":3712,"column":44}},"type":"MemberExpression","computed":false,"object":{"range":[105618,105642],"loc":{"start":{"line":3712,"column":15},"end":{"line":3712,"column":39}},"type":"MemberExpression","computed":false,"object":{"range":[105618,105622],"loc":{"start":{"line":3712,"column":15},"end":{"line":3712,"column":19}},"type":"Identifier","name":"Thng"},"property":{"range":[105623,105642],"loc":{"start":{"line":3712,"column":20},"end":{"line":3712,"column":39}},"type":"Identifier","name":"resourceConstructor"}},"property":{"range":[105643,105647],"loc":{"start":{"line":3712,"column":40},"end":{"line":3712,"column":44}},"type":"Identifier","name":"call"}},"arguments":[{"range":[105648,105652],"loc":{"start":{"line":3712,"column":45},"end":{"line":3712,"column":49}},"type":"ThisExpression"},{"range":[105654,105661],"loc":{"start":{"line":3712,"column":51},"end":{"line":3712,"column":58}},"type":"MemberExpression","computed":false,"object":{"range":[105654,105658],"loc":{"start":{"line":3712,"column":51},"end":{"line":3712,"column":55}},"type":"ThisExpression"},"property":{"range":[105659,105661],"loc":{"start":{"line":3712,"column":56},"end":{"line":3712,"column":58}},"type":"Identifier","name":"id"}}]}}],"kind":"var"},{"range":[105668,105710],"loc":{"start":{"line":3713,"column":4},"end":{"line":3713,"column":46}},"type":"ReturnStatement","argument":{"range":[105675,105709],"loc":{"start":{"line":3713,"column":11},"end":{"line":3713,"column":45}},"type":"CallExpression","callee":{"range":[105675,105692],"loc":{"start":{"line":3713,"column":11},"end":{"line":3713,"column":28}},"type":"MemberExpression","computed":false,"object":{"range":[105675,105686],"loc":{"start":{"line":3713,"column":11},"end":{"line":3713,"column":22}},"type":"MemberExpression","computed":false,"object":{"range":[105675,105679],"loc":{"start":{"line":3713,"column":11},"end":{"line":3713,"column":15}},"type":"Identifier","name":"self"},"property":{"range":[105680,105686],"loc":{"start":{"line":3713,"column":16},"end":{"line":3713,"column":22}},"type":"Identifier","name":"action"}},"property":{"range":[105687,105692],"loc":{"start":{"line":3713,"column":23},"end":{"line":3713,"column":28}},"type":"Identifier","name":"apply"}},"arguments":[{"range":[105693,105697],"loc":{"start":{"line":3713,"column":29},"end":{"line":3713,"column":33}},"type":"Identifier","name":"self"},{"range":[105699,105708],"loc":{"start":{"line":3713,"column":35},"end":{"line":3713,"column":44}},"type":"Identifier","name":"arguments"}]}}]},"generator":false,"expression":false,"leadingComments":[{"type":"Line","value":" The device action resource is in fact just an alias for the","range":[105479,105541],"loc":{"start":{"line":3709,"column":2},"end":{"line":3709,"column":64}}},{"type":"Line","value":" inherited Thng.action() resource.","range":[105544,105580],"loc":{"start":{"line":3710,"column":2},"end":{"line":3710,"column":38}}}],"trailingComments":[{"type":"Line","value":" Implement Public API by extending the prototype.","range":[105719,105770],"loc":{"start":{"line":3717,"column":2},"end":{"line":3717,"column":53}}},{"type":"Line","value":" See explanation of resource constructors in ApplicationScope. The","range":[105774,105842],"loc":{"start":{"line":3719,"column":2},"end":{"line":3719,"column":70}}},{"type":"Line","value":" **thng()** resource builds a custom resource constructor by using","range":[105845,105913],"loc":{"start":{"line":3720,"column":2},"end":{"line":3720,"column":70}}},{"type":"Line","value":" the default *'/thngs'* endpoint.","range":[105916,105951],"loc":{"start":{"line":3721,"column":2},"end":{"line":3721,"column":37}}}]},{"range":[105954,106070],"loc":{"start":{"line":3722,"column":2},"end":{"line":3730,"column":11}},"type":"ExpressionStatement","expression":{"range":[105954,106069],"loc":{"start":{"line":3722,"column":2},"end":{"line":3730,"column":10}},"type":"CallExpression","callee":{"range":[105954,105966],"loc":{"start":{"line":3722,"column":2},"end":{"line":3722,"column":14}},"type":"MemberExpression","computed":false,"object":{"range":[105954,105959],"loc":{"start":{"line":3722,"column":2},"end":{"line":3722,"column":7}},"type":"Identifier","name":"Utils"},"property":{"range":[105960,105966],"loc":{"start":{"line":3722,"column":8},"end":{"line":3722,"column":14}},"type":"Identifier","name":"extend"}},"arguments":[{"range":[105967,105988],"loc":{"start":{"line":3722,"column":15},"end":{"line":3722,"column":36}},"type":"MemberExpression","computed":false,"object":{"range":[105967,105978],"loc":{"start":{"line":3722,"column":15},"end":{"line":3722,"column":26}},"type":"Identifier","name":"DeviceScope"},"property":{"range":[105979,105988],"loc":{"start":{"line":3722,"column":27},"end":{"line":3722,"column":36}},"type":"Identifier","name":"prototype"}},{"range":[105990,106062],"loc":{"start":{"line":3722,"column":38},"end":{"line":3730,"column":3}},"type":"ObjectExpression","properties":[{"range":[105997,106015],"loc":{"start":{"line":3724,"column":4},"end":{"line":3724,"column":22}},"type":"Property","key":{"range":[105997,106005],"loc":{"start":{"line":3724,"column":4},"end":{"line":3724,"column":12}},"type":"Identifier","name":"property"},"computed":false,"value":{"range":[106007,106015],"loc":{"start":{"line":3724,"column":14},"end":{"line":3724,"column":22}},"type":"Identifier","name":"property"},"kind":"init","method":false,"shorthand":false},{"range":[106022,106036],"loc":{"start":{"line":3726,"column":4},"end":{"line":3726,"column":18}},"type":"Property","key":{"range":[106022,106028],"loc":{"start":{"line":3726,"column":4},"end":{"line":3726,"column":10}},"type":"Identifier","name":"action"},"computed":false,"value":{"range":[106030,106036],"loc":{"start":{"line":3726,"column":12},"end":{"line":3726,"column":18}},"type":"Identifier","name":"action"},"kind":"init","method":false,"shorthand":false},{"range":[106043,106057],"loc":{"start":{"line":3728,"column":4},"end":{"line":3728,"column":18}},"type":"Property","key":{"range":[106043,106049],"loc":{"start":{"line":3728,"column":4},"end":{"line":3728,"column":10}},"type":"Identifier","name":"update"},"computed":false,"value":{"range":[106051,106057],"loc":{"start":{"line":3728,"column":12},"end":{"line":3728,"column":18}},"type":"Identifier","name":"update"},"kind":"init","method":false,"shorthand":false}]},{"range":[106064,106068],"loc":{"start":{"line":3730,"column":5},"end":{"line":3730,"column":9}},"type":"Literal","value":true,"raw":"true"}]},"leadingComments":[{"type":"Line","value":" Implement Public API by extending the prototype.","range":[105719,105770],"loc":{"start":{"line":3717,"column":2},"end":{"line":3717,"column":53}}},{"type":"Line","value":" See explanation of resource constructors in ApplicationScope. The","range":[105774,105842],"loc":{"start":{"line":3719,"column":2},"end":{"line":3719,"column":70}}},{"type":"Line","value":" **thng()** resource builds a custom resource constructor by using","range":[105845,105913],"loc":{"start":{"line":3720,"column":2},"end":{"line":3720,"column":70}}},{"type":"Line","value":" the default *'/thngs'* endpoint.","range":[105916,105951],"loc":{"start":{"line":3721,"column":2},"end":{"line":3721,"column":37}}}],"trailingComments":[{"type":"Line","value":" Attach DeviceScope class to the EVT module.","range":[106075,106121],"loc":{"start":{"line":3733,"column":2},"end":{"line":3733,"column":48}}}]},{"range":[106124,106158],"loc":{"start":{"line":3734,"column":2},"end":{"line":3734,"column":36}},"type":"ReturnStatement","argument":{"range":[106132,106156],"loc":{"start":{"line":3734,"column":10},"end":{"line":3734,"column":34}},"type":"AssignmentExpression","operator":"=","left":{"range":[106132,106142],"loc":{"start":{"line":3734,"column":10},"end":{"line":3734,"column":20}},"type":"MemberExpression","computed":false,"object":{"range":[106132,106135],"loc":{"start":{"line":3734,"column":10},"end":{"line":3734,"column":13}},"type":"Identifier","name":"EVT"},"property":{"range":[106136,106142],"loc":{"start":{"line":3734,"column":14},"end":{"line":3734,"column":20}},"type":"Identifier","name":"Device"}},"right":{"range":[106145,106156],"loc":{"start":{"line":3734,"column":23},"end":{"line":3734,"column":34}},"type":"Identifier","name":"DeviceScope"}},"leadingComments":[{"type":"Line","value":" Attach DeviceScope class to the EVT module.","range":[106075,106121],"loc":{"start":{"line":3733,"column":2},"end":{"line":3733,"column":48}}}]}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" ## DEVICE.JS","range":[103356,103371],"loc":{"start":{"line":3639,"column":0},"end":{"line":3639,"column":15}}},{"type":"Line","value":" **Here it is defined the DeviceScope or `EVT.Device`. EVT.Device","range":[103373,103440],"loc":{"start":{"line":3641,"column":0},"end":{"line":3641,"column":67}}},{"type":"Line","value":" is a sub-class of scope and it defines the public API that the","range":[103441,103506],"loc":{"start":{"line":3642,"column":0},"end":{"line":3642,"column":65}}},{"type":"Line","value":" device can access to.**","range":[103507,103533],"loc":{"start":{"line":3643,"column":0},"end":{"line":3643,"column":26}}},{"type":"Line","value":" A Device scope currently has access to:","range":[103535,103577],"loc":{"start":{"line":3645,"column":0},"end":{"line":3645,"column":42}}},{"type":"Line","value":" - Thng resource (`R`, `U`)","range":[103579,103608],"loc":{"start":{"line":3647,"column":0},"end":{"line":3647,"column":29}}},{"type":"Line","value":" - (`C`, `R`, `U` properties/actions via thngs)","range":[103609,103658],"loc":{"start":{"line":3648,"column":0},"end":{"line":3648,"column":49}}}],"trailingComments":[{"type":"Line","value":" # **[EVRYTHNG](https://www.evrythng.com)'s JavaScript SDK**","range":[106165,106227],"loc":{"start":{"line":3738,"column":0},"end":{"line":3738,"column":62}}},{"type":"Line","value":" ## EVRYTHNG.JS","range":[106229,106246],"loc":{"start":{"line":3740,"column":0},"end":{"line":3740,"column":17}}},{"type":"Line","value":" EvrythngJS uses AMD ([RequireJS](http://requirejs.org/)) to load all of its","range":[106248,106326],"loc":{"start":{"line":3742,"column":0},"end":{"line":3742,"column":78}}},{"type":"Line","value":" building modules.","range":[106327,106347],"loc":{"start":{"line":3743,"column":0},"end":{"line":3743,"column":20}}},{"type":"Line","value":" This is the higher level module that requires the `EVT.App`, `EVT.User` and","range":[106349,106427],"loc":{"start":{"line":3745,"column":0},"end":{"line":3745,"column":78}}},{"type":"Line","value":" and `EVT.Device` classes representing the Application, User and Device scopes respectively.","range":[106428,106522],"loc":{"start":{"line":3746,"column":0},"end":{"line":3746,"column":94}}},{"type":"Line","value":" All other modules are loaded as dependencies of these.","range":[106523,106580],"loc":{"start":{"line":3747,"column":0},"end":{"line":3747,"column":57}}},{"type":"Line","value":" ### UMD","range":[106582,106592],"loc":{"start":{"line":3749,"column":0},"end":{"line":3749,"column":10}}},{"type":"Line","value":" EvrythngJS is wrapped in a [UMD](https://github.com/umdjs/umd) definition which makes it","range":[106594,106685],"loc":{"start":{"line":3751,"column":0},"end":{"line":3751,"column":91}}},{"type":"Line","value":" available as an **AMD** (RequireJS) module, **CommonJS** (Node.js) or **browser globals**.","range":[106686,106779],"loc":{"start":{"line":3752,"column":0},"end":{"line":3752,"column":93}}},{"type":"Line","value":" EvrythngJS bundle also includes:","range":[106781,106816],"loc":{"start":{"line":3754,"column":0},"end":{"line":3754,"column":35}}},{"type":"Line","value":" - [Almond](https://github.com/jrburke/almond): a minimal AMD script loader","range":[106818,106895],"loc":{"start":{"line":3756,"column":0},"end":{"line":3756,"column":77}}},{"type":"Line","value":" - [NPO](https://github.com/getify/native-promise-only): an ES6 Promise polyfill,","range":[106896,106979],"loc":{"start":{"line":3757,"column":0},"end":{"line":3757,"column":83}}},{"type":"Line","value":" strict Promises/A+ (1.1) implementation","range":[106980,107022],"loc":{"start":{"line":3758,"column":0},"end":{"line":3758,"column":42}}}]},{"range":[107024,107200],"loc":{"start":{"line":3760,"column":0},"end":{"line":3771,"column":3}},"type":"ExpressionStatement","expression":{"range":[107024,107199],"loc":{"start":{"line":3760,"column":0},"end":{"line":3771,"column":2}},"type":"CallExpression","callee":{"range":[107024,107030],"loc":{"start":{"line":3760,"column":0},"end":{"line":3760,"column":6}},"type":"Identifier","name":"define"},"arguments":[{"range":[107031,107041],"loc":{"start":{"line":3760,"column":7},"end":{"line":3760,"column":17}},"type":"Literal","value":"evrythng","raw":"'evrythng'"},{"range":[107042,107111],"loc":{"start":{"line":3760,"column":18},"end":{"line":3765,"column":1}},"type":"ArrayExpression","elements":[{"range":[107046,107052],"loc":{"start":{"line":3761,"column":2},"end":{"line":3761,"column":8}},"type":"Literal","value":"core","raw":"'core'"},{"range":[107056,107075],"loc":{"start":{"line":3762,"column":2},"end":{"line":3762,"column":21}},"type":"Literal","value":"scope/application","raw":"'scope/application'"},{"range":[107079,107091],"loc":{"start":{"line":3763,"column":2},"end":{"line":3763,"column":14}},"type":"Literal","value":"scope/user","raw":"'scope/user'"},{"range":[107095,107109],"loc":{"start":{"line":3764,"column":2},"end":{"line":3764,"column":16}},"type":"Literal","value":"scope/device","raw":"'scope/device'"}]},{"range":[107113,107198],"loc":{"start":{"line":3765,"column":3},"end":{"line":3771,"column":1}},"type":"FunctionExpression","id":null,"params":[{"range":[107122,107125],"loc":{"start":{"line":3765,"column":12},"end":{"line":3765,"column":15}},"type":"Identifier","name":"EVT"}],"defaults":[],"body":{"range":[107127,107198],"loc":{"start":{"line":3765,"column":17},"end":{"line":3771,"column":1}},"type":"BlockStatement","body":[{"range":[107131,107144],"loc":{"start":{"line":3766,"column":2},"end":{"line":3766,"column":15}},"type":"ExpressionStatement","expression":{"range":[107131,107143],"loc":{"start":{"line":3766,"column":2},"end":{"line":3766,"column":14}},"type":"Literal","value":"use strict","raw":"'use strict'"},"trailingComments":[{"type":"Line","value":" Return fully built EVT module.","range":[107148,107181],"loc":{"start":{"line":3768,"column":2},"end":{"line":3768,"column":35}}}]},{"range":[107184,107195],"loc":{"start":{"line":3769,"column":2},"end":{"line":3769,"column":13}},"type":"ReturnStatement","argument":{"range":[107191,107194],"loc":{"start":{"line":3769,"column":9},"end":{"line":3769,"column":12}},"type":"Identifier","name":"EVT"},"leadingComments":[{"type":"Line","value":" Return fully built EVT module.","range":[107148,107181],"loc":{"start":{"line":3768,"column":2},"end":{"line":3768,"column":35}}}]}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" # **[EVRYTHNG](https://www.evrythng.com)'s JavaScript SDK**","range":[106165,106227],"loc":{"start":{"line":3738,"column":0},"end":{"line":3738,"column":62}}},{"type":"Line","value":" ## EVRYTHNG.JS","range":[106229,106246],"loc":{"start":{"line":3740,"column":0},"end":{"line":3740,"column":17}}},{"type":"Line","value":" EvrythngJS uses AMD ([RequireJS](http://requirejs.org/)) to load all of its","range":[106248,106326],"loc":{"start":{"line":3742,"column":0},"end":{"line":3742,"column":78}}},{"type":"Line","value":" building modules.","range":[106327,106347],"loc":{"start":{"line":3743,"column":0},"end":{"line":3743,"column":20}}},{"type":"Line","value":" This is the higher level module that requires the `EVT.App`, `EVT.User` and","range":[106349,106427],"loc":{"start":{"line":3745,"column":0},"end":{"line":3745,"column":78}}},{"type":"Line","value":" and `EVT.Device` classes representing the Application, User and Device scopes respectively.","range":[106428,106522],"loc":{"start":{"line":3746,"column":0},"end":{"line":3746,"column":94}}},{"type":"Line","value":" All other modules are loaded as dependencies of these.","range":[106523,106580],"loc":{"start":{"line":3747,"column":0},"end":{"line":3747,"column":57}}},{"type":"Line","value":" ### UMD","range":[106582,106592],"loc":{"start":{"line":3749,"column":0},"end":{"line":3749,"column":10}}},{"type":"Line","value":" EvrythngJS is wrapped in a [UMD](https://github.com/umdjs/umd) definition which makes it","range":[106594,106685],"loc":{"start":{"line":3751,"column":0},"end":{"line":3751,"column":91}}},{"type":"Line","value":" available as an **AMD** (RequireJS) module, **CommonJS** (Node.js) or **browser globals**.","range":[106686,106779],"loc":{"start":{"line":3752,"column":0},"end":{"line":3752,"column":93}}},{"type":"Line","value":" EvrythngJS bundle also includes:","range":[106781,106816],"loc":{"start":{"line":3754,"column":0},"end":{"line":3754,"column":35}}},{"type":"Line","value":" - [Almond](https://github.com/jrburke/almond): a minimal AMD script loader","range":[106818,106895],"loc":{"start":{"line":3756,"column":0},"end":{"line":3756,"column":77}}},{"type":"Line","value":" - [NPO](https://github.com/getify/native-promise-only): an ES6 Promise polyfill,","range":[106896,106979],"loc":{"start":{"line":3757,"column":0},"end":{"line":3757,"column":83}}},{"type":"Line","value":" strict Promises/A+ (1.1) implementation","range":[106980,107022],"loc":{"start":{"line":3758,"column":0},"end":{"line":3758,"column":42}}}],"trailingComments":[{"type":"Line","value":"Use almond's special top-level, synchronous require to trigger factory","range":[107206,107278],"loc":{"start":{"line":3773,"column":4},"end":{"line":3773,"column":76}}},{"type":"Line","value":"functions, get the final module value, and export it as the public","range":[107283,107351],"loc":{"start":{"line":3774,"column":4},"end":{"line":3774,"column":72}}},{"type":"Line","value":"value.","range":[107356,107364],"loc":{"start":{"line":3775,"column":4},"end":{"line":3775,"column":12}}}]},{"range":[107369,107396],"loc":{"start":{"line":3776,"column":4},"end":{"line":3776,"column":31}},"type":"ReturnStatement","argument":{"range":[107376,107395],"loc":{"start":{"line":3776,"column":11},"end":{"line":3776,"column":30}},"type":"CallExpression","callee":{"range":[107376,107383],"loc":{"start":{"line":3776,"column":11},"end":{"line":3776,"column":18}},"type":"Identifier","name":"require"},"arguments":[{"range":[107384,107394],"loc":{"start":{"line":3776,"column":19},"end":{"line":3776,"column":29}},"type":"Literal","value":"evrythng","raw":"'evrythng'"}]},"leadingComments":[{"type":"Line","value":"Use almond's special top-level, synchronous require to trigger factory","range":[107206,107278],"loc":{"start":{"line":3773,"column":4},"end":{"line":3773,"column":76}}},{"type":"Line","value":"functions, get the final module value, and export it as the public","range":[107283,107351],"loc":{"start":{"line":3774,"column":4},"end":{"line":3774,"column":72}}},{"type":"Line","value":"value.","range":[107356,107364],"loc":{"start":{"line":3775,"column":4},"end":{"line":3775,"column":12}}}]}]},"generator":false,"expression":false}]},"leadingComments":[{"type":"Line","value":" EVRYTHNG JS SDK v3.3.1","range":[0,25],"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":25}}},{"type":"Line","value":" (c) 2012-2015 EVRYTHNG Ltd. London / New York / San Francisco.","range":[26,91],"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":65}}},{"type":"Line","value":" Released under the Apache Software License, Version 2.0.","range":[92,151],"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":59}}},{"type":"Line","value":" For all details and usage:","range":[152,181],"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":29}}},{"type":"Line","value":" https://github.com/evrythng/evrythng.js","range":[182,224],"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":42}}}]}],"sourceType":"script","comments":[{"type":"Line","value":" EVRYTHNG JS SDK v3.3.1","range":[0,25],"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":25}}},{"type":"Line","value":" (c) 2012-2015 EVRYTHNG Ltd. London / New York / San Francisco.","range":[26,91],"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":65}}},{"type":"Line","value":" Released under the Apache Software License, Version 2.0.","range":[92,151],"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":59}}},{"type":"Line","value":" For all details and usage:","range":[152,181],"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":29}}},{"type":"Line","value":" https://github.com/evrythng/evrythng.js","range":[182,224],"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":42}}},{"type":"Block","value":"*\n * @license almond 0.3.1 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.\n * Available via the MIT or new BSD license.\n * see: http://github.com/jrburke/almond for details\n ","range":[355,551],"loc":{"start":{"line":12,"column":0},"end":{"line":16,"column":3}}},{"type":"Line","value":"Going sloppy to avoid 'use strict' string cost, but strict practices should","range":[552,629],"loc":{"start":{"line":17,"column":0},"end":{"line":17,"column":77}}},{"type":"Line","value":"be followed.","range":[630,644],"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":14}}},{"type":"Block","value":"jslint sloppy: true ","range":[645,669],"loc":{"start":{"line":19,"column":0},"end":{"line":19,"column":24}}},{"type":"Block","value":"global setTimeout: false ","range":[670,699],"loc":{"start":{"line":20,"column":0},"end":{"line":20,"column":29}}},{"type":"Block","value":"*\n     * Given a relative module name, like ./something, normalize it to\n     * a real name that can be mapped to a path.\n     * @param {String} name the relative name\n     * @param {String} baseName a real name that the name arg is relative\n     * to.\n     * @returns {String} normalized name\n     ","range":[1072,1375],"loc":{"start":{"line":37,"column":4},"end":{"line":44,"column":7}}},{"type":"Line","value":"Adjust any relative paths.","range":[1680,1708],"loc":{"start":{"line":52,"column":8},"end":{"line":52,"column":36}}},{"type":"Line","value":"If have a base name, try to normalize against it,","range":[1767,1818],"loc":{"start":{"line":54,"column":12},"end":{"line":54,"column":63}}},{"type":"Line","value":"otherwise, assume it is a top-level require that will","range":[1831,1886],"loc":{"start":{"line":55,"column":12},"end":{"line":55,"column":67}}},{"type":"Line","value":"be relative to baseUrl in the end.","range":[1899,1935],"loc":{"start":{"line":56,"column":12},"end":{"line":56,"column":48}}},{"type":"Line","value":" Node .js allowance:","range":[2066,2088],"loc":{"start":{"line":61,"column":16},"end":{"line":61,"column":38}}},{"type":"Line","value":"Lop off the last part of baseParts, so that . matches the","range":[2290,2349],"loc":{"start":{"line":66,"column":16},"end":{"line":66,"column":75}}},{"type":"Line","value":"\"directory\" and not name of the baseName's module. For instance,","range":[2366,2432],"loc":{"start":{"line":67,"column":16},"end":{"line":67,"column":82}}},{"type":"Line","value":"baseName of \"one/two/three\", maps to \"one/two/three.js\", but we","range":[2449,2514],"loc":{"start":{"line":68,"column":16},"end":{"line":68,"column":81}}},{"type":"Line","value":"want the directory, \"one/two\" for this normalization.","range":[2531,2586],"loc":{"start":{"line":69,"column":16},"end":{"line":69,"column":71}}},{"type":"Line","value":"start trimDots","range":[2682,2698],"loc":{"start":{"line":72,"column":16},"end":{"line":72,"column":32}}},{"type":"Line","value":"End of the line. Keep at least one non-dot","range":[3062,3106],"loc":{"start":{"line":80,"column":28},"end":{"line":80,"column":72}}},{"type":"Line","value":"path segment at the front so it can be mapped","range":[3135,3182],"loc":{"start":{"line":81,"column":28},"end":{"line":81,"column":75}}},{"type":"Line","value":"correctly to disk. Otherwise, there is likely","range":[3211,3258],"loc":{"start":{"line":82,"column":28},"end":{"line":82,"column":75}}},{"type":"Line","value":"no path mapping for a path starting with '..'.","range":[3287,3335],"loc":{"start":{"line":83,"column":28},"end":{"line":83,"column":76}}},{"type":"Line","value":"This can still fail, but catches the most reasonable","range":[3364,3418],"loc":{"start":{"line":84,"column":28},"end":{"line":84,"column":82}}},{"type":"Line","value":"uses of ..","range":[3447,3459],"loc":{"start":{"line":85,"column":28},"end":{"line":85,"column":40}}},{"type":"Line","value":"end trimDots","range":[3708,3722],"loc":{"start":{"line":93,"column":16},"end":{"line":93,"column":30}}},{"type":"Line","value":" No baseName, so this is ID is resolved relative","range":[3830,3880],"loc":{"start":{"line":97,"column":16},"end":{"line":97,"column":66}}},{"type":"Line","value":" to baseUrl, pull off the leading dot.","range":[3897,3937],"loc":{"start":{"line":98,"column":16},"end":{"line":98,"column":56}}},{"type":"Line","value":"Apply map config if available.","range":[4013,4045],"loc":{"start":{"line":103,"column":8},"end":{"line":103,"column":40}}},{"type":"Line","value":"Find the longest baseName segment match in the config.","range":[4306,4362],"loc":{"start":{"line":111,"column":20},"end":{"line":111,"column":76}}},{"type":"Line","value":"So, do joins on the biggest to smallest lengths of baseParts.","range":[4383,4446],"loc":{"start":{"line":112,"column":20},"end":{"line":112,"column":83}}},{"type":"Line","value":"baseName segment has  config, find if it has one for","range":[4609,4663],"loc":{"start":{"line":116,"column":24},"end":{"line":116,"column":78}}},{"type":"Line","value":"this name.","range":[4688,4700],"loc":{"start":{"line":117,"column":24},"end":{"line":117,"column":36}}},{"type":"Line","value":"Match, update name to the new value.","range":[4879,4917],"loc":{"start":{"line":121,"column":32},"end":{"line":121,"column":70}}},{"type":"Line","value":"Check for a star map match, but just hold on to it,","range":[5245,5298],"loc":{"start":{"line":134,"column":16},"end":{"line":134,"column":69}}},{"type":"Line","value":"if there is a shorter segment match later in a matching","range":[5315,5372],"loc":{"start":{"line":135,"column":16},"end":{"line":135,"column":73}}},{"type":"Line","value":"config, then favor over this star map.","range":[5389,5429],"loc":{"start":{"line":136,"column":16},"end":{"line":136,"column":56}}},{"type":"Line","value":"A version of a require function that passes a moduleName","range":[6024,6082],"loc":{"start":{"line":159,"column":12},"end":{"line":159,"column":70}}},{"type":"Line","value":"value for items that may need to","range":[6095,6129],"loc":{"start":{"line":160,"column":12},"end":{"line":160,"column":46}}},{"type":"Line","value":"look up paths relative to the moduleName","range":[6142,6184],"loc":{"start":{"line":161,"column":12},"end":{"line":161,"column":54}}},{"type":"Line","value":"If first arg is not require('string'), and there is only","range":[6245,6303],"loc":{"start":{"line":164,"column":12},"end":{"line":164,"column":70}}},{"type":"Line","value":"one arg, it is the array form without a callback. Insert","range":[6316,6374],"loc":{"start":{"line":165,"column":12},"end":{"line":165,"column":70}}},{"type":"Line","value":"a null so that the following concat is correct.","range":[6387,6436],"loc":{"start":{"line":166,"column":12},"end":{"line":166,"column":61}}},{"type":"Line","value":"Turns a plugin!resource to [plugin, resource]","range":[7282,7329],"loc":{"start":{"line":200,"column":4},"end":{"line":200,"column":51}}},{"type":"Line","value":"with the plugin being undefined if the name","range":[7334,7379],"loc":{"start":{"line":201,"column":4},"end":{"line":201,"column":49}}},{"type":"Line","value":"did not have a plugin prefix.","range":[7384,7415],"loc":{"start":{"line":202,"column":4},"end":{"line":202,"column":35}}},{"type":"Block","value":"*\n     * Makes a name map, normalizing the name, and using a plugin\n     * for normalization if necessary. Grabs a ref to plugin\n     * too, as an optimization.\n     ","range":[7704,7874],"loc":{"start":{"line":213,"column":4},"end":{"line":217,"column":7}}},{"type":"Line","value":"Normalize according","range":[8161,8182],"loc":{"start":{"line":230,"column":8},"end":{"line":230,"column":29}}},{"type":"Line","value":"Using ridiculous property names for space reasons","range":[8668,8719],"loc":{"start":{"line":247,"column":8},"end":{"line":247,"column":59}}},{"type":"Line","value":"fullName","range":[8789,8799],"loc":{"start":{"line":249,"column":52},"end":{"line":249,"column":62}}},{"type":"Line","value":"Use name if no relName","range":[9793,9817],"loc":{"start":{"line":290,"column":8},"end":{"line":290,"column":32}}},{"type":"Line","value":"Call the callback to define the module, if necessary.","range":[9862,9917],"loc":{"start":{"line":293,"column":8},"end":{"line":293,"column":63}}},{"type":"Line","value":"Pull out the defined dependencies and pass the ordered","range":[10005,10061],"loc":{"start":{"line":295,"column":12},"end":{"line":295,"column":68}}},{"type":"Line","value":"values to the callback.","range":[10074,10099],"loc":{"start":{"line":296,"column":12},"end":{"line":296,"column":37}}},{"type":"Line","value":"Default to [require, exports, module] if no deps","range":[10112,10162],"loc":{"start":{"line":297,"column":12},"end":{"line":297,"column":62}}},{"type":"Line","value":"Fast path CommonJS standard dependencies.","range":[10407,10450],"loc":{"start":{"line":303,"column":16},"end":{"line":303,"column":59}}},{"type":"Line","value":"CommonJS module spec 1.1","range":[10622,10648],"loc":{"start":{"line":307,"column":20},"end":{"line":307,"column":46}}},{"type":"Line","value":"CommonJS module spec 1.1","range":[10815,10841],"loc":{"start":{"line":311,"column":20},"end":{"line":311,"column":46}}},{"type":"Line","value":"If setting exports via \"module\" is in play,","range":[11542,11587],"loc":{"start":{"line":328,"column":16},"end":{"line":328,"column":61}}},{"type":"Line","value":"favor that over return value and exports. After that,","range":[11604,11659],"loc":{"start":{"line":329,"column":16},"end":{"line":329,"column":71}}},{"type":"Line","value":"favor a non-undefined return value over exports use.","range":[11676,11730],"loc":{"start":{"line":330,"column":16},"end":{"line":330,"column":70}}},{"type":"Line","value":"Use the return value from the function.","range":[11994,12035],"loc":{"start":{"line":335,"column":20},"end":{"line":335,"column":61}}},{"type":"Line","value":"May just be an object definition for the module. Only","range":[12148,12203],"loc":{"start":{"line":340,"column":12},"end":{"line":340,"column":67}}},{"type":"Line","value":"worry about defining if have a module name.","range":[12216,12261],"loc":{"start":{"line":341,"column":12},"end":{"line":341,"column":57}}},{"type":"Line","value":"callback in this case is really relName","range":[12493,12534],"loc":{"start":{"line":349,"column":16},"end":{"line":349,"column":57}}},{"type":"Line","value":"Just return the module wanted. In this scenario, the","range":[12610,12664],"loc":{"start":{"line":352,"column":12},"end":{"line":352,"column":66}}},{"type":"Line","value":"deps arg is the module name, and second arg (if passed)","range":[12677,12734],"loc":{"start":{"line":353,"column":12},"end":{"line":353,"column":69}}},{"type":"Line","value":"is just the relName.","range":[12747,12769],"loc":{"start":{"line":354,"column":12},"end":{"line":354,"column":34}}},{"type":"Line","value":"Normalize module name, if it contains . or ..","range":[12782,12829],"loc":{"start":{"line":355,"column":12},"end":{"line":355,"column":59}}},{"type":"Line","value":"deps is a config object, not an array.","range":[12932,12972],"loc":{"start":{"line":358,"column":12},"end":{"line":358,"column":52}}},{"type":"Line","value":"callback is an array, which means it is a dependency list.","range":[13215,13275],"loc":{"start":{"line":368,"column":16},"end":{"line":368,"column":76}}},{"type":"Line","value":"Adjust args if there are dependencies","range":[13292,13331],"loc":{"start":{"line":369,"column":16},"end":{"line":369,"column":55}}},{"type":"Line","value":"Support require(['a'])","range":[13517,13541],"loc":{"start":{"line":378,"column":8},"end":{"line":378,"column":32}}},{"type":"Line","value":"If relName is a function, it is an errback handler,","range":[13598,13651],"loc":{"start":{"line":381,"column":8},"end":{"line":381,"column":61}}},{"type":"Line","value":"so remove it.","range":[13660,13675],"loc":{"start":{"line":382,"column":8},"end":{"line":382,"column":23}}},{"type":"Line","value":"Simulate async callback;","range":[13802,13828],"loc":{"start":{"line":388,"column":8},"end":{"line":388,"column":34}}},{"type":"Line","value":"Using a non-zero value because of concern for what old browsers","range":[13933,13998],"loc":{"start":{"line":392,"column":12},"end":{"line":392,"column":77}}},{"type":"Line","value":"do, and latest browsers \"upgrade\" to 4 if lower value is used:","range":[14011,14075],"loc":{"start":{"line":393,"column":12},"end":{"line":393,"column":76}}},{"type":"Line","value":"http://www.whatwg.org/specs/web-apps/current-work/multipage/timers.html#dom-windowtimers-settimeout:","range":[14088,14190],"loc":{"start":{"line":394,"column":12},"end":{"line":394,"column":114}}},{"type":"Line","value":"If want a value immediately, use require('id') instead -- something","range":[14203,14272],"loc":{"start":{"line":395,"column":12},"end":{"line":395,"column":81}}},{"type":"Line","value":"that works in almond on the global level, but not guaranteed and","range":[14285,14351],"loc":{"start":{"line":396,"column":12},"end":{"line":396,"column":78}}},{"type":"Line","value":"unlikely to work in other AMD implementations.","range":[14364,14412],"loc":{"start":{"line":397,"column":12},"end":{"line":397,"column":60}}},{"type":"Block","value":"*\n     * Just drops the config on the floor, but returns req in case\n     * the config return value is used.\n     ","range":[14566,14684],"loc":{"start":{"line":406,"column":4},"end":{"line":409,"column":7}}},{"type":"Block","value":"*\n     * Expose module registry for debugging and tooling\n     ","range":[14756,14823],"loc":{"start":{"line":414,"column":4},"end":{"line":416,"column":7}}},{"type":"Line","value":"This module may not have dependencies","range":[15055,15094],"loc":{"start":{"line":424,"column":8},"end":{"line":424,"column":47}}},{"type":"Line","value":"deps is not an array, so probably means","range":[15135,15176],"loc":{"start":{"line":426,"column":12},"end":{"line":426,"column":53}}},{"type":"Line","value":"an object literal or factory function for","range":[15189,15232],"loc":{"start":{"line":427,"column":12},"end":{"line":427,"column":55}}},{"type":"Line","value":"the value. Adjust args.","range":[15245,15270],"loc":{"start":{"line":428,"column":12},"end":{"line":428,"column":37}}},{"type":"Block","value":"! Native Promise Only\n    v0.7.8-a (c) Kyle Simpson\n    MIT License: http://getify.mit-license.org\n","range":[15557,15660],"loc":{"start":{"line":445,"column":0},"end":{"line":448,"column":2}}},{"type":"Line","value":" special form of UMD for polyfilling across evironments","range":[15703,15760],"loc":{"start":{"line":451,"column":1},"end":{"line":451,"column":58}}},{"type":"Block","value":"jshint validthis:true ","range":[16094,16120],"loc":{"start":{"line":456,"column":1},"end":{"line":456,"column":27}}},{"type":"Line","value":" dammit, IE8.","range":[16341,16356],"loc":{"start":{"line":466,"column":1},"end":{"line":466,"column":16}}},{"type":"Line","value":" Note: using a queue instead of array for efficiency","range":[16702,16756],"loc":{"start":{"line":484,"column":1},"end":{"line":484,"column":55}}},{"type":"Line","value":" promise duck typing","range":[17407,17429],"loc":{"start":{"line":525,"column":1},"end":{"line":525,"column":23}}},{"type":"Line","value":" NOTE: This is a separate function to isolate","range":[17875,17922],"loc":{"start":{"line":550,"column":1},"end":{"line":550,"column":48}}},{"type":"Line","value":" the `try..catch` so that other code can be","range":[17924,17969],"loc":{"start":{"line":551,"column":1},"end":{"line":551,"column":46}}},{"type":"Line","value":" optimized better","range":[17971,17990],"loc":{"start":{"line":552,"column":1},"end":{"line":552,"column":20}}},{"type":"Line","value":" already triggered?","range":[18581,18602],"loc":{"start":{"line":586,"column":2},"end":{"line":586,"column":23}}},{"type":"Line","value":" unwrap","range":[18666,18675],"loc":{"start":{"line":591,"column":2},"end":{"line":591,"column":11}}},{"type":"Line","value":" already triggered?","range":[19229,19250],"loc":{"start":{"line":620,"column":2},"end":{"line":620,"column":23}}},{"type":"Line","value":" unwrap","range":[19314,19323],"loc":{"start":{"line":625,"column":2},"end":{"line":625,"column":11}}},{"type":"Line","value":" instance shadowing the inherited \"brand\"","range":[20151,20194],"loc":{"start":{"line":673,"column":2},"end":{"line":673,"column":45}}},{"type":"Line","value":" to signal an already \"initialized\" promise","range":[20197,20242],"loc":{"start":{"line":674,"column":2},"end":{"line":674,"column":47}}},{"type":"Line","value":" Note: `then(..)` itself can be borrowed to be used against","range":[20488,20549],"loc":{"start":{"line":684,"column":3},"end":{"line":684,"column":64}}},{"type":"Line","value":" a different promise constructor for making the chained promise,","range":[20553,20619],"loc":{"start":{"line":685,"column":3},"end":{"line":685,"column":69}}},{"type":"Line","value":" by substituting a different `this` binding.","range":[20623,20669],"loc":{"start":{"line":686,"column":3},"end":{"line":686,"column":49}}},{"type":"Block","value":"configurable=","range":[21410,21427],"loc":{"start":{"line":724,"column":2},"end":{"line":724,"column":19}}},{"type":"Line","value":" Note: Android 4 cannot use `Object.defineProperty(..)` here","range":[21439,21501],"loc":{"start":{"line":727,"column":1},"end":{"line":727,"column":63}}},{"type":"Line","value":" built-in \"brand\" to signal an \"uninitialized\" promise","range":[21543,21599],"loc":{"start":{"line":730,"column":1},"end":{"line":730,"column":57}}},{"type":"Block","value":"configurable=","range":[21645,21662],"loc":{"start":{"line":732,"column":2},"end":{"line":732,"column":19}}},{"type":"Line","value":" spec mandated checks","range":[21765,21788],"loc":{"start":{"line":738,"column":2},"end":{"line":738,"column":25}}},{"type":"Line","value":" note: best \"isPromise\" check that's practical for now","range":[21791,21847],"loc":{"start":{"line":739,"column":2},"end":{"line":739,"column":58}}},{"type":"Line","value":" spec mandated checks","range":[22473,22496],"loc":{"start":{"line":766,"column":2},"end":{"line":766,"column":25}}},{"type":"Line","value":" spec mandated checks","range":[23153,23176],"loc":{"start":{"line":793,"column":2},"end":{"line":793,"column":25}}},{"type":"Line","value":" ## UTILS.JS","range":[23591,23605],"loc":{"start":{"line":812,"column":0},"end":{"line":812,"column":14}}},{"type":"Line","value":" **The Utils module provide a set of utility methods used","range":[23607,23666],"loc":{"start":{"line":814,"column":0},"end":{"line":814,"column":59}}},{"type":"Line","value":" across the whole library. For that, it doesn't have any","range":[23667,23725],"loc":{"start":{"line":815,"column":0},"end":{"line":815,"column":58}}},{"type":"Line","value":" dependency.**","range":[23726,23742],"loc":{"start":{"line":816,"column":0},"end":{"line":816,"column":16}}},{"type":"Line","value":" Check if a reference is defined.","range":[23826,23861],"loc":{"start":{"line":823,"column":4},"end":{"line":823,"column":39}}},{"type":"Line","value":" Check if a variable is a function.","range":[23949,23986],"loc":{"start":{"line":828,"column":4},"end":{"line":828,"column":41}}},{"type":"Line","value":" Check if a variable is a string.","range":[24101,24136],"loc":{"start":{"line":833,"column":4},"end":{"line":833,"column":39}}},{"type":"Line","value":" Check if a variable is an array.","range":[24249,24284],"loc":{"start":{"line":838,"column":4},"end":{"line":838,"column":39}}},{"type":"Line","value":" Check if a variable is an Object (includes Object functions and","range":[24395,24461],"loc":{"start":{"line":843,"column":4},"end":{"line":843,"column":70}}},{"type":"Line","value":" plain objects)","range":[24466,24483],"loc":{"start":{"line":844,"column":4},"end":{"line":844,"column":21}}},{"type":"Line","value":" Simple and shallow extend method, used to extend an object's properties","range":[24582,24656],"loc":{"start":{"line":849,"column":4},"end":{"line":849,"column":78}}},{"type":"Line","value":" with another object's. The `override` parameter defines if the","range":[24661,24726],"loc":{"start":{"line":850,"column":4},"end":{"line":850,"column":69}}},{"type":"Line","value":" source object should be overriden or if this method should return a new","range":[24731,24805],"loc":{"start":{"line":851,"column":4},"end":{"line":851,"column":78}}},{"type":"Line","value":" object (it is *false by default*).","range":[24810,24847],"loc":{"start":{"line":852,"column":4},"end":{"line":852,"column":41}}},{"type":"Line","value":" Create extensible object.","range":[24916,24944],"loc":{"start":{"line":856,"column":6},"end":{"line":856,"column":34}}},{"type":"Line","value":" Create shallow copy of source.","range":[25011,25044],"loc":{"start":{"line":860,"column":8},"end":{"line":860,"column":41}}},{"type":"Line","value":" Copy properties.","range":[25203,25222],"loc":{"start":{"line":869,"column":6},"end":{"line":869,"column":25}}},{"type":"Line","value":" Build URL query string params out of a javascript object.","range":[25361,25421],"loc":{"start":{"line":879,"column":4},"end":{"line":879,"column":64}}},{"type":"Line","value":" Encode key and value components as they are appended to query string.","range":[25426,25498],"loc":{"start":{"line":880,"column":4},"end":{"line":880,"column":76}}},{"type":"Line","value":" Build string from the array.","range":[26008,26039],"loc":{"start":{"line":894,"column":8},"end":{"line":894,"column":39}}},{"type":"Line","value":" Build full URL from a base url and params, if there are any.","range":[26135,26198],"loc":{"start":{"line":902,"column":4},"end":{"line":902,"column":67}}},{"type":"Line","value":" Get current position using HTML5 Geolocation and resolve promise","range":[26455,26522],"loc":{"start":{"line":913,"column":4},"end":{"line":913,"column":71}}},{"type":"Line","value":" once it has returned.","range":[26527,26551],"loc":{"start":{"line":914,"column":4},"end":{"line":914,"column":28}}},{"type":"Line","value":" Have default options, but allow to extend with custom.","range":[26679,26736],"loc":{"start":{"line":918,"column":8},"end":{"line":918,"column":65}}},{"type":"Line","value":" Escape special characters from a string (with \"\\\").","range":[27797,27851],"loc":{"start":{"line":956,"column":4},"end":{"line":956,"column":58}}},{"type":"Line","value":" Specials to be escaped by default.","range":[27897,27934],"loc":{"start":{"line":959,"column":6},"end":{"line":959,"column":43}}},{"type":"Line","value":" ## CORE.JS","range":[28226,28239],"loc":{"start":{"line":975,"column":0},"end":{"line":975,"column":13}}},{"type":"Line","value":" **The Core module specifies the core EVT module and the client","range":[28241,28306],"loc":{"start":{"line":977,"column":0},"end":{"line":977,"column":65}}},{"type":"Line","value":" default settings. The library is built by adding functionality or","range":[28307,28375],"loc":{"start":{"line":978,"column":0},"end":{"line":978,"column":68}}},{"type":"Line","value":" sub-modules to EVT.**","range":[28376,28400],"loc":{"start":{"line":979,"column":0},"end":{"line":979,"column":24}}},{"type":"Line","value":" Version is updated from package.json using `grunt-version` on build.","range":[28469,28540],"loc":{"start":{"line":986,"column":2},"end":{"line":986,"column":73}}},{"type":"Line","value":" Setup default settings:","range":[28570,28596],"loc":{"start":{"line":990,"column":2},"end":{"line":990,"column":28}}},{"type":"Line","value":" - _**apiUrl**: String - change the default API host_","range":[28600,28655],"loc":{"start":{"line":992,"column":2},"end":{"line":992,"column":57}}},{"type":"Line","value":" - _**fullResponse**: Boolean - by default the response of every call if the JSON","range":[28658,28741],"loc":{"start":{"line":993,"column":2},"end":{"line":993,"column":85}}},{"type":"Line","value":" body. However if you need to access the 'status' or 'responseHeaders' in responses","range":[28744,28829],"loc":{"start":{"line":994,"column":2},"end":{"line":994,"column":87}}},{"type":"Line","value":" set this to 'true'. The full response has the structure:_","range":[28832,28892],"loc":{"start":{"line":995,"column":2},"end":{"line":995,"column":62}}},{"type":"Line","value":" ```","range":[28896,28902],"loc":{"start":{"line":997,"column":2},"end":{"line":997,"column":8}}},{"type":"Line","value":"  {","range":[28905,28910],"loc":{"start":{"line":998,"column":2},"end":{"line":998,"column":7}}},{"type":"Line","value":"    data: <JSON data>,","range":[28913,28937],"loc":{"start":{"line":999,"column":2},"end":{"line":999,"column":26}}},{"type":"Line","value":"    headers: <response headers map>","range":[28940,28977],"loc":{"start":{"line":1000,"column":2},"end":{"line":1000,"column":39}}},{"type":"Line","value":"    status: <HTTP status code>","range":[28980,29012],"loc":{"start":{"line":1001,"column":2},"end":{"line":1001,"column":34}}},{"type":"Line","value":"  }","range":[29015,29020],"loc":{"start":{"line":1002,"column":2},"end":{"line":1002,"column":7}}},{"type":"Line","value":" ```","range":[29023,29029],"loc":{"start":{"line":1003,"column":2},"end":{"line":1003,"column":8}}},{"type":"Line","value":" - _**timeout**: Integer - set the request timeout, in ms_","range":[29033,29093],"loc":{"start":{"line":1005,"column":2},"end":{"line":1005,"column":62}}},{"type":"Line","value":" - _**quiet**: Boolean - set to true if you don't want EVT.js to write anything to the console_","range":[29096,29193],"loc":{"start":{"line":1006,"column":2},"end":{"line":1006,"column":99}}},{"type":"Line","value":" - _**geolocation**: Boolean - set to true to ask for Geolocation when needed_","range":[29196,29276],"loc":{"start":{"line":1007,"column":2},"end":{"line":1007,"column":82}}},{"type":"Line","value":" - _**fetchCascade**: Boolean - set to true to automagically fetch nested entities","range":[29279,29363],"loc":{"start":{"line":1008,"column":2},"end":{"line":1008,"column":86}}},{"type":"Line","value":" (e.g. thng.product is an EVT.Entity.Product instead of string id)_","range":[29366,29435],"loc":{"start":{"line":1009,"column":2},"end":{"line":1009,"column":71}}},{"type":"Line","value":" - _**interceptors**: Array - each interceptor implements 'request' and/or 'response' functions","range":[29438,29535],"loc":{"start":{"line":1010,"column":2},"end":{"line":1010,"column":99}}},{"type":"Line","value":" that run before or after each HTTP call:_","range":[29538,29582],"loc":{"start":{"line":1011,"column":2},"end":{"line":1011,"column":46}}},{"type":"Line","value":" ```","range":[29586,29592],"loc":{"start":{"line":1013,"column":2},"end":{"line":1013,"column":8}}},{"type":"Line","value":"  var myInterceptor = {","range":[29595,29620],"loc":{"start":{"line":1014,"column":2},"end":{"line":1014,"column":27}}},{"type":"Line","value":"    request: function(options){","range":[29623,29656],"loc":{"start":{"line":1015,"column":2},"end":{"line":1015,"column":35}}},{"type":"Line","value":"      // do anything with options.data, options.headers, start spinner, etc.","range":[29659,29737],"loc":{"start":{"line":1016,"column":2},"end":{"line":1016,"column":80}}},{"type":"Line","value":"      return options;","range":[29740,29763],"loc":{"start":{"line":1017,"column":2},"end":{"line":1017,"column":25}}},{"type":"Line","value":"    },","range":[29766,29774],"loc":{"start":{"line":1018,"column":2},"end":{"line":1018,"column":10}}},{"type":"Line","value":"    response: function(result){","range":[29777,29810],"loc":{"start":{"line":1019,"column":2},"end":{"line":1019,"column":35}}},{"type":"Line","value":"      // do anything with result, stop spinner, etc. (can return promise)","range":[29813,29888],"loc":{"start":{"line":1020,"column":2},"end":{"line":1020,"column":77}}},{"type":"Line","value":"      return result;","range":[29891,29913],"loc":{"start":{"line":1021,"column":2},"end":{"line":1021,"column":24}}},{"type":"Line","value":"    }","range":[29916,29923],"loc":{"start":{"line":1022,"column":2},"end":{"line":1022,"column":9}}},{"type":"Line","value":"  }","range":[29926,29931],"loc":{"start":{"line":1023,"column":2},"end":{"line":1023,"column":7}}},{"type":"Line","value":" ```","range":[29934,29940],"loc":{"start":{"line":1024,"column":2},"end":{"line":1024,"column":8}}},{"type":"Block","value":"fetchCascade: false","range":[30098,30121],"loc":{"start":{"line":1031,"column":4},"end":{"line":1031,"column":27}}},{"type":"Line","value":" Module definition and raw API.","range":[30131,30164],"loc":{"start":{"line":1035,"column":2},"end":{"line":1035,"column":35}}},{"type":"Line","value":" Setup method allows the developer to change overall settings for every","range":[30255,30328],"loc":{"start":{"line":1043,"column":4},"end":{"line":1043,"column":77}}},{"type":"Line","value":" subsequent request. However, these can be overridden for each request as well.","range":[30333,30414],"loc":{"start":{"line":1044,"column":4},"end":{"line":1044,"column":85}}},{"type":"Line","value":" Setup merges current settings with the new custom ones.","range":[30419,30477],"loc":{"start":{"line":1045,"column":4},"end":{"line":1045,"column":62}}},{"type":"Line","value":" Use the passed plugin features by requiring its dependencies and installing it.","range":[30769,30851],"loc":{"start":{"line":1056,"column":4},"end":{"line":1056,"column":86}}},{"type":"Line","value":" Inject plugin dependencies as requested, using the synchronous","range":[31001,31066],"loc":{"start":{"line":1061,"column":8},"end":{"line":1061,"column":73}}},{"type":"Line","value":" require API for Require.js and Almond.js.","range":[31075,31119],"loc":{"start":{"line":1062,"column":8},"end":{"line":1062,"column":52}}},{"type":"Line","value":" ## SCOPE.JS","range":[31485,31499],"loc":{"start":{"line":1082,"column":0},"end":{"line":1082,"column":14}}},{"type":"Line","value":" **Scope defines the context in which API calls are made.","range":[31501,31560],"loc":{"start":{"line":1084,"column":0},"end":{"line":1084,"column":59}}},{"type":"Line","value":" Thus, it stores its defining API Key. Scopes send their","range":[31561,31619],"loc":{"start":{"line":1085,"column":0},"end":{"line":1085,"column":58}}},{"type":"Line","value":" respective `API Key` in their request's `Authorization` header.**","range":[31620,31688],"loc":{"start":{"line":1086,"column":0},"end":{"line":1086,"column":68}}},{"type":"Line","value":" *For example, reads on products using ApplicationScope or","range":[31690,31750],"loc":{"start":{"line":1088,"column":0},"end":{"line":1088,"column":60}}},{"type":"Line","value":" EVT.App only return the products created for that specific","range":[31751,31812],"loc":{"start":{"line":1089,"column":0},"end":{"line":1089,"column":61}}},{"type":"Line","value":" application/scope.*","range":[31813,31835],"loc":{"start":{"line":1090,"column":0},"end":{"line":1090,"column":22}}},{"type":"Line","value":" Scope super class constructor:","range":[31911,31944],"loc":{"start":{"line":1097,"column":2},"end":{"line":1097,"column":35}}},{"type":"Line","value":" - _**new Scope(apiKey)** - API Key string_","range":[31948,31993],"loc":{"start":{"line":1099,"column":2},"end":{"line":1099,"column":47}}},{"type":"Line","value":" Default parent scope does not have parent.","range":[32031,32076],"loc":{"start":{"line":1102,"column":4},"end":{"line":1102,"column":49}}},{"type":"Line","value":" Setup apiKey of the current Scope if it is a String.","range":[32111,32166],"loc":{"start":{"line":1105,"column":4},"end":{"line":1105,"column":59}}},{"type":"Line","value":" Return Scope factory function","range":[32331,32363],"loc":{"start":{"line":1113,"column":2},"end":{"line":1113,"column":34}}},{"type":"Line","value":" ## LOGGER.JS","range":[32386,32401],"loc":{"start":{"line":1118,"column":0},"end":{"line":1118,"column":15}}},{"type":"Line","value":" **The Logger module is simple wrapper for console log","range":[32403,32459],"loc":{"start":{"line":1120,"column":0},"end":{"line":1120,"column":56}}},{"type":"Line","value":" that prefixes EvrythngJS's logs with a custom header.**","range":[32460,32518],"loc":{"start":{"line":1121,"column":0},"end":{"line":1121,"column":58}}},{"type":"Line","value":" ## REQUEST.JS","range":[32900,32916],"loc":{"start":{"line":1148,"column":0},"end":{"line":1148,"column":16}}},{"type":"Line","value":" Helper method used to build the returned response. It wraps the 'status' and 'headers' in an object in","range":[33039,33144],"loc":{"start":{"line":1157,"column":2},"end":{"line":1157,"column":107}}},{"type":"Line","value":" case the flag `fullResponse` is enabled as a global in `EVT.settings` or in this particular request.","range":[33147,33250],"loc":{"start":{"line":1158,"column":2},"end":{"line":1158,"column":105}}},{"type":"Line","value":" *200 OK* responses without data, return *null*.","range":[33253,33303],"loc":{"start":{"line":1159,"column":2},"end":{"line":1159,"column":52}}},{"type":"Line","value":" try to parse the response if looks like json","range":[33507,33554],"loc":{"start":{"line":1166,"column":8},"end":{"line":1166,"column":55}}},{"type":"Line","value":" If any errors received, pull them to top level","range":[33789,33838],"loc":{"start":{"line":1180,"column":6},"end":{"line":1180,"column":55}}},{"type":"Line","value":" Helper method that builds a custom Error object providing some extra","range":[34018,34089],"loc":{"start":{"line":1190,"column":2},"end":{"line":1190,"column":73}}},{"type":"Line","value":" information on a request error.","range":[34092,34126],"loc":{"start":{"line":1191,"column":2},"end":{"line":1191,"column":36}}},{"type":"Line","value":" Evrythng's API return an array of errors in the response. Add them","range":[34369,34438],"loc":{"start":{"line":1201,"column":4},"end":{"line":1201,"column":73}}},{"type":"Line","value":" if available.","range":[34443,34459],"loc":{"start":{"line":1202,"column":4},"end":{"line":1202,"column":20}}},{"type":"Line","value":" Set timeout.","range":[34960,34975],"loc":{"start":{"line":1226,"column":4},"end":{"line":1226,"column":19}}},{"type":"Line","value":" Request failed","range":[35221,35238],"loc":{"start":{"line":1236,"column":12},"end":{"line":1236,"column":29}}},{"type":"Line","value":" Request successful","range":[35297,35318],"loc":{"start":{"line":1239,"column":12},"end":{"line":1239,"column":33}}},{"type":"Line","value":" Valid response","range":[35480,35497],"loc":{"start":{"line":1243,"column":14},"end":{"line":1243,"column":31}}},{"type":"Line","value":" API error - forward it","range":[35655,35680],"loc":{"start":{"line":1250,"column":14},"end":{"line":1250,"column":39}}},{"type":"Line","value":" ## HTTP.JS","range":[35996,36009],"loc":{"start":{"line":1269,"column":0},"end":{"line":1269,"column":13}}},{"type":"Line","value":" **The request module attaches the Node.js api() method to the EVT module.","range":[36011,36087],"loc":{"start":{"line":1271,"column":0},"end":{"line":1271,"column":76}}},{"type":"Line","value":" It controls the raw request to the API, using the \"request\" node module.**","range":[36088,36165],"loc":{"start":{"line":1272,"column":0},"end":{"line":1272,"column":77}}},{"type":"Block","value":"TODO refactor. same as ajax.js module","range":[36301,36342],"loc":{"start":{"line":1282,"column":2},"end":{"line":1282,"column":43}}},{"type":"Line","value":" EVT.api() returns a **Promise**. Nevertheless,","range":[36346,36395],"loc":{"start":{"line":1284,"column":2},"end":{"line":1284,"column":51}}},{"type":"Line","value":" it still allows the old-styled callback API as follows:","range":[36398,36456],"loc":{"start":{"line":1285,"column":2},"end":{"line":1285,"column":60}}},{"type":"Line","value":" - _**EVT.api(options)** - options object can contain `success` or `error`","range":[36460,36536],"loc":{"start":{"line":1287,"column":2},"end":{"line":1287,"column":78}}},{"type":"Line","value":" properties to define success and error callbacks_","range":[36539,36591],"loc":{"start":{"line":1288,"column":2},"end":{"line":1288,"column":54}}},{"type":"Line","value":" - _**EVT.api(options, successCb, errorCb)**_","range":[36594,36641],"loc":{"start":{"line":1289,"column":2},"end":{"line":1289,"column":49}}},{"type":"Line","value":" Options available are:","range":[36645,36670],"loc":{"start":{"line":1291,"column":2},"end":{"line":1291,"column":27}}},{"type":"Line","value":" ```","range":[36674,36680],"loc":{"start":{"line":1293,"column":2},"end":{"line":1293,"column":8}}},{"type":"Line","value":" fullResponse - override fullResponse global setting (see module `core`)","range":[36683,36757],"loc":{"start":{"line":1294,"column":2},"end":{"line":1294,"column":76}}},{"type":"Line","value":" apiUrl - override default `EVT.settings.apiUrl`","range":[36760,36810],"loc":{"start":{"line":1295,"column":2},"end":{"line":1295,"column":52}}},{"type":"Line","value":" url - URL of the request, relative to `EVT.settings.apiUrl`","range":[36813,36875],"loc":{"start":{"line":1296,"column":2},"end":{"line":1296,"column":64}}},{"type":"Line","value":" method - HTTP method, default: `GET`","range":[36878,36917],"loc":{"start":{"line":1297,"column":2},"end":{"line":1297,"column":41}}},{"type":"Line","value":" authorization - Authorization header content, should contain API Key","range":[36920,36991],"loc":{"start":{"line":1298,"column":2},"end":{"line":1298,"column":73}}},{"type":"Line","value":" success - success handler function","range":[36994,37031],"loc":{"start":{"line":1299,"column":2},"end":{"line":1299,"column":39}}},{"type":"Line","value":" error - error handler function","range":[37034,37067],"loc":{"start":{"line":1300,"column":2},"end":{"line":1300,"column":35}}},{"type":"Line","value":" interceptors - override interceptors pipeline. If you want to extend, use:","range":[37070,37147],"loc":{"start":{"line":1301,"column":2},"end":{"line":1301,"column":79}}},{"type":"Line","value":"    interceptors: EVT.settings.interceptors.concat([{...}])","range":[37150,37211],"loc":{"start":{"line":1302,"column":2},"end":{"line":1302,"column":63}}},{"type":"Line","value":" ```","range":[37214,37220],"loc":{"start":{"line":1303,"column":2},"end":{"line":1303,"column":8}}},{"type":"Line","value":" Merge options with defaults setup in `EVT.settings`.","range":[37285,37340],"loc":{"start":{"line":1306,"column":4},"end":{"line":1306,"column":59}}},{"type":"Line","value":" Merge nested headers object. Allow users to use both `options.authorization`","range":[37656,37735],"loc":{"start":{"line":1316,"column":4},"end":{"line":1316,"column":83}}},{"type":"Line","value":" and `options.headers.authorization`.","range":[37740,37779],"loc":{"start":{"line":1317,"column":4},"end":{"line":1317,"column":43}}},{"type":"Line","value":" Setup callbacks giving priority to parameters.","range":[37967,38016],"loc":{"start":{"line":1324,"column":4},"end":{"line":1324,"column":53}}},{"type":"Line","value":" Cancel request, simply adds the flag to be processed afterwards.","range":[38427,38494],"loc":{"start":{"line":1339,"column":4},"end":{"line":1339,"column":71}}},{"type":"Line","value":" Apply request interceptors","range":[38554,38583],"loc":{"start":{"line":1344,"column":4},"end":{"line":1344,"column":33}}},{"type":"Line","value":" Chain data manipulators","range":[38806,38832],"loc":{"start":{"line":1349,"column":10},"end":{"line":1349,"column":36}}},{"type":"Line","value":" If interceptor does not return options, use old ones","range":[38923,38978],"loc":{"start":{"line":1352,"column":10},"end":{"line":1352,"column":65}}},{"type":"Line","value":" Reject request if it has been cancelled by request interceptors.","range":[39075,39142],"loc":{"start":{"line":1359,"column":4},"end":{"line":1359,"column":71}}},{"type":"Line","value":" Returns a promise","range":[39301,39321],"loc":{"start":{"line":1367,"column":4},"end":{"line":1367,"column":24}}},{"type":"Line","value":" Apply response interceptors","range":[39501,39531],"loc":{"start":{"line":1374,"column":4},"end":{"line":1374,"column":34}}},{"type":"Line","value":" Chain promises","range":[39742,39759],"loc":{"start":{"line":1379,"column":10},"end":{"line":1379,"column":27}}},{"type":"Line","value":" Attach ajax method to the EVT module.","range":[39874,39914],"loc":{"start":{"line":1389,"column":2},"end":{"line":1389,"column":42}}},{"type":"Line","value":" ## RESOURCE.JS","range":[39954,39971],"loc":{"start":{"line":1396,"column":0},"end":{"line":1396,"column":17}}},{"type":"Line","value":" **The private Resource module setups up the base resource CRUD methods.","range":[39973,40047],"loc":{"start":{"line":1398,"column":0},"end":{"line":1398,"column":74}}},{"type":"Line","value":" All requests made on a resource are scoped, meaning they will send the","range":[40048,40121],"loc":{"start":{"line":1399,"column":0},"end":{"line":1399,"column":73}}},{"type":"Line","value":" resouce's owner scope's API Key.**","range":[40122,40159],"loc":{"start":{"line":1400,"column":0},"end":{"line":1400,"column":37}}},{"type":"Line","value":" **Another important feature is that if the resource has a class/entity, which","range":[40161,40241],"loc":{"start":{"line":1402,"column":0},"end":{"line":1402,"column":80}}},{"type":"Line","value":" it allows to serialize and deserialize requests and responses. Also, with the","range":[40242,40322],"loc":{"start":{"line":1403,"column":0},"end":{"line":1403,"column":80}}},{"type":"Line","value":" `fetchCascade` option enabled, an entity knows how to automatically fetch nested","range":[40323,40406],"loc":{"start":{"line":1404,"column":0},"end":{"line":1404,"column":83}}},{"type":"Line","value":" entities.**","range":[40407,40421],"loc":{"start":{"line":1405,"column":0},"end":{"line":1405,"column":14}}},{"type":"Line","value":" *For example, the result of a .read() can be a Thng entity, that has specific","range":[40423,40503],"loc":{"start":{"line":1407,"column":0},"end":{"line":1407,"column":80}}},{"type":"Line","value":" methods to update itself, get the corresponding product or manage properties.*","range":[40504,40585],"loc":{"start":{"line":1408,"column":0},"end":{"line":1408,"column":81}}},{"type":"Line","value":" Resource constructor. As this is a private module, all resource constructors","range":[40752,40831],"loc":{"start":{"line":1420,"column":2},"end":{"line":1420,"column":81}}},{"type":"Line","value":" are called within scopes. It accepts:","range":[40834,40874],"loc":{"start":{"line":1421,"column":2},"end":{"line":1421,"column":42}}},{"type":"Line","value":" - _**scope**: scope that owns this resource (`EVT.App`, `EVT.User`)_","range":[40878,40949],"loc":{"start":{"line":1423,"column":2},"end":{"line":1423,"column":73}}},{"type":"Line","value":" - _**path**: relative path to `EVT.settings.apiUrl` of this resource.","range":[40952,41024],"loc":{"start":{"line":1424,"column":2},"end":{"line":1424,"column":74}}},{"type":"Line","value":" It can represent a list or a single object (e.g. '/thngs', '/thngs/1')_","range":[41027,41101],"loc":{"start":{"line":1425,"column":2},"end":{"line":1425,"column":76}}},{"type":"Line","value":" - _**classFn**: class of the current resource, used to serialize/deserialize","range":[41104,41183],"loc":{"start":{"line":1426,"column":2},"end":{"line":1426,"column":81}}},{"type":"Line","value":" requests/responses. If the response does not need special treatment and the","range":[41186,41264],"loc":{"start":{"line":1427,"column":2},"end":{"line":1427,"column":80}}},{"type":"Line","value":" JSON representation is enough, the classFn can be omitted._","range":[41267,41329],"loc":{"start":{"line":1428,"column":2},"end":{"line":1428,"column":64}}},{"type":"Line","value":" Setup scope for each of the subsequent calls.","range":[41386,41434],"loc":{"start":{"line":1431,"column":4},"end":{"line":1431,"column":52}}},{"type":"Line","value":" Setup path and allow to omit leading '/'.","range":[41606,41650],"loc":{"start":{"line":1438,"column":4},"end":{"line":1438,"column":48}}},{"type":"Line","value":" Setup class for serializing and deserializing results. It must implement","range":[41860,41935],"loc":{"start":{"line":1450,"column":4},"end":{"line":1450,"column":79}}},{"type":"Line","value":" a *toJSON()* method. This method is in the Entity prototype. Since all of our","range":[41940,42020],"loc":{"start":{"line":1451,"column":4},"end":{"line":1451,"column":84}}},{"type":"Line","value":" entities inherit from Entity, by default all of them will have this.","range":[42025,42096],"loc":{"start":{"line":1452,"column":4},"end":{"line":1452,"column":75}}},{"type":"Line","value":" Helper method to prepare and handle a request giving the parameters passed to","range":[42503,42583],"loc":{"start":{"line":1469,"column":2},"end":{"line":1469,"column":82}}},{"type":"Line","value":" any of the resource methods. Allow to have callbacks as separate parameters or","range":[42586,42667],"loc":{"start":{"line":1470,"column":2},"end":{"line":1470,"column":83}}},{"type":"Line","value":" included in the options object, providing exactly the same interface as `EVT.api()`.","range":[42670,42757],"loc":{"start":{"line":1471,"column":2},"end":{"line":1471,"column":89}}},{"type":"Line","value":" This verification allows not to pass any options, and have callbacks in","range":[42929,43003],"loc":{"start":{"line":1477,"column":4},"end":{"line":1477,"column":78}}},{"type":"Line","value":" its place. It also allows passing *null* if there is no success callback.","range":[43008,43084],"loc":{"start":{"line":1478,"column":4},"end":{"line":1478,"column":80}}},{"type":"Line","value":" If options is an object, merge it with the request options. Callbacks","range":[43269,43341],"loc":{"start":{"line":1486,"column":6},"end":{"line":1486,"column":78}}},{"type":"Line","value":" can be included in this object or as separate parameters (same as","range":[43348,43416],"loc":{"start":{"line":1487,"column":6},"end":{"line":1487,"column":74}}},{"type":"Line","value":" `EVT.api()`).","range":[43423,43439],"loc":{"start":{"line":1488,"column":6},"end":{"line":1488,"column":22}}},{"type":"Line","value":" Use current scope's API key to perform the request.","range":[43518,43572],"loc":{"start":{"line":1493,"column":4},"end":{"line":1493,"column":58}}},{"type":"Line","value":" If parentScope is set to operator scope, use the operator API key.","range":[43632,43701],"loc":{"start":{"line":1496,"column":4},"end":{"line":1496,"column":73}}},{"type":"Line","value":" If we're working in application scope as an operator,","range":[43851,43907],"loc":{"start":{"line":1500,"column":6},"end":{"line":1500,"column":62}}},{"type":"Line","value":" we need to send the application id as a parameter.","range":[43914,43967],"loc":{"start":{"line":1501,"column":6},"end":{"line":1501,"column":59}}},{"type":"Line","value":" Actually make the request and handle its response, by forwarding to","range":[44151,44221],"loc":{"start":{"line":1508,"column":4},"end":{"line":1508,"column":74}}},{"type":"Line","value":" the raw `EVT.api()` method.","range":[44226,44256],"loc":{"start":{"line":1509,"column":4},"end":{"line":1509,"column":34}}},{"type":"Line","value":" Handle asynchronous requests based on the custom or default options.","range":[44372,44443],"loc":{"start":{"line":1515,"column":2},"end":{"line":1515,"column":73}}},{"type":"Line","value":" Before returning the response, parse it.","range":[44509,44552],"loc":{"start":{"line":1519,"column":4},"end":{"line":1519,"column":47}}},{"type":"Line","value":" This success handler is called inside the Promise, so we need to","range":[44557,44624],"loc":{"start":{"line":1520,"column":4},"end":{"line":1520,"column":71}}},{"type":"Line","value":" keep the current context.","range":[44629,44657],"loc":{"start":{"line":1521,"column":4},"end":{"line":1521,"column":32}}},{"type":"Line","value":" Also, By not providing an error interceptor, we will let the error","range":[44663,44732],"loc":{"start":{"line":1523,"column":4},"end":{"line":1523,"column":73}}},{"type":"Line","value":" propagate from `EVT.api()` to the `resource.read()` promise error","range":[44737,44805],"loc":{"start":{"line":1524,"column":4},"end":{"line":1524,"column":72}}},{"type":"Line","value":" handler","range":[44810,44820],"loc":{"start":{"line":1525,"column":4},"end":{"line":1525,"column":14}}},{"type":"Line","value":" ### Resource API","range":[44919,44938],"loc":{"start":{"line":1532,"column":2},"end":{"line":1532,"column":21}}},{"type":"Line","value":" Any resource create in a scope will inherit these methods. However, it","range":[44942,45015],"loc":{"start":{"line":1534,"column":2},"end":{"line":1534,"column":75}}},{"type":"Line","value":" is possible to add custom methods to a resource in a custom Entity","range":[45018,45087],"loc":{"start":{"line":1535,"column":2},"end":{"line":1535,"column":71}}},{"type":"Line","value":" *resourceConstructor* (e.g. refer to the [`entity/user` doc](entity/user.html),","range":[45090,45172],"loc":{"start":{"line":1536,"column":2},"end":{"line":1536,"column":84}}},{"type":"Line","value":" where a *.validate()* method is added to every User resource).","range":[45175,45240],"loc":{"start":{"line":1537,"column":2},"end":{"line":1537,"column":67}}},{"type":"Line","value":" **Remember that all CRUD methods forward to `EVT.api()` which returns a Promise.**","range":[45244,45329],"loc":{"start":{"line":1539,"column":2},"end":{"line":1539,"column":87}}},{"type":"Line","value":" #### Parse","range":[45333,45346],"loc":{"start":{"line":1541,"column":2},"end":{"line":1541,"column":15}}},{"type":"Line","value":" Parse a given response into an instance of this resource's","range":[45350,45411],"loc":{"start":{"line":1543,"column":2},"end":{"line":1543,"column":63}}},{"type":"Line","value":" class/entity, if possible. An entity always keeps a reference to its","range":[45414,45485],"loc":{"start":{"line":1544,"column":2},"end":{"line":1544,"column":73}}},{"type":"Line","value":" mother resource, in order to alias methods (e.g. the *entity.update()*","range":[45488,45561],"loc":{"start":{"line":1545,"column":2},"end":{"line":1545,"column":75}}},{"type":"Line","value":" method calls the mother *resource.update(entity.toJSON())* ).","range":[45564,45628],"loc":{"start":{"line":1546,"column":2},"end":{"line":1546,"column":66}}},{"type":"Line","value":" We expect the response to be one of these:","range":[45631,45676],"loc":{"start":{"line":1547,"column":2},"end":{"line":1547,"column":47}}},{"type":"Line","value":" * an object containing results (array of or single object) in \"data\",","range":[45679,45751],"loc":{"start":{"line":1548,"column":2},"end":{"line":1548,"column":74}}},{"type":"Line","value":" * an array of results","range":[45754,45778],"loc":{"start":{"line":1549,"column":2},"end":{"line":1549,"column":26}}},{"type":"Line","value":" * a single result object","range":[45781,45808],"loc":{"start":{"line":1550,"column":2},"end":{"line":1550,"column":29}}},{"type":"Line","value":" Response is array of results, parse to an array of entities.","range":[46004,46067],"loc":{"start":{"line":1560,"column":8},"end":{"line":1560,"column":71}}},{"type":"Line","value":" Full response - it is an object and includes \"data\", parse just the data.","range":[46657,46733],"loc":{"start":{"line":1580,"column":10},"end":{"line":1580,"column":86}}},{"type":"Line","value":" If response contains results count header, add a shortcut to it","range":[46852,46918],"loc":{"start":{"line":1585,"column":10},"end":{"line":1585,"column":76}}},{"type":"Line","value":" Response is a single result, parse to single entity.","range":[47162,47217],"loc":{"start":{"line":1591,"column":10},"end":{"line":1591,"column":65}}},{"type":"Line","value":" Response is most likely a string, just forward it","range":[47313,47365],"loc":{"start":{"line":1595,"column":8},"end":{"line":1595,"column":60}}},{"type":"Line","value":" We don't have enough information to parse the response, so just forward it.","range":[47429,47507],"loc":{"start":{"line":1600,"column":6},"end":{"line":1600,"column":84}}},{"type":"Line","value":" #### Jsonify","range":[47583,47598],"loc":{"start":{"line":1607,"column":2},"end":{"line":1607,"column":17}}},{"type":"Line","value":" The opposite of parse. It takes an entity and returns only the JSON","range":[47602,47672],"loc":{"start":{"line":1609,"column":2},"end":{"line":1609,"column":72}}},{"type":"Line","value":" part of it, used to make the calls to the REST API. If the passed object","range":[47675,47750],"loc":{"start":{"line":1610,"column":2},"end":{"line":1610,"column":77}}},{"type":"Line","value":" is a plain object, do nothing.","range":[47753,47786],"loc":{"start":{"line":1611,"column":2},"end":{"line":1611,"column":35}}},{"type":"Line","value":" #### Create","range":[48007,48021],"loc":{"start":{"line":1623,"column":2},"end":{"line":1623,"column":16}}},{"type":"Line","value":" Create sends a `POST` request to the REST API with the provided object data.","range":[48025,48104],"loc":{"start":{"line":1625,"column":2},"end":{"line":1625,"column":81}}},{"type":"Line","value":" It always returns an entity or JSON object on success. It accepts the","range":[48107,48179],"loc":{"start":{"line":1626,"column":2},"end":{"line":1626,"column":74}}},{"type":"Line","value":" following parameters:","range":[48182,48206],"loc":{"start":{"line":1627,"column":2},"end":{"line":1627,"column":26}}},{"type":"Line","value":" - _**create(data)**: just send data (entity or plain JSON), no options,","range":[48210,48284],"loc":{"start":{"line":1629,"column":2},"end":{"line":1629,"column":76}}},{"type":"Line","value":" no callbacks_","range":[48287,48303],"loc":{"start":{"line":1630,"column":2},"end":{"line":1630,"column":18}}},{"type":"Line","value":" - _**create(data, options)**: no callbacks or they are included in options_","range":[48306,48384],"loc":{"start":{"line":1631,"column":2},"end":{"line":1631,"column":80}}},{"type":"Line","value":" - _**create(data, options, successCb, errorCb)**: all explicit params_","range":[48387,48460],"loc":{"start":{"line":1632,"column":2},"end":{"line":1632,"column":75}}},{"type":"Line","value":" - _**create(data, successCb, errorCb)**: no options, just callbacks_","range":[48463,48534],"loc":{"start":{"line":1633,"column":2},"end":{"line":1633,"column":73}}},{"type":"Line","value":" #### Read","range":[48948,48960],"loc":{"start":{"line":1650,"column":2},"end":{"line":1650,"column":14}}},{"type":"Line","value":" Read sends a `GET` request to the REST API. It always returns an entity","range":[48964,49038],"loc":{"start":{"line":1652,"column":2},"end":{"line":1652,"column":76}}},{"type":"Line","value":" or JSON object on success. It accepts the following parameters:","range":[49041,49107],"loc":{"start":{"line":1653,"column":2},"end":{"line":1653,"column":68}}},{"type":"Line","value":" - _**read()**: no options, no callbacks_","range":[49111,49154],"loc":{"start":{"line":1655,"column":2},"end":{"line":1655,"column":45}}},{"type":"Line","value":" - _**read(options)**: no callbacks or they are included in options_","range":[49157,49227],"loc":{"start":{"line":1656,"column":2},"end":{"line":1656,"column":72}}},{"type":"Line","value":" - _**read(options, successCb, errorCb)**: all explicit params_","range":[49230,49295],"loc":{"start":{"line":1657,"column":2},"end":{"line":1657,"column":67}}},{"type":"Line","value":" - _**read(successCb, errorCb)**: no options, just callbacks_","range":[49298,49361],"loc":{"start":{"line":1658,"column":2},"end":{"line":1658,"column":65}}},{"type":"Line","value":" #### Count","range":[49598,49611],"loc":{"start":{"line":1669,"column":2},"end":{"line":1669,"column":15}}},{"type":"Line","value":" Count sends a `GET` request to the REST API. It simply returns total number of results","range":[49615,49704],"loc":{"start":{"line":1671,"column":2},"end":{"line":1671,"column":91}}},{"type":"Line","value":" this query would return.","range":[49707,49734],"loc":{"start":{"line":1672,"column":2},"end":{"line":1672,"column":29}}},{"type":"Line","value":" It accepts the following parameters:","range":[49737,49776],"loc":{"start":{"line":1673,"column":2},"end":{"line":1673,"column":41}}},{"type":"Line","value":" - _**count()**: no options, no callbacks_","range":[49780,49824],"loc":{"start":{"line":1675,"column":2},"end":{"line":1675,"column":46}}},{"type":"Line","value":" - _**count(options)**: no callbacks or they are included in options_","range":[49827,49898],"loc":{"start":{"line":1676,"column":2},"end":{"line":1676,"column":73}}},{"type":"Line","value":" - _**count(options, successCb, errorCb)**: all explicit params_","range":[49901,49967],"loc":{"start":{"line":1677,"column":2},"end":{"line":1677,"column":68}}},{"type":"Line","value":" - _**count(successCb, errorCb)**: no options, just callbacks_","range":[49970,50034],"loc":{"start":{"line":1678,"column":2},"end":{"line":1678,"column":66}}},{"type":"Line","value":" #### Update","range":[50653,50667],"loc":{"start":{"line":1703,"column":2},"end":{"line":1703,"column":16}}},{"type":"Line","value":" Update sends a `PUT` request to the REST API. It always returns an entity","range":[50671,50747],"loc":{"start":{"line":1705,"column":2},"end":{"line":1705,"column":78}}},{"type":"Line","value":" or JSON object on success.","range":[50750,50779],"loc":{"start":{"line":1706,"column":2},"end":{"line":1706,"column":31}}},{"type":"Line","value":" **The interface is the same as _.create()_**","range":[50783,50830],"loc":{"start":{"line":1708,"column":2},"end":{"line":1708,"column":49}}},{"type":"Line","value":" #### Delete","range":[51129,51143],"loc":{"start":{"line":1722,"column":2},"end":{"line":1722,"column":16}}},{"type":"Line","value":" Delete sends a `DELETE` request to the REST API. It always returns an *null*","range":[51147,51226],"loc":{"start":{"line":1724,"column":2},"end":{"line":1724,"column":81}}},{"type":"Line","value":" response on success.","range":[51229,51252],"loc":{"start":{"line":1725,"column":2},"end":{"line":1725,"column":25}}},{"type":"Line","value":" **The interface is the same as _.read()_**","range":[51256,51301],"loc":{"start":{"line":1727,"column":2},"end":{"line":1727,"column":47}}},{"type":"Line","value":" Given we don't have subclasses of Resource, this static factory method","range":[51568,51641],"loc":{"start":{"line":1740,"column":2},"end":{"line":1740,"column":75}}},{"type":"Line","value":" allows to generate a resource constructor given a path and class.","range":[51644,51712],"loc":{"start":{"line":1741,"column":2},"end":{"line":1741,"column":70}}},{"type":"Line","value":" By default all resource constructors receive a string ID for single","range":[51716,51786],"loc":{"start":{"line":1743,"column":2},"end":{"line":1743,"column":72}}},{"type":"Line","value":" entity resources.","range":[51789,51809],"loc":{"start":{"line":1744,"column":2},"end":{"line":1744,"column":22}}},{"type":"Line","value":" Allow nested resources in single call.","range":[52237,52278],"loc":{"start":{"line":1761,"column":8},"end":{"line":1761,"column":49}}},{"type":"Line","value":" E.g. users can access to a thng's nested data directly with:","range":[52287,52350],"loc":{"start":{"line":1762,"column":8},"end":{"line":1762,"column":71}}},{"type":"Line","value":"```","range":[52360,52365],"loc":{"start":{"line":1764,"column":8},"end":{"line":1764,"column":13}}},{"type":"Line","value":"  user.thng().property().read(...);","range":[52374,52411],"loc":{"start":{"line":1765,"column":8},"end":{"line":1765,"column":45}}},{"type":"Line","value":"  user.thng().action().read(...);","range":[52420,52455],"loc":{"start":{"line":1766,"column":8},"end":{"line":1766,"column":43}}},{"type":"Line","value":"```","range":[52464,52469],"loc":{"start":{"line":1767,"column":8},"end":{"line":1767,"column":13}}},{"type":"Line","value":" instead of fetching the Thng first.","range":[52479,52517],"loc":{"start":{"line":1769,"column":8},"end":{"line":1769,"column":46}}},{"type":"Line","value":" If the entity has it, then attach to this resource as well.","range":[52696,52758],"loc":{"start":{"line":1775,"column":12},"end":{"line":1775,"column":74}}},{"type":"Line","value":" ## ENTITY.JS","range":[53153,53168],"loc":{"start":{"line":1798,"column":0},"end":{"line":1798,"column":15}}},{"type":"Line","value":" **Entity is a private super class that implements base common methods for","range":[53170,53246],"loc":{"start":{"line":1800,"column":0},"end":{"line":1800,"column":76}}},{"type":"Line","value":" all Evrythng objects. It establishes the way objects are converted","range":[53247,53316],"loc":{"start":{"line":1801,"column":0},"end":{"line":1801,"column":69}}},{"type":"Line","value":" to JSON, and provide an *update()* and *delete()* method for all entities.**","range":[53317,53396],"loc":{"start":{"line":1802,"column":0},"end":{"line":1802,"column":79}}},{"type":"Line","value":" The entity constructor, and therefore all the standard inheritances,","range":[53498,53569],"loc":{"start":{"line":1810,"column":2},"end":{"line":1810,"column":73}}},{"type":"Line","value":" accepts:","range":[53572,53583],"loc":{"start":{"line":1811,"column":2},"end":{"line":1811,"column":13}}},{"type":"Line","value":" - _**new Entity()**: create an empty entity_","range":[53587,53634],"loc":{"start":{"line":1813,"column":2},"end":{"line":1813,"column":49}}},{"type":"Line","value":" - _**new Entity(obj)**: entity with merged obj properties_","range":[53637,53698],"loc":{"start":{"line":1814,"column":2},"end":{"line":1814,"column":63}}},{"type":"Line","value":" - _**new Entity(resource)**: empty entity bound to a Resource_","range":[53701,53766],"loc":{"start":{"line":1815,"column":2},"end":{"line":1815,"column":67}}},{"type":"Line","value":" - _**new Entity(obj, resource)**: fully build entity bound to a Resource_","range":[53769,53845],"loc":{"start":{"line":1816,"column":2},"end":{"line":1816,"column":78}}},{"type":"Line","value":" *Nevertheless, an Entity without Resource cannot request any","range":[53849,53912],"loc":{"start":{"line":1818,"column":2},"end":{"line":1818,"column":65}}},{"type":"Line","value":" update or delete. It can however be passed to resources as","range":[53915,53976],"loc":{"start":{"line":1819,"column":2},"end":{"line":1819,"column":63}}},{"type":"Line","value":" 'payload' instead of JSON.*","range":[53979,54009],"loc":{"start":{"line":1820,"column":2},"end":{"line":1820,"column":32}}},{"type":"Line","value":" ```js","range":[54013,54021],"loc":{"start":{"line":1822,"column":2},"end":{"line":1822,"column":10}}},{"type":"Line","value":"  var prod = new EVT.Entity.Product({ foo: 'bar' };","range":[54024,54077],"loc":{"start":{"line":1823,"column":2},"end":{"line":1823,"column":55}}},{"type":"Line","value":"  // prod.update() // throws error","range":[54080,54116],"loc":{"start":{"line":1824,"column":2},"end":{"line":1824,"column":38}}},{"type":"Line","value":"  app.product().create(prod); // create product","range":[54119,54168],"loc":{"start":{"line":1825,"column":2},"end":{"line":1825,"column":51}}},{"type":"Line","value":" ```","range":[54171,54177],"loc":{"start":{"line":1826,"column":2},"end":{"line":1826,"column":8}}},{"type":"Line","value":" Return the JSON object that is stored in engine. All non-function properties","range":[54447,54526],"loc":{"start":{"line":1842,"column":2},"end":{"line":1842,"column":81}}},{"type":"Line","value":" except *resource* are properties of the object.","range":[54529,54579],"loc":{"start":{"line":1843,"column":2},"end":{"line":1843,"column":52}}},{"type":"Line","value":" Every entity can update itself via its resource reference. It does so by","range":[54887,54962],"loc":{"start":{"line":1858,"column":2},"end":{"line":1858,"column":77}}},{"type":"Line","value":" passing its JSON representation to the *resource.update()*.","range":[54965,55027],"loc":{"start":{"line":1859,"column":2},"end":{"line":1859,"column":64}}},{"type":"Line","value":" An entity update, as every request, returns a Promise. Although it also","range":[55031,55105],"loc":{"start":{"line":1861,"column":2},"end":{"line":1861,"column":76}}},{"type":"Line","value":" allows callbacks as:","range":[55108,55131],"loc":{"start":{"line":1862,"column":2},"end":{"line":1862,"column":25}}},{"type":"Line","value":" - _**update()**: simple update itself with modified properties_","range":[55135,55201],"loc":{"start":{"line":1864,"column":2},"end":{"line":1864,"column":68}}},{"type":"Line","value":" - _**update(obj)**: update itself with new properties_","range":[55204,55261],"loc":{"start":{"line":1865,"column":2},"end":{"line":1865,"column":59}}},{"type":"Line","value":" - _**update(obj, successCb, errorCb)**: previous, with callbacks_","range":[55264,55332],"loc":{"start":{"line":1866,"column":2},"end":{"line":1866,"column":70}}},{"type":"Line","value":" - _**update(successCb, errorCb)**: update itself and use callbacks_","range":[55335,55405],"loc":{"start":{"line":1867,"column":2},"end":{"line":1867,"column":72}}},{"type":"Line","value":" No object is passed, shift arguments. Add its JSON representation","range":[55524,55592],"loc":{"start":{"line":1873,"column":6},"end":{"line":1873,"column":74}}},{"type":"Line","value":" as the first argument.","range":[55599,55624],"loc":{"start":{"line":1874,"column":6},"end":{"line":1874,"column":31}}},{"type":"Line","value":" Update itself with the result and return raw response from API.","range":[55893,55959],"loc":{"start":{"line":1883,"column":10},"end":{"line":1883,"column":76}}},{"type":"Line","value":" Delete method also accepts callbacks as:","range":[56128,56171],"loc":{"start":{"line":1895,"column":2},"end":{"line":1895,"column":45}}},{"type":"Line","value":" - _**delete()**: handle with promise_","range":[56175,56215],"loc":{"start":{"line":1897,"column":2},"end":{"line":1897,"column":42}}},{"type":"Line","value":" - _**delete(successCb, errorCb)**: handle with callbacks_","range":[56218,56278],"loc":{"start":{"line":1898,"column":2},"end":{"line":1898,"column":62}}},{"type":"Line","value":" ## PROPERTY.JS","range":[56521,56538],"loc":{"start":{"line":1912,"column":0},"end":{"line":1912,"column":17}}},{"type":"Line","value":" **Property is a common Entity for Thngs and Products. It is always a","range":[56540,56611],"loc":{"start":{"line":1914,"column":0},"end":{"line":1914,"column":71}}},{"type":"Line","value":" nested resource and allows some simplified parameters, easing the","range":[56612,56680],"loc":{"start":{"line":1915,"column":0},"end":{"line":1915,"column":68}}},{"type":"Line","value":" update of properties and making it more fluent/literal.**","range":[56681,56741],"loc":{"start":{"line":1916,"column":0},"end":{"line":1916,"column":60}}},{"type":"Line","value":" Setup Property inheritance from Entity.","range":[56882,56924],"loc":{"start":{"line":1926,"column":2},"end":{"line":1926,"column":44}}},{"type":"Line","value":" The property update normalization of arguments allows to","range":[57102,57161],"loc":{"start":{"line":1935,"column":2},"end":{"line":1935,"column":61}}},{"type":"Line","value":" make easier and more intuitive calls, such as:","range":[57164,57213],"loc":{"start":{"line":1936,"column":2},"end":{"line":1936,"column":51}}},{"type":"Line","value":" - Single property update:","range":[57217,57245],"loc":{"start":{"line":1938,"column":2},"end":{"line":1938,"column":30}}},{"type":"Line","value":" ```","range":[57249,57255],"loc":{"start":{"line":1940,"column":2},"end":{"line":1940,"column":8}}},{"type":"Line","value":"  thng.property('status').update('off');","range":[57258,57300],"loc":{"start":{"line":1941,"column":2},"end":{"line":1941,"column":44}}},{"type":"Line","value":"  thng.property('status').update({","range":[57303,57339],"loc":{"start":{"line":1942,"column":2},"end":{"line":1942,"column":38}}},{"type":"Line","value":"    value: 'off'","range":[57342,57360],"loc":{"start":{"line":1943,"column":2},"end":{"line":1943,"column":20}}},{"type":"Line","value":"  });","range":[57363,57370],"loc":{"start":{"line":1944,"column":2},"end":{"line":1944,"column":9}}},{"type":"Line","value":" ```","range":[57373,57379],"loc":{"start":{"line":1945,"column":2},"end":{"line":1945,"column":8}}},{"type":"Line","value":" - Multi property update:","range":[57383,57410],"loc":{"start":{"line":1947,"column":2},"end":{"line":1947,"column":29}}},{"type":"Line","value":" ```","range":[57414,57420],"loc":{"start":{"line":1949,"column":2},"end":{"line":1949,"column":8}}},{"type":"Line","value":"  thng.property().update({","range":[57423,57451],"loc":{"start":{"line":1950,"column":2},"end":{"line":1950,"column":30}}},{"type":"Line","value":"    status: 'off',","range":[57454,57474],"loc":{"start":{"line":1951,"column":2},"end":{"line":1951,"column":22}}},{"type":"Line","value":"    level: '80'","range":[57477,57494],"loc":{"start":{"line":1952,"column":2},"end":{"line":1952,"column":19}}},{"type":"Line","value":"  });","range":[57497,57504],"loc":{"start":{"line":1953,"column":2},"end":{"line":1953,"column":9}}},{"type":"Line","value":" ```","range":[57507,57513],"loc":{"start":{"line":1954,"column":2},"end":{"line":1954,"column":8}}},{"type":"Line","value":" Update single property using string.","range":[57672,57711],"loc":{"start":{"line":1960,"column":6},"end":{"line":1960,"column":45}}},{"type":"Line","value":" Update single property using object notation.","range":[57850,57898],"loc":{"start":{"line":1969,"column":8},"end":{"line":1969,"column":56}}},{"type":"Line","value":" Update multiple properties, creating an object for","range":[57950,58003],"loc":{"start":{"line":1974,"column":8},"end":{"line":1974,"column":61}}},{"type":"Line","value":" each key-value pair.","range":[58012,58035],"loc":{"start":{"line":1975,"column":8},"end":{"line":1975,"column":31}}},{"type":"Line","value":" Attach class to EVT module.","range":[58230,58260],"loc":{"start":{"line":1990,"column":2},"end":{"line":1990,"column":32}}},{"type":"Line","value":" Override property resource create/update to allow custom values params.","range":[58856,58930],"loc":{"start":{"line":2017,"column":6},"end":{"line":2017,"column":80}}},{"type":"Line","value":" See *_normalizeArguments()*.","range":[58937,58968],"loc":{"start":{"line":2018,"column":6},"end":{"line":2018,"column":37}}},{"type":"Line","value":" ## ACTION.JS","range":[59277,59292],"loc":{"start":{"line":2033,"column":0},"end":{"line":2033,"column":15}}},{"type":"Line","value":" **The Action Entity represents an action in the Engine. It inherits","range":[59294,59364],"loc":{"start":{"line":2035,"column":0},"end":{"line":2035,"column":70}}},{"type":"Line","value":" from Entity and overload the resource's *create()* method to allow","range":[59365,59434],"loc":{"start":{"line":2036,"column":0},"end":{"line":2036,"column":69}}},{"type":"Line","value":" empty parameters (no payload).**","range":[59435,59470],"loc":{"start":{"line":2037,"column":0},"end":{"line":2037,"column":35}}},{"type":"Line","value":" Setup Action inheritance from Entity.","range":[59653,59693],"loc":{"start":{"line":2049,"column":2},"end":{"line":2049,"column":42}}},{"type":"Line","value":" If the action object is empty (or a callback), generate the","range":[59863,59925],"loc":{"start":{"line":2058,"column":2},"end":{"line":2058,"column":64}}},{"type":"Line","value":" simplest action object that just needs the type of the action,","range":[59928,59993],"loc":{"start":{"line":2059,"column":2},"end":{"line":2059,"column":67}}},{"type":"Line","value":" which can be obtained from the resource's path.","range":[59996,60046],"loc":{"start":{"line":2060,"column":2},"end":{"line":2060,"column":52}}},{"type":"Line","value":" Add the given entity identifier to an object (params or data).","range":[60263,60328],"loc":{"start":{"line":2072,"column":2},"end":{"line":2072,"column":67}}},{"type":"Line","value":" Set the Entity ID of the entity receiving the action as well","range":[60672,60735],"loc":{"start":{"line":2085,"column":2},"end":{"line":2085,"column":65}}},{"type":"Line","value":" as the specified action type in the action data.","range":[60738,60789],"loc":{"start":{"line":2086,"column":2},"end":{"line":2086,"column":53}}},{"type":"Line","value":" Attach class to EVT module.","range":[61316,61346],"loc":{"start":{"line":2110,"column":2},"end":{"line":2110,"column":32}}},{"type":"Line","value":" Return the resource factory function. Actions have a custom *resource","range":[61381,61453],"loc":{"start":{"line":2114,"column":2},"end":{"line":2114,"column":74}}},{"type":"Line","value":" constructor* that needs an action type and allows an optional ID.","range":[61456,61524],"loc":{"start":{"line":2115,"column":2},"end":{"line":2115,"column":70}}},{"type":"Line","value":" - _**product.action('scans')**: creates path '/product/<id>/actions/scans'_","range":[61528,61606],"loc":{"start":{"line":2117,"column":2},"end":{"line":2117,"column":80}}},{"type":"Line","value":" - _**product.action('scans', '1')**: creates path '/product/<id>/actions/scans/1'_","range":[61609,61694],"loc":{"start":{"line":2118,"column":2},"end":{"line":2118,"column":87}}},{"type":"Line","value":" Scopes use the absolute path, while Resources use the relative path.","range":[62033,62104],"loc":{"start":{"line":2132,"column":10},"end":{"line":2132,"column":81}}},{"type":"Line","value":" Devices create a Resource for its Thng dynamically, which makes them","range":[62115,62186],"loc":{"start":{"line":2133,"column":10},"end":{"line":2133,"column":81}}},{"type":"Line","value":" in fact behave like a Resource.","range":[62197,62231],"loc":{"start":{"line":2134,"column":10},"end":{"line":2134,"column":44}}},{"type":"Line","value":" Create a resource constructor dynamically and call it with this action's ID.","range":[62510,62589],"loc":{"start":{"line":2144,"column":6},"end":{"line":2144,"column":85}}},{"type":"Line","value":" Overload Action resource *create()* method to allow empty object.","range":[62684,62752],"loc":{"start":{"line":2147,"column":6},"end":{"line":2147,"column":74}}},{"type":"Line","value":" If geolocation setting is turned on, get current position before","range":[62949,63016],"loc":{"start":{"line":2155,"column":8},"end":{"line":2155,"column":75}}},{"type":"Line","value":" registering the action in the Engine.","range":[63025,63065],"loc":{"start":{"line":2156,"column":8},"end":{"line":2156,"column":48}}},{"type":"Line","value":" Unable to get position, just inform the reason in the console.","range":[63485,63550],"loc":{"start":{"line":2171,"column":12},"end":{"line":2171,"column":77}}},{"type":"Line","value":" ## PRODUCT.JS","range":[63803,63819],"loc":{"start":{"line":2189,"column":0},"end":{"line":2189,"column":16}}},{"type":"Line","value":" **The Product is a simple Entity subclass that provides a nested","range":[63821,63888],"loc":{"start":{"line":2191,"column":0},"end":{"line":2191,"column":67}}},{"type":"Line","value":" Property Resource.**","range":[63889,63912],"loc":{"start":{"line":2192,"column":0},"end":{"line":2192,"column":23}}},{"type":"Line","value":" Setup Product inheritance from Entity.","range":[64100,64141],"loc":{"start":{"line":2204,"column":2},"end":{"line":2204,"column":43}}},{"type":"Line","value":" Extend Product API by exposing a Property Resource, allowing to","range":[64315,64381],"loc":{"start":{"line":2213,"column":2},"end":{"line":2213,"column":68}}},{"type":"Line","value":" manage the properties of this product with a resource pattern.","range":[64384,64449],"loc":{"start":{"line":2214,"column":2},"end":{"line":2214,"column":67}}},{"type":"Line","value":" Expose an Action resource as well, for managing Products actions.","range":[64452,64520],"loc":{"start":{"line":2215,"column":2},"end":{"line":2215,"column":70}}},{"type":"Line","value":" Attach class to EVT module.","range":[64659,64689],"loc":{"start":{"line":2225,"column":2},"end":{"line":2225,"column":32}}},{"type":"Line","value":" ## USER.JS","range":[64880,64893],"loc":{"start":{"line":2238,"column":0},"end":{"line":2238,"column":13}}},{"type":"Line","value":" **The User entity represents the app users stored in the Engine.","range":[64895,64962],"loc":{"start":{"line":2240,"column":0},"end":{"line":2240,"column":67}}},{"type":"Line","value":" It inherits from Entity and adds a new resource's *validate()* method,","range":[64963,65036],"loc":{"start":{"line":2241,"column":0},"end":{"line":2241,"column":73}}},{"type":"Line","value":" as well as a *self.validate()* to allow to validate users.**","range":[65037,65100],"loc":{"start":{"line":2242,"column":0},"end":{"line":2242,"column":63}}},{"type":"Line","value":" Setup User inheritance from Entity.","range":[65237,65275],"loc":{"start":{"line":2252,"column":2},"end":{"line":2252,"column":40}}},{"type":"Line","value":" Rename user object argument's *evrythngUser* property to","range":[65315,65374],"loc":{"start":{"line":2255,"column":4},"end":{"line":2255,"column":63}}},{"type":"Line","value":" entity-standard-*id*.","range":[65379,65403],"loc":{"start":{"line":2256,"column":4},"end":{"line":2256,"column":28}}},{"type":"Line","value":" The validate method sends a `POST` request to the validate","range":[65694,65755],"loc":{"start":{"line":2270,"column":2},"end":{"line":2270,"column":63}}},{"type":"Line","value":" endpoint of a new user. This is only valid when the User","range":[65758,65817],"loc":{"start":{"line":2271,"column":2},"end":{"line":2271,"column":61}}},{"type":"Line","value":" resource path is *'/auth/evrythng/users/1'*.","range":[65820,65867],"loc":{"start":{"line":2272,"column":2},"end":{"line":2272,"column":49}}},{"type":"Line","value":" If validate is called from the entity, the scope is the","range":[66204,66262],"loc":{"start":{"line":2284,"column":4},"end":{"line":2284,"column":62}}},{"type":"Line","value":" resource's scope","range":[66267,66286],"loc":{"start":{"line":2285,"column":4},"end":{"line":2285,"column":23}}},{"type":"Line","value":" Activate newly created user.","range":[66399,66430],"loc":{"start":{"line":2291,"column":4},"end":{"line":2291,"column":35}}},{"type":"Line","value":" Create an anonymous user","range":[66616,66643],"loc":{"start":{"line":2302,"column":2},"end":{"line":2302,"column":29}}},{"type":"Line","value":" It's a somewhat different process since anonymous users are created","range":[66646,66716],"loc":{"start":{"line":2303,"column":2},"end":{"line":2303,"column":72}}},{"type":"Line","value":" \"good to go\", they don't need validation.","range":[66719,66763],"loc":{"start":{"line":2304,"column":2},"end":{"line":2304,"column":46}}},{"type":"Line","value":" must be set to create anonymous user","range":[66928,66967],"loc":{"start":{"line":2312,"column":24},"end":{"line":2312,"column":63}}},{"type":"Line","value":" Create User Scope","range":[67072,67092],"loc":{"start":{"line":2317,"column":8},"end":{"line":2317,"column":28}}},{"type":"Line","value":" Extend User API to allow to validate itself.","range":[67268,67315],"loc":{"start":{"line":2327,"column":2},"end":{"line":2327,"column":49}}},{"type":"Line","value":" Attach class to EVT module.","range":[67456,67486],"loc":{"start":{"line":2337,"column":2},"end":{"line":2337,"column":32}}},{"type":"Line","value":" The User resource constructor is a custom constructor that","range":[67517,67578],"loc":{"start":{"line":2341,"column":2},"end":{"line":2341,"column":63}}},{"type":"Line","value":" returns the constructor. This allows the path to be variable.","range":[67581,67645],"loc":{"start":{"line":2342,"column":2},"end":{"line":2342,"column":66}}},{"type":"Line","value":" GET '/users' and GET '/auth/evrythng/users' return the same","range":[67649,67711],"loc":{"start":{"line":2344,"column":2},"end":{"line":2344,"column":64}}},{"type":"Line","value":" entity structure but there are access and back-end differences.","range":[67714,67780],"loc":{"start":{"line":2345,"column":2},"end":{"line":2345,"column":68}}},{"type":"Line","value":" Return the factory function.","range":[67911,67942],"loc":{"start":{"line":2354,"column":6},"end":{"line":2354,"column":37}}},{"type":"Line","value":" Add *validate()* method to the resource as well","range":[68072,68122],"loc":{"start":{"line":2359,"column":8},"end":{"line":2359,"column":58}}},{"type":"Line","value":" Overload update() method to disallow updating of anonymous users (they're read-only)","range":[68235,68322],"loc":{"start":{"line":2364,"column":8},"end":{"line":2364,"column":95}}},{"type":"Line","value":" Overload User resource *create()* method to allow creating anonymous users","range":[68591,68668],"loc":{"start":{"line":2372,"column":8},"end":{"line":2372,"column":85}}},{"type":"Line","value":" the \"anonymous\" argument has higher priority, rest will be ignored (consistent with API)","range":[68784,68875],"loc":{"start":{"line":2378,"column":10},"end":{"line":2378,"column":101}}},{"type":"Line","value":" ## PLACE.JS","range":[69152,69166],"loc":{"start":{"line":2393,"column":0},"end":{"line":2393,"column":14}}},{"type":"Line","value":" **The Place is a simple Entity subclass representing the REST API","range":[69168,69236],"loc":{"start":{"line":2395,"column":0},"end":{"line":2395,"column":68}}},{"type":"Line","value":" Place object.**","range":[69237,69255],"loc":{"start":{"line":2396,"column":0},"end":{"line":2396,"column":18}}},{"type":"Line","value":" Setup Place inheritance from Entity.","range":[69437,69476],"loc":{"start":{"line":2408,"column":2},"end":{"line":2408,"column":41}}},{"type":"Line","value":" Add empty data object","range":[69752,69776],"loc":{"start":{"line":2420,"column":6},"end":{"line":2420,"column":30}}},{"type":"Line","value":" Attach class to EVT module.","range":[69882,69912],"loc":{"start":{"line":2428,"column":2},"end":{"line":2428,"column":32}}},{"type":"Line","value":" Overload resource read() to send current location by default","range":[70117,70180],"loc":{"start":{"line":2438,"column":6},"end":{"line":2438,"column":69}}},{"type":"Line","value":" If geolocation setting is turned on, get current position","range":[70462,70522],"loc":{"start":{"line":2445,"column":10},"end":{"line":2445,"column":70}}},{"type":"Line","value":" Unable to get position, just inform the reason in the console.","range":[70841,70906],"loc":{"start":{"line":2454,"column":12},"end":{"line":2454,"column":77}}},{"type":"Line","value":" ## FACEBOOK.JS","range":[71152,71169],"loc":{"start":{"line":2469,"column":0},"end":{"line":2469,"column":17}}},{"type":"Line","value":" **The Facebook module exports wrapped *login*, *logout* and *init* methods","range":[71171,71248],"loc":{"start":{"line":2471,"column":0},"end":{"line":2471,"column":77}}},{"type":"Line","value":" from the Facebook SDK, always returning Promises.**","range":[71249,71303],"loc":{"start":{"line":2472,"column":0},"end":{"line":2472,"column":54}}},{"type":"Block","value":"global FB","range":[71404,71417],"loc":{"start":{"line":2479,"column":2},"end":{"line":2479,"column":15}}},{"type":"Line","value":" Load Facebook SDK asynchronously. This means that by default","range":[71421,71484],"loc":{"start":{"line":2481,"column":2},"end":{"line":2481,"column":65}}},{"type":"Line","value":" it is not bundled with EvrythngJS, and is only loaded if an application","range":[71487,71561],"loc":{"start":{"line":2482,"column":2},"end":{"line":2482,"column":76}}},{"type":"Line","value":" needs Facebook authentication.","range":[71564,71597],"loc":{"start":{"line":2483,"column":2},"end":{"line":2483,"column":35}}},{"type":"Line","value":" The *init()* method also gets the current user information in one","range":[71601,71669],"loc":{"start":{"line":2485,"column":2},"end":{"line":2485,"column":70}}},{"type":"Line","value":" is already logged in.","range":[71672,71696],"loc":{"start":{"line":2486,"column":2},"end":{"line":2486,"column":26}}},{"type":"Line","value":" Return promise and resolve once user status is retrieved.","range":[71727,71787],"loc":{"start":{"line":2489,"column":4},"end":{"line":2489,"column":64}}},{"type":"Line","value":" Notice that the FB SDK only works in the browser. Thus, an Evrtyhng","range":[71837,71907],"loc":{"start":{"line":2492,"column":6},"end":{"line":2492,"column":76}}},{"type":"Line","value":" application cannot use Facebook authentication if it is not intended","range":[71914,71985],"loc":{"start":{"line":2493,"column":6},"end":{"line":2493,"column":77}}},{"type":"Line","value":" to run in the browser, as well.","range":[71992,72026],"loc":{"start":{"line":2494,"column":6},"end":{"line":2494,"column":40}}},{"type":"Line","value":" Get Login status and user info if connected. Build response as we","range":[72158,72226],"loc":{"start":{"line":2502,"column":8},"end":{"line":2502,"column":76}}},{"type":"Line","value":" fetch more information.","range":[72235,72261],"loc":{"start":{"line":2503,"column":8},"end":{"line":2503,"column":34}}},{"type":"Block","value":"response = authResponse + status","range":[72321,72357],"loc":{"start":{"line":2506,"column":10},"end":{"line":2506,"column":46}}},{"type":"Block","value":"userResponse = authResponse + status + user","range":[72429,72476],"loc":{"start":{"line":2509,"column":12},"end":{"line":2509,"column":59}}},{"type":"Line","value":" Inject Facebook SDK script in document (see","range":[72556,72602],"loc":{"start":{"line":2517,"column":6},"end":{"line":2517,"column":52}}},{"type":"Line","value":" [Facebook Developer Docs](https://developers.facebook.com/docs/javascript/quickstart/v2.0)).","range":[72609,72704],"loc":{"start":{"line":2518,"column":6},"end":{"line":2518,"column":101}}},{"type":"Line","value":" Invoke standard Facebook login popup, using specified options.","range":[73039,73104],"loc":{"start":{"line":2530,"column":2},"end":{"line":2530,"column":67}}},{"type":"Line","value":" Return promise and resolve once user info is retrieved.","range":[73138,73196],"loc":{"start":{"line":2533,"column":4},"end":{"line":2533,"column":62}}},{"type":"Block","value":"response = authResponse + status","range":[73296,73332],"loc":{"start":{"line":2538,"column":8},"end":{"line":2538,"column":44}}},{"type":"Block","value":"userResponse = authResponse + status + user","range":[73439,73486],"loc":{"start":{"line":2543,"column":12},"end":{"line":2543,"column":59}}},{"type":"Line","value":" Reject login promise if the user canceled the FB login.","range":[73555,73613],"loc":{"start":{"line":2548,"column":12},"end":{"line":2548,"column":70}}},{"type":"Line","value":" Invoke Facebook's logout and return promise.","range":[73710,73757],"loc":{"start":{"line":2560,"column":2},"end":{"line":2560,"column":49}}},{"type":"Line","value":" Fetch user info from Facebook if user is successfully connected.","range":[73866,73933],"loc":{"start":{"line":2568,"column":2},"end":{"line":2568,"column":69}}},{"type":"Line","value":" Return a Promise for the response with user details.","range":[74015,74070],"loc":{"start":{"line":2573,"column":6},"end":{"line":2573,"column":61}}},{"type":"Line","value":" Until here, `response` was FB's auth response. Here","range":[74126,74180],"loc":{"start":{"line":2576,"column":8},"end":{"line":2576,"column":62}}},{"type":"Line","value":" we start to build bigger response by appending the Facebook's","range":[74189,74253],"loc":{"start":{"line":2577,"column":8},"end":{"line":2577,"column":72}}},{"type":"Line","value":" user info in the `user` property.","range":[74262,74298],"loc":{"start":{"line":2578,"column":8},"end":{"line":2578,"column":44}}},{"type":"Line","value":" Return an already resolved promise.","range":[74448,74486],"loc":{"start":{"line":2587,"column":6},"end":{"line":2587,"column":44}}},{"type":"Line","value":" Expose only the higher level methods.","range":[74585,74625],"loc":{"start":{"line":2596,"column":2},"end":{"line":2596,"column":42}}},{"type":"Line","value":" ## AUTHENTICATION.JS","range":[74701,74724],"loc":{"start":{"line":2605,"column":0},"end":{"line":2605,"column":23}}},{"type":"Line","value":" **Authentication provides a complete abstraction layer on top of","range":[74726,74793],"loc":{"start":{"line":2607,"column":0},"end":{"line":2607,"column":67}}},{"type":"Line","value":" the provided *'/auth/...'* endpoints in the REST API. Logging in with","range":[74794,74866],"loc":{"start":{"line":2608,"column":0},"end":{"line":2608,"column":72}}},{"type":"Line","value":" Evrythng or Facebook uses the same method and provide a similar response.**","range":[74867,74945],"loc":{"start":{"line":2609,"column":0},"end":{"line":2609,"column":78}}},{"type":"Line","value":" **Authentication with Facebook needs an app that has been created using the","range":[74947,75025],"loc":{"start":{"line":2611,"column":0},"end":{"line":2611,"column":78}}},{"type":"Line","value":" `facebook: true` option, which will load and init the Facebook SDK.**","range":[75026,75098],"loc":{"start":{"line":2612,"column":0},"end":{"line":2612,"column":72}}},{"type":"Line","value":" Login into Evryhtng. This method is attached to the `EVT.App` API methods.","range":[75258,75335],"loc":{"start":{"line":2623,"column":2},"end":{"line":2623,"column":79}}},{"type":"Line","value":" Currently allowed authentication methods are **evrythng** and **facebook**.","range":[75338,75416],"loc":{"start":{"line":2624,"column":2},"end":{"line":2624,"column":80}}},{"type":"Line","value":" The login  accepts:","range":[75419,75441],"loc":{"start":{"line":2625,"column":2},"end":{"line":2625,"column":24}}},{"type":"Line","value":" - _**login('facebook')**: the normal third-party Facebook login pop-up_","range":[75445,75519],"loc":{"start":{"line":2627,"column":2},"end":{"line":2627,"column":76}}},{"type":"Line","value":" - _**login('facebook', fbOptions)**: use fbOptions to pass facebook scope","range":[75522,75598],"loc":{"start":{"line":2628,"column":2},"end":{"line":2628,"column":78}}},{"type":"Line","value":" permissions (see the","range":[75601,75624],"loc":{"start":{"line":2629,"column":2},"end":{"line":2629,"column":25}}},{"type":"Line","value":" [Facebook login API reference](https://developers.facebook.com/docs/reference/javascript/FB.login/v2.0))._","range":[75627,75736],"loc":{"start":{"line":2630,"column":2},"end":{"line":2630,"column":111}}},{"type":"Line","value":" - _**login('facebook', fbOptions, successCb, errorCb)**: same as previous,","range":[75739,75816],"loc":{"start":{"line":2631,"column":2},"end":{"line":2631,"column":79}}},{"type":"Line","value":" with callbacks_","range":[75819,75837],"loc":{"start":{"line":2632,"column":2},"end":{"line":2632,"column":20}}},{"type":"Line","value":" - _**login('facebook', successCb, errorCb)**: no custom Facebook options_","range":[75840,75916],"loc":{"start":{"line":2633,"column":2},"end":{"line":2633,"column":78}}},{"type":"Line","value":" - _**login('evrythng', evtCredentials)**: evtCredentials is an object with","range":[75919,75996],"loc":{"start":{"line":2634,"column":2},"end":{"line":2634,"column":79}}},{"type":"Line","value":" `email` or `id` and `password` properties_","range":[75999,76044],"loc":{"start":{"line":2635,"column":2},"end":{"line":2635,"column":47}}},{"type":"Line","value":" - _**login('evrythng', evtCredentials, successCb, errorCb)**: same as previous,","range":[76047,76129],"loc":{"start":{"line":2636,"column":2},"end":{"line":2636,"column":84}}},{"type":"Line","value":" with callbacks_","range":[76132,76150],"loc":{"start":{"line":2637,"column":2},"end":{"line":2637,"column":20}}},{"type":"Line","value":" The *evrythng* login methods allow to omit the first parameter. Thus, the","range":[76154,76230],"loc":{"start":{"line":2639,"column":2},"end":{"line":2639,"column":78}}},{"type":"Line","value":" following authenticates with Evrythng:","range":[76233,76274],"loc":{"start":{"line":2640,"column":2},"end":{"line":2640,"column":43}}},{"type":"Line","value":" ```","range":[76278,76284],"loc":{"start":{"line":2642,"column":2},"end":{"line":2642,"column":8}}},{"type":"Line","value":"  app.login({","range":[76287,76302],"loc":{"start":{"line":2643,"column":2},"end":{"line":2643,"column":17}}},{"type":"Line","value":"    email/id: \"userEmailOrId\",","range":[76305,76337],"loc":{"start":{"line":2644,"column":2},"end":{"line":2644,"column":34}}},{"type":"Line","value":"    password: \"pass\"","range":[76340,76362],"loc":{"start":{"line":2645,"column":2},"end":{"line":2645,"column":24}}},{"type":"Line","value":"  });","range":[76365,76372],"loc":{"start":{"line":2646,"column":2},"end":{"line":2646,"column":9}}},{"type":"Line","value":" ```","range":[76375,76381],"loc":{"start":{"line":2647,"column":2},"end":{"line":2647,"column":8}}},{"type":"Line","value":" Authenticate using third parties' OAuth.","range":[76646,76689],"loc":{"start":{"line":2657,"column":4},"end":{"line":2657,"column":47}}},{"type":"Block","value":"TODO: add more authentication methods here.","range":[76960,77007],"loc":{"start":{"line":2667,"column":6},"end":{"line":2667,"column":53}}},{"type":"Line","value":" Evrythng login does not need first param. Simply call *_loginEvrythng()*","range":[77027,77102],"loc":{"start":{"line":2671,"column":6},"end":{"line":2671,"column":81}}},{"type":"Line","value":" with shifted arguments.","range":[77109,77135],"loc":{"start":{"line":2672,"column":6},"end":{"line":2672,"column":32}}},{"type":"Line","value":" Login with Facebook. Custom Options are optional.","range":[77223,77275],"loc":{"start":{"line":2679,"column":2},"end":{"line":2679,"column":54}}},{"type":"Line","value":" **Default Facebook scope permission is simply *'email'*. If your application","range":[77279,77358],"loc":{"start":{"line":2681,"column":2},"end":{"line":2681,"column":81}}},{"type":"Line","value":" needs more than that, please read about Facebook login options and permissions","range":[77361,77442],"loc":{"start":{"line":2682,"column":2},"end":{"line":2682,"column":83}}},{"type":"Line","value":" on their","range":[77445,77456],"loc":{"start":{"line":2683,"column":2},"end":{"line":2683,"column":13}}},{"type":"Line","value":" [Developer Docs](https://developers.facebook.com/docs/reference/javascript/FB.login/v2.0)**.","range":[77459,77554],"loc":{"start":{"line":2684,"column":2},"end":{"line":2684,"column":97}}},{"type":"Line","value":" If there are no facebook custom options, callbacks can start in first param.","range":[77691,77770],"loc":{"start":{"line":2689,"column":4},"end":{"line":2689,"column":83}}},{"type":"Line","value":" If there are custom FB options, use this instead of the defaults.","range":[77991,78059],"loc":{"start":{"line":2698,"column":6},"end":{"line":2698,"column":74}}},{"type":"Line","value":" Return promise and resolve only once authenticated with EVRYTHNG.","range":[78103,78171],"loc":{"start":{"line":2703,"column":4},"end":{"line":2703,"column":72}}},{"type":"Line","value":" Login using Facebook with options above.","range":[78230,78273],"loc":{"start":{"line":2706,"column":6},"end":{"line":2706,"column":49}}},{"type":"Line","value":" If successful, authenticate with Evrythng, apply *successCb* and resolve","range":[78344,78419],"loc":{"start":{"line":2709,"column":8},"end":{"line":2709,"column":83}}},{"type":"Line","value":" promise. Our own *Facebook.login()* method (defined in the [`social/facebook`","range":[78428,78508],"loc":{"start":{"line":2710,"column":8},"end":{"line":2710,"column":88}}},{"type":"Line","value":" module](social/facebook.html)) already resolves with the user information.","range":[78517,78594],"loc":{"start":{"line":2711,"column":8},"end":{"line":2711,"column":85}}},{"type":"Line","value":" In this case, we add Evrythng access data to this already wrapped response.","range":[78603,78681],"loc":{"start":{"line":2712,"column":8},"end":{"line":2712,"column":86}}},{"type":"Line","value":" Login was not successful, apply *errorCb* and reject promise. Response","range":[78913,78986],"loc":{"start":{"line":2722,"column":8},"end":{"line":2722,"column":81}}},{"type":"Line","value":" has Facebook's *authResponse* and *status* objects.","range":[78995,79049],"loc":{"start":{"line":2723,"column":8},"end":{"line":2723,"column":62}}},{"type":"Line","value":" Login with Evrythng using either the *email* or *id* properties.","range":[79160,79227],"loc":{"start":{"line":2733,"column":2},"end":{"line":2733,"column":69}}},{"type":"Line","value":" Send the authentication request to the REST API, which is a Promise.","range":[79424,79495],"loc":{"start":{"line":2740,"column":4},"end":{"line":2740,"column":75}}},{"type":"Line","value":" Note that the context is passed from the above *app.login()* method","range":[79500,79570],"loc":{"start":{"line":2741,"column":4},"end":{"line":2741,"column":74}}},{"type":"Line","value":" until the raw call in order to pass the correct scope's Api Key.","range":[79575,79642],"loc":{"start":{"line":2742,"column":4},"end":{"line":2742,"column":71}}},{"type":"Line","value":" Login was successful, apply callback and propagate response to the","range":[79730,79799],"loc":{"start":{"line":2745,"column":6},"end":{"line":2745,"column":75}}},{"type":"Line","value":" next promise handler.","range":[79806,79830],"loc":{"start":{"line":2746,"column":6},"end":{"line":2746,"column":30}}},{"type":"Line","value":" Login was not successful, call error callback and re-throw error.","range":[79956,80024],"loc":{"start":{"line":2752,"column":6},"end":{"line":2752,"column":74}}},{"type":"Line","value":" Send authentication request with the Facebook auth token. This method is","range":[80116,80191],"loc":{"start":{"line":2759,"column":2},"end":{"line":2759,"column":77}}},{"type":"Line","value":" used on explicit login and when Facebook is initialized in the `EVT.App`","range":[80194,80269],"loc":{"start":{"line":2760,"column":2},"end":{"line":2760,"column":77}}},{"type":"Line","value":" constructor.","range":[80272,80287],"loc":{"start":{"line":2761,"column":2},"end":{"line":2761,"column":17}}},{"type":"Line","value":" Create User Scope with the user information and Api Key returned","range":[80593,80660],"loc":{"start":{"line":2776,"column":6},"end":{"line":2776,"column":73}}},{"type":"Line","value":" from the REST API.","range":[80667,80688],"loc":{"start":{"line":2777,"column":6},"end":{"line":2777,"column":27}}},{"type":"Line","value":" Prepare resolve object. Move Facebook user data to","range":[80816,80869],"loc":{"start":{"line":2783,"column":6},"end":{"line":2783,"column":59}}},{"type":"Line","value":" 'user.facebook' object","range":[80876,80901],"loc":{"start":{"line":2784,"column":6},"end":{"line":2784,"column":31}}},{"type":"Line","value":" Send authentication request using Evrythng credentials.","range":[81031,81089],"loc":{"start":{"line":2793,"column":2},"end":{"line":2793,"column":60}}},{"type":"Line","value":" Once it is authenticated, get this user information as well.","range":[81322,81385],"loc":{"start":{"line":2804,"column":6},"end":{"line":2804,"column":69}}},{"type":"Line","value":" Keep nested success handler because we also need the *access*","range":[81545,81609],"loc":{"start":{"line":2810,"column":8},"end":{"line":2810,"column":72}}},{"type":"Line","value":" object returned form the previous call to create the User Scope.","range":[81618,81685],"loc":{"start":{"line":2811,"column":8},"end":{"line":2811,"column":75}}},{"type":"Line","value":" Create User Scope","range":[81829,81849],"loc":{"start":{"line":2817,"column":8},"end":{"line":2817,"column":28}}},{"type":"Line","value":" The *logout()* method behaves similarly to *login()*. The user should","range":[81959,82031],"loc":{"start":{"line":2828,"column":2},"end":{"line":2828,"column":74}}},{"type":"Line","value":" specify the type of logout they want (**_evrythng_ is default**).","range":[82034,82102],"loc":{"start":{"line":2829,"column":2},"end":{"line":2829,"column":70}}},{"type":"Line","value":" If an application logs in with Facebook, and simply logs out of","range":[82106,82172],"loc":{"start":{"line":2831,"column":2},"end":{"line":2831,"column":68}}},{"type":"Line","value":" Evrythng, then the Facebook user will continue connected until its FB","range":[82175,82247],"loc":{"start":{"line":2832,"column":2},"end":{"line":2832,"column":74}}},{"type":"Line","value":" token expires (which is most of the times not what you want).","range":[82250,82314],"loc":{"start":{"line":2833,"column":2},"end":{"line":2833,"column":66}}},{"type":"Line","value":" **As a good practice, if you log into an app with Facebook, also log","range":[82318,82389],"loc":{"start":{"line":2835,"column":2},"end":{"line":2835,"column":73}}},{"type":"Line","value":" out with Facebook. This allows app users to switch Facebook accounts.**","range":[82392,82466],"loc":{"start":{"line":2836,"column":2},"end":{"line":2836,"column":76}}},{"type":"Line","value":" Logging out with Facebook, logs out out from Facebook and also from","range":[82885,82955],"loc":{"start":{"line":2854,"column":2},"end":{"line":2854,"column":72}}},{"type":"Line","value":" Evrythng.","range":[82958,82970],"loc":{"start":{"line":2855,"column":2},"end":{"line":2855,"column":14}}},{"type":"Line","value":" If successful (always), also logout from Evrythng.","range":[83110,83163],"loc":{"start":{"line":2861,"column":6},"end":{"line":2861,"column":59}}},{"type":"Line","value":" If the logout from Evrythng fails, by some reason, throw error","range":[83570,83635],"loc":{"start":{"line":2882,"column":6},"end":{"line":2882,"column":71}}},{"type":"Line","value":" which would go to the promise error handler of the caller.","range":[83642,83703],"loc":{"start":{"line":2883,"column":6},"end":{"line":2883,"column":67}}},{"type":"Line","value":" Expose only the higher level methods.","range":[83785,83825],"loc":{"start":{"line":2890,"column":2},"end":{"line":2890,"column":42}}},{"type":"Line","value":" ## APPLICATION.JS","range":[83917,83937],"loc":{"start":{"line":2899,"column":0},"end":{"line":2899,"column":20}}},{"type":"Line","value":" **Here it is defined the ApplicationScope or `EVT.App`. EVT.App","range":[83939,84005],"loc":{"start":{"line":2901,"column":0},"end":{"line":2901,"column":66}}},{"type":"Line","value":" is a sub-class of scope and it defines the public API that an App Api Key","range":[84006,84082],"loc":{"start":{"line":2902,"column":0},"end":{"line":2902,"column":76}}},{"type":"Line","value":" can access to.**","range":[84083,84102],"loc":{"start":{"line":2903,"column":0},"end":{"line":2903,"column":19}}},{"type":"Line","value":" An Application scope currently has access to:","range":[84104,84152],"loc":{"start":{"line":2905,"column":0},"end":{"line":2905,"column":48}}},{"type":"Line","value":" - Product resource (`R`)","range":[84154,84181],"loc":{"start":{"line":2907,"column":0},"end":{"line":2907,"column":27}}},{"type":"Line","value":" - Action resource (`C`) - Scans only","range":[84182,84221],"loc":{"start":{"line":2908,"column":0},"end":{"line":2908,"column":39}}},{"type":"Line","value":" - App User resource (`C`)","range":[84222,84250],"loc":{"start":{"line":2909,"column":0},"end":{"line":2909,"column":28}}},{"type":"Line","value":" - Login","range":[84251,84261],"loc":{"start":{"line":2910,"column":0},"end":{"line":2910,"column":10}}},{"type":"Line","value":" Application Scope constructor. It can be called with the parameters:","range":[84582,84653],"loc":{"start":{"line":2927,"column":2},"end":{"line":2927,"column":73}}},{"type":"Line","value":" - _**new EVT.App(apiKey)** - API Key string_","range":[84657,84704],"loc":{"start":{"line":2929,"column":2},"end":{"line":2929,"column":49}}},{"type":"Line","value":" - _**new EVT.App(options)** - Options object should contain `apiKey`,","range":[84707,84779],"loc":{"start":{"line":2930,"column":2},"end":{"line":2930,"column":74}}},{"type":"Line","value":" and optionally `facebook` boolean. Passing `facebook: true` automatically","range":[84782,84858],"loc":{"start":{"line":2931,"column":2},"end":{"line":2931,"column":78}}},{"type":"Line","value":" initializes Facebook SDK with this application's FB App Id - setup in","range":[84861,84933],"loc":{"start":{"line":2932,"column":2},"end":{"line":2932,"column":74}}},{"type":"Line","value":" EVRYTHNG's Dashboard Project Preferences._","range":[84936,84981],"loc":{"start":{"line":2933,"column":2},"end":{"line":2933,"column":47}}},{"type":"Line","value":" Setup base Scope with the provided API Key.","range":[85063,85109],"loc":{"start":{"line":2938,"column":4},"end":{"line":2938,"column":50}}},{"type":"Line","value":" Set parent scope","range":[85263,85282],"loc":{"start":{"line":2946,"column":4},"end":{"line":2946,"column":23}}},{"type":"Line","value":" Get app information asynchronously from the Engine using already","range":[85372,85439],"loc":{"start":{"line":2951,"column":4},"end":{"line":2951,"column":71}}},{"type":"Line","value":" defined scope. Use **new EVT.App('apiKey').$init.then(success)** if need","range":[85444,85519],"loc":{"start":{"line":2952,"column":4},"end":{"line":2952,"column":79}}},{"type":"Line","value":" to wait for app information.","range":[85524,85555],"loc":{"start":{"line":2953,"column":4},"end":{"line":2953,"column":35}}},{"type":"Line","value":" /applications/me returns a single application that matches this","range":[85691,85757],"loc":{"start":{"line":2959,"column":6},"end":{"line":2959,"column":72}}},{"type":"Line","value":" API Key. The response's API Key is defined in property `appApiKey`","range":[85764,85833],"loc":{"start":{"line":2960,"column":6},"end":{"line":2960,"column":75}}},{"type":"Line","value":" instead of `apiKey`, so remove it to prevent redundant apiKey","range":[85840,85904],"loc":{"start":{"line":2961,"column":6},"end":{"line":2961,"column":70}}},{"type":"Line","value":" properties in the scope. Also, attach app details into the scope.","range":[85911,85979],"loc":{"start":{"line":2962,"column":6},"end":{"line":2962,"column":74}}},{"type":"Line","value":" If using Facebook, the $init promise is only resolved after FB","range":[86194,86259],"loc":{"start":{"line":2971,"column":6},"end":{"line":2971,"column":71}}},{"type":"Line","value":" is initialized and user login status is retrieved. In this situation,","range":[86266,86338],"loc":{"start":{"line":2972,"column":6},"end":{"line":2972,"column":78}}},{"type":"Line","value":" the resolved object of `$init` is a wrapped object:","range":[86345,86399],"loc":{"start":{"line":2973,"column":6},"end":{"line":2973,"column":60}}},{"type":"Line","value":" ```","range":[86407,86413],"loc":{"start":{"line":2975,"column":6},"end":{"line":2975,"column":12}}},{"type":"Line","value":"  {","range":[86420,86425],"loc":{"start":{"line":2976,"column":6},"end":{"line":2976,"column":11}}},{"type":"Line","value":"    status: <Facebook's connected status>,","range":[86432,86476],"loc":{"start":{"line":2977,"column":6},"end":{"line":2977,"column":50}}},{"type":"Line","value":"    authResponse: <Facebook's auth response>,","range":[86483,86530],"loc":{"start":{"line":2978,"column":6},"end":{"line":2978,"column":53}}},{"type":"Line","value":"    user: {","range":[86537,86550],"loc":{"start":{"line":2979,"column":6},"end":{"line":2979,"column":19}}},{"type":"Line","value":"      facebook: { <Facebook's user info>}","range":[86557,86600],"loc":{"start":{"line":2980,"column":6},"end":{"line":2980,"column":49}}},{"type":"Line","value":"      <Evrythng's user information>","range":[86607,86644],"loc":{"start":{"line":2981,"column":6},"end":{"line":2981,"column":43}}},{"type":"Line","value":"    },","range":[86651,86659],"loc":{"start":{"line":2982,"column":6},"end":{"line":2982,"column":14}}},{"type":"Line","value":"    app: {","range":[86666,86678],"loc":{"start":{"line":2983,"column":6},"end":{"line":2983,"column":18}}},{"type":"Line","value":"      <Evrythng's app information>","range":[86685,86721],"loc":{"start":{"line":2984,"column":6},"end":{"line":2984,"column":42}}},{"type":"Line","value":"    }","range":[86728,86735],"loc":{"start":{"line":2985,"column":6},"end":{"line":2985,"column":13}}},{"type":"Line","value":"  }","range":[86742,86747],"loc":{"start":{"line":2986,"column":6},"end":{"line":2986,"column":11}}},{"type":"Line","value":" ```","range":[86754,86760],"loc":{"start":{"line":2987,"column":6},"end":{"line":2987,"column":12}}},{"type":"Line","value":" Get Facebook App ID from the Evrythng App social networks list.","range":[86977,87043],"loc":{"start":{"line":2995,"column":8},"end":{"line":2995,"column":74}}},{"type":"Line","value":" If user is connected with Facebook, return a promise with his details.","range":[87212,87285],"loc":{"start":{"line":3001,"column":14},"end":{"line":3001,"column":87}}},{"type":"Line","value":" Add app information to the already wrapped object.","range":[87479,87532],"loc":{"start":{"line":3010,"column":12},"end":{"line":3010,"column":65}}},{"type":"Line","value":" If not using Facebook, simply return app details after they are received.","range":[87628,87704],"loc":{"start":{"line":3017,"column":8},"end":{"line":3017,"column":84}}},{"type":"Line","value":" Setup Scope inheritance.","range":[87751,87778],"loc":{"start":{"line":3025,"column":2},"end":{"line":3025,"column":29}}},{"type":"Line","value":" Implement Public API by extending the prototype.","range":[87907,87958],"loc":{"start":{"line":3030,"column":2},"end":{"line":3030,"column":53}}},{"type":"Line","value":" By default all resource constructors are themselves factory functions","range":[87962,88034],"loc":{"start":{"line":3032,"column":2},"end":{"line":3032,"column":74}}},{"type":"Line","value":" that are called by the scopes, can receive an ID and return a Resource.","range":[88037,88111],"loc":{"start":{"line":3033,"column":2},"end":{"line":3033,"column":76}}},{"type":"Line","value":" However, in some situations in our API, the output of different endpoints can","range":[88114,88194],"loc":{"start":{"line":3034,"column":2},"end":{"line":3034,"column":82}}},{"type":"Line","value":" be the same. Thus we need to setup the resource constructor to use a certain","range":[88197,88276],"loc":{"start":{"line":3035,"column":2},"end":{"line":3035,"column":81}}},{"type":"Line","value":" path, and return the correct factory function. This is what happens here with the","range":[88279,88363],"loc":{"start":{"line":3036,"column":2},"end":{"line":3036,"column":86}}},{"type":"Line","value":" **appUser()** resource constructor.","range":[88366,88404],"loc":{"start":{"line":3037,"column":2},"end":{"line":3037,"column":40}}},{"type":"Line","value":" Setup AppUser resource to use *'/auth/evrythng/users'* instead","range":[88539,88604],"loc":{"start":{"line":3044,"column":4},"end":{"line":3044,"column":69}}},{"type":"Line","value":" of the default *'/users'*. Both endpoints return a list of User entities.","range":[88609,88685],"loc":{"start":{"line":3045,"column":4},"end":{"line":3045,"column":80}}},{"type":"Line","value":" Attach ApplicationScope class to the EVT module.","range":[88838,88889],"loc":{"start":{"line":3055,"column":2},"end":{"line":3055,"column":53}}},{"type":"Line","value":" ## LOCATION.JS","range":[88935,88952],"loc":{"start":{"line":3060,"column":0},"end":{"line":3060,"column":17}}},{"type":"Line","value":" **The Location Entity represents a location in the Engine. It inherits","range":[88954,89027],"loc":{"start":{"line":3062,"column":0},"end":{"line":3062,"column":73}}},{"type":"Line","value":" from Entity and overload the resource's *update()* method to allow","range":[89028,89097],"loc":{"start":{"line":3063,"column":0},"end":{"line":3063,"column":69}}},{"type":"Line","value":" empty parameters (no payload).**","range":[89098,89133],"loc":{"start":{"line":3064,"column":0},"end":{"line":3064,"column":35}}},{"type":"Line","value":" Setup Location inheritance from Entity.","range":[89294,89336],"loc":{"start":{"line":3075,"column":2},"end":{"line":3075,"column":44}}},{"type":"Line","value":" Attach class to EVT module.","range":[89513,89543],"loc":{"start":{"line":3083,"column":2},"end":{"line":3083,"column":32}}},{"type":"Line","value":" The location update normalization of arguments allows to","range":[89581,89640],"loc":{"start":{"line":3086,"column":2},"end":{"line":3086,"column":61}}},{"type":"Line","value":" make easier and more intuitive calls, such as:","range":[89643,89692],"loc":{"start":{"line":3087,"column":2},"end":{"line":3087,"column":51}}},{"type":"Line","value":" - Single location update:","range":[89696,89724],"loc":{"start":{"line":3089,"column":2},"end":{"line":3089,"column":30}}},{"type":"Line","value":" ```","range":[89728,89734],"loc":{"start":{"line":3091,"column":2},"end":{"line":3091,"column":8}}},{"type":"Line","value":"  thng.location().update({","range":[89737,89765],"loc":{"start":{"line":3092,"column":2},"end":{"line":3092,"column":30}}},{"type":"Line","value":"    position: GeoJSON","range":[89768,89791],"loc":{"start":{"line":3093,"column":2},"end":{"line":3093,"column":25}}},{"type":"Line","value":"  });","range":[89794,89801],"loc":{"start":{"line":3094,"column":2},"end":{"line":3094,"column":9}}},{"type":"Line","value":" ```","range":[89804,89810],"loc":{"start":{"line":3095,"column":2},"end":{"line":3095,"column":8}}},{"type":"Line","value":" - Multi location update:","range":[89814,89841],"loc":{"start":{"line":3097,"column":2},"end":{"line":3097,"column":29}}},{"type":"Line","value":" ```","range":[89845,89851],"loc":{"start":{"line":3099,"column":2},"end":{"line":3099,"column":8}}},{"type":"Line","value":"  thng.location().update([","range":[89854,89882],"loc":{"start":{"line":3100,"column":2},"end":{"line":3100,"column":30}}},{"type":"Line","value":"    {","range":[89885,89892],"loc":{"start":{"line":3101,"column":2},"end":{"line":3101,"column":9}}},{"type":"Line","value":"      position: GeoJSON","range":[89895,89920],"loc":{"start":{"line":3102,"column":2},"end":{"line":3102,"column":27}}},{"type":"Line","value":"    },","range":[89923,89931],"loc":{"start":{"line":3103,"column":2},"end":{"line":3103,"column":10}}},{"type":"Line","value":"    {","range":[89934,89941],"loc":{"start":{"line":3104,"column":2},"end":{"line":3104,"column":9}}},{"type":"Line","value":"      position: GeoJSON,","range":[89944,89970],"loc":{"start":{"line":3105,"column":2},"end":{"line":3105,"column":28}}},{"type":"Line","value":"      timestamp: Timestamp","range":[89973,90001],"loc":{"start":{"line":3106,"column":2},"end":{"line":3106,"column":30}}},{"type":"Line","value":"    }","range":[90004,90011],"loc":{"start":{"line":3107,"column":2},"end":{"line":3107,"column":9}}},{"type":"Line","value":" ]);","range":[90014,90020],"loc":{"start":{"line":3108,"column":2},"end":{"line":3108,"column":8}}},{"type":"Line","value":" ```","range":[90023,90029],"loc":{"start":{"line":3109,"column":2},"end":{"line":3109,"column":8}}},{"type":"Line","value":" Convert single object to array","range":[90132,90165],"loc":{"start":{"line":3115,"column":6},"end":{"line":3115,"column":39}}},{"type":"Line","value":" Add empty data object","range":[90246,90270],"loc":{"start":{"line":3118,"column":6},"end":{"line":3118,"column":30}}},{"type":"Line","value":" This endpoint is a bit special, does not allow getting location by ID","range":[90544,90616],"loc":{"start":{"line":3134,"column":6},"end":{"line":3134,"column":78}}},{"type":"Line","value":" Overload resource update() to send current location if none provided","range":[90862,90933],"loc":{"start":{"line":3142,"column":6},"end":{"line":3142,"column":77}}},{"type":"Line","value":" If geolocation setting is turned on, get current position","range":[91124,91184],"loc":{"start":{"line":3148,"column":10},"end":{"line":3148,"column":70}}},{"type":"Line","value":" Unable to get position, just inform the reason in the console.","range":[91564,91629],"loc":{"start":{"line":3162,"column":12},"end":{"line":3162,"column":77}}},{"type":"Line","value":" ## THNG.JS","range":[91882,91895],"loc":{"start":{"line":3180,"column":0},"end":{"line":3180,"column":13}}},{"type":"Line","value":" **The Thng is a simple Entity subclass that provides a nested","range":[91897,91961],"loc":{"start":{"line":3182,"column":0},"end":{"line":3182,"column":64}}},{"type":"Line","value":" Property Resource and a direct method to read the Thng's Product.**","range":[91962,92032],"loc":{"start":{"line":3183,"column":0},"end":{"line":3183,"column":70}}},{"type":"Line","value":" Setup Thng inheritance from Entity.","range":[92243,92281],"loc":{"start":{"line":3196,"column":2},"end":{"line":3196,"column":40}}},{"type":"Line","value":" When not using `fetchCascade`, this method allows to easily","range":[92443,92505],"loc":{"start":{"line":3205,"column":2},"end":{"line":3205,"column":64}}},{"type":"Line","value":" fetch the Product entity of this Thng. It fowards the call","range":[92508,92569],"loc":{"start":{"line":3206,"column":2},"end":{"line":3206,"column":63}}},{"type":"Line","value":" to this thng's scope's product resource.","range":[92572,92615],"loc":{"start":{"line":3207,"column":2},"end":{"line":3207,"column":45}}},{"type":"Line","value":" Extend Thng API by exposing a Property Resource, allowing to","range":[92891,92954],"loc":{"start":{"line":3222,"column":2},"end":{"line":3222,"column":65}}},{"type":"Line","value":" manage the properties of this product with a resource pattern.","range":[92957,93022],"loc":{"start":{"line":3223,"column":2},"end":{"line":3223,"column":67}}},{"type":"Line","value":" Expose an Action resource as well, for managing Thngs actions.","range":[93025,93090],"loc":{"start":{"line":3224,"column":2},"end":{"line":3224,"column":67}}},{"type":"Line","value":" Also attach the *readProduct()* method to every Thng.","range":[93093,93149],"loc":{"start":{"line":3225,"column":2},"end":{"line":3225,"column":58}}},{"type":"Block","value":"TODO API not very consistent - thng.product().read/update() better?","range":[93319,93390],"loc":{"start":{"line":3234,"column":4},"end":{"line":3234,"column":75}}},{"type":"Line","value":" Attach class to EVT module.","range":[93437,93467],"loc":{"start":{"line":3240,"column":2},"end":{"line":3240,"column":32}}},{"type":"Line","value":" ## ACTIONTYPE.JS","range":[93655,93674],"loc":{"start":{"line":3253,"column":0},"end":{"line":3253,"column":19}}},{"type":"Line","value":" **The ActionType Entity represents an action type in the Engine. It inherits","range":[93676,93755],"loc":{"start":{"line":3255,"column":0},"end":{"line":3255,"column":79}}},{"type":"Line","value":" from Entity and overload the resource's *create()* method to allow","range":[93756,93825],"loc":{"start":{"line":3256,"column":0},"end":{"line":3256,"column":69}}},{"type":"Line","value":" empty parameters (no payload).**","range":[93826,93861],"loc":{"start":{"line":3257,"column":0},"end":{"line":3257,"column":35}}},{"type":"Line","value":" Setup Action inheritance from Entity.","range":[94024,94064],"loc":{"start":{"line":3268,"column":2},"end":{"line":3268,"column":42}}},{"type":"Line","value":" Normalize arguments for single request. Override resource","range":[94249,94309],"loc":{"start":{"line":3276,"column":2},"end":{"line":3276,"column":62}}},{"type":"Line","value":" url to use action types root path and use name filter.","range":[94312,94369],"loc":{"start":{"line":3277,"column":2},"end":{"line":3277,"column":59}}},{"type":"Line","value":" Extend params if user defines other params.","range":[94372,94418],"loc":{"start":{"line":3278,"column":2},"end":{"line":3278,"column":48}}},{"type":"Line","value":" Split full path (/actions/_custom) - we get three parts:","range":[94615,94674],"loc":{"start":{"line":3287,"column":4},"end":{"line":3287,"column":63}}},{"type":"Line","value":" 1) empty, 2) root path and 3) encoded action type name","range":[94679,94736],"loc":{"start":{"line":3288,"column":4},"end":{"line":3288,"column":61}}},{"type":"Line","value":" Attach class to EVT module.","range":[94956,94986],"loc":{"start":{"line":3301,"column":2},"end":{"line":3301,"column":32}}},{"type":"Line","value":" Action types are a bit special, has there is no GET method available.","range":[95472,95544],"loc":{"start":{"line":3321,"column":6},"end":{"line":3321,"column":78}}},{"type":"Line","value":" In order to do so, we need to make a filtered request to the root path,","range":[95551,95625],"loc":{"start":{"line":3322,"column":6},"end":{"line":3322,"column":80}}},{"type":"Line","value":" and parse the response normally. An empty result list, means not found.","range":[95632,95706],"loc":{"start":{"line":3323,"column":6},"end":{"line":3323,"column":80}}},{"type":"Line","value":" Fake 404","range":[96063,96074],"loc":{"start":{"line":3331,"column":14},"end":{"line":3331,"column":25}}},{"type":"Line","value":" ## COLLECTION.JS","range":[96444,96463],"loc":{"start":{"line":3353,"column":0},"end":{"line":3353,"column":19}}},{"type":"Line","value":" **The Collection is a simple Entity subclass that provides a nested","range":[96465,96535],"loc":{"start":{"line":3355,"column":0},"end":{"line":3355,"column":70}}},{"type":"Line","value":" Thng Resource.**","range":[96536,96555],"loc":{"start":{"line":3356,"column":0},"end":{"line":3356,"column":19}}},{"type":"Line","value":" Setup Collection inheritance from Entity.","range":[96720,96764],"loc":{"start":{"line":3367,"column":2},"end":{"line":3367,"column":46}}},{"type":"Line","value":" Custom nested resource constructor for Thngs of a Collection.","range":[96950,97014],"loc":{"start":{"line":3376,"column":2},"end":{"line":3376,"column":66}}},{"type":"Line","value":" To create this nested resource, the collection itself needs","range":[97017,97079],"loc":{"start":{"line":3377,"column":2},"end":{"line":3377,"column":64}}},{"type":"Line","value":" a resource.","range":[97082,97096],"loc":{"start":{"line":3378,"column":2},"end":{"line":3378,"column":16}}},{"type":"Line","value":" Extend Collection API by exposing a Thng Resource, allowing to","range":[97380,97445],"loc":{"start":{"line":3391,"column":2},"end":{"line":3391,"column":67}}},{"type":"Line","value":" manage Thngs directly from a Collection.","range":[97448,97491],"loc":{"start":{"line":3392,"column":2},"end":{"line":3392,"column":45}}},{"type":"Line","value":" Attach class to EVT module.","range":[97615,97645],"loc":{"start":{"line":3402,"column":2},"end":{"line":3402,"column":32}}},{"type":"Line","value":" ## MULTIMEDIA.JS","range":[97847,97866],"loc":{"start":{"line":3415,"column":0},"end":{"line":3415,"column":19}}},{"type":"Line","value":" **The Multimedia is a simple Entity subclass representing the REST API","range":[97868,97941],"loc":{"start":{"line":3417,"column":0},"end":{"line":3417,"column":73}}},{"type":"Line","value":" Multimedia Content object.**","range":[97942,97973],"loc":{"start":{"line":3418,"column":0},"end":{"line":3418,"column":31}}},{"type":"Line","value":" Setup Multimedia inheritance from Entity.","range":[98098,98142],"loc":{"start":{"line":3427,"column":2},"end":{"line":3427,"column":46}}},{"type":"Line","value":" Attach class to EVT module.","range":[98328,98358],"loc":{"start":{"line":3436,"column":2},"end":{"line":3436,"column":32}}},{"type":"Line","value":" ## SEARCH.JS","range":[98548,98563],"loc":{"start":{"line":3449,"column":0},"end":{"line":3449,"column":15}}},{"type":"Line","value":" **Search API simplifies the search requests to the API, by","range":[98565,98626],"loc":{"start":{"line":3451,"column":0},"end":{"line":3451,"column":61}}},{"type":"Line","value":" splitting the actual query and additional options.**","range":[98627,98682],"loc":{"start":{"line":3452,"column":0},"end":{"line":3452,"column":55}}},{"type":"Line","value":" Wrap the search API call in the search() method. Check the","range":[98768,98829],"loc":{"start":{"line":3460,"column":2},"end":{"line":3460,"column":63}}},{"type":"Line","value":" [search API in Evrythng Documentation](https://dashboard.evrythng.com/developers/apidoc#search).","range":[98832,98931],"loc":{"start":{"line":3461,"column":2},"end":{"line":3461,"column":101}}},{"type":"Line","value":" .search() allows the following parameters:","range":[98934,98979],"loc":{"start":{"line":3462,"column":2},"end":{"line":3462,"column":47}}},{"type":"Line","value":" - _**search(queryString, options)** - ?q=queryString. Options object represent","range":[98983,99064],"loc":{"start":{"line":3464,"column":2},"end":{"line":3464,"column":83}}},{"type":"Line","value":" the additional search parameters. Such as:_","range":[99067,99113],"loc":{"start":{"line":3465,"column":2},"end":{"line":3465,"column":48}}},{"type":"Line","value":" ```","range":[99117,99123],"loc":{"start":{"line":3467,"column":2},"end":{"line":3467,"column":8}}},{"type":"Line","value":"  {","range":[99126,99131],"loc":{"start":{"line":3468,"column":2},"end":{"line":3468,"column":7}}},{"type":"Line","value":"    types: 'thng,product'","range":[99134,99161],"loc":{"start":{"line":3469,"column":2},"end":{"line":3469,"column":29}}},{"type":"Line","value":"  }","range":[99164,99169],"loc":{"start":{"line":3470,"column":2},"end":{"line":3470,"column":7}}},{"type":"Line","value":" ```","range":[99172,99178],"loc":{"start":{"line":3471,"column":2},"end":{"line":3471,"column":8}}},{"type":"Line","value":" - _**search(queryObj, options)** - Apply field or geographic search. Such as:_","range":[99182,99263],"loc":{"start":{"line":3473,"column":2},"end":{"line":3473,"column":83}}},{"type":"Line","value":" ```","range":[99267,99273],"loc":{"start":{"line":3475,"column":2},"end":{"line":3475,"column":8}}},{"type":"Line","value":"  {","range":[99276,99281],"loc":{"start":{"line":3476,"column":2},"end":{"line":3476,"column":7}}},{"type":"Line","value":"    name: 'tv',","range":[99284,99301],"loc":{"start":{"line":3477,"column":2},"end":{"line":3477,"column":19}}},{"type":"Line","value":"    description: 'plasma'","range":[99304,99331],"loc":{"start":{"line":3478,"column":2},"end":{"line":3478,"column":29}}},{"type":"Line","value":"  }","range":[99334,99339],"loc":{"start":{"line":3479,"column":2},"end":{"line":3479,"column":7}}},{"type":"Line","value":" ```","range":[99342,99348],"loc":{"start":{"line":3480,"column":2},"end":{"line":3480,"column":8}}},{"type":"Line","value":" ```","range":[99352,99358],"loc":{"start":{"line":3482,"column":2},"end":{"line":3482,"column":8}}},{"type":"Line","value":"  {","range":[99361,99366],"loc":{"start":{"line":3483,"column":2},"end":{"line":3483,"column":7}}},{"type":"Line","value":"    lat: 72,000","range":[99369,99386],"loc":{"start":{"line":3484,"column":2},"end":{"line":3484,"column":19}}},{"type":"Line","value":"    long: -0,190","range":[99389,99407],"loc":{"start":{"line":3485,"column":2},"end":{"line":3485,"column":20}}},{"type":"Line","value":"    maxDistance: 5","range":[99410,99430],"loc":{"start":{"line":3486,"column":2},"end":{"line":3486,"column":22}}},{"type":"Line","value":"  }","range":[99433,99438],"loc":{"start":{"line":3487,"column":2},"end":{"line":3487,"column":7}}},{"type":"Line","value":" ```","range":[99441,99447],"loc":{"start":{"line":3488,"column":2},"end":{"line":3488,"column":8}}},{"type":"Line","value":" - _**search(queryOptions)** - Merge all search parameters in a single object_","range":[99451,99531],"loc":{"start":{"line":3490,"column":2},"end":{"line":3490,"column":82}}},{"type":"Line","value":" Use Free-text search using query string and additional parameters.","range":[99594,99663],"loc":{"start":{"line":3494,"column":4},"end":{"line":3494,"column":73}}},{"type":"Line","value":" Merge query and additional options in a single object for the request.","range":[99809,99882],"loc":{"start":{"line":3502,"column":6},"end":{"line":3502,"column":79}}},{"type":"Line","value":" \"this\" represents the scope, since the search method will always be","range":[99967,100037],"loc":{"start":{"line":3508,"column":4},"end":{"line":3508,"column":74}}},{"type":"Line","value":" attached to a scope (e.g. user, operator).","range":[100042,100087],"loc":{"start":{"line":3509,"column":4},"end":{"line":3509,"column":49}}},{"type":"Line","value":" ## USER.JS","range":[100222,100235],"loc":{"start":{"line":3521,"column":0},"end":{"line":3521,"column":13}}},{"type":"Line","value":" **Here it is defined the UserScope or `EVT.User`. EVT.User","range":[100237,100298],"loc":{"start":{"line":3523,"column":0},"end":{"line":3523,"column":61}}},{"type":"Line","value":" is a sub-class of scope and it defines the public API that the","range":[100299,100364],"loc":{"start":{"line":3524,"column":0},"end":{"line":3524,"column":65}}},{"type":"Line","value":" user and its API Keys can access to.**","range":[100365,100406],"loc":{"start":{"line":3525,"column":0},"end":{"line":3525,"column":41}}},{"type":"Line","value":" A User scope currently has access to:","range":[100408,100448],"loc":{"start":{"line":3527,"column":0},"end":{"line":3527,"column":40}}},{"type":"Line","value":" - Product resource (`C`, `R`, `U`)","range":[100450,100487],"loc":{"start":{"line":3529,"column":0},"end":{"line":3529,"column":37}}},{"type":"Line","value":" - Thng resource (`C`, `R`, `U`)","range":[100488,100522],"loc":{"start":{"line":3530,"column":0},"end":{"line":3530,"column":34}}},{"type":"Line","value":" - ActionType resource (`R`)","range":[100523,100553],"loc":{"start":{"line":3531,"column":0},"end":{"line":3531,"column":30}}},{"type":"Line","value":" - Action resource (`C`, `R`)","range":[100554,100585],"loc":{"start":{"line":3532,"column":0},"end":{"line":3532,"column":31}}},{"type":"Line","value":" - Collection resource (`C`, `R`, `U`)","range":[100586,100626],"loc":{"start":{"line":3533,"column":0},"end":{"line":3533,"column":40}}},{"type":"Line","value":" - Multimedia resource (`R`)","range":[100627,100657],"loc":{"start":{"line":3534,"column":0},"end":{"line":3534,"column":30}}},{"type":"Line","value":" - Logout","range":[100658,100669],"loc":{"start":{"line":3535,"column":0},"end":{"line":3535,"column":11}}},{"type":"Line","value":" - Search","range":[100670,100681],"loc":{"start":{"line":3536,"column":0},"end":{"line":3536,"column":11}}},{"type":"Line","value":" - Update itself (the user information)","range":[100682,100723],"loc":{"start":{"line":3537,"column":0},"end":{"line":3537,"column":41}}},{"type":"Line","value":" - (`C`, `R`, `U` actions via products/thngs)","range":[100724,100771],"loc":{"start":{"line":3538,"column":0},"end":{"line":3538,"column":47}}},{"type":"Line","value":" User Scope constructor. It can be called with the parameters:","range":[101182,101246],"loc":{"start":{"line":3558,"column":2},"end":{"line":3558,"column":66}}},{"type":"Line","value":" - _**new EVT.User(apiKey, parentScope)** - API Key string.","range":[101250,101311],"loc":{"start":{"line":3560,"column":2},"end":{"line":3560,"column":63}}},{"type":"Line","value":" Optional parent scope._","range":[101314,101340],"loc":{"start":{"line":3561,"column":2},"end":{"line":3561,"column":28}}},{"type":"Line","value":" - _**new EVT.User(options, parentScope)** - Options object should","range":[101343,101411],"loc":{"start":{"line":3562,"column":2},"end":{"line":3562,"column":70}}},{"type":"Line","value":" contain `apiKey` and optionally user information (user entity retrieved","range":[101414,101488],"loc":{"start":{"line":3563,"column":2},"end":{"line":3563,"column":76}}},{"type":"Line","value":" from the engine). Optional parent scope._","range":[101491,101535],"loc":{"start":{"line":3564,"column":2},"end":{"line":3564,"column":46}}},{"type":"Line","value":" Setup base Scope with the provided API Key.","range":[101587,101633],"loc":{"start":{"line":3567,"column":4},"end":{"line":3567,"column":50}}},{"type":"Line","value":" Merge user information into the scope, as we do with the ApplicationScope.","range":[101706,101783],"loc":{"start":{"line":3571,"column":6},"end":{"line":3571,"column":83}}},{"type":"Line","value":" Store parent scope. *Currently not used.*","range":[101873,101917],"loc":{"start":{"line":3578,"column":4},"end":{"line":3578,"column":48}}},{"type":"Line","value":" Setup Scope inheritance.","range":[102010,102037],"loc":{"start":{"line":3585,"column":2},"end":{"line":3585,"column":29}}},{"type":"Line","value":" Allow to update the current user without an explicit API call. Simply update","range":[102145,102224],"loc":{"start":{"line":3590,"column":2},"end":{"line":3590,"column":81}}},{"type":"Line","value":" the user scope object and call update will make the request to update the user","range":[102227,102308],"loc":{"start":{"line":3591,"column":2},"end":{"line":3591,"column":83}}},{"type":"Line","value":" in the *'/users'* endpoint.","range":[102311,102341],"loc":{"start":{"line":3592,"column":2},"end":{"line":3592,"column":32}}},{"type":"Line","value":" Implement Public API by extending the prototype.","range":[102600,102651],"loc":{"start":{"line":3604,"column":2},"end":{"line":3604,"column":53}}},{"type":"Line","value":" See explanation of resource constructors in ApplicationScope. The","range":[102655,102723],"loc":{"start":{"line":3606,"column":2},"end":{"line":3606,"column":70}}},{"type":"Line","value":" **thng()** resource builds a custom resource constructor by using","range":[102726,102794],"loc":{"start":{"line":3607,"column":2},"end":{"line":3607,"column":70}}},{"type":"Line","value":" the default *'/thngs'* endpoint.","range":[102797,102832],"loc":{"start":{"line":3608,"column":2},"end":{"line":3608,"column":37}}},{"type":"Line","value":" Attach UserScope class to the EVT module.","range":[103272,103316],"loc":{"start":{"line":3634,"column":2},"end":{"line":3634,"column":46}}},{"type":"Line","value":" ## DEVICE.JS","range":[103356,103371],"loc":{"start":{"line":3639,"column":0},"end":{"line":3639,"column":15}}},{"type":"Line","value":" **Here it is defined the DeviceScope or `EVT.Device`. EVT.Device","range":[103373,103440],"loc":{"start":{"line":3641,"column":0},"end":{"line":3641,"column":67}}},{"type":"Line","value":" is a sub-class of scope and it defines the public API that the","range":[103441,103506],"loc":{"start":{"line":3642,"column":0},"end":{"line":3642,"column":65}}},{"type":"Line","value":" device can access to.**","range":[103507,103533],"loc":{"start":{"line":3643,"column":0},"end":{"line":3643,"column":26}}},{"type":"Line","value":" A Device scope currently has access to:","range":[103535,103577],"loc":{"start":{"line":3645,"column":0},"end":{"line":3645,"column":42}}},{"type":"Line","value":" - Thng resource (`R`, `U`)","range":[103579,103608],"loc":{"start":{"line":3647,"column":0},"end":{"line":3647,"column":29}}},{"type":"Line","value":" - (`C`, `R`, `U` properties/actions via thngs)","range":[103609,103658],"loc":{"start":{"line":3648,"column":0},"end":{"line":3648,"column":49}}},{"type":"Line","value":" Device Scope constructor. It can be called with the parameters:","range":[103793,103859],"loc":{"start":{"line":3658,"column":2},"end":{"line":3658,"column":68}}},{"type":"Line","value":" - _**new EVT.Device(options, parentScope)** - Options object should","range":[103863,103933],"loc":{"start":{"line":3660,"column":2},"end":{"line":3660,"column":72}}},{"type":"Line","value":" contain `apiKey` and optionally device information (thng entity retrieved","range":[103936,104012],"loc":{"start":{"line":3661,"column":2},"end":{"line":3661,"column":78}}},{"type":"Line","value":" from the engine). Optional parent scope._","range":[104015,104059],"loc":{"start":{"line":3662,"column":2},"end":{"line":3662,"column":46}}},{"type":"Line","value":" Setup base Scope with the provided API Key.","range":[104113,104159],"loc":{"start":{"line":3665,"column":4},"end":{"line":3665,"column":50}}},{"type":"Line","value":" Merge device information into the scope, as we do with the UserScope.","range":[104232,104304],"loc":{"start":{"line":3669,"column":6},"end":{"line":3669,"column":78}}},{"type":"Line","value":" Store parent scope. *Currently not used.*","range":[104496,104540],"loc":{"start":{"line":3677,"column":4},"end":{"line":3677,"column":48}}},{"type":"Line","value":" Setup Scope inheritance.","range":[104633,104660],"loc":{"start":{"line":3684,"column":2},"end":{"line":3684,"column":29}}},{"type":"Line","value":" Allow to update the current device without an explicit API call. Simply update","range":[104774,104855],"loc":{"start":{"line":3689,"column":2},"end":{"line":3689,"column":83}}},{"type":"Line","value":" the device scope object and call update will make the request to update the device","range":[104858,104943],"loc":{"start":{"line":3690,"column":2},"end":{"line":3690,"column":87}}},{"type":"Line","value":" in the *'/thngs'* endpoint.","range":[104946,104976],"loc":{"start":{"line":3691,"column":2},"end":{"line":3691,"column":32}}},{"type":"Line","value":" The device property resource is in fact just an alias for the","range":[105232,105296],"loc":{"start":{"line":3702,"column":2},"end":{"line":3702,"column":66}}},{"type":"Line","value":" inherited Thng.property() resource.","range":[105299,105337],"loc":{"start":{"line":3703,"column":2},"end":{"line":3703,"column":40}}},{"type":"Line","value":" The device action resource is in fact just an alias for the","range":[105479,105541],"loc":{"start":{"line":3709,"column":2},"end":{"line":3709,"column":64}}},{"type":"Line","value":" inherited Thng.action() resource.","range":[105544,105580],"loc":{"start":{"line":3710,"column":2},"end":{"line":3710,"column":38}}},{"type":"Line","value":" Implement Public API by extending the prototype.","range":[105719,105770],"loc":{"start":{"line":3717,"column":2},"end":{"line":3717,"column":53}}},{"type":"Line","value":" See explanation of resource constructors in ApplicationScope. The","range":[105774,105842],"loc":{"start":{"line":3719,"column":2},"end":{"line":3719,"column":70}}},{"type":"Line","value":" **thng()** resource builds a custom resource constructor by using","range":[105845,105913],"loc":{"start":{"line":3720,"column":2},"end":{"line":3720,"column":70}}},{"type":"Line","value":" the default *'/thngs'* endpoint.","range":[105916,105951],"loc":{"start":{"line":3721,"column":2},"end":{"line":3721,"column":37}}},{"type":"Line","value":" Attach DeviceScope class to the EVT module.","range":[106075,106121],"loc":{"start":{"line":3733,"column":2},"end":{"line":3733,"column":48}}},{"type":"Line","value":" # **[EVRYTHNG](https://www.evrythng.com)'s JavaScript SDK**","range":[106165,106227],"loc":{"start":{"line":3738,"column":0},"end":{"line":3738,"column":62}}},{"type":"Line","value":" ## EVRYTHNG.JS","range":[106229,106246],"loc":{"start":{"line":3740,"column":0},"end":{"line":3740,"column":17}}},{"type":"Line","value":" EvrythngJS uses AMD ([RequireJS](http://requirejs.org/)) to load all of its","range":[106248,106326],"loc":{"start":{"line":3742,"column":0},"end":{"line":3742,"column":78}}},{"type":"Line","value":" building modules.","range":[106327,106347],"loc":{"start":{"line":3743,"column":0},"end":{"line":3743,"column":20}}},{"type":"Line","value":" This is the higher level module that requires the `EVT.App`, `EVT.User` and","range":[106349,106427],"loc":{"start":{"line":3745,"column":0},"end":{"line":3745,"column":78}}},{"type":"Line","value":" and `EVT.Device` classes representing the Application, User and Device scopes respectively.","range":[106428,106522],"loc":{"start":{"line":3746,"column":0},"end":{"line":3746,"column":94}}},{"type":"Line","value":" All other modules are loaded as dependencies of these.","range":[106523,106580],"loc":{"start":{"line":3747,"column":0},"end":{"line":3747,"column":57}}},{"type":"Line","value":" ### UMD","range":[106582,106592],"loc":{"start":{"line":3749,"column":0},"end":{"line":3749,"column":10}}},{"type":"Line","value":" EvrythngJS is wrapped in a [UMD](https://github.com/umdjs/umd) definition which makes it","range":[106594,106685],"loc":{"start":{"line":3751,"column":0},"end":{"line":3751,"column":91}}},{"type":"Line","value":" available as an **AMD** (RequireJS) module, **CommonJS** (Node.js) or **browser globals**.","range":[106686,106779],"loc":{"start":{"line":3752,"column":0},"end":{"line":3752,"column":93}}},{"type":"Line","value":" EvrythngJS bundle also includes:","range":[106781,106816],"loc":{"start":{"line":3754,"column":0},"end":{"line":3754,"column":35}}},{"type":"Line","value":" - [Almond](https://github.com/jrburke/almond): a minimal AMD script loader","range":[106818,106895],"loc":{"start":{"line":3756,"column":0},"end":{"line":3756,"column":77}}},{"type":"Line","value":" - [NPO](https://github.com/getify/native-promise-only): an ES6 Promise polyfill,","range":[106896,106979],"loc":{"start":{"line":3757,"column":0},"end":{"line":3757,"column":83}}},{"type":"Line","value":" strict Promises/A+ (1.1) implementation","range":[106980,107022],"loc":{"start":{"line":3758,"column":0},"end":{"line":3758,"column":42}}},{"type":"Line","value":" Return fully built EVT module.","range":[107148,107181],"loc":{"start":{"line":3768,"column":2},"end":{"line":3768,"column":35}}},{"type":"Line","value":"Use almond's special top-level, synchronous require to trigger factory","range":[107206,107278],"loc":{"start":{"line":3773,"column":4},"end":{"line":3773,"column":76}}},{"type":"Line","value":"functions, get the final module value, and export it as the public","range":[107283,107351],"loc":{"start":{"line":3774,"column":4},"end":{"line":3774,"column":72}}},{"type":"Line","value":"value.","range":[107356,107364],"loc":{"start":{"line":3775,"column":4},"end":{"line":3775,"column":12}}}]}